(function(){const j=document.createElement("link").relList;if(j&&j.supports&&j.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))u(g);new MutationObserver(g=>{for(const e of g)if(e.type==="childList")for(const t of e.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&u(t)}).observe(document,{childList:!0,subtree:!0});function ne(g){const e={};return g.integrity&&(e.integrity=g.integrity),g.referrerPolicy&&(e.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?e.credentials="include":g.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function u(g){if(g.ep)return;g.ep=!0;const e=ne(g);fetch(g.href,e)}})();function Cm(We){return We&&We.__esModule&&Object.prototype.hasOwnProperty.call(We,"default")?We.default:We}var Hs={exports:{}},wr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function Lp(){if(lm)return wr;lm=1;var We=Symbol.for("react.transitional.element"),j=Symbol.for("react.fragment");function ne(u,g,e){var t=null;if(e!==void 0&&(t=""+e),g.key!==void 0&&(t=""+g.key),"key"in g){e={};for(var n in g)n!=="key"&&(e[n]=g[n])}else e=g;return g=e.ref,{$$typeof:We,type:u,key:t,ref:g!==void 0?g:null,props:e}}return wr.Fragment=j,wr.jsx=ne,wr.jsxs=ne,wr}var sm;function Np(){return sm||(sm=1,Hs.exports=Lp()),Hs.exports}var bt=Np(),Os={exports:{}},ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function Bp(){if(dm)return ct;dm=1;var We=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),e=Symbol.for("react.consumer"),t=Symbol.for("react.context"),n=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),i=Symbol.for("react.memo"),r=Symbol.for("react.lazy"),o=Symbol.iterator;function d(l){return l===null||typeof l!="object"?null:(l=o&&l[o]||l["@@iterator"],typeof l=="function"?l:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,v={};function w(l,m,c){this.props=l,this.context=m,this.refs=v,this.updater=c||f}w.prototype.isReactComponent={},w.prototype.setState=function(l,m){if(typeof l!="object"&&typeof l!="function"&&l!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,l,m,"setState")},w.prototype.forceUpdate=function(l){this.updater.enqueueForceUpdate(this,l,"forceUpdate")};function C(){}C.prototype=w.prototype;function x(l,m,c){this.props=l,this.context=m,this.refs=v,this.updater=c||f}var L=x.prototype=new C;L.constructor=x,p(L,w.prototype),L.isPureReactComponent=!0;var A=Array.isArray,k={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function H(l,m,c,y,b,S){return c=S.ref,{$$typeof:We,type:l,key:m,ref:c!==void 0?c:null,props:S}}function V(l,m){return H(l.type,m,void 0,void 0,void 0,l.props)}function z(l){return typeof l=="object"&&l!==null&&l.$$typeof===We}function N(l){var m={"=":"=0",":":"=2"};return"$"+l.replace(/[=:]/g,function(c){return m[c]})}var F=/\/+/g;function q(l,m){return typeof l=="object"&&l!==null&&l.key!=null?N(""+l.key):m.toString(36)}function Y(){}function X(l){switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:switch(typeof l.status=="string"?l.then(Y,Y):(l.status="pending",l.then(function(m){l.status==="pending"&&(l.status="fulfilled",l.value=m)},function(m){l.status==="pending"&&(l.status="rejected",l.reason=m)})),l.status){case"fulfilled":return l.value;case"rejected":throw l.reason}}throw l}function ae(l,m,c,y,b){var S=typeof l;(S==="undefined"||S==="boolean")&&(l=null);var D=!1;if(l===null)D=!0;else switch(S){case"bigint":case"string":case"number":D=!0;break;case"object":switch(l.$$typeof){case We:case j:D=!0;break;case r:return D=l._init,ae(D(l._payload),m,c,y,b)}}if(D)return b=b(l),D=y===""?"."+q(l,0):y,A(b)?(c="",D!=null&&(c=D.replace(F,"$&/")+"/"),ae(b,m,c,"",function(P){return P})):b!=null&&(z(b)&&(b=V(b,c+(b.key==null||l&&l.key===b.key?"":(""+b.key).replace(F,"$&/")+"/")+D)),m.push(b)),1;D=0;var M=y===""?".":y+":";if(A(l))for(var $=0;$<l.length;$++)y=l[$],S=M+q(y,$),D+=ae(y,m,c,S,b);else if($=d(l),typeof $=="function")for(l=$.call(l),$=0;!(y=l.next()).done;)y=y.value,S=M+q(y,$++),D+=ae(y,m,c,S,b);else if(S==="object"){if(typeof l.then=="function")return ae(X(l),m,c,y,b);throw m=String(l),Error("Objects are not valid as a React child (found: "+(m==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":m)+"). If you meant to render a collection of children, use an array instead.")}return D}function Q(l,m,c){if(l==null)return l;var y=[],b=0;return ae(l,y,"","",function(S){return m.call(c,S,b++)}),y}function ie(l){if(l._status===-1){var m=l._result;m=m(),m.then(function(c){(l._status===0||l._status===-1)&&(l._status=1,l._result=c)},function(c){(l._status===0||l._status===-1)&&(l._status=2,l._result=c)}),l._status===-1&&(l._status=0,l._result=m)}if(l._status===1)return l._result.default;throw l._result}var te=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function E(){}return ct.Children={map:Q,forEach:function(l,m,c){Q(l,function(){m.apply(this,arguments)},c)},count:function(l){var m=0;return Q(l,function(){m++}),m},toArray:function(l){return Q(l,function(m){return m})||[]},only:function(l){if(!z(l))throw Error("React.Children.only expected to receive a single React element child.");return l}},ct.Component=w,ct.Fragment=ne,ct.Profiler=g,ct.PureComponent=x,ct.StrictMode=u,ct.Suspense=a,ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,ct.act=function(){throw Error("act(...) is not supported in production builds of React.")},ct.cache=function(l){return function(){return l.apply(null,arguments)}},ct.cloneElement=function(l,m,c){if(l==null)throw Error("The argument must be a React element, but you passed "+l+".");var y=p({},l.props),b=l.key,S=void 0;if(m!=null)for(D in m.ref!==void 0&&(S=void 0),m.key!==void 0&&(b=""+m.key),m)!B.call(m,D)||D==="key"||D==="__self"||D==="__source"||D==="ref"&&m.ref===void 0||(y[D]=m[D]);var D=arguments.length-2;if(D===1)y.children=c;else if(1<D){for(var M=Array(D),$=0;$<D;$++)M[$]=arguments[$+2];y.children=M}return H(l.type,b,void 0,void 0,S,y)},ct.createContext=function(l){return l={$$typeof:t,_currentValue:l,_currentValue2:l,_threadCount:0,Provider:null,Consumer:null},l.Provider=l,l.Consumer={$$typeof:e,_context:l},l},ct.createElement=function(l,m,c){var y,b={},S=null;if(m!=null)for(y in m.key!==void 0&&(S=""+m.key),m)B.call(m,y)&&y!=="key"&&y!=="__self"&&y!=="__source"&&(b[y]=m[y]);var D=arguments.length-2;if(D===1)b.children=c;else if(1<D){for(var M=Array(D),$=0;$<D;$++)M[$]=arguments[$+2];b.children=M}if(l&&l.defaultProps)for(y in D=l.defaultProps,D)b[y]===void 0&&(b[y]=D[y]);return H(l,S,void 0,void 0,null,b)},ct.createRef=function(){return{current:null}},ct.forwardRef=function(l){return{$$typeof:n,render:l}},ct.isValidElement=z,ct.lazy=function(l){return{$$typeof:r,_payload:{_status:-1,_result:l},_init:ie}},ct.memo=function(l,m){return{$$typeof:i,type:l,compare:m===void 0?null:m}},ct.startTransition=function(l){var m=k.T,c={};k.T=c;try{var y=l(),b=k.S;b!==null&&b(c,y),typeof y=="object"&&y!==null&&typeof y.then=="function"&&y.then(E,te)}catch(S){te(S)}finally{k.T=m}},ct.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},ct.use=function(l){return k.H.use(l)},ct.useActionState=function(l,m,c){return k.H.useActionState(l,m,c)},ct.useCallback=function(l,m){return k.H.useCallback(l,m)},ct.useContext=function(l){return k.H.useContext(l)},ct.useDebugValue=function(){},ct.useDeferredValue=function(l,m){return k.H.useDeferredValue(l,m)},ct.useEffect=function(l,m){return k.H.useEffect(l,m)},ct.useId=function(){return k.H.useId()},ct.useImperativeHandle=function(l,m,c){return k.H.useImperativeHandle(l,m,c)},ct.useInsertionEffect=function(l,m){return k.H.useInsertionEffect(l,m)},ct.useLayoutEffect=function(l,m){return k.H.useLayoutEffect(l,m)},ct.useMemo=function(l,m){return k.H.useMemo(l,m)},ct.useOptimistic=function(l,m){return k.H.useOptimistic(l,m)},ct.useReducer=function(l,m,c){return k.H.useReducer(l,m,c)},ct.useRef=function(l){return k.H.useRef(l)},ct.useState=function(l){return k.H.useState(l)},ct.useSyncExternalStore=function(l,m,c){return k.H.useSyncExternalStore(l,m,c)},ct.useTransition=function(){return k.H.useTransition()},ct.version="19.0.0",ct}var cm;function zs(){return cm||(cm=1,Os.exports=Bp()),Os.exports}var Qt=zs();const Jt=Cm(Qt);var Ls={exports:{}},Sr={},Ns={exports:{}},Bs={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function Ip(){return um||(um=1,function(We){function j(Q,ie){var te=Q.length;Q.push(ie);e:for(;0<te;){var E=te-1>>>1,l=Q[E];if(0<g(l,ie))Q[E]=ie,Q[te]=l,te=E;else break e}}function ne(Q){return Q.length===0?null:Q[0]}function u(Q){if(Q.length===0)return null;var ie=Q[0],te=Q.pop();if(te!==ie){Q[0]=te;e:for(var E=0,l=Q.length,m=l>>>1;E<m;){var c=2*(E+1)-1,y=Q[c],b=c+1,S=Q[b];if(0>g(y,te))b<l&&0>g(S,y)?(Q[E]=S,Q[b]=te,E=b):(Q[E]=y,Q[c]=te,E=c);else if(b<l&&0>g(S,te))Q[E]=S,Q[b]=te,E=b;else break e}}return ie}function g(Q,ie){var te=Q.sortIndex-ie.sortIndex;return te!==0?te:Q.id-ie.id}if(We.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var e=performance;We.unstable_now=function(){return e.now()}}else{var t=Date,n=t.now();We.unstable_now=function(){return t.now()-n}}var a=[],i=[],r=1,o=null,d=3,f=!1,p=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function L(Q){for(var ie=ne(i);ie!==null;){if(ie.callback===null)u(i);else if(ie.startTime<=Q)u(i),ie.sortIndex=ie.expirationTime,j(a,ie);else break;ie=ne(i)}}function A(Q){if(v=!1,L(Q),!p)if(ne(a)!==null)p=!0,X();else{var ie=ne(i);ie!==null&&ae(A,ie.startTime-Q)}}var k=!1,B=-1,H=5,V=-1;function z(){return!(We.unstable_now()-V<H)}function N(){if(k){var Q=We.unstable_now();V=Q;var ie=!0;try{e:{p=!1,v&&(v=!1,C(B),B=-1),f=!0;var te=d;try{t:{for(L(Q),o=ne(a);o!==null&&!(o.expirationTime>Q&&z());){var E=o.callback;if(typeof E=="function"){o.callback=null,d=o.priorityLevel;var l=E(o.expirationTime<=Q);if(Q=We.unstable_now(),typeof l=="function"){o.callback=l,L(Q),ie=!0;break t}o===ne(a)&&u(a),L(Q)}else u(a);o=ne(a)}if(o!==null)ie=!0;else{var m=ne(i);m!==null&&ae(A,m.startTime-Q),ie=!1}}break e}finally{o=null,d=te,f=!1}ie=void 0}}finally{ie?F():k=!1}}}var F;if(typeof x=="function")F=function(){x(N)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Y=q.port2;q.port1.onmessage=N,F=function(){Y.postMessage(null)}}else F=function(){w(N,0)};function X(){k||(k=!0,F())}function ae(Q,ie){B=w(function(){Q(We.unstable_now())},ie)}We.unstable_IdlePriority=5,We.unstable_ImmediatePriority=1,We.unstable_LowPriority=4,We.unstable_NormalPriority=3,We.unstable_Profiling=null,We.unstable_UserBlockingPriority=2,We.unstable_cancelCallback=function(Q){Q.callback=null},We.unstable_continueExecution=function(){p||f||(p=!0,X())},We.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Q?Math.floor(1e3/Q):5},We.unstable_getCurrentPriorityLevel=function(){return d},We.unstable_getFirstCallbackNode=function(){return ne(a)},We.unstable_next=function(Q){switch(d){case 1:case 2:case 3:var ie=3;break;default:ie=d}var te=d;d=ie;try{return Q()}finally{d=te}},We.unstable_pauseExecution=function(){},We.unstable_requestPaint=function(){},We.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var te=d;d=Q;try{return ie()}finally{d=te}},We.unstable_scheduleCallback=function(Q,ie,te){var E=We.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?E+te:E):te=E,Q){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=te+l,Q={id:r++,callback:ie,priorityLevel:Q,startTime:te,expirationTime:l,sortIndex:-1},te>E?(Q.sortIndex=te,j(i,Q),ne(a)===null&&Q===ne(i)&&(v?(C(B),B=-1):v=!0,ae(A,te-E))):(Q.sortIndex=l,j(a,Q),p||f||(p=!0,X())),Q},We.unstable_shouldYield=z,We.unstable_wrapCallback=function(Q){var ie=d;return function(){var te=d;d=ie;try{return Q.apply(this,arguments)}finally{d=te}}}}(Bs)),Bs}var mm;function Vp(){return mm||(mm=1,Ns.exports=Ip()),Ns.exports}var Is={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function Rp(){if(hm)return sn;hm=1;var We=zs();function j(a){var i="https://react.dev/errors/"+a;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ne(){}var u={d:{f:ne,r:function(){throw Error(j(522))},D:ne,C:ne,L:ne,m:ne,X:ne,S:ne,M:ne},p:0,findDOMNode:null},g=Symbol.for("react.portal");function e(a,i,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:g,key:o==null?null:""+o,children:a,containerInfo:i,implementation:r}}var t=We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function n(a,i){if(a==="font")return"";if(typeof i=="string")return i==="use-credentials"?i:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,sn.createPortal=function(a,i){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)throw Error(j(299));return e(a,i,null,r)},sn.flushSync=function(a){var i=t.T,r=u.p;try{if(t.T=null,u.p=2,a)return a()}finally{t.T=i,u.p=r,u.d.f()}},sn.preconnect=function(a,i){typeof a=="string"&&(i?(i=i.crossOrigin,i=typeof i=="string"?i==="use-credentials"?i:"":void 0):i=null,u.d.C(a,i))},sn.prefetchDNS=function(a){typeof a=="string"&&u.d.D(a)},sn.preinit=function(a,i){if(typeof a=="string"&&i&&typeof i.as=="string"){var r=i.as,o=n(r,i.crossOrigin),d=typeof i.integrity=="string"?i.integrity:void 0,f=typeof i.fetchPriority=="string"?i.fetchPriority:void 0;r==="style"?u.d.S(a,typeof i.precedence=="string"?i.precedence:void 0,{crossOrigin:o,integrity:d,fetchPriority:f}):r==="script"&&u.d.X(a,{crossOrigin:o,integrity:d,fetchPriority:f,nonce:typeof i.nonce=="string"?i.nonce:void 0})}},sn.preinitModule=function(a,i){if(typeof a=="string")if(typeof i=="object"&&i!==null){if(i.as==null||i.as==="script"){var r=n(i.as,i.crossOrigin);u.d.M(a,{crossOrigin:r,integrity:typeof i.integrity=="string"?i.integrity:void 0,nonce:typeof i.nonce=="string"?i.nonce:void 0})}}else i==null&&u.d.M(a)},sn.preload=function(a,i){if(typeof a=="string"&&typeof i=="object"&&i!==null&&typeof i.as=="string"){var r=i.as,o=n(r,i.crossOrigin);u.d.L(a,r,{crossOrigin:o,integrity:typeof i.integrity=="string"?i.integrity:void 0,nonce:typeof i.nonce=="string"?i.nonce:void 0,type:typeof i.type=="string"?i.type:void 0,fetchPriority:typeof i.fetchPriority=="string"?i.fetchPriority:void 0,referrerPolicy:typeof i.referrerPolicy=="string"?i.referrerPolicy:void 0,imageSrcSet:typeof i.imageSrcSet=="string"?i.imageSrcSet:void 0,imageSizes:typeof i.imageSizes=="string"?i.imageSizes:void 0,media:typeof i.media=="string"?i.media:void 0})}},sn.preloadModule=function(a,i){if(typeof a=="string")if(i){var r=n(i.as,i.crossOrigin);u.d.m(a,{as:typeof i.as=="string"&&i.as!=="script"?i.as:void 0,crossOrigin:r,integrity:typeof i.integrity=="string"?i.integrity:void 0})}else u.d.m(a)},sn.requestFormReset=function(a){u.d.r(a)},sn.unstable_batchedUpdates=function(a,i){return a(i)},sn.useFormState=function(a,i,r){return t.H.useFormState(a,i,r)},sn.useFormStatus=function(){return t.H.useHostTransitionStatus()},sn.version="19.0.0",sn}var pm;function zp(){if(pm)return Is.exports;pm=1;function We(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(We)}catch(j){console.error(j)}}return We(),Is.exports=Rp(),Is.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function Fp(){if(fm)return Sr;fm=1;var We=Vp(),j=zs(),ne=zp();function u(s){var h="https://react.dev/errors/"+s;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)h+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+s+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var e=Symbol.for("react.element"),t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),A=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var H=Symbol.for("react.client.reference");function V(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===H?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case a:return"Fragment";case n:return"Portal";case r:return"Profiler";case i:return"StrictMode";case v:return"Suspense";case w:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case f:return(s.displayName||"Context")+".Provider";case d:return(s._context.displayName||"Context")+".Consumer";case p:var h=s.render;return s=s.displayName,s||(s=h.displayName||h.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return h=s.displayName||null,h!==null?h:V(s.type)||"Memo";case x:h=s._payload,s=s._init;try{return V(s(h))}catch{}}return null}var z=j.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,F,q;function Y(s){if(F===void 0)try{throw Error()}catch(_){var h=_.stack.trim().match(/\n( *(at )?)/);F=h&&h[1]||"",q=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+F+s+q}var X=!1;function ae(s,h){if(!s||X)return"";X=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var T={DetermineComponentFrameRoot:function(){try{if(h){var Ue=function(){throw Error()};if(Object.defineProperty(Ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ue,[])}catch(He){var Ae=He}Reflect.construct(s,[],Ue)}else{try{Ue.call()}catch(He){Ae=He}s.call(Ue.prototype)}}else{try{throw Error()}catch(He){Ae=He}(Ue=s())&&typeof Ue.catch=="function"&&Ue.catch(function(){})}}catch(He){if(He&&Ae&&typeof He.stack=="string")return[He.stack,Ae.stack]}return[null,null]}};T.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(T.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(T.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=T.DetermineComponentFrameRoot(),J=I[0],le=I[1];if(J&&le){var he=J.split(`
`),De=le.split(`
`);for(O=T=0;T<he.length&&!he[T].includes("DetermineComponentFrameRoot");)T++;for(;O<De.length&&!De[O].includes("DetermineComponentFrameRoot");)O++;if(T===he.length||O===De.length)for(T=he.length-1,O=De.length-1;1<=T&&0<=O&&he[T]!==De[O];)O--;for(;1<=T&&0<=O;T--,O--)if(he[T]!==De[O]){if(T!==1||O!==1)do if(T--,O--,0>O||he[T]!==De[O]){var Oe=`
`+he[T].replace(" at new "," at ");return s.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",s.displayName)),Oe}while(1<=T&&0<=O);break}}}finally{X=!1,Error.prepareStackTrace=_}return(_=s?s.displayName||s.name:"")?Y(_):""}function Q(s){switch(s.tag){case 26:case 27:case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 15:return s=ae(s.type,!1),s;case 11:return s=ae(s.type.render,!1),s;case 1:return s=ae(s.type,!0),s;default:return""}}function ie(s){try{var h="";do h+=Q(s),s=s.return;while(s);return h}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}function te(s){var h=s,_=s;if(s.alternate)for(;h.return;)h=h.return;else{s=h;do h=s,h.flags&4098&&(_=h.return),s=h.return;while(s)}return h.tag===3?_:null}function E(s){if(s.tag===13){var h=s.memoizedState;if(h===null&&(s=s.alternate,s!==null&&(h=s.memoizedState)),h!==null)return h.dehydrated}return null}function l(s){if(te(s)!==s)throw Error(u(188))}function m(s){var h=s.alternate;if(!h){if(h=te(s),h===null)throw Error(u(188));return h!==s?null:s}for(var _=s,T=h;;){var O=_.return;if(O===null)break;var I=O.alternate;if(I===null){if(T=O.return,T!==null){_=T;continue}break}if(O.child===I.child){for(I=O.child;I;){if(I===_)return l(O),s;if(I===T)return l(O),h;I=I.sibling}throw Error(u(188))}if(_.return!==T.return)_=O,T=I;else{for(var J=!1,le=O.child;le;){if(le===_){J=!0,_=O,T=I;break}if(le===T){J=!0,T=O,_=I;break}le=le.sibling}if(!J){for(le=I.child;le;){if(le===_){J=!0,_=I,T=O;break}if(le===T){J=!0,T=I,_=O;break}le=le.sibling}if(!J)throw Error(u(189))}}if(_.alternate!==T)throw Error(u(190))}if(_.tag!==3)throw Error(u(188));return _.stateNode.current===_?s:h}function c(s){var h=s.tag;if(h===5||h===26||h===27||h===6)return s;for(s=s.child;s!==null;){if(h=c(s),h!==null)return h;s=s.sibling}return null}var y=Array.isArray,b=ne.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,S={pending:!1,data:null,method:null,action:null},D=[],M=-1;function $(s){return{current:s}}function P(s){0>M||(s.current=D[M],D[M]=null,M--)}function G(s,h){M++,D[M]=s.current,s.current=h}var Z=$(null),ee=$(null),de=$(null),me=$(null);function ge(s,h){switch(G(de,h),G(ee,s),G(Z,null),s=h.nodeType,s){case 9:case 11:h=(h=h.documentElement)&&(h=h.namespaceURI)?Bu(h):0;break;default:if(s=s===8?h.parentNode:h,h=s.tagName,s=s.namespaceURI)s=Bu(s),h=Iu(s,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}P(Z),G(Z,h)}function we(){P(Z),P(ee),P(de)}function Me(s){s.memoizedState!==null&&G(me,s);var h=Z.current,_=Iu(h,s.type);h!==_&&(G(ee,s),G(Z,_))}function ke(s){ee.current===s&&(P(Z),P(ee)),me.current===s&&(P(me),gr._currentValue=S)}var xe=Object.prototype.hasOwnProperty,Ve=We.unstable_scheduleCallback,ye=We.unstable_cancelCallback,je=We.unstable_shouldYield,Le=We.unstable_requestPaint,et=We.unstable_now,Ye=We.unstable_getCurrentPriorityLevel,ut=We.unstable_ImmediatePriority,Ne=We.unstable_UserBlockingPriority,mt=We.unstable_NormalPriority,Be=We.unstable_LowPriority,Ke=We.unstable_IdlePriority,Ht=We.log,ft=We.unstable_setDisableYieldValue,St=null,Tt=null;function ka(s){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(St,s,void 0,(s.current.flags&128)===128)}catch{}}function qe(s){if(typeof Ht=="function"&&ft(s),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(St,s)}catch{}}var Ge=Math.clz32?Math.clz32:st,Hn=Math.log,Wn=Math.LN2;function st(s){return s>>>=0,s===0?32:31-(Hn(s)/Wn|0)|0}var yt=128,dn=4194304;function rn(s){var h=s&42;if(h!==0)return h;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function bn(s,h){var _=s.pendingLanes;if(_===0)return 0;var T=0,O=s.suspendedLanes,I=s.pingedLanes,J=s.warmLanes;s=s.finishedLanes!==0;var le=_&134217727;return le!==0?(_=le&~O,_!==0?T=rn(_):(I&=le,I!==0?T=rn(I):s||(J=le&~J,J!==0&&(T=rn(J))))):(le=_&~O,le!==0?T=rn(le):I!==0?T=rn(I):s||(J=_&~J,J!==0&&(T=rn(J)))),T===0?0:h!==0&&h!==T&&!(h&O)&&(O=T&-T,J=h&-h,O>=J||O===32&&(J&4194176)!==0)?h:T}function dt(s,h){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&h)===0}function On(s,h){switch(s){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ln(){var s=yt;return yt<<=1,!(yt&4194176)&&(yt=128),s}function Nn(){var s=dn;return dn<<=1,!(dn&62914560)&&(dn=4194304),s}function Ot(s){for(var h=[],_=0;31>_;_++)h.push(s);return h}function U(s,h){s.pendingLanes|=h,h!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function W(s,h,_,T,O,I){var J=s.pendingLanes;s.pendingLanes=_,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=_,s.entangledLanes&=_,s.errorRecoveryDisabledLanes&=_,s.shellSuspendCounter=0;var le=s.entanglements,he=s.expirationTimes,De=s.hiddenUpdates;for(_=J&~_;0<_;){var Oe=31-Ge(_),Ue=1<<Oe;le[Oe]=0,he[Oe]=-1;var Ae=De[Oe];if(Ae!==null)for(De[Oe]=null,Oe=0;Oe<Ae.length;Oe++){var He=Ae[Oe];He!==null&&(He.lane&=-536870913)}_&=~Ue}T!==0&&se(s,T,0),I!==0&&O===0&&s.tag!==0&&(s.suspendedLanes|=I&~(J&~h))}function se(s,h,_){s.pendingLanes|=h,s.suspendedLanes&=~h;var T=31-Ge(h);s.entangledLanes|=h,s.entanglements[T]=s.entanglements[T]|1073741824|_&4194218}function ue(s,h){var _=s.entangledLanes|=h;for(s=s.entanglements;_;){var T=31-Ge(_),O=1<<T;O&h|s[T]&h&&(s[T]|=h),_&=~O}}function R(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function K(){var s=b.p;return s!==0?s:(s=window.event,s===void 0?32:tm(s.type))}function oe(s,h){var _=b.p;try{return b.p=s,h()}finally{b.p=_}}var ce=Math.random().toString(36).slice(2),re="__reactFiber$"+ce,pe="__reactProps$"+ce,fe="__reactContainer$"+ce,Se="__reactEvents$"+ce,ve="__reactListeners$"+ce,be="__reactHandles$"+ce,Ce="__reactResources$"+ce,Fe="__reactMarker$"+ce;function Ie(s){delete s[re],delete s[pe],delete s[Se],delete s[ve],delete s[be]}function $e(s){var h=s[re];if(h)return h;for(var _=s.parentNode;_;){if(h=_[fe]||_[re]){if(_=h.alternate,h.child!==null||_!==null&&_.child!==null)for(s=zu(s);s!==null;){if(_=s[re])return _;s=zu(s)}return h}s=_,_=s.parentNode}return null}function Re(s){if(s=s[re]||s[fe]){var h=s.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return s}return null}function Ze(s){var h=s.tag;if(h===5||h===26||h===27||h===6)return s.stateNode;throw Error(u(33))}function Pe(s){var h=s[Ce];return h||(h=s[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Xe(s){s[Fe]=!0}var nt=new Set,rt={};function Je(s,h){ht(s,h),ht(s+"Capture",h)}function ht(s,h){for(rt[s]=h,s=0;s<h.length;s++)nt.add(h[s])}var lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),At=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),en={},qt={};function on(s){return xe.call(qt,s)?!0:xe.call(en,s)?!1:At.test(s)?qt[s]=!0:(en[s]=!0,!1)}function Bt(s,h,_){if(on(h))if(_===null)s.removeAttribute(h);else{switch(typeof _){case"undefined":case"function":case"symbol":s.removeAttribute(h);return;case"boolean":var T=h.toLowerCase().slice(0,5);if(T!=="data-"&&T!=="aria-"){s.removeAttribute(h);return}}s.setAttribute(h,""+_)}}function Bn(s,h,_){if(_===null)s.removeAttribute(h);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttribute(h,""+_)}}function Gt(s,h,_,T){if(T===null)s.removeAttribute(_);else{switch(typeof T){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(_);return}s.setAttributeNS(h,_,""+T)}}function jt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function _n(s){var h=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function $a(s){var h=_n(s)?"checked":"value",_=Object.getOwnPropertyDescriptor(s.constructor.prototype,h),T=""+s[h];if(!s.hasOwnProperty(h)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var O=_.get,I=_.set;return Object.defineProperty(s,h,{configurable:!0,get:function(){return O.call(this)},set:function(J){T=""+J,I.call(this,J)}}),Object.defineProperty(s,h,{enumerable:_.enumerable}),{getValue:function(){return T},setValue:function(J){T=""+J},stopTracking:function(){s._valueTracker=null,delete s[h]}}}}function Ha(s){s._valueTracker||(s._valueTracker=$a(s))}function Dr(s){if(!s)return!1;var h=s._valueTracker;if(!h)return!0;var _=h.getValue(),T="";return s&&(T=_n(s)?s.checked?"true":"false":s.value),s=T,s!==_?(h.setValue(s),!0):!1}function Qa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ao=/[\n"\\]/g;function wn(s){return s.replace(Ao,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function ko(s,h,_,T,O,I,J,le){s.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?s.type=J:s.removeAttribute("type"),h!=null?J==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+jt(h)):s.value!==""+jt(h)&&(s.value=""+jt(h)):J!=="submit"&&J!=="reset"||s.removeAttribute("value"),h!=null?$o(s,J,jt(h)):_!=null?$o(s,J,jt(_)):T!=null&&s.removeAttribute("value"),O==null&&I!=null&&(s.defaultChecked=!!I),O!=null&&(s.checked=O&&typeof O!="function"&&typeof O!="symbol"),le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?s.name=""+jt(le):s.removeAttribute("name")}function Fs(s,h,_,T,O,I,J,le){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.type=I),h!=null||_!=null){if(!(I!=="submit"&&I!=="reset"||h!=null))return;_=_!=null?""+jt(_):"",h=h!=null?""+jt(h):_,le||h===s.value||(s.value=h),s.defaultValue=h}T=T??O,T=typeof T!="function"&&typeof T!="symbol"&&!!T,s.checked=le?s.checked:!!T,s.defaultChecked=!!T,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(s.name=J)}function $o(s,h,_){h==="number"&&Qa(s.ownerDocument)===s||s.defaultValue===""+_||(s.defaultValue=""+_)}function Ja(s,h,_,T){if(s=s.options,h){h={};for(var O=0;O<_.length;O++)h["$"+_[O]]=!0;for(_=0;_<s.length;_++)O=h.hasOwnProperty("$"+s[_].value),s[_].selected!==O&&(s[_].selected=O),O&&T&&(s[_].defaultSelected=!0)}else{for(_=""+jt(_),h=null,O=0;O<s.length;O++){if(s[O].value===_){s[O].selected=!0,T&&(s[O].defaultSelected=!0);return}h!==null||s[O].disabled||(h=s[O])}h!==null&&(h.selected=!0)}}function Ps(s,h,_){if(h!=null&&(h=""+jt(h),h!==s.value&&(s.value=h),_==null)){s.defaultValue!==h&&(s.defaultValue=h);return}s.defaultValue=_!=null?""+jt(_):""}function Us(s,h,_,T){if(h==null){if(T!=null){if(_!=null)throw Error(u(92));if(y(T)){if(1<T.length)throw Error(u(93));T=T[0]}_=T}_==null&&(_=""),h=_}_=jt(h),s.defaultValue=_,T=s.textContent,T===_&&T!==""&&T!==null&&(s.value=T)}function ei(s,h){if(h){var _=s.firstChild;if(_&&_===s.lastChild&&_.nodeType===3){_.nodeValue=h;return}}s.textContent=h}var $m=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function js(s,h,_){var T=h.indexOf("--")===0;_==null||typeof _=="boolean"||_===""?T?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="":T?s.setProperty(h,_):typeof _!="number"||_===0||$m.has(h)?h==="float"?s.cssFloat=_:s[h]=(""+_).trim():s[h]=_+"px"}function Ys(s,h,_){if(h!=null&&typeof h!="object")throw Error(u(62));if(s=s.style,_!=null){for(var T in _)!_.hasOwnProperty(T)||h!=null&&h.hasOwnProperty(T)||(T.indexOf("--")===0?s.setProperty(T,""):T==="float"?s.cssFloat="":s[T]="");for(var O in h)T=h[O],h.hasOwnProperty(O)&&_[O]!==T&&js(s,O,T)}else for(var I in h)h.hasOwnProperty(I)&&js(s,I,h[I])}function Ho(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Om=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cr(s){return Om.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Oo=null;function Lo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ti=null,ni=null;function Ws(s){var h=Re(s);if(h&&(s=h.stateNode)){var _=s[pe]||null;e:switch(s=h.stateNode,h.type){case"input":if(ko(s,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),h=_.name,_.type==="radio"&&h!=null){for(_=s;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll('input[name="'+wn(""+h)+'"][type="radio"]'),h=0;h<_.length;h++){var T=_[h];if(T!==s&&T.form===s.form){var O=T[pe]||null;if(!O)throw Error(u(90));ko(T,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(h=0;h<_.length;h++)T=_[h],T.form===s.form&&Dr(T)}break e;case"textarea":Ps(s,_.value,_.defaultValue);break e;case"select":h=_.value,h!=null&&Ja(s,!!_.multiple,h,!1)}}}var No=!1;function qs(s,h,_){if(No)return s(h,_);No=!0;try{var T=s(h);return T}finally{if(No=!1,(ti!==null||ni!==null)&&(lo(),ti&&(h=ti,s=ni,ni=ti=null,Ws(h),s)))for(h=0;h<s.length;h++)Ws(s[h])}}function ki(s,h){var _=s.stateNode;if(_===null)return null;var T=_[pe]||null;if(T===null)return null;_=T[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(s=s.type,T=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!T;break e;default:s=!1}if(s)return null;if(_&&typeof _!="function")throw Error(u(231,h,typeof _));return _}var Bo=!1;if(lt)try{var $i={};Object.defineProperty($i,"passive",{get:function(){Bo=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{Bo=!1}var sa=null,Io=null,Tr=null;function Gs(){if(Tr)return Tr;var s,h=Io,_=h.length,T,O="value"in sa?sa.value:sa.textContent,I=O.length;for(s=0;s<_&&h[s]===O[s];s++);var J=_-s;for(T=1;T<=J&&h[_-T]===O[I-T];T++);return Tr=O.slice(s,1<T?1-T:void 0)}function Er(s){var h=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&h===13&&(s=13)):s=h,s===10&&(s=13),32<=s||s===13?s:0}function xr(){return!0}function Xs(){return!1}function mn(s){function h(_,T,O,I,J){this._reactName=_,this._targetInst=O,this.type=T,this.nativeEvent=I,this.target=J,this.currentTarget=null;for(var le in s)s.hasOwnProperty(le)&&(_=s[le],this[le]=_?_(I):I[le]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?xr:Xs,this.isPropagationStopped=Xs,this}return N(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),h}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=mn(Oa),Hi=N({},Oa,{view:0,detail:0}),Lm=mn(Hi),Vo,Ro,Oi,Ar=N({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Oi&&(Oi&&s.type==="mousemove"?(Vo=s.screenX-Oi.screenX,Ro=s.screenY-Oi.screenY):Ro=Vo=0,Oi=s),Vo)},movementY:function(s){return"movementY"in s?s.movementY:Ro}}),Zs=mn(Ar),Nm=N({},Ar,{dataTransfer:0}),Bm=mn(Nm),Im=N({},Hi,{relatedTarget:0}),zo=mn(Im),Vm=N({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),Rm=mn(Vm),zm=N({},Oa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Fm=mn(zm),Pm=N({},Oa,{data:0}),Ks=mn(Pm),Um={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wm(s){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(s):(s=Ym[s])?!!h[s]:!1}function Fo(){return Wm}var qm=N({},Hi,{key:function(s){if(s.key){var h=Um[s.key]||s.key;if(h!=="Unidentified")return h}return s.type==="keypress"?(s=Er(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?jm[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fo,charCode:function(s){return s.type==="keypress"?Er(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Er(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Gm=mn(qm),Xm=N({},Ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qs=mn(Xm),Zm=N({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fo}),Km=mn(Zm),Qm=N({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jm=mn(Qm),eh=N({},Ar,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),th=mn(eh),nh=N({},Oa,{newState:0,oldState:0}),ah=mn(nh),ih=[9,13,27,32],Po=lt&&"CompositionEvent"in window,Li=null;lt&&"documentMode"in document&&(Li=document.documentMode);var rh=lt&&"TextEvent"in window&&!Li,Js=lt&&(!Po||Li&&8<Li&&11>=Li),ed=" ",td=!1;function nd(s,h){switch(s){case"keyup":return ih.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ad(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ai=!1;function oh(s,h){switch(s){case"compositionend":return ad(h);case"keypress":return h.which!==32?null:(td=!0,ed);case"textInput":return s=h.data,s===ed&&td?null:s;default:return null}}function lh(s,h){if(ai)return s==="compositionend"||!Po&&nd(s,h)?(s=Gs(),Tr=Io=sa=null,ai=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Js&&h.locale!=="ko"?null:h.data;default:return null}}var sh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function id(s){var h=s&&s.nodeName&&s.nodeName.toLowerCase();return h==="input"?!!sh[s.type]:h==="textarea"}function rd(s,h,_,T){ti?ni?ni.push(T):ni=[T]:ti=T,h=ho(h,"onChange"),0<h.length&&(_=new Mr("onChange","change",null,_,T),s.push({event:_,listeners:h}))}var Ni=null,Bi=null;function dh(s){$u(s,0)}function kr(s){var h=Ze(s);if(Dr(h))return s}function od(s,h){if(s==="change")return h}var ld=!1;if(lt){var Uo;if(lt){var jo="oninput"in document;if(!jo){var sd=document.createElement("div");sd.setAttribute("oninput","return;"),jo=typeof sd.oninput=="function"}Uo=jo}else Uo=!1;ld=Uo&&(!document.documentMode||9<document.documentMode)}function dd(){Ni&&(Ni.detachEvent("onpropertychange",cd),Bi=Ni=null)}function cd(s){if(s.propertyName==="value"&&kr(Bi)){var h=[];rd(h,Bi,s,Lo(s)),qs(dh,h)}}function ch(s,h,_){s==="focusin"?(dd(),Ni=h,Bi=_,Ni.attachEvent("onpropertychange",cd)):s==="focusout"&&dd()}function uh(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return kr(Bi)}function mh(s,h){if(s==="click")return kr(h)}function hh(s,h){if(s==="input"||s==="change")return kr(h)}function ph(s,h){return s===h&&(s!==0||1/s===1/h)||s!==s&&h!==h}var pn=typeof Object.is=="function"?Object.is:ph;function Ii(s,h){if(pn(s,h))return!0;if(typeof s!="object"||s===null||typeof h!="object"||h===null)return!1;var _=Object.keys(s),T=Object.keys(h);if(_.length!==T.length)return!1;for(T=0;T<_.length;T++){var O=_[T];if(!xe.call(h,O)||!pn(s[O],h[O]))return!1}return!0}function ud(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function md(s,h){var _=ud(s);s=0;for(var T;_;){if(_.nodeType===3){if(T=s+_.textContent.length,s<=h&&T>=h)return{node:_,offset:h-s};s=T}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=ud(_)}}function hd(s,h){return s&&h?s===h?!0:s&&s.nodeType===3?!1:h&&h.nodeType===3?hd(s,h.parentNode):"contains"in s?s.contains(h):s.compareDocumentPosition?!!(s.compareDocumentPosition(h)&16):!1:!1}function pd(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var h=Qa(s.document);h instanceof s.HTMLIFrameElement;){try{var _=typeof h.contentWindow.location.href=="string"}catch{_=!1}if(_)s=h.contentWindow;else break;h=Qa(s.document)}return h}function Yo(s){var h=s&&s.nodeName&&s.nodeName.toLowerCase();return h&&(h==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||h==="textarea"||s.contentEditable==="true")}function fh(s,h){var _=pd(h);h=s.focusedElem;var T=s.selectionRange;if(_!==h&&h&&h.ownerDocument&&hd(h.ownerDocument.documentElement,h)){if(T!==null&&Yo(h)){if(s=T.start,_=T.end,_===void 0&&(_=s),"selectionStart"in h)h.selectionStart=s,h.selectionEnd=Math.min(_,h.value.length);else if(_=(s=h.ownerDocument||document)&&s.defaultView||window,_.getSelection){_=_.getSelection();var O=h.textContent.length,I=Math.min(T.start,O);T=T.end===void 0?I:Math.min(T.end,O),!_.extend&&I>T&&(O=T,T=I,I=O),O=md(h,I);var J=md(h,T);O&&J&&(_.rangeCount!==1||_.anchorNode!==O.node||_.anchorOffset!==O.offset||_.focusNode!==J.node||_.focusOffset!==J.offset)&&(s=s.createRange(),s.setStart(O.node,O.offset),_.removeAllRanges(),I>T?(_.addRange(s),_.extend(J.node,J.offset)):(s.setEnd(J.node,J.offset),_.addRange(s)))}}for(s=[],_=h;_=_.parentNode;)_.nodeType===1&&s.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<s.length;h++)_=s[h],_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}var gh=lt&&"documentMode"in document&&11>=document.documentMode,ii=null,Wo=null,Vi=null,qo=!1;function fd(s,h,_){var T=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;qo||ii==null||ii!==Qa(T)||(T=ii,"selectionStart"in T&&Yo(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),Vi&&Ii(Vi,T)||(Vi=T,T=ho(Wo,"onSelect"),0<T.length&&(h=new Mr("onSelect","select",null,h,_),s.push({event:h,listeners:T}),h.target=ii)))}function La(s,h){var _={};return _[s.toLowerCase()]=h.toLowerCase(),_["Webkit"+s]="webkit"+h,_["Moz"+s]="moz"+h,_}var ri={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},Go={},gd={};lt&&(gd=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function Na(s){if(Go[s])return Go[s];if(!ri[s])return s;var h=ri[s],_;for(_ in h)if(h.hasOwnProperty(_)&&_ in gd)return Go[s]=h[_];return s}var yd=Na("animationend"),vd=Na("animationiteration"),bd=Na("animationstart"),yh=Na("transitionrun"),vh=Na("transitionstart"),bh=Na("transitioncancel"),_d=Na("transitionend"),wd=new Map,Sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function In(s,h){wd.set(s,h),Je(h,[s])}var Sn=[],oi=0,Xo=0;function $r(){for(var s=oi,h=Xo=oi=0;h<s;){var _=Sn[h];Sn[h++]=null;var T=Sn[h];Sn[h++]=null;var O=Sn[h];Sn[h++]=null;var I=Sn[h];if(Sn[h++]=null,T!==null&&O!==null){var J=T.pending;J===null?O.next=O:(O.next=J.next,J.next=O),T.pending=O}I!==0&&Dd(_,O,I)}}function Hr(s,h,_,T){Sn[oi++]=s,Sn[oi++]=h,Sn[oi++]=_,Sn[oi++]=T,Xo|=T,s.lanes|=T,s=s.alternate,s!==null&&(s.lanes|=T)}function Zo(s,h,_,T){return Hr(s,h,_,T),Or(s)}function da(s,h){return Hr(s,null,null,h),Or(s)}function Dd(s,h,_){s.lanes|=_;var T=s.alternate;T!==null&&(T.lanes|=_);for(var O=!1,I=s.return;I!==null;)I.childLanes|=_,T=I.alternate,T!==null&&(T.childLanes|=_),I.tag===22&&(s=I.stateNode,s===null||s._visibility&1||(O=!0)),s=I,I=I.return;O&&h!==null&&s.tag===3&&(I=s.stateNode,O=31-Ge(_),I=I.hiddenUpdates,s=I[O],s===null?I[O]=[h]:s.push(h),h.lane=_|536870912)}function Or(s){if(50<dr)throw dr=0,ns=null,Error(u(185));for(var h=s.return;h!==null;)s=h,h=s.return;return s.tag===3?s.stateNode:null}var li={},Cd=new WeakMap;function Dn(s,h){if(typeof s=="object"&&s!==null){var _=Cd.get(s);return _!==void 0?_:(h={value:s,source:h,stack:ie(h)},Cd.set(s,h),h)}return{value:s,source:h,stack:ie(h)}}var si=[],di=0,Lr=null,Nr=0,Cn=[],Tn=0,Ba=null,qn=1,Gn="";function Ia(s,h){si[di++]=Nr,si[di++]=Lr,Lr=s,Nr=h}function Td(s,h,_){Cn[Tn++]=qn,Cn[Tn++]=Gn,Cn[Tn++]=Ba,Ba=s;var T=qn;s=Gn;var O=32-Ge(T)-1;T&=~(1<<O),_+=1;var I=32-Ge(h)+O;if(30<I){var J=O-O%5;I=(T&(1<<J)-1).toString(32),T>>=J,O-=J,qn=1<<32-Ge(h)+O|_<<O|T,Gn=I+s}else qn=1<<I|_<<O|T,Gn=s}function Ko(s){s.return!==null&&(Ia(s,1),Td(s,1,0))}function Qo(s){for(;s===Lr;)Lr=si[--di],si[di]=null,Nr=si[--di],si[di]=null;for(;s===Ba;)Ba=Cn[--Tn],Cn[Tn]=null,Gn=Cn[--Tn],Cn[Tn]=null,qn=Cn[--Tn],Cn[Tn]=null}var cn=null,tn=null,Dt=!1,Vn=null,Fn=!1,Jo=Error(u(519));function Va(s){var h=Error(u(418,""));throw Fi(Dn(h,s)),Jo}function Ed(s){var h=s.stateNode,_=s.type,T=s.memoizedProps;switch(h[re]=s,h[pe]=T,_){case"dialog":_t("cancel",h),_t("close",h);break;case"iframe":case"object":case"embed":_t("load",h);break;case"video":case"audio":for(_=0;_<ur.length;_++)_t(ur[_],h);break;case"source":_t("error",h);break;case"img":case"image":case"link":_t("error",h),_t("load",h);break;case"details":_t("toggle",h);break;case"input":_t("invalid",h),Fs(h,T.value,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name,!0),Ha(h);break;case"select":_t("invalid",h);break;case"textarea":_t("invalid",h),Us(h,T.value,T.defaultValue,T.children),Ha(h)}_=T.children,typeof _!="string"&&typeof _!="number"&&typeof _!="bigint"||h.textContent===""+_||T.suppressHydrationWarning===!0||Nu(h.textContent,_)?(T.popover!=null&&(_t("beforetoggle",h),_t("toggle",h)),T.onScroll!=null&&_t("scroll",h),T.onScrollEnd!=null&&_t("scrollend",h),T.onClick!=null&&(h.onclick=po),h=!0):h=!1,h||Va(s)}function xd(s){for(cn=s.return;cn;)switch(cn.tag){case 3:case 27:Fn=!0;return;case 5:case 13:Fn=!1;return;default:cn=cn.return}}function Ri(s){if(s!==cn)return!1;if(!Dt)return xd(s),Dt=!0,!1;var h=!1,_;if((_=s.tag!==3&&s.tag!==27)&&((_=s.tag===5)&&(_=s.type,_=!(_!=="form"&&_!=="button")||bs(s.type,s.memoizedProps)),_=!_),_&&(h=!0),h&&tn&&Va(s),xd(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(u(317));e:{for(s=s.nextSibling,h=0;s;){if(s.nodeType===8)if(_=s.data,_==="/$"){if(h===0){tn=zn(s.nextSibling);break e}h--}else _!=="$"&&_!=="$!"&&_!=="$?"||h++;s=s.nextSibling}tn=null}}else tn=cn?zn(s.stateNode.nextSibling):null;return!0}function zi(){tn=cn=null,Dt=!1}function Fi(s){Vn===null?Vn=[s]:Vn.push(s)}var Pi=Error(u(460)),Md=Error(u(474)),el={then:function(){}};function Ad(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Br(){}function kd(s,h,_){switch(_=s[_],_===void 0?s.push(h):_!==h&&(h.then(Br,Br),h=_),h.status){case"fulfilled":return h.value;case"rejected":throw s=h.reason,s===Pi?Error(u(483)):s;default:if(typeof h.status=="string")h.then(Br,Br);else{if(s=kt,s!==null&&100<s.shellSuspendCounter)throw Error(u(482));s=h,s.status="pending",s.then(function(T){if(h.status==="pending"){var O=h;O.status="fulfilled",O.value=T}},function(T){if(h.status==="pending"){var O=h;O.status="rejected",O.reason=T}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw s=h.reason,s===Pi?Error(u(483)):s}throw Ui=h,Pi}}var Ui=null;function $d(){if(Ui===null)throw Error(u(459));var s=Ui;return Ui=null,s}var ci=null,ji=0;function Ir(s){var h=ji;return ji+=1,ci===null&&(ci=[]),kd(ci,s,h)}function Yi(s,h){h=h.props.ref,s.ref=h!==void 0?h:null}function Vr(s,h){throw h.$$typeof===e?Error(u(525)):(s=Object.prototype.toString.call(h),Error(u(31,s==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":s)))}function Hd(s){var h=s._init;return h(s._payload)}function Od(s){function h(Te,_e){if(s){var Ee=Te.deletions;Ee===null?(Te.deletions=[_e],Te.flags|=16):Ee.push(_e)}}function _(Te,_e){if(!s)return null;for(;_e!==null;)h(Te,_e),_e=_e.sibling;return null}function T(Te){for(var _e=new Map;Te!==null;)Te.key!==null?_e.set(Te.key,Te):_e.set(Te.index,Te),Te=Te.sibling;return _e}function O(Te,_e){return Te=wa(Te,_e),Te.index=0,Te.sibling=null,Te}function I(Te,_e,Ee){return Te.index=Ee,s?(Ee=Te.alternate,Ee!==null?(Ee=Ee.index,Ee<_e?(Te.flags|=33554434,_e):Ee):(Te.flags|=33554434,_e)):(Te.flags|=1048576,_e)}function J(Te){return s&&Te.alternate===null&&(Te.flags|=33554434),Te}function le(Te,_e,Ee,ze){return _e===null||_e.tag!==6?(_e=Gl(Ee,Te.mode,ze),_e.return=Te,_e):(_e=O(_e,Ee),_e.return=Te,_e)}function he(Te,_e,Ee,ze){var Qe=Ee.type;return Qe===a?Oe(Te,_e,Ee.props.children,ze,Ee.key):_e!==null&&(_e.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===x&&Hd(Qe)===_e.type)?(_e=O(_e,Ee.props),Yi(_e,Ee),_e.return=Te,_e):(_e=no(Ee.type,Ee.key,Ee.props,null,Te.mode,ze),Yi(_e,Ee),_e.return=Te,_e)}function De(Te,_e,Ee,ze){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Ee.containerInfo||_e.stateNode.implementation!==Ee.implementation?(_e=Xl(Ee,Te.mode,ze),_e.return=Te,_e):(_e=O(_e,Ee.children||[]),_e.return=Te,_e)}function Oe(Te,_e,Ee,ze,Qe){return _e===null||_e.tag!==7?(_e=Ga(Ee,Te.mode,ze,Qe),_e.return=Te,_e):(_e=O(_e,Ee),_e.return=Te,_e)}function Ue(Te,_e,Ee){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=Gl(""+_e,Te.mode,Ee),_e.return=Te,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case t:return Ee=no(_e.type,_e.key,_e.props,null,Te.mode,Ee),Yi(Ee,_e),Ee.return=Te,Ee;case n:return _e=Xl(_e,Te.mode,Ee),_e.return=Te,_e;case x:var ze=_e._init;return _e=ze(_e._payload),Ue(Te,_e,Ee)}if(y(_e)||B(_e))return _e=Ga(_e,Te.mode,Ee,null),_e.return=Te,_e;if(typeof _e.then=="function")return Ue(Te,Ir(_e),Ee);if(_e.$$typeof===f)return Ue(Te,Jr(Te,_e),Ee);Vr(Te,_e)}return null}function Ae(Te,_e,Ee,ze){var Qe=_e!==null?_e.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return Qe!==null?null:le(Te,_e,""+Ee,ze);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case t:return Ee.key===Qe?he(Te,_e,Ee,ze):null;case n:return Ee.key===Qe?De(Te,_e,Ee,ze):null;case x:return Qe=Ee._init,Ee=Qe(Ee._payload),Ae(Te,_e,Ee,ze)}if(y(Ee)||B(Ee))return Qe!==null?null:Oe(Te,_e,Ee,ze,null);if(typeof Ee.then=="function")return Ae(Te,_e,Ir(Ee),ze);if(Ee.$$typeof===f)return Ae(Te,_e,Jr(Te,Ee),ze);Vr(Te,Ee)}return null}function He(Te,_e,Ee,ze,Qe){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return Te=Te.get(Ee)||null,le(_e,Te,""+ze,Qe);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case t:return Te=Te.get(ze.key===null?Ee:ze.key)||null,he(_e,Te,ze,Qe);case n:return Te=Te.get(ze.key===null?Ee:ze.key)||null,De(_e,Te,ze,Qe);case x:var gt=ze._init;return ze=gt(ze._payload),He(Te,_e,Ee,ze,Qe)}if(y(ze)||B(ze))return Te=Te.get(Ee)||null,Oe(_e,Te,ze,Qe,null);if(typeof ze.then=="function")return He(Te,_e,Ee,Ir(ze),Qe);if(ze.$$typeof===f)return He(Te,_e,Ee,Jr(_e,ze),Qe);Vr(_e,ze)}return null}function tt(Te,_e,Ee,ze){for(var Qe=null,gt=null,at=_e,it=_e=0,Kt=null;at!==null&&it<Ee.length;it++){at.index>it?(Kt=at,at=null):Kt=at.sibling;var Ct=Ae(Te,at,Ee[it],ze);if(Ct===null){at===null&&(at=Kt);break}s&&at&&Ct.alternate===null&&h(Te,at),_e=I(Ct,_e,it),gt===null?Qe=Ct:gt.sibling=Ct,gt=Ct,at=Kt}if(it===Ee.length)return _(Te,at),Dt&&Ia(Te,it),Qe;if(at===null){for(;it<Ee.length;it++)at=Ue(Te,Ee[it],ze),at!==null&&(_e=I(at,_e,it),gt===null?Qe=at:gt.sibling=at,gt=at);return Dt&&Ia(Te,it),Qe}for(at=T(at);it<Ee.length;it++)Kt=He(at,Te,it,Ee[it],ze),Kt!==null&&(s&&Kt.alternate!==null&&at.delete(Kt.key===null?it:Kt.key),_e=I(Kt,_e,it),gt===null?Qe=Kt:gt.sibling=Kt,gt=Kt);return s&&at.forEach(function(Ma){return h(Te,Ma)}),Dt&&Ia(Te,it),Qe}function ot(Te,_e,Ee,ze){if(Ee==null)throw Error(u(151));for(var Qe=null,gt=null,at=_e,it=_e=0,Kt=null,Ct=Ee.next();at!==null&&!Ct.done;it++,Ct=Ee.next()){at.index>it?(Kt=at,at=null):Kt=at.sibling;var Ma=Ae(Te,at,Ct.value,ze);if(Ma===null){at===null&&(at=Kt);break}s&&at&&Ma.alternate===null&&h(Te,at),_e=I(Ma,_e,it),gt===null?Qe=Ma:gt.sibling=Ma,gt=Ma,at=Kt}if(Ct.done)return _(Te,at),Dt&&Ia(Te,it),Qe;if(at===null){for(;!Ct.done;it++,Ct=Ee.next())Ct=Ue(Te,Ct.value,ze),Ct!==null&&(_e=I(Ct,_e,it),gt===null?Qe=Ct:gt.sibling=Ct,gt=Ct);return Dt&&Ia(Te,it),Qe}for(at=T(at);!Ct.done;it++,Ct=Ee.next())Ct=He(at,Te,it,Ct.value,ze),Ct!==null&&(s&&Ct.alternate!==null&&at.delete(Ct.key===null?it:Ct.key),_e=I(Ct,_e,it),gt===null?Qe=Ct:gt.sibling=Ct,gt=Ct);return s&&at.forEach(function(Op){return h(Te,Op)}),Dt&&Ia(Te,it),Qe}function Rt(Te,_e,Ee,ze){if(typeof Ee=="object"&&Ee!==null&&Ee.type===a&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case t:e:{for(var Qe=Ee.key;_e!==null;){if(_e.key===Qe){if(Qe=Ee.type,Qe===a){if(_e.tag===7){_(Te,_e.sibling),ze=O(_e,Ee.props.children),ze.return=Te,Te=ze;break e}}else if(_e.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===x&&Hd(Qe)===_e.type){_(Te,_e.sibling),ze=O(_e,Ee.props),Yi(ze,Ee),ze.return=Te,Te=ze;break e}_(Te,_e);break}else h(Te,_e);_e=_e.sibling}Ee.type===a?(ze=Ga(Ee.props.children,Te.mode,ze,Ee.key),ze.return=Te,Te=ze):(ze=no(Ee.type,Ee.key,Ee.props,null,Te.mode,ze),Yi(ze,Ee),ze.return=Te,Te=ze)}return J(Te);case n:e:{for(Qe=Ee.key;_e!==null;){if(_e.key===Qe)if(_e.tag===4&&_e.stateNode.containerInfo===Ee.containerInfo&&_e.stateNode.implementation===Ee.implementation){_(Te,_e.sibling),ze=O(_e,Ee.children||[]),ze.return=Te,Te=ze;break e}else{_(Te,_e);break}else h(Te,_e);_e=_e.sibling}ze=Xl(Ee,Te.mode,ze),ze.return=Te,Te=ze}return J(Te);case x:return Qe=Ee._init,Ee=Qe(Ee._payload),Rt(Te,_e,Ee,ze)}if(y(Ee))return tt(Te,_e,Ee,ze);if(B(Ee)){if(Qe=B(Ee),typeof Qe!="function")throw Error(u(150));return Ee=Qe.call(Ee),ot(Te,_e,Ee,ze)}if(typeof Ee.then=="function")return Rt(Te,_e,Ir(Ee),ze);if(Ee.$$typeof===f)return Rt(Te,_e,Jr(Te,Ee),ze);Vr(Te,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint"?(Ee=""+Ee,_e!==null&&_e.tag===6?(_(Te,_e.sibling),ze=O(_e,Ee),ze.return=Te,Te=ze):(_(Te,_e),ze=Gl(Ee,Te.mode,ze),ze.return=Te,Te=ze),J(Te)):_(Te,_e)}return function(Te,_e,Ee,ze){try{ji=0;var Qe=Rt(Te,_e,Ee,ze);return ci=null,Qe}catch(at){if(at===Pi)throw at;var gt=An(29,at,null,Te.mode);return gt.lanes=ze,gt.return=Te,gt}finally{}}}var Ra=Od(!0),Ld=Od(!1),ui=$(null),Rr=$(0);function Nd(s,h){s=ra,G(Rr,s),G(ui,h),ra=s|h.baseLanes}function tl(){G(Rr,ra),G(ui,ui.current)}function nl(){ra=Rr.current,P(ui),P(Rr)}var En=$(null),Pn=null;function ca(s){var h=s.alternate;G(Yt,Yt.current&1),G(En,s),Pn===null&&(h===null||ui.current!==null||h.memoizedState!==null)&&(Pn=s)}function Bd(s){if(s.tag===22){if(G(Yt,Yt.current),G(En,s),Pn===null){var h=s.alternate;h!==null&&h.memoizedState!==null&&(Pn=s)}}else ua()}function ua(){G(Yt,Yt.current),G(En,En.current)}function Xn(s){P(En),Pn===s&&(Pn=null),P(Yt)}var Yt=$(0);function zr(s){for(var h=s;h!==null;){if(h.tag===13){var _=h.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break;for(;h.sibling===null;){if(h.return===null||h.return===s)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var _h=typeof AbortController<"u"?AbortController:function(){var s=[],h=this.signal={aborted:!1,addEventListener:function(_,T){s.push(T)}};this.abort=function(){h.aborted=!0,s.forEach(function(_){return _()})}},wh=We.unstable_scheduleCallback,Sh=We.unstable_NormalPriority,Wt={$$typeof:f,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function al(){return{controller:new _h,data:new Map,refCount:0}}function Wi(s){s.refCount--,s.refCount===0&&wh(Sh,function(){s.controller.abort()})}var qi=null,il=0,mi=0,hi=null;function Dh(s,h){if(qi===null){var _=qi=[];il=0,mi=cs(),hi={status:"pending",value:void 0,then:function(T){_.push(T)}}}return il++,h.then(Id,Id),h}function Id(){if(--il===0&&qi!==null){hi!==null&&(hi.status="fulfilled");var s=qi;qi=null,mi=0,hi=null;for(var h=0;h<s.length;h++)(0,s[h])()}}function Ch(s,h){var _=[],T={status:"pending",value:null,reason:null,then:function(O){_.push(O)}};return s.then(function(){T.status="fulfilled",T.value=h;for(var O=0;O<_.length;O++)(0,_[O])(h)},function(O){for(T.status="rejected",T.reason=O,O=0;O<_.length;O++)(0,_[O])(void 0)}),T}var Vd=z.S;z.S=function(s,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&Dh(s,h),Vd!==null&&Vd(s,h)};var za=$(null);function rl(){var s=za.current;return s!==null?s:kt.pooledCache}function Fr(s,h){h===null?G(za,za.current):G(za,h.pool)}function Rd(){var s=rl();return s===null?null:{parent:Wt._currentValue,pool:s}}var ma=0,pt=null,Et=null,Ft=null,Pr=!1,pi=!1,Fa=!1,Ur=0,Gi=0,fi=null,Th=0;function zt(){throw Error(u(321))}function ol(s,h){if(h===null)return!1;for(var _=0;_<h.length&&_<s.length;_++)if(!pn(s[_],h[_]))return!1;return!0}function ll(s,h,_,T,O,I){return ma=I,pt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,z.H=s===null||s.memoizedState===null?Pa:ha,Fa=!1,I=_(T,O),Fa=!1,pi&&(I=Fd(h,_,T,O)),zd(s),I}function zd(s){z.H=Un;var h=Et!==null&&Et.next!==null;if(ma=0,Ft=Et=pt=null,Pr=!1,Gi=0,fi=null,h)throw Error(u(300));s===null||Xt||(s=s.dependencies,s!==null&&Qr(s)&&(Xt=!0))}function Fd(s,h,_,T){pt=s;var O=0;do{if(pi&&(fi=null),Gi=0,pi=!1,25<=O)throw Error(u(301));if(O+=1,Ft=Et=null,s.updateQueue!=null){var I=s.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}z.H=Ua,I=h(_,T)}while(pi);return I}function Eh(){var s=z.H,h=s.useState()[0];return h=typeof h.then=="function"?Xi(h):h,s=s.useState()[0],(Et!==null?Et.memoizedState:null)!==s&&(pt.flags|=1024),h}function sl(){var s=Ur!==0;return Ur=0,s}function dl(s,h,_){h.updateQueue=s.updateQueue,h.flags&=-2053,s.lanes&=~_}function cl(s){if(Pr){for(s=s.memoizedState;s!==null;){var h=s.queue;h!==null&&(h.pending=null),s=s.next}Pr=!1}ma=0,Ft=Et=pt=null,pi=!1,Gi=Ur=0,fi=null}function hn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?pt.memoizedState=Ft=s:Ft=Ft.next=s,Ft}function Pt(){if(Et===null){var s=pt.alternate;s=s!==null?s.memoizedState:null}else s=Et.next;var h=Ft===null?pt.memoizedState:Ft.next;if(h!==null)Ft=h,Et=s;else{if(s===null)throw pt.alternate===null?Error(u(467)):Error(u(310));Et=s,s={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Ft===null?pt.memoizedState=Ft=s:Ft=Ft.next=s}return Ft}var jr;jr=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Xi(s){var h=Gi;return Gi+=1,fi===null&&(fi=[]),s=kd(fi,s,h),h=pt,(Ft===null?h.memoizedState:Ft.next)===null&&(h=h.alternate,z.H=h===null||h.memoizedState===null?Pa:ha),s}function Yr(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Xi(s);if(s.$$typeof===f)return ln(s)}throw Error(u(438,String(s)))}function ul(s){var h=null,_=pt.updateQueue;if(_!==null&&(h=_.memoCache),h==null){var T=pt.alternate;T!==null&&(T=T.updateQueue,T!==null&&(T=T.memoCache,T!=null&&(h={data:T.data.map(function(O){return O.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),_===null&&(_=jr(),pt.updateQueue=_),_.memoCache=h,_=h.data[h.index],_===void 0)for(_=h.data[h.index]=Array(s),T=0;T<s;T++)_[T]=A;return h.index++,_}function Zn(s,h){return typeof h=="function"?h(s):h}function Wr(s){var h=Pt();return ml(h,Et,s)}function ml(s,h,_){var T=s.queue;if(T===null)throw Error(u(311));T.lastRenderedReducer=_;var O=s.baseQueue,I=T.pending;if(I!==null){if(O!==null){var J=O.next;O.next=I.next,I.next=J}h.baseQueue=O=I,T.pending=null}if(I=s.baseState,O===null)s.memoizedState=I;else{h=O.next;var le=J=null,he=null,De=h,Oe=!1;do{var Ue=De.lane&-536870913;if(Ue!==De.lane?(wt&Ue)===Ue:(ma&Ue)===Ue){var Ae=De.revertLane;if(Ae===0)he!==null&&(he=he.next={lane:0,revertLane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),Ue===mi&&(Oe=!0);else if((ma&Ae)===Ae){De=De.next,Ae===mi&&(Oe=!0);continue}else Ue={lane:0,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},he===null?(le=he=Ue,J=I):he=he.next=Ue,pt.lanes|=Ae,Sa|=Ae;Ue=De.action,Fa&&_(I,Ue),I=De.hasEagerState?De.eagerState:_(I,Ue)}else Ae={lane:Ue,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},he===null?(le=he=Ae,J=I):he=he.next=Ae,pt.lanes|=Ue,Sa|=Ue;De=De.next}while(De!==null&&De!==h);if(he===null?J=I:he.next=le,!pn(I,s.memoizedState)&&(Xt=!0,Oe&&(_=hi,_!==null)))throw _;s.memoizedState=I,s.baseState=J,s.baseQueue=he,T.lastRenderedState=I}return O===null&&(T.lanes=0),[s.memoizedState,T.dispatch]}function hl(s){var h=Pt(),_=h.queue;if(_===null)throw Error(u(311));_.lastRenderedReducer=s;var T=_.dispatch,O=_.pending,I=h.memoizedState;if(O!==null){_.pending=null;var J=O=O.next;do I=s(I,J.action),J=J.next;while(J!==O);pn(I,h.memoizedState)||(Xt=!0),h.memoizedState=I,h.baseQueue===null&&(h.baseState=I),_.lastRenderedState=I}return[I,T]}function Pd(s,h,_){var T=pt,O=Pt(),I=Dt;if(I){if(_===void 0)throw Error(u(407));_=_()}else _=h();var J=!pn((Et||O).memoizedState,_);if(J&&(O.memoizedState=_,Xt=!0),O=O.queue,gl(Yd.bind(null,T,O,s),[s]),O.getSnapshot!==h||J||Ft!==null&&Ft.memoizedState.tag&1){if(T.flags|=2048,gi(9,jd.bind(null,T,O,_,h),{destroy:void 0},null),kt===null)throw Error(u(349));I||ma&60||Ud(T,h,_)}return _}function Ud(s,h,_){s.flags|=16384,s={getSnapshot:h,value:_},h=pt.updateQueue,h===null?(h=jr(),pt.updateQueue=h,h.stores=[s]):(_=h.stores,_===null?h.stores=[s]:_.push(s))}function jd(s,h,_,T){h.value=_,h.getSnapshot=T,Wd(h)&&qd(s)}function Yd(s,h,_){return _(function(){Wd(h)&&qd(s)})}function Wd(s){var h=s.getSnapshot;s=s.value;try{var _=h();return!pn(s,_)}catch{return!0}}function qd(s){var h=da(s,2);h!==null&&un(h,s,2)}function pl(s){var h=hn();if(typeof s=="function"){var _=s;if(s=_(),Fa){qe(!0);try{_()}finally{qe(!1)}}}return h.memoizedState=h.baseState=s,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:s},h}function Gd(s,h,_,T){return s.baseState=_,ml(s,Et,typeof T=="function"?T:Zn)}function xh(s,h,_,T,O){if(Xr(s))throw Error(u(485));if(s=h.action,s!==null){var I={payload:O,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){I.listeners.push(J)}};z.T!==null?_(!0):I.isTransition=!1,T(I),_=h.pending,_===null?(I.next=h.pending=I,Xd(h,I)):(I.next=_.next,h.pending=_.next=I)}}function Xd(s,h){var _=h.action,T=h.payload,O=s.state;if(h.isTransition){var I=z.T,J={};z.T=J;try{var le=_(O,T),he=z.S;he!==null&&he(J,le),Zd(s,h,le)}catch(De){fl(s,h,De)}finally{z.T=I}}else try{I=_(O,T),Zd(s,h,I)}catch(De){fl(s,h,De)}}function Zd(s,h,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(T){Kd(s,h,T)},function(T){return fl(s,h,T)}):Kd(s,h,_)}function Kd(s,h,_){h.status="fulfilled",h.value=_,Qd(h),s.state=_,h=s.pending,h!==null&&(_=h.next,_===h?s.pending=null:(_=_.next,h.next=_,Xd(s,_)))}function fl(s,h,_){var T=s.pending;if(s.pending=null,T!==null){T=T.next;do h.status="rejected",h.reason=_,Qd(h),h=h.next;while(h!==T)}s.action=null}function Qd(s){s=s.listeners;for(var h=0;h<s.length;h++)(0,s[h])()}function Jd(s,h){return h}function ec(s,h){if(Dt){var _=kt.formState;if(_!==null){e:{var T=pt;if(Dt){if(tn){t:{for(var O=tn,I=Fn;O.nodeType!==8;){if(!I){O=null;break t}if(O=zn(O.nextSibling),O===null){O=null;break t}}I=O.data,O=I==="F!"||I==="F"?O:null}if(O){tn=zn(O.nextSibling),T=O.data==="F!";break e}}Va(T)}T=!1}T&&(h=_[0])}}return _=hn(),_.memoizedState=_.baseState=h,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jd,lastRenderedState:h},_.queue=T,_=vc.bind(null,pt,T),T.dispatch=_,T=pl(!1),I=wl.bind(null,pt,!1,T.queue),T=hn(),O={state:h,dispatch:null,action:s,pending:null},T.queue=O,_=xh.bind(null,pt,O,I,_),O.dispatch=_,T.memoizedState=s,[h,_,!1]}function tc(s){var h=Pt();return nc(h,Et,s)}function nc(s,h,_){h=ml(s,h,Jd)[0],s=Wr(Zn)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?Xi(h):h;var T=Pt(),O=T.queue,I=O.dispatch;return _!==T.memoizedState&&(pt.flags|=2048,gi(9,Mh.bind(null,O,_),{destroy:void 0},null)),[h,I,s]}function Mh(s,h){s.action=h}function ac(s){var h=Pt(),_=Et;if(_!==null)return nc(h,_,s);Pt(),h=h.memoizedState,_=Pt();var T=_.queue.dispatch;return _.memoizedState=s,[h,T,!1]}function gi(s,h,_,T){return s={tag:s,create:h,inst:_,deps:T,next:null},h=pt.updateQueue,h===null&&(h=jr(),pt.updateQueue=h),_=h.lastEffect,_===null?h.lastEffect=s.next=s:(T=_.next,_.next=s,s.next=T,h.lastEffect=s),s}function ic(){return Pt().memoizedState}function qr(s,h,_,T){var O=hn();pt.flags|=s,O.memoizedState=gi(1|h,_,{destroy:void 0},T===void 0?null:T)}function Gr(s,h,_,T){var O=Pt();T=T===void 0?null:T;var I=O.memoizedState.inst;Et!==null&&T!==null&&ol(T,Et.memoizedState.deps)?O.memoizedState=gi(h,_,I,T):(pt.flags|=s,O.memoizedState=gi(1|h,_,I,T))}function rc(s,h){qr(8390656,8,s,h)}function gl(s,h){Gr(2048,8,s,h)}function oc(s,h){return Gr(4,2,s,h)}function lc(s,h){return Gr(4,4,s,h)}function sc(s,h){if(typeof h=="function"){s=s();var _=h(s);return function(){typeof _=="function"?_():h(null)}}if(h!=null)return s=s(),h.current=s,function(){h.current=null}}function dc(s,h,_){_=_!=null?_.concat([s]):null,Gr(4,4,sc.bind(null,h,s),_)}function yl(){}function cc(s,h){var _=Pt();h=h===void 0?null:h;var T=_.memoizedState;return h!==null&&ol(h,T[1])?T[0]:(_.memoizedState=[s,h],s)}function uc(s,h){var _=Pt();h=h===void 0?null:h;var T=_.memoizedState;if(h!==null&&ol(h,T[1]))return T[0];if(T=s(),Fa){qe(!0);try{s()}finally{qe(!1)}}return _.memoizedState=[T,h],T}function vl(s,h,_){return _===void 0||ma&1073741824?s.memoizedState=h:(s.memoizedState=_,s=hu(),pt.lanes|=s,Sa|=s,_)}function mc(s,h,_,T){return pn(_,h)?_:ui.current!==null?(s=vl(s,_,T),pn(s,h)||(Xt=!0),s):ma&42?(s=hu(),pt.lanes|=s,Sa|=s,h):(Xt=!0,s.memoizedState=_)}function hc(s,h,_,T,O){var I=b.p;b.p=I!==0&&8>I?I:8;var J=z.T,le={};z.T=le,wl(s,!1,h,_);try{var he=O(),De=z.S;if(De!==null&&De(le,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var Oe=Ch(he,T);Zi(s,h,Oe,vn(s))}else Zi(s,h,T,vn(s))}catch(Ue){Zi(s,h,{then:function(){},status:"rejected",reason:Ue},vn())}finally{b.p=I,z.T=J}}function Ah(){}function bl(s,h,_,T){if(s.tag!==5)throw Error(u(476));var O=pc(s).queue;hc(s,O,h,S,_===null?Ah:function(){return fc(s),_(T)})}function pc(s){var h=s.memoizedState;if(h!==null)return h;h={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:S},next:null};var _={};return h.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:_},next:null},s.memoizedState=h,s=s.alternate,s!==null&&(s.memoizedState=h),h}function fc(s){var h=pc(s).next.queue;Zi(s,h,{},vn())}function _l(){return ln(gr)}function gc(){return Pt().memoizedState}function yc(){return Pt().memoizedState}function kh(s){for(var h=s.return;h!==null;){switch(h.tag){case 24:case 3:var _=vn();s=ga(_);var T=ya(h,s,_);T!==null&&(un(T,h,_),Ji(T,h,_)),h={cache:al()},s.payload=h;return}h=h.return}}function $h(s,h,_){var T=vn();_={lane:T,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null},Xr(s)?bc(h,_):(_=Zo(s,h,_,T),_!==null&&(un(_,s,T),_c(_,h,T)))}function vc(s,h,_){var T=vn();Zi(s,h,_,T)}function Zi(s,h,_,T){var O={lane:T,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null};if(Xr(s))bc(h,O);else{var I=s.alternate;if(s.lanes===0&&(I===null||I.lanes===0)&&(I=h.lastRenderedReducer,I!==null))try{var J=h.lastRenderedState,le=I(J,_);if(O.hasEagerState=!0,O.eagerState=le,pn(le,J))return Hr(s,h,O,0),kt===null&&$r(),!1}catch{}finally{}if(_=Zo(s,h,O,T),_!==null)return un(_,s,T),_c(_,h,T),!0}return!1}function wl(s,h,_,T){if(T={lane:2,revertLane:cs(),action:T,hasEagerState:!1,eagerState:null,next:null},Xr(s)){if(h)throw Error(u(479))}else h=Zo(s,_,T,2),h!==null&&un(h,s,2)}function Xr(s){var h=s.alternate;return s===pt||h!==null&&h===pt}function bc(s,h){pi=Pr=!0;var _=s.pending;_===null?h.next=h:(h.next=_.next,_.next=h),s.pending=h}function _c(s,h,_){if(_&4194176){var T=h.lanes;T&=s.pendingLanes,_|=T,h.lanes=_,ue(s,_)}}var Un={readContext:ln,use:Yr,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt};Un.useCacheRefresh=zt,Un.useMemoCache=zt,Un.useHostTransitionStatus=zt,Un.useFormState=zt,Un.useActionState=zt,Un.useOptimistic=zt;var Pa={readContext:ln,use:Yr,useCallback:function(s,h){return hn().memoizedState=[s,h===void 0?null:h],s},useContext:ln,useEffect:rc,useImperativeHandle:function(s,h,_){_=_!=null?_.concat([s]):null,qr(4194308,4,sc.bind(null,h,s),_)},useLayoutEffect:function(s,h){return qr(4194308,4,s,h)},useInsertionEffect:function(s,h){qr(4,2,s,h)},useMemo:function(s,h){var _=hn();h=h===void 0?null:h;var T=s();if(Fa){qe(!0);try{s()}finally{qe(!1)}}return _.memoizedState=[T,h],T},useReducer:function(s,h,_){var T=hn();if(_!==void 0){var O=_(h);if(Fa){qe(!0);try{_(h)}finally{qe(!1)}}}else O=h;return T.memoizedState=T.baseState=O,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:O},T.queue=s,s=s.dispatch=$h.bind(null,pt,s),[T.memoizedState,s]},useRef:function(s){var h=hn();return s={current:s},h.memoizedState=s},useState:function(s){s=pl(s);var h=s.queue,_=vc.bind(null,pt,h);return h.dispatch=_,[s.memoizedState,_]},useDebugValue:yl,useDeferredValue:function(s,h){var _=hn();return vl(_,s,h)},useTransition:function(){var s=pl(!1);return s=hc.bind(null,pt,s.queue,!0,!1),hn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,h,_){var T=pt,O=hn();if(Dt){if(_===void 0)throw Error(u(407));_=_()}else{if(_=h(),kt===null)throw Error(u(349));wt&60||Ud(T,h,_)}O.memoizedState=_;var I={value:_,getSnapshot:h};return O.queue=I,rc(Yd.bind(null,T,I,s),[s]),T.flags|=2048,gi(9,jd.bind(null,T,I,_,h),{destroy:void 0},null),_},useId:function(){var s=hn(),h=kt.identifierPrefix;if(Dt){var _=Gn,T=qn;_=(T&~(1<<32-Ge(T)-1)).toString(32)+_,h=":"+h+"R"+_,_=Ur++,0<_&&(h+="H"+_.toString(32)),h+=":"}else _=Th++,h=":"+h+"r"+_.toString(32)+":";return s.memoizedState=h},useCacheRefresh:function(){return hn().memoizedState=kh.bind(null,pt)}};Pa.useMemoCache=ul,Pa.useHostTransitionStatus=_l,Pa.useFormState=ec,Pa.useActionState=ec,Pa.useOptimistic=function(s){var h=hn();h.memoizedState=h.baseState=s;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=_,h=wl.bind(null,pt,!0,_),_.dispatch=h,[s,h]};var ha={readContext:ln,use:Yr,useCallback:cc,useContext:ln,useEffect:gl,useImperativeHandle:dc,useInsertionEffect:oc,useLayoutEffect:lc,useMemo:uc,useReducer:Wr,useRef:ic,useState:function(){return Wr(Zn)},useDebugValue:yl,useDeferredValue:function(s,h){var _=Pt();return mc(_,Et.memoizedState,s,h)},useTransition:function(){var s=Wr(Zn)[0],h=Pt().memoizedState;return[typeof s=="boolean"?s:Xi(s),h]},useSyncExternalStore:Pd,useId:gc};ha.useCacheRefresh=yc,ha.useMemoCache=ul,ha.useHostTransitionStatus=_l,ha.useFormState=tc,ha.useActionState=tc,ha.useOptimistic=function(s,h){var _=Pt();return Gd(_,Et,s,h)};var Ua={readContext:ln,use:Yr,useCallback:cc,useContext:ln,useEffect:gl,useImperativeHandle:dc,useInsertionEffect:oc,useLayoutEffect:lc,useMemo:uc,useReducer:hl,useRef:ic,useState:function(){return hl(Zn)},useDebugValue:yl,useDeferredValue:function(s,h){var _=Pt();return Et===null?vl(_,s,h):mc(_,Et.memoizedState,s,h)},useTransition:function(){var s=hl(Zn)[0],h=Pt().memoizedState;return[typeof s=="boolean"?s:Xi(s),h]},useSyncExternalStore:Pd,useId:gc};Ua.useCacheRefresh=yc,Ua.useMemoCache=ul,Ua.useHostTransitionStatus=_l,Ua.useFormState=ac,Ua.useActionState=ac,Ua.useOptimistic=function(s,h){var _=Pt();return Et!==null?Gd(_,Et,s,h):(_.baseState=s,[s,_.queue.dispatch])};function Sl(s,h,_,T){h=s.memoizedState,_=_(T,h),_=_==null?h:N({},h,_),s.memoizedState=_,s.lanes===0&&(s.updateQueue.baseState=_)}var Dl={isMounted:function(s){return(s=s._reactInternals)?te(s)===s:!1},enqueueSetState:function(s,h,_){s=s._reactInternals;var T=vn(),O=ga(T);O.payload=h,_!=null&&(O.callback=_),h=ya(s,O,T),h!==null&&(un(h,s,T),Ji(h,s,T))},enqueueReplaceState:function(s,h,_){s=s._reactInternals;var T=vn(),O=ga(T);O.tag=1,O.payload=h,_!=null&&(O.callback=_),h=ya(s,O,T),h!==null&&(un(h,s,T),Ji(h,s,T))},enqueueForceUpdate:function(s,h){s=s._reactInternals;var _=vn(),T=ga(_);T.tag=2,h!=null&&(T.callback=h),h=ya(s,T,_),h!==null&&(un(h,s,_),Ji(h,s,_))}};function wc(s,h,_,T,O,I,J){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(T,I,J):h.prototype&&h.prototype.isPureReactComponent?!Ii(_,T)||!Ii(O,I):!0}function Sc(s,h,_,T){s=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(_,T),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(_,T),h.state!==s&&Dl.enqueueReplaceState(h,h.state,null)}function ja(s,h){var _=h;if("ref"in h){_={};for(var T in h)T!=="ref"&&(_[T]=h[T])}if(s=s.defaultProps){_===h&&(_=N({},_));for(var O in s)_[O]===void 0&&(_[O]=s[O])}return _}var Zr=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Dc(s){Zr(s)}function Cc(s){console.error(s)}function Tc(s){Zr(s)}function Kr(s,h){try{var _=s.onUncaughtError;_(h.value,{componentStack:h.stack})}catch(T){setTimeout(function(){throw T})}}function Ec(s,h,_){try{var T=s.onCaughtError;T(_.value,{componentStack:_.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function Cl(s,h,_){return _=ga(_),_.tag=3,_.payload={element:null},_.callback=function(){Kr(s,h)},_}function xc(s){return s=ga(s),s.tag=3,s}function Mc(s,h,_,T){var O=_.type.getDerivedStateFromError;if(typeof O=="function"){var I=T.value;s.payload=function(){return O(I)},s.callback=function(){Ec(h,_,T)}}var J=_.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(s.callback=function(){Ec(h,_,T),typeof O!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var le=T.stack;this.componentDidCatch(T.value,{componentStack:le!==null?le:""})})}function Hh(s,h,_,T,O){if(_.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){if(h=_.alternate,h!==null&&Qi(h,_,O,!0),_=En.current,_!==null){switch(_.tag){case 13:return Pn===null?rs():_.alternate===null&&Vt===0&&(Vt=3),_.flags&=-257,_.flags|=65536,_.lanes=O,T===el?_.flags|=16384:(h=_.updateQueue,h===null?_.updateQueue=new Set([T]):h.add(T),ls(s,T,O)),!1;case 22:return _.flags|=65536,T===el?_.flags|=16384:(h=_.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([T])},_.updateQueue=h):(_=h.retryQueue,_===null?h.retryQueue=new Set([T]):_.add(T)),ls(s,T,O)),!1}throw Error(u(435,_.tag))}return ls(s,T,O),rs(),!1}if(Dt)return h=En.current,h!==null?(!(h.flags&65536)&&(h.flags|=256),h.flags|=65536,h.lanes=O,T!==Jo&&(s=Error(u(422),{cause:T}),Fi(Dn(s,_)))):(T!==Jo&&(h=Error(u(423),{cause:T}),Fi(Dn(h,_))),s=s.current.alternate,s.flags|=65536,O&=-O,s.lanes|=O,T=Dn(T,_),O=Cl(s.stateNode,T,O),Rl(s,O),Vt!==4&&(Vt=2)),!1;var I=Error(u(520),{cause:T});if(I=Dn(I,_),lr===null?lr=[I]:lr.push(I),Vt!==4&&(Vt=2),h===null)return!0;T=Dn(T,_),_=h;do{switch(_.tag){case 3:return _.flags|=65536,s=O&-O,_.lanes|=s,s=Cl(_.stateNode,T,s),Rl(_,s),!1;case 1:if(h=_.type,I=_.stateNode,(_.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Da===null||!Da.has(I))))return _.flags|=65536,O&=-O,_.lanes|=O,O=xc(O),Mc(O,s,_,T),Rl(_,O),!1}_=_.return}while(_!==null);return!1}var Ac=Error(u(461)),Xt=!1;function nn(s,h,_,T){h.child=s===null?Ld(h,null,_,T):Ra(h,s.child,_,T)}function kc(s,h,_,T,O){_=_.render;var I=h.ref;if("ref"in T){var J={};for(var le in T)le!=="ref"&&(J[le]=T[le])}else J=T;return Wa(h),T=ll(s,h,_,J,I,O),le=sl(),s!==null&&!Xt?(dl(s,h,O),Kn(s,h,O)):(Dt&&le&&Ko(h),h.flags|=1,nn(s,h,T,O),h.child)}function $c(s,h,_,T,O){if(s===null){var I=_.type;return typeof I=="function"&&!ql(I)&&I.defaultProps===void 0&&_.compare===null?(h.tag=15,h.type=I,Hc(s,h,I,T,O)):(s=no(_.type,null,T,h,h.mode,O),s.ref=h.ref,s.return=h,h.child=s)}if(I=s.child,!Ol(s,O)){var J=I.memoizedProps;if(_=_.compare,_=_!==null?_:Ii,_(J,T)&&s.ref===h.ref)return Kn(s,h,O)}return h.flags|=1,s=wa(I,T),s.ref=h.ref,s.return=h,h.child=s}function Hc(s,h,_,T,O){if(s!==null){var I=s.memoizedProps;if(Ii(I,T)&&s.ref===h.ref)if(Xt=!1,h.pendingProps=T=I,Ol(s,O))s.flags&131072&&(Xt=!0);else return h.lanes=s.lanes,Kn(s,h,O)}return Tl(s,h,_,T,O)}function Oc(s,h,_){var T=h.pendingProps,O=T.children,I=(h.stateNode._pendingVisibility&2)!==0,J=s!==null?s.memoizedState:null;if(Ki(s,h),T.mode==="hidden"||I){if(h.flags&128){if(T=J!==null?J.baseLanes|_:_,s!==null){for(O=h.child=s.child,I=0;O!==null;)I=I|O.lanes|O.childLanes,O=O.sibling;h.childLanes=I&~T}else h.childLanes=0,h.child=null;return Lc(s,h,T,_)}if(_&536870912)h.memoizedState={baseLanes:0,cachePool:null},s!==null&&Fr(h,J!==null?J.cachePool:null),J!==null?Nd(h,J):tl(),Bd(h);else return h.lanes=h.childLanes=536870912,Lc(s,h,J!==null?J.baseLanes|_:_,_)}else J!==null?(Fr(h,J.cachePool),Nd(h,J),ua(),h.memoizedState=null):(s!==null&&Fr(h,null),tl(),ua());return nn(s,h,O,_),h.child}function Lc(s,h,_,T){var O=rl();return O=O===null?null:{parent:Wt._currentValue,pool:O},h.memoizedState={baseLanes:_,cachePool:O},s!==null&&Fr(h,null),tl(),Bd(h),s!==null&&Qi(s,h,T,!0),null}function Ki(s,h){var _=h.ref;if(_===null)s!==null&&s.ref!==null&&(h.flags|=2097664);else{if(typeof _!="function"&&typeof _!="object")throw Error(u(284));(s===null||s.ref!==_)&&(h.flags|=2097664)}}function Tl(s,h,_,T,O){return Wa(h),_=ll(s,h,_,T,void 0,O),T=sl(),s!==null&&!Xt?(dl(s,h,O),Kn(s,h,O)):(Dt&&T&&Ko(h),h.flags|=1,nn(s,h,_,O),h.child)}function Nc(s,h,_,T,O,I){return Wa(h),h.updateQueue=null,_=Fd(h,T,_,O),zd(s),T=sl(),s!==null&&!Xt?(dl(s,h,I),Kn(s,h,I)):(Dt&&T&&Ko(h),h.flags|=1,nn(s,h,_,I),h.child)}function Bc(s,h,_,T,O){if(Wa(h),h.stateNode===null){var I=li,J=_.contextType;typeof J=="object"&&J!==null&&(I=ln(J)),I=new _(T,I),h.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=Dl,h.stateNode=I,I._reactInternals=h,I=h.stateNode,I.props=T,I.state=h.memoizedState,I.refs={},Il(h),J=_.contextType,I.context=typeof J=="object"&&J!==null?ln(J):li,I.state=h.memoizedState,J=_.getDerivedStateFromProps,typeof J=="function"&&(Sl(h,_,J,T),I.state=h.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(J=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),J!==I.state&&Dl.enqueueReplaceState(I,I.state,null),tr(h,T,I,O),er(),I.state=h.memoizedState),typeof I.componentDidMount=="function"&&(h.flags|=4194308),T=!0}else if(s===null){I=h.stateNode;var le=h.memoizedProps,he=ja(_,le);I.props=he;var De=I.context,Oe=_.contextType;J=li,typeof Oe=="object"&&Oe!==null&&(J=ln(Oe));var Ue=_.getDerivedStateFromProps;Oe=typeof Ue=="function"||typeof I.getSnapshotBeforeUpdate=="function",le=h.pendingProps!==le,Oe||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(le||De!==J)&&Sc(h,I,T,J),fa=!1;var Ae=h.memoizedState;I.state=Ae,tr(h,T,I,O),er(),De=h.memoizedState,le||Ae!==De||fa?(typeof Ue=="function"&&(Sl(h,_,Ue,T),De=h.memoizedState),(he=fa||wc(h,_,he,T,Ae,De,J))?(Oe||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(h.flags|=4194308)):(typeof I.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=T,h.memoizedState=De),I.props=T,I.state=De,I.context=J,T=he):(typeof I.componentDidMount=="function"&&(h.flags|=4194308),T=!1)}else{I=h.stateNode,Vl(s,h),J=h.memoizedProps,Oe=ja(_,J),I.props=Oe,Ue=h.pendingProps,Ae=I.context,De=_.contextType,he=li,typeof De=="object"&&De!==null&&(he=ln(De)),le=_.getDerivedStateFromProps,(De=typeof le=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(J!==Ue||Ae!==he)&&Sc(h,I,T,he),fa=!1,Ae=h.memoizedState,I.state=Ae,tr(h,T,I,O),er();var He=h.memoizedState;J!==Ue||Ae!==He||fa||s!==null&&s.dependencies!==null&&Qr(s.dependencies)?(typeof le=="function"&&(Sl(h,_,le,T),He=h.memoizedState),(Oe=fa||wc(h,_,Oe,T,Ae,He,he)||s!==null&&s.dependencies!==null&&Qr(s.dependencies))?(De||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(T,He,he),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(T,He,he)),typeof I.componentDidUpdate=="function"&&(h.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof I.componentDidUpdate!="function"||J===s.memoizedProps&&Ae===s.memoizedState||(h.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===s.memoizedProps&&Ae===s.memoizedState||(h.flags|=1024),h.memoizedProps=T,h.memoizedState=He),I.props=T,I.state=He,I.context=he,T=Oe):(typeof I.componentDidUpdate!="function"||J===s.memoizedProps&&Ae===s.memoizedState||(h.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===s.memoizedProps&&Ae===s.memoizedState||(h.flags|=1024),T=!1)}return I=T,Ki(s,h),T=(h.flags&128)!==0,I||T?(I=h.stateNode,_=T&&typeof _.getDerivedStateFromError!="function"?null:I.render(),h.flags|=1,s!==null&&T?(h.child=Ra(h,s.child,null,O),h.child=Ra(h,null,_,O)):nn(s,h,_,O),h.memoizedState=I.state,s=h.child):s=Kn(s,h,O),s}function Ic(s,h,_,T){return zi(),h.flags|=256,nn(s,h,_,T),h.child}var El={dehydrated:null,treeContext:null,retryLane:0};function xl(s){return{baseLanes:s,cachePool:Rd()}}function Ml(s,h,_){return s=s!==null?s.childLanes&~_:0,h&&(s|=kn),s}function Vc(s,h,_){var T=h.pendingProps,O=!1,I=(h.flags&128)!==0,J;if((J=I)||(J=s!==null&&s.memoizedState===null?!1:(Yt.current&2)!==0),J&&(O=!0,h.flags&=-129),J=(h.flags&32)!==0,h.flags&=-33,s===null){if(Dt){if(O?ca(h):ua(),Dt){var le=tn,he;if(he=le){e:{for(he=le,le=Fn;he.nodeType!==8;){if(!le){le=null;break e}if(he=zn(he.nextSibling),he===null){le=null;break e}}le=he}le!==null?(h.memoizedState={dehydrated:le,treeContext:Ba!==null?{id:qn,overflow:Gn}:null,retryLane:536870912},he=An(18,null,null,0),he.stateNode=le,he.return=h,h.child=he,cn=h,tn=null,he=!0):he=!1}he||Va(h)}if(le=h.memoizedState,le!==null&&(le=le.dehydrated,le!==null))return le.data==="$!"?h.lanes=16:h.lanes=536870912,null;Xn(h)}return le=T.children,T=T.fallback,O?(ua(),O=h.mode,le=kl({mode:"hidden",children:le},O),T=Ga(T,O,_,null),le.return=h,T.return=h,le.sibling=T,h.child=le,O=h.child,O.memoizedState=xl(_),O.childLanes=Ml(s,J,_),h.memoizedState=El,T):(ca(h),Al(h,le))}if(he=s.memoizedState,he!==null&&(le=he.dehydrated,le!==null)){if(I)h.flags&256?(ca(h),h.flags&=-257,h=$l(s,h,_)):h.memoizedState!==null?(ua(),h.child=s.child,h.flags|=128,h=null):(ua(),O=T.fallback,le=h.mode,T=kl({mode:"visible",children:T.children},le),O=Ga(O,le,_,null),O.flags|=2,T.return=h,O.return=h,T.sibling=O,h.child=T,Ra(h,s.child,null,_),T=h.child,T.memoizedState=xl(_),T.childLanes=Ml(s,J,_),h.memoizedState=El,h=O);else if(ca(h),le.data==="$!"){if(J=le.nextSibling&&le.nextSibling.dataset,J)var De=J.dgst;J=De,T=Error(u(419)),T.stack="",T.digest=J,Fi({value:T,source:null,stack:null}),h=$l(s,h,_)}else if(Xt||Qi(s,h,_,!1),J=(_&s.childLanes)!==0,Xt||J){if(J=kt,J!==null){if(T=_&-_,T&42)T=1;else switch(T){case 2:T=1;break;case 8:T=4;break;case 32:T=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:T=64;break;case 268435456:T=134217728;break;default:T=0}if(T=T&(J.suspendedLanes|_)?0:T,T!==0&&T!==he.retryLane)throw he.retryLane=T,da(s,T),un(J,s,T),Ac}le.data==="$?"||rs(),h=$l(s,h,_)}else le.data==="$?"?(h.flags|=128,h.child=s.child,h=qh.bind(null,s),le._reactRetry=h,h=null):(s=he.treeContext,tn=zn(le.nextSibling),cn=h,Dt=!0,Vn=null,Fn=!1,s!==null&&(Cn[Tn++]=qn,Cn[Tn++]=Gn,Cn[Tn++]=Ba,qn=s.id,Gn=s.overflow,Ba=h),h=Al(h,T.children),h.flags|=4096);return h}return O?(ua(),O=T.fallback,le=h.mode,he=s.child,De=he.sibling,T=wa(he,{mode:"hidden",children:T.children}),T.subtreeFlags=he.subtreeFlags&31457280,De!==null?O=wa(De,O):(O=Ga(O,le,_,null),O.flags|=2),O.return=h,T.return=h,T.sibling=O,h.child=T,T=O,O=h.child,le=s.child.memoizedState,le===null?le=xl(_):(he=le.cachePool,he!==null?(De=Wt._currentValue,he=he.parent!==De?{parent:De,pool:De}:he):he=Rd(),le={baseLanes:le.baseLanes|_,cachePool:he}),O.memoizedState=le,O.childLanes=Ml(s,J,_),h.memoizedState=El,T):(ca(h),_=s.child,s=_.sibling,_=wa(_,{mode:"visible",children:T.children}),_.return=h,_.sibling=null,s!==null&&(J=h.deletions,J===null?(h.deletions=[s],h.flags|=16):J.push(s)),h.child=_,h.memoizedState=null,_)}function Al(s,h){return h=kl({mode:"visible",children:h},s.mode),h.return=s,s.child=h}function kl(s,h){return cu(s,h,0,null)}function $l(s,h,_){return Ra(h,s.child,null,_),s=Al(h,h.pendingProps.children),s.flags|=2,h.memoizedState=null,s}function Rc(s,h,_){s.lanes|=h;var T=s.alternate;T!==null&&(T.lanes|=h),Nl(s.return,h,_)}function Hl(s,h,_,T,O){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:T,tail:_,tailMode:O}:(I.isBackwards=h,I.rendering=null,I.renderingStartTime=0,I.last=T,I.tail=_,I.tailMode=O)}function zc(s,h,_){var T=h.pendingProps,O=T.revealOrder,I=T.tail;if(nn(s,h,T.children,_),T=Yt.current,T&2)T=T&1|2,h.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=h.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Rc(s,_,h);else if(s.tag===19)Rc(s,_,h);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===h)break e;for(;s.sibling===null;){if(s.return===null||s.return===h)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}T&=1}switch(G(Yt,T),O){case"forwards":for(_=h.child,O=null;_!==null;)s=_.alternate,s!==null&&zr(s)===null&&(O=_),_=_.sibling;_=O,_===null?(O=h.child,h.child=null):(O=_.sibling,_.sibling=null),Hl(h,!1,O,_,I);break;case"backwards":for(_=null,O=h.child,h.child=null;O!==null;){if(s=O.alternate,s!==null&&zr(s)===null){h.child=O;break}s=O.sibling,O.sibling=_,_=O,O=s}Hl(h,!0,_,null,I);break;case"together":Hl(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Kn(s,h,_){if(s!==null&&(h.dependencies=s.dependencies),Sa|=h.lanes,!(_&h.childLanes))if(s!==null){if(Qi(s,h,_,!1),(_&h.childLanes)===0)return null}else return null;if(s!==null&&h.child!==s.child)throw Error(u(153));if(h.child!==null){for(s=h.child,_=wa(s,s.pendingProps),h.child=_,_.return=h;s.sibling!==null;)s=s.sibling,_=_.sibling=wa(s,s.pendingProps),_.return=h;_.sibling=null}return h.child}function Ol(s,h){return s.lanes&h?!0:(s=s.dependencies,!!(s!==null&&Qr(s)))}function Oh(s,h,_){switch(h.tag){case 3:ge(h,h.stateNode.containerInfo),pa(h,Wt,s.memoizedState.cache),zi();break;case 27:case 5:Me(h);break;case 4:ge(h,h.stateNode.containerInfo);break;case 10:pa(h,h.type,h.memoizedProps.value);break;case 13:var T=h.memoizedState;if(T!==null)return T.dehydrated!==null?(ca(h),h.flags|=128,null):_&h.child.childLanes?Vc(s,h,_):(ca(h),s=Kn(s,h,_),s!==null?s.sibling:null);ca(h);break;case 19:var O=(s.flags&128)!==0;if(T=(_&h.childLanes)!==0,T||(Qi(s,h,_,!1),T=(_&h.childLanes)!==0),O){if(T)return zc(s,h,_);h.flags|=128}if(O=h.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),G(Yt,Yt.current),T)break;return null;case 22:case 23:return h.lanes=0,Oc(s,h,_);case 24:pa(h,Wt,s.memoizedState.cache)}return Kn(s,h,_)}function Fc(s,h,_){if(s!==null)if(s.memoizedProps!==h.pendingProps)Xt=!0;else{if(!Ol(s,_)&&!(h.flags&128))return Xt=!1,Oh(s,h,_);Xt=!!(s.flags&131072)}else Xt=!1,Dt&&h.flags&1048576&&Td(h,Nr,h.index);switch(h.lanes=0,h.tag){case 16:e:{s=h.pendingProps;var T=h.elementType,O=T._init;if(T=O(T._payload),h.type=T,typeof T=="function")ql(T)?(s=ja(T,s),h.tag=1,h=Bc(null,h,T,s,_)):(h.tag=0,h=Tl(null,h,T,s,_));else{if(T!=null){if(O=T.$$typeof,O===p){h.tag=11,h=kc(null,h,T,s,_);break e}else if(O===C){h.tag=14,h=$c(null,h,T,s,_);break e}}throw h=V(T)||T,Error(u(306,h,""))}}return h;case 0:return Tl(s,h,h.type,h.pendingProps,_);case 1:return T=h.type,O=ja(T,h.pendingProps),Bc(s,h,T,O,_);case 3:e:{if(ge(h,h.stateNode.containerInfo),s===null)throw Error(u(387));var I=h.pendingProps;O=h.memoizedState,T=O.element,Vl(s,h),tr(h,I,null,_);var J=h.memoizedState;if(I=J.cache,pa(h,Wt,I),I!==O.cache&&Bl(h,[Wt],_,!0),er(),I=J.element,O.isDehydrated)if(O={element:I,isDehydrated:!1,cache:J.cache},h.updateQueue.baseState=O,h.memoizedState=O,h.flags&256){h=Ic(s,h,I,_);break e}else if(I!==T){T=Dn(Error(u(424)),h),Fi(T),h=Ic(s,h,I,_);break e}else for(tn=zn(h.stateNode.containerInfo.firstChild),cn=h,Dt=!0,Vn=null,Fn=!0,_=Ld(h,null,I,_),h.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(zi(),I===T){h=Kn(s,h,_);break e}nn(s,h,I,_)}h=h.child}return h;case 26:return Ki(s,h),s===null?(_=ju(h.type,null,h.pendingProps,null))?h.memoizedState=_:Dt||(_=h.type,s=h.pendingProps,T=fo(de.current).createElement(_),T[re]=h,T[pe]=s,an(T,_,s),Xe(T),h.stateNode=T):h.memoizedState=ju(h.type,s.memoizedProps,h.pendingProps,s.memoizedState),null;case 27:return Me(h),s===null&&Dt&&(T=h.stateNode=Fu(h.type,h.pendingProps,de.current),cn=h,Fn=!0,tn=zn(T.firstChild)),T=h.pendingProps.children,s!==null||Dt?nn(s,h,T,_):h.child=Ra(h,null,T,_),Ki(s,h),h.child;case 5:return s===null&&Dt&&((O=T=tn)&&(T=dp(T,h.type,h.pendingProps,Fn),T!==null?(h.stateNode=T,cn=h,tn=zn(T.firstChild),Fn=!1,O=!0):O=!1),O||Va(h)),Me(h),O=h.type,I=h.pendingProps,J=s!==null?s.memoizedProps:null,T=I.children,bs(O,I)?T=null:J!==null&&bs(O,J)&&(h.flags|=32),h.memoizedState!==null&&(O=ll(s,h,Eh,null,null,_),gr._currentValue=O),Ki(s,h),nn(s,h,T,_),h.child;case 6:return s===null&&Dt&&((s=_=tn)&&(_=cp(_,h.pendingProps,Fn),_!==null?(h.stateNode=_,cn=h,tn=null,s=!0):s=!1),s||Va(h)),null;case 13:return Vc(s,h,_);case 4:return ge(h,h.stateNode.containerInfo),T=h.pendingProps,s===null?h.child=Ra(h,null,T,_):nn(s,h,T,_),h.child;case 11:return kc(s,h,h.type,h.pendingProps,_);case 7:return nn(s,h,h.pendingProps,_),h.child;case 8:return nn(s,h,h.pendingProps.children,_),h.child;case 12:return nn(s,h,h.pendingProps.children,_),h.child;case 10:return T=h.pendingProps,pa(h,h.type,T.value),nn(s,h,T.children,_),h.child;case 9:return O=h.type._context,T=h.pendingProps.children,Wa(h),O=ln(O),T=T(O),h.flags|=1,nn(s,h,T,_),h.child;case 14:return $c(s,h,h.type,h.pendingProps,_);case 15:return Hc(s,h,h.type,h.pendingProps,_);case 19:return zc(s,h,_);case 22:return Oc(s,h,_);case 24:return Wa(h),T=ln(Wt),s===null?(O=rl(),O===null&&(O=kt,I=al(),O.pooledCache=I,I.refCount++,I!==null&&(O.pooledCacheLanes|=_),O=I),h.memoizedState={parent:T,cache:O},Il(h),pa(h,Wt,O)):(s.lanes&_&&(Vl(s,h),tr(h,null,null,_),er()),O=s.memoizedState,I=h.memoizedState,O.parent!==T?(O={parent:T,cache:T},h.memoizedState=O,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=O),pa(h,Wt,T)):(T=I.cache,pa(h,Wt,T),T!==O.cache&&Bl(h,[Wt],_,!0))),nn(s,h,h.pendingProps.children,_),h.child;case 29:throw h.pendingProps}throw Error(u(156,h.tag))}var Ll=$(null),Ya=null,Qn=null;function pa(s,h,_){G(Ll,h._currentValue),h._currentValue=_}function Jn(s){s._currentValue=Ll.current,P(Ll)}function Nl(s,h,_){for(;s!==null;){var T=s.alternate;if((s.childLanes&h)!==h?(s.childLanes|=h,T!==null&&(T.childLanes|=h)):T!==null&&(T.childLanes&h)!==h&&(T.childLanes|=h),s===_)break;s=s.return}}function Bl(s,h,_,T){var O=s.child;for(O!==null&&(O.return=s);O!==null;){var I=O.dependencies;if(I!==null){var J=O.child;I=I.firstContext;e:for(;I!==null;){var le=I;I=O;for(var he=0;he<h.length;he++)if(le.context===h[he]){I.lanes|=_,le=I.alternate,le!==null&&(le.lanes|=_),Nl(I.return,_,s),T||(J=null);break e}I=le.next}}else if(O.tag===18){if(J=O.return,J===null)throw Error(u(341));J.lanes|=_,I=J.alternate,I!==null&&(I.lanes|=_),Nl(J,_,s),J=null}else J=O.child;if(J!==null)J.return=O;else for(J=O;J!==null;){if(J===s){J=null;break}if(O=J.sibling,O!==null){O.return=J.return,J=O;break}J=J.return}O=J}}function Qi(s,h,_,T){s=null;for(var O=h,I=!1;O!==null;){if(!I){if(O.flags&524288)I=!0;else if(O.flags&262144)break}if(O.tag===10){var J=O.alternate;if(J===null)throw Error(u(387));if(J=J.memoizedProps,J!==null){var le=O.type;pn(O.pendingProps.value,J.value)||(s!==null?s.push(le):s=[le])}}else if(O===me.current){if(J=O.alternate,J===null)throw Error(u(387));J.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(s!==null?s.push(gr):s=[gr])}O=O.return}s!==null&&Bl(h,s,_,T),h.flags|=262144}function Qr(s){for(s=s.firstContext;s!==null;){if(!pn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Wa(s){Ya=s,Qn=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ln(s){return Pc(Ya,s)}function Jr(s,h){return Ya===null&&Wa(s),Pc(s,h)}function Pc(s,h){var _=h._currentValue;if(h={context:h,memoizedValue:_,next:null},Qn===null){if(s===null)throw Error(u(308));Qn=h,s.dependencies={lanes:0,firstContext:h},s.flags|=524288}else Qn=Qn.next=h;return _}var fa=!1;function Il(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vl(s,h){s=s.updateQueue,h.updateQueue===s&&(h.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ga(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ya(s,h,_){var T=s.updateQueue;if(T===null)return null;if(T=T.shared,Nt&2){var O=T.pending;return O===null?h.next=h:(h.next=O.next,O.next=h),T.pending=h,h=Or(s),Dd(s,null,_),h}return Hr(s,T,h,_),Or(s)}function Ji(s,h,_){if(h=h.updateQueue,h!==null&&(h=h.shared,(_&4194176)!==0)){var T=h.lanes;T&=s.pendingLanes,_|=T,h.lanes=_,ue(s,_)}}function Rl(s,h){var _=s.updateQueue,T=s.alternate;if(T!==null&&(T=T.updateQueue,_===T)){var O=null,I=null;if(_=_.firstBaseUpdate,_!==null){do{var J={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};I===null?O=I=J:I=I.next=J,_=_.next}while(_!==null);I===null?O=I=h:I=I.next=h}else O=I=h;_={baseState:T.baseState,firstBaseUpdate:O,lastBaseUpdate:I,shared:T.shared,callbacks:T.callbacks},s.updateQueue=_;return}s=_.lastBaseUpdate,s===null?_.firstBaseUpdate=h:s.next=h,_.lastBaseUpdate=h}var zl=!1;function er(){if(zl){var s=hi;if(s!==null)throw s}}function tr(s,h,_,T){zl=!1;var O=s.updateQueue;fa=!1;var I=O.firstBaseUpdate,J=O.lastBaseUpdate,le=O.shared.pending;if(le!==null){O.shared.pending=null;var he=le,De=he.next;he.next=null,J===null?I=De:J.next=De,J=he;var Oe=s.alternate;Oe!==null&&(Oe=Oe.updateQueue,le=Oe.lastBaseUpdate,le!==J&&(le===null?Oe.firstBaseUpdate=De:le.next=De,Oe.lastBaseUpdate=he))}if(I!==null){var Ue=O.baseState;J=0,Oe=De=he=null,le=I;do{var Ae=le.lane&-536870913,He=Ae!==le.lane;if(He?(wt&Ae)===Ae:(T&Ae)===Ae){Ae!==0&&Ae===mi&&(zl=!0),Oe!==null&&(Oe=Oe.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var tt=s,ot=le;Ae=h;var Rt=_;switch(ot.tag){case 1:if(tt=ot.payload,typeof tt=="function"){Ue=tt.call(Rt,Ue,Ae);break e}Ue=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=ot.payload,Ae=typeof tt=="function"?tt.call(Rt,Ue,Ae):tt,Ae==null)break e;Ue=N({},Ue,Ae);break e;case 2:fa=!0}}Ae=le.callback,Ae!==null&&(s.flags|=64,He&&(s.flags|=8192),He=O.callbacks,He===null?O.callbacks=[Ae]:He.push(Ae))}else He={lane:Ae,tag:le.tag,payload:le.payload,callback:le.callback,next:null},Oe===null?(De=Oe=He,he=Ue):Oe=Oe.next=He,J|=Ae;if(le=le.next,le===null){if(le=O.shared.pending,le===null)break;He=le,le=He.next,He.next=null,O.lastBaseUpdate=He,O.shared.pending=null}}while(!0);Oe===null&&(he=Ue),O.baseState=he,O.firstBaseUpdate=De,O.lastBaseUpdate=Oe,I===null&&(O.shared.lanes=0),Sa|=J,s.lanes=J,s.memoizedState=Ue}}function Uc(s,h){if(typeof s!="function")throw Error(u(191,s));s.call(h)}function jc(s,h){var _=s.callbacks;if(_!==null)for(s.callbacks=null,s=0;s<_.length;s++)Uc(_[s],h)}function nr(s,h){try{var _=h.updateQueue,T=_!==null?_.lastEffect:null;if(T!==null){var O=T.next;_=O;do{if((_.tag&s)===s){T=void 0;var I=_.create,J=_.inst;T=I(),J.destroy=T}_=_.next}while(_!==O)}}catch(le){Mt(h,h.return,le)}}function va(s,h,_){try{var T=h.updateQueue,O=T!==null?T.lastEffect:null;if(O!==null){var I=O.next;T=I;do{if((T.tag&s)===s){var J=T.inst,le=J.destroy;if(le!==void 0){J.destroy=void 0,O=h;var he=_;try{le()}catch(De){Mt(O,he,De)}}}T=T.next}while(T!==I)}}catch(De){Mt(h,h.return,De)}}function Yc(s){var h=s.updateQueue;if(h!==null){var _=s.stateNode;try{jc(h,_)}catch(T){Mt(s,s.return,T)}}}function Wc(s,h,_){_.props=ja(s.type,s.memoizedProps),_.state=s.memoizedState;try{_.componentWillUnmount()}catch(T){Mt(s,h,T)}}function qa(s,h){try{var _=s.ref;if(_!==null){var T=s.stateNode;switch(s.tag){case 26:case 27:case 5:var O=T;break;default:O=T}typeof _=="function"?s.refCleanup=_(O):_.current=O}}catch(I){Mt(s,h,I)}}function fn(s,h){var _=s.ref,T=s.refCleanup;if(_!==null)if(typeof T=="function")try{T()}catch(O){Mt(s,h,O)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(O){Mt(s,h,O)}else _.current=null}function qc(s){var h=s.type,_=s.memoizedProps,T=s.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":_.autoFocus&&T.focus();break e;case"img":_.src?T.src=_.src:_.srcSet&&(T.srcset=_.srcSet)}}catch(O){Mt(s,s.return,O)}}function Gc(s,h,_){try{var T=s.stateNode;ip(T,s.type,_,h),T[pe]=h}catch(O){Mt(s,s.return,O)}}function Xc(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function Fl(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Xc(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Pl(s,h,_){var T=s.tag;if(T===5||T===6)s=s.stateNode,h?_.nodeType===8?_.parentNode.insertBefore(s,h):_.insertBefore(s,h):(_.nodeType===8?(h=_.parentNode,h.insertBefore(s,_)):(h=_,h.appendChild(s)),_=_._reactRootContainer,_!=null||h.onclick!==null||(h.onclick=po));else if(T!==4&&T!==27&&(s=s.child,s!==null))for(Pl(s,h,_),s=s.sibling;s!==null;)Pl(s,h,_),s=s.sibling}function eo(s,h,_){var T=s.tag;if(T===5||T===6)s=s.stateNode,h?_.insertBefore(s,h):_.appendChild(s);else if(T!==4&&T!==27&&(s=s.child,s!==null))for(eo(s,h,_),s=s.sibling;s!==null;)eo(s,h,_),s=s.sibling}var ea=!1,It=!1,Ul=!1,Zc=typeof WeakSet=="function"?WeakSet:Set,Zt=null,Kc=!1;function Lh(s,h){if(s=s.containerInfo,ys=wo,s=pd(s),Yo(s)){if("selectionStart"in s)var _={start:s.selectionStart,end:s.selectionEnd};else e:{_=(_=s.ownerDocument)&&_.defaultView||window;var T=_.getSelection&&_.getSelection();if(T&&T.rangeCount!==0){_=T.anchorNode;var O=T.anchorOffset,I=T.focusNode;T=T.focusOffset;try{_.nodeType,I.nodeType}catch{_=null;break e}var J=0,le=-1,he=-1,De=0,Oe=0,Ue=s,Ae=null;t:for(;;){for(var He;Ue!==_||O!==0&&Ue.nodeType!==3||(le=J+O),Ue!==I||T!==0&&Ue.nodeType!==3||(he=J+T),Ue.nodeType===3&&(J+=Ue.nodeValue.length),(He=Ue.firstChild)!==null;)Ae=Ue,Ue=He;for(;;){if(Ue===s)break t;if(Ae===_&&++De===O&&(le=J),Ae===I&&++Oe===T&&(he=J),(He=Ue.nextSibling)!==null)break;Ue=Ae,Ae=Ue.parentNode}Ue=He}_=le===-1||he===-1?null:{start:le,end:he}}else _=null}_=_||{start:0,end:0}}else _=null;for(vs={focusedElem:s,selectionRange:_},wo=!1,Zt=h;Zt!==null;)if(h=Zt,s=h.child,(h.subtreeFlags&1028)!==0&&s!==null)s.return=h,Zt=s;else for(;Zt!==null;){switch(h=Zt,I=h.alternate,s=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if(s&1024&&I!==null){s=void 0,_=h,O=I.memoizedProps,I=I.memoizedState,T=_.stateNode;try{var tt=ja(_.type,O,_.elementType===_.type);s=T.getSnapshotBeforeUpdate(tt,I),T.__reactInternalSnapshotBeforeUpdate=s}catch(ot){Mt(_,_.return,ot)}}break;case 3:if(s&1024){if(s=h.stateNode.containerInfo,_=s.nodeType,_===9)Ss(s);else if(_===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ss(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(u(163))}if(s=h.sibling,s!==null){s.return=h.return,Zt=s;break}Zt=h.return}return tt=Kc,Kc=!1,tt}function Qc(s,h,_){var T=_.flags;switch(_.tag){case 0:case 11:case 15:na(s,_),T&4&&nr(5,_);break;case 1:if(na(s,_),T&4)if(s=_.stateNode,h===null)try{s.componentDidMount()}catch(le){Mt(_,_.return,le)}else{var O=ja(_.type,h.memoizedProps);h=h.memoizedState;try{s.componentDidUpdate(O,h,s.__reactInternalSnapshotBeforeUpdate)}catch(le){Mt(_,_.return,le)}}T&64&&Yc(_),T&512&&qa(_,_.return);break;case 3:if(na(s,_),T&64&&(T=_.updateQueue,T!==null)){if(s=null,_.child!==null)switch(_.child.tag){case 27:case 5:s=_.child.stateNode;break;case 1:s=_.child.stateNode}try{jc(T,s)}catch(le){Mt(_,_.return,le)}}break;case 26:na(s,_),T&512&&qa(_,_.return);break;case 27:case 5:na(s,_),h===null&&T&4&&qc(_),T&512&&qa(_,_.return);break;case 12:na(s,_);break;case 13:na(s,_),T&4&&tu(s,_);break;case 22:if(O=_.memoizedState!==null||ea,!O){h=h!==null&&h.memoizedState!==null||It;var I=ea,J=It;ea=O,(It=h)&&!J?ba(s,_,(_.subtreeFlags&8772)!==0):na(s,_),ea=I,It=J}T&512&&(_.memoizedProps.mode==="manual"?qa(_,_.return):fn(_,_.return));break;default:na(s,_)}}function Jc(s){var h=s.alternate;h!==null&&(s.alternate=null,Jc(h)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(h=s.stateNode,h!==null&&Ie(h)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ut=null,gn=!1;function ta(s,h,_){for(_=_.child;_!==null;)eu(s,h,_),_=_.sibling}function eu(s,h,_){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(St,_)}catch{}switch(_.tag){case 26:It||fn(_,h),ta(s,h,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:It||fn(_,h);var T=Ut,O=gn;for(Ut=_.stateNode,ta(s,h,_),_=_.stateNode,h=_.attributes;h.length;)_.removeAttributeNode(h[0]);Ie(_),Ut=T,gn=O;break;case 5:It||fn(_,h);case 6:O=Ut;var I=gn;if(Ut=null,ta(s,h,_),Ut=O,gn=I,Ut!==null)if(gn)try{s=Ut,T=_.stateNode,s.nodeType===8?s.parentNode.removeChild(T):s.removeChild(T)}catch(J){Mt(_,h,J)}else try{Ut.removeChild(_.stateNode)}catch(J){Mt(_,h,J)}break;case 18:Ut!==null&&(gn?(h=Ut,_=_.stateNode,h.nodeType===8?ws(h.parentNode,_):h.nodeType===1&&ws(h,_),_r(h)):ws(Ut,_.stateNode));break;case 4:T=Ut,O=gn,Ut=_.stateNode.containerInfo,gn=!0,ta(s,h,_),Ut=T,gn=O;break;case 0:case 11:case 14:case 15:It||va(2,_,h),It||va(4,_,h),ta(s,h,_);break;case 1:It||(fn(_,h),T=_.stateNode,typeof T.componentWillUnmount=="function"&&Wc(_,h,T)),ta(s,h,_);break;case 21:ta(s,h,_);break;case 22:It||fn(_,h),It=(T=It)||_.memoizedState!==null,ta(s,h,_),It=T;break;default:ta(s,h,_)}}function tu(s,h){if(h.memoizedState===null&&(s=h.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{_r(s)}catch(_){Mt(h,h.return,_)}}function Nh(s){switch(s.tag){case 13:case 19:var h=s.stateNode;return h===null&&(h=s.stateNode=new Zc),h;case 22:return s=s.stateNode,h=s._retryCache,h===null&&(h=s._retryCache=new Zc),h;default:throw Error(u(435,s.tag))}}function jl(s,h){var _=Nh(s);h.forEach(function(T){var O=Gh.bind(null,s,T);_.has(T)||(_.add(T),T.then(O,O))})}function xn(s,h){var _=h.deletions;if(_!==null)for(var T=0;T<_.length;T++){var O=_[T],I=s,J=h,le=J;e:for(;le!==null;){switch(le.tag){case 27:case 5:Ut=le.stateNode,gn=!1;break e;case 3:Ut=le.stateNode.containerInfo,gn=!0;break e;case 4:Ut=le.stateNode.containerInfo,gn=!0;break e}le=le.return}if(Ut===null)throw Error(u(160));eu(I,J,O),Ut=null,gn=!1,I=O.alternate,I!==null&&(I.return=null),O.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)nu(h,s),h=h.sibling}var Rn=null;function nu(s,h){var _=s.alternate,T=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:xn(h,s),Mn(s),T&4&&(va(3,s,s.return),nr(3,s),va(5,s,s.return));break;case 1:xn(h,s),Mn(s),T&512&&(It||_===null||fn(_,_.return)),T&64&&ea&&(s=s.updateQueue,s!==null&&(T=s.callbacks,T!==null&&(_=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=_===null?T:_.concat(T))));break;case 26:var O=Rn;if(xn(h,s),Mn(s),T&512&&(It||_===null||fn(_,_.return)),T&4){var I=_!==null?_.memoizedState:null;if(T=s.memoizedState,_===null)if(T===null)if(s.stateNode===null){e:{T=s.type,_=s.memoizedProps,O=O.ownerDocument||O;t:switch(T){case"title":I=O.getElementsByTagName("title")[0],(!I||I[Fe]||I[re]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=O.createElement(T),O.head.insertBefore(I,O.querySelector("head > title"))),an(I,T,_),I[re]=s,Xe(I),T=I;break e;case"link":var J=qu("link","href",O).get(T+(_.href||""));if(J){for(var le=0;le<J.length;le++)if(I=J[le],I.getAttribute("href")===(_.href==null?null:_.href)&&I.getAttribute("rel")===(_.rel==null?null:_.rel)&&I.getAttribute("title")===(_.title==null?null:_.title)&&I.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){J.splice(le,1);break t}}I=O.createElement(T),an(I,T,_),O.head.appendChild(I);break;case"meta":if(J=qu("meta","content",O).get(T+(_.content||""))){for(le=0;le<J.length;le++)if(I=J[le],I.getAttribute("content")===(_.content==null?null:""+_.content)&&I.getAttribute("name")===(_.name==null?null:_.name)&&I.getAttribute("property")===(_.property==null?null:_.property)&&I.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&I.getAttribute("charset")===(_.charSet==null?null:_.charSet)){J.splice(le,1);break t}}I=O.createElement(T),an(I,T,_),O.head.appendChild(I);break;default:throw Error(u(468,T))}I[re]=s,Xe(I),T=I}s.stateNode=T}else Gu(O,s.type,s.stateNode);else s.stateNode=Wu(O,T,s.memoizedProps);else I!==T?(I===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):I.count--,T===null?Gu(O,s.type,s.stateNode):Wu(O,T,s.memoizedProps)):T===null&&s.stateNode!==null&&Gc(s,s.memoizedProps,_.memoizedProps)}break;case 27:if(T&4&&s.alternate===null){O=s.stateNode,I=s.memoizedProps;try{for(var he=O.firstChild;he;){var De=he.nextSibling,Oe=he.nodeName;he[Fe]||Oe==="HEAD"||Oe==="BODY"||Oe==="SCRIPT"||Oe==="STYLE"||Oe==="LINK"&&he.rel.toLowerCase()==="stylesheet"||O.removeChild(he),he=De}for(var Ue=s.type,Ae=O.attributes;Ae.length;)O.removeAttributeNode(Ae[0]);an(O,Ue,I),O[re]=s,O[pe]=I}catch(tt){Mt(s,s.return,tt)}}case 5:if(xn(h,s),Mn(s),T&512&&(It||_===null||fn(_,_.return)),s.flags&32){O=s.stateNode;try{ei(O,"")}catch(tt){Mt(s,s.return,tt)}}T&4&&s.stateNode!=null&&(O=s.memoizedProps,Gc(s,O,_!==null?_.memoizedProps:O)),T&1024&&(Ul=!0);break;case 6:if(xn(h,s),Mn(s),T&4){if(s.stateNode===null)throw Error(u(162));T=s.memoizedProps,_=s.stateNode;try{_.nodeValue=T}catch(tt){Mt(s,s.return,tt)}}break;case 3:if(vo=null,O=Rn,Rn=go(h.containerInfo),xn(h,s),Rn=O,Mn(s),T&4&&_!==null&&_.memoizedState.isDehydrated)try{_r(h.containerInfo)}catch(tt){Mt(s,s.return,tt)}Ul&&(Ul=!1,au(s));break;case 4:T=Rn,Rn=go(s.stateNode.containerInfo),xn(h,s),Mn(s),Rn=T;break;case 12:xn(h,s),Mn(s);break;case 13:xn(h,s),Mn(s),s.child.flags&8192&&s.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(Jl=et()),T&4&&(T=s.updateQueue,T!==null&&(s.updateQueue=null,jl(s,T)));break;case 22:if(T&512&&(It||_===null||fn(_,_.return)),he=s.memoizedState!==null,De=_!==null&&_.memoizedState!==null,Oe=ea,Ue=It,ea=Oe||he,It=Ue||De,xn(h,s),It=Ue,ea=Oe,Mn(s),h=s.stateNode,h._current=s,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,T&8192&&(h._visibility=he?h._visibility&-2:h._visibility|1,he&&(h=ea||It,_===null||De||h||yi(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(_=null,h=s;;){if(h.tag===5||h.tag===26||h.tag===27){if(_===null){De=_=h;try{if(O=De.stateNode,he)I=O.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{J=De.stateNode,le=De.memoizedProps.style;var He=le!=null&&le.hasOwnProperty("display")?le.display:null;J.style.display=He==null||typeof He=="boolean"?"":(""+He).trim()}}catch(tt){Mt(De,De.return,tt)}}}else if(h.tag===6){if(_===null){De=h;try{De.stateNode.nodeValue=he?"":De.memoizedProps}catch(tt){Mt(De,De.return,tt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===s)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;_===h&&(_=null),h=h.return}_===h&&(_=null),h.sibling.return=h.return,h=h.sibling}T&4&&(T=s.updateQueue,T!==null&&(_=T.retryQueue,_!==null&&(T.retryQueue=null,jl(s,_))));break;case 19:xn(h,s),Mn(s),T&4&&(T=s.updateQueue,T!==null&&(s.updateQueue=null,jl(s,T)));break;case 21:break;default:xn(h,s),Mn(s)}}function Mn(s){var h=s.flags;if(h&2){try{if(s.tag!==27){e:{for(var _=s.return;_!==null;){if(Xc(_)){var T=_;break e}_=_.return}throw Error(u(160))}switch(T.tag){case 27:var O=T.stateNode,I=Fl(s);eo(s,I,O);break;case 5:var J=T.stateNode;T.flags&32&&(ei(J,""),T.flags&=-33);var le=Fl(s);eo(s,le,J);break;case 3:case 4:var he=T.stateNode.containerInfo,De=Fl(s);Pl(s,De,he);break;default:throw Error(u(161))}}}catch(Oe){Mt(s,s.return,Oe)}s.flags&=-3}h&4096&&(s.flags&=-4097)}function au(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var h=s;au(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),s=s.sibling}}function na(s,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)Qc(s,h.alternate,h),h=h.sibling}function yi(s){for(s=s.child;s!==null;){var h=s;switch(h.tag){case 0:case 11:case 14:case 15:va(4,h,h.return),yi(h);break;case 1:fn(h,h.return);var _=h.stateNode;typeof _.componentWillUnmount=="function"&&Wc(h,h.return,_),yi(h);break;case 26:case 27:case 5:fn(h,h.return),yi(h);break;case 22:fn(h,h.return),h.memoizedState===null&&yi(h);break;default:yi(h)}s=s.sibling}}function ba(s,h,_){for(_=_&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var T=h.alternate,O=s,I=h,J=I.flags;switch(I.tag){case 0:case 11:case 15:ba(O,I,_),nr(4,I);break;case 1:if(ba(O,I,_),T=I,O=T.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(De){Mt(T,T.return,De)}if(T=I,O=T.updateQueue,O!==null){var le=T.stateNode;try{var he=O.shared.hiddenCallbacks;if(he!==null)for(O.shared.hiddenCallbacks=null,O=0;O<he.length;O++)Uc(he[O],le)}catch(De){Mt(T,T.return,De)}}_&&J&64&&Yc(I),qa(I,I.return);break;case 26:case 27:case 5:ba(O,I,_),_&&T===null&&J&4&&qc(I),qa(I,I.return);break;case 12:ba(O,I,_);break;case 13:ba(O,I,_),_&&J&4&&tu(O,I);break;case 22:I.memoizedState===null&&ba(O,I,_),qa(I,I.return);break;default:ba(O,I,_)}h=h.sibling}}function Yl(s,h){var _=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(_=s.memoizedState.cachePool.pool),s=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(s=h.memoizedState.cachePool.pool),s!==_&&(s!=null&&s.refCount++,_!=null&&Wi(_))}function Wl(s,h){s=null,h.alternate!==null&&(s=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==s&&(h.refCount++,s!=null&&Wi(s))}function _a(s,h,_,T){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)iu(s,h,_,T),h=h.sibling}function iu(s,h,_,T){var O=h.flags;switch(h.tag){case 0:case 11:case 15:_a(s,h,_,T),O&2048&&nr(9,h);break;case 3:_a(s,h,_,T),O&2048&&(s=null,h.alternate!==null&&(s=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==s&&(h.refCount++,s!=null&&Wi(s)));break;case 12:if(O&2048){_a(s,h,_,T),s=h.stateNode;try{var I=h.memoizedProps,J=I.id,le=I.onPostCommit;typeof le=="function"&&le(J,h.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(he){Mt(h,h.return,he)}}else _a(s,h,_,T);break;case 23:break;case 22:I=h.stateNode,h.memoizedState!==null?I._visibility&4?_a(s,h,_,T):ar(s,h):I._visibility&4?_a(s,h,_,T):(I._visibility|=4,vi(s,h,_,T,(h.subtreeFlags&10256)!==0)),O&2048&&Yl(h.alternate,h);break;case 24:_a(s,h,_,T),O&2048&&Wl(h.alternate,h);break;default:_a(s,h,_,T)}}function vi(s,h,_,T,O){for(O=O&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var I=s,J=h,le=_,he=T,De=J.flags;switch(J.tag){case 0:case 11:case 15:vi(I,J,le,he,O),nr(8,J);break;case 23:break;case 22:var Oe=J.stateNode;J.memoizedState!==null?Oe._visibility&4?vi(I,J,le,he,O):ar(I,J):(Oe._visibility|=4,vi(I,J,le,he,O)),O&&De&2048&&Yl(J.alternate,J);break;case 24:vi(I,J,le,he,O),O&&De&2048&&Wl(J.alternate,J);break;default:vi(I,J,le,he,O)}h=h.sibling}}function ar(s,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var _=s,T=h,O=T.flags;switch(T.tag){case 22:ar(_,T),O&2048&&Yl(T.alternate,T);break;case 24:ar(_,T),O&2048&&Wl(T.alternate,T);break;default:ar(_,T)}h=h.sibling}}var ir=8192;function bi(s){if(s.subtreeFlags&ir)for(s=s.child;s!==null;)ru(s),s=s.sibling}function ru(s){switch(s.tag){case 26:bi(s),s.flags&ir&&s.memoizedState!==null&&Dp(Rn,s.memoizedState,s.memoizedProps);break;case 5:bi(s);break;case 3:case 4:var h=Rn;Rn=go(s.stateNode.containerInfo),bi(s),Rn=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=ir,ir=16777216,bi(s),ir=h):bi(s));break;default:bi(s)}}function ou(s){var h=s.alternate;if(h!==null&&(s=h.child,s!==null)){h.child=null;do h=s.sibling,s.sibling=null,s=h;while(s!==null)}}function rr(s){var h=s.deletions;if(s.flags&16){if(h!==null)for(var _=0;_<h.length;_++){var T=h[_];Zt=T,su(T,s)}ou(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)lu(s),s=s.sibling}function lu(s){switch(s.tag){case 0:case 11:case 15:rr(s),s.flags&2048&&va(9,s,s.return);break;case 3:rr(s);break;case 12:rr(s);break;case 22:var h=s.stateNode;s.memoizedState!==null&&h._visibility&4&&(s.return===null||s.return.tag!==13)?(h._visibility&=-5,to(s)):rr(s);break;default:rr(s)}}function to(s){var h=s.deletions;if(s.flags&16){if(h!==null)for(var _=0;_<h.length;_++){var T=h[_];Zt=T,su(T,s)}ou(s)}for(s=s.child;s!==null;){switch(h=s,h.tag){case 0:case 11:case 15:va(8,h,h.return),to(h);break;case 22:_=h.stateNode,_._visibility&4&&(_._visibility&=-5,to(h));break;default:to(h)}s=s.sibling}}function su(s,h){for(;Zt!==null;){var _=Zt;switch(_.tag){case 0:case 11:case 15:va(8,_,h);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var T=_.memoizedState.cachePool.pool;T!=null&&T.refCount++}break;case 24:Wi(_.memoizedState.cache)}if(T=_.child,T!==null)T.return=_,Zt=T;else e:for(_=s;Zt!==null;){T=Zt;var O=T.sibling,I=T.return;if(Jc(T),T===_){Zt=null;break e}if(O!==null){O.return=I,Zt=O;break e}Zt=I}}}function Bh(s,h,_,T){this.tag=s,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(s,h,_,T){return new Bh(s,h,_,T)}function ql(s){return s=s.prototype,!(!s||!s.isReactComponent)}function wa(s,h){var _=s.alternate;return _===null?(_=An(s.tag,h,s.key,s.mode),_.elementType=s.elementType,_.type=s.type,_.stateNode=s.stateNode,_.alternate=s,s.alternate=_):(_.pendingProps=h,_.type=s.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=s.flags&31457280,_.childLanes=s.childLanes,_.lanes=s.lanes,_.child=s.child,_.memoizedProps=s.memoizedProps,_.memoizedState=s.memoizedState,_.updateQueue=s.updateQueue,h=s.dependencies,_.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},_.sibling=s.sibling,_.index=s.index,_.ref=s.ref,_.refCleanup=s.refCleanup,_}function du(s,h){s.flags&=31457282;var _=s.alternate;return _===null?(s.childLanes=0,s.lanes=h,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=_.childLanes,s.lanes=_.lanes,s.child=_.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=_.memoizedProps,s.memoizedState=_.memoizedState,s.updateQueue=_.updateQueue,s.type=_.type,h=_.dependencies,s.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),s}function no(s,h,_,T,O,I){var J=0;if(T=s,typeof s=="function")ql(s)&&(J=1);else if(typeof s=="string")J=wp(s,_,Z.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case a:return Ga(_.children,O,I,h);case i:J=8,O|=24;break;case r:return s=An(12,_,h,O|2),s.elementType=r,s.lanes=I,s;case v:return s=An(13,_,h,O),s.elementType=v,s.lanes=I,s;case w:return s=An(19,_,h,O),s.elementType=w,s.lanes=I,s;case L:return cu(_,O,I,h);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case o:case f:J=10;break e;case d:J=9;break e;case p:J=11;break e;case C:J=14;break e;case x:J=16,T=null;break e}J=29,_=Error(u(130,s===null?"null":typeof s,"")),T=null}return h=An(J,_,h,O),h.elementType=s,h.type=T,h.lanes=I,h}function Ga(s,h,_,T){return s=An(7,s,T,h),s.lanes=_,s}function cu(s,h,_,T){s=An(22,s,T,h),s.elementType=L,s.lanes=_;var O={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var I=O._current;if(I===null)throw Error(u(456));if(!(O._pendingVisibility&2)){var J=da(I,2);J!==null&&(O._pendingVisibility|=2,un(J,I,2))}},attach:function(){var I=O._current;if(I===null)throw Error(u(456));if(O._pendingVisibility&2){var J=da(I,2);J!==null&&(O._pendingVisibility&=-3,un(J,I,2))}}};return s.stateNode=O,s}function Gl(s,h,_){return s=An(6,s,null,h),s.lanes=_,s}function Xl(s,h,_){return h=An(4,s.children!==null?s.children:[],s.key,h),h.lanes=_,h.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},h}function aa(s){s.flags|=4}function uu(s,h){if(h.type!=="stylesheet"||h.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!Xu(h)){if(h=En.current,h!==null&&((wt&4194176)===wt?Pn!==null:(wt&62914560)!==wt&&!(wt&536870912)||h!==Pn))throw Ui=el,Md;s.flags|=8192}}function ao(s,h){h!==null&&(s.flags|=4),s.flags&16384&&(h=s.tag!==22?Nn():536870912,s.lanes|=h,wi|=h)}function or(s,h){if(!Dt)switch(s.tailMode){case"hidden":h=s.tail;for(var _=null;h!==null;)h.alternate!==null&&(_=h),h=h.sibling;_===null?s.tail=null:_.sibling=null;break;case"collapsed":_=s.tail;for(var T=null;_!==null;)_.alternate!==null&&(T=_),_=_.sibling;T===null?h||s.tail===null?s.tail=null:s.tail.sibling=null:T.sibling=null}}function Lt(s){var h=s.alternate!==null&&s.alternate.child===s.child,_=0,T=0;if(h)for(var O=s.child;O!==null;)_|=O.lanes|O.childLanes,T|=O.subtreeFlags&31457280,T|=O.flags&31457280,O.return=s,O=O.sibling;else for(O=s.child;O!==null;)_|=O.lanes|O.childLanes,T|=O.subtreeFlags,T|=O.flags,O.return=s,O=O.sibling;return s.subtreeFlags|=T,s.childLanes=_,h}function Ih(s,h,_){var T=h.pendingProps;switch(Qo(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(h),null;case 1:return Lt(h),null;case 3:return _=h.stateNode,T=null,s!==null&&(T=s.memoizedState.cache),h.memoizedState.cache!==T&&(h.flags|=2048),Jn(Wt),we(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(s===null||s.child===null)&&(Ri(h)?aa(h):s===null||s.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Vn!==null&&(as(Vn),Vn=null))),Lt(h),null;case 26:return _=h.memoizedState,s===null?(aa(h),_!==null?(Lt(h),uu(h,_)):(Lt(h),h.flags&=-16777217)):_?_!==s.memoizedState?(aa(h),Lt(h),uu(h,_)):(Lt(h),h.flags&=-16777217):(s.memoizedProps!==T&&aa(h),Lt(h),h.flags&=-16777217),null;case 27:ke(h),_=de.current;var O=h.type;if(s!==null&&h.stateNode!=null)s.memoizedProps!==T&&aa(h);else{if(!T){if(h.stateNode===null)throw Error(u(166));return Lt(h),null}s=Z.current,Ri(h)?Ed(h):(s=Fu(O,T,_),h.stateNode=s,aa(h))}return Lt(h),null;case 5:if(ke(h),_=h.type,s!==null&&h.stateNode!=null)s.memoizedProps!==T&&aa(h);else{if(!T){if(h.stateNode===null)throw Error(u(166));return Lt(h),null}if(s=Z.current,Ri(h))Ed(h);else{switch(O=fo(de.current),s){case 1:s=O.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:s=O.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":s=O.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":s=O.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":s=O.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof T.is=="string"?O.createElement("select",{is:T.is}):O.createElement("select"),T.multiple?s.multiple=!0:T.size&&(s.size=T.size);break;default:s=typeof T.is=="string"?O.createElement(_,{is:T.is}):O.createElement(_)}}s[re]=h,s[pe]=T;e:for(O=h.child;O!==null;){if(O.tag===5||O.tag===6)s.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===h)break e;for(;O.sibling===null;){if(O.return===null||O.return===h)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}h.stateNode=s;e:switch(an(s,_,T),_){case"button":case"input":case"select":case"textarea":s=!!T.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&aa(h)}}return Lt(h),h.flags&=-16777217,null;case 6:if(s&&h.stateNode!=null)s.memoizedProps!==T&&aa(h);else{if(typeof T!="string"&&h.stateNode===null)throw Error(u(166));if(s=de.current,Ri(h)){if(s=h.stateNode,_=h.memoizedProps,T=null,O=cn,O!==null)switch(O.tag){case 27:case 5:T=O.memoizedProps}s[re]=h,s=!!(s.nodeValue===_||T!==null&&T.suppressHydrationWarning===!0||Nu(s.nodeValue,_)),s||Va(h)}else s=fo(s).createTextNode(T),s[re]=h,h.stateNode=s}return Lt(h),null;case 13:if(T=h.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(O=Ri(h),T!==null&&T.dehydrated!==null){if(s===null){if(!O)throw Error(u(318));if(O=h.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(u(317));O[re]=h}else zi(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;Lt(h),O=!1}else Vn!==null&&(as(Vn),Vn=null),O=!0;if(!O)return h.flags&256?(Xn(h),h):(Xn(h),null)}if(Xn(h),h.flags&128)return h.lanes=_,h;if(_=T!==null,s=s!==null&&s.memoizedState!==null,_){T=h.child,O=null,T.alternate!==null&&T.alternate.memoizedState!==null&&T.alternate.memoizedState.cachePool!==null&&(O=T.alternate.memoizedState.cachePool.pool);var I=null;T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(I=T.memoizedState.cachePool.pool),I!==O&&(T.flags|=2048)}return _!==s&&_&&(h.child.flags|=8192),ao(h,h.updateQueue),Lt(h),null;case 4:return we(),s===null&&ps(h.stateNode.containerInfo),Lt(h),null;case 10:return Jn(h.type),Lt(h),null;case 19:if(P(Yt),O=h.memoizedState,O===null)return Lt(h),null;if(T=(h.flags&128)!==0,I=O.rendering,I===null)if(T)or(O,!1);else{if(Vt!==0||s!==null&&s.flags&128)for(s=h.child;s!==null;){if(I=zr(s),I!==null){for(h.flags|=128,or(O,!1),s=I.updateQueue,h.updateQueue=s,ao(h,s),h.subtreeFlags=0,s=_,_=h.child;_!==null;)du(_,s),_=_.sibling;return G(Yt,Yt.current&1|2),h.child}s=s.sibling}O.tail!==null&&et()>io&&(h.flags|=128,T=!0,or(O,!1),h.lanes=4194304)}else{if(!T)if(s=zr(I),s!==null){if(h.flags|=128,T=!0,s=s.updateQueue,h.updateQueue=s,ao(h,s),or(O,!0),O.tail===null&&O.tailMode==="hidden"&&!I.alternate&&!Dt)return Lt(h),null}else 2*et()-O.renderingStartTime>io&&_!==536870912&&(h.flags|=128,T=!0,or(O,!1),h.lanes=4194304);O.isBackwards?(I.sibling=h.child,h.child=I):(s=O.last,s!==null?s.sibling=I:h.child=I,O.last=I)}return O.tail!==null?(h=O.tail,O.rendering=h,O.tail=h.sibling,O.renderingStartTime=et(),h.sibling=null,s=Yt.current,G(Yt,T?s&1|2:s&1),h):(Lt(h),null);case 22:case 23:return Xn(h),nl(),T=h.memoizedState!==null,s!==null?s.memoizedState!==null!==T&&(h.flags|=8192):T&&(h.flags|=8192),T?_&536870912&&!(h.flags&128)&&(Lt(h),h.subtreeFlags&6&&(h.flags|=8192)):Lt(h),_=h.updateQueue,_!==null&&ao(h,_.retryQueue),_=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(_=s.memoizedState.cachePool.pool),T=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(T=h.memoizedState.cachePool.pool),T!==_&&(h.flags|=2048),s!==null&&P(za),null;case 24:return _=null,s!==null&&(_=s.memoizedState.cache),h.memoizedState.cache!==_&&(h.flags|=2048),Jn(Wt),Lt(h),null;case 25:return null}throw Error(u(156,h.tag))}function Vh(s,h){switch(Qo(h),h.tag){case 1:return s=h.flags,s&65536?(h.flags=s&-65537|128,h):null;case 3:return Jn(Wt),we(),s=h.flags,s&65536&&!(s&128)?(h.flags=s&-65537|128,h):null;case 26:case 27:case 5:return ke(h),null;case 13:if(Xn(h),s=h.memoizedState,s!==null&&s.dehydrated!==null){if(h.alternate===null)throw Error(u(340));zi()}return s=h.flags,s&65536?(h.flags=s&-65537|128,h):null;case 19:return P(Yt),null;case 4:return we(),null;case 10:return Jn(h.type),null;case 22:case 23:return Xn(h),nl(),s!==null&&P(za),s=h.flags,s&65536?(h.flags=s&-65537|128,h):null;case 24:return Jn(Wt),null;case 25:return null;default:return null}}function mu(s,h){switch(Qo(h),h.tag){case 3:Jn(Wt),we();break;case 26:case 27:case 5:ke(h);break;case 4:we();break;case 13:Xn(h);break;case 19:P(Yt);break;case 10:Jn(h.type);break;case 22:case 23:Xn(h),nl(),s!==null&&P(za);break;case 24:Jn(Wt)}}var Rh={getCacheForType:function(s){var h=ln(Wt),_=h.data.get(s);return _===void 0&&(_=s(),h.data.set(s,_)),_}},zh=typeof WeakMap=="function"?WeakMap:Map,Nt=0,kt=null,vt=null,wt=0,$t=0,yn=null,ia=!1,_i=!1,Zl=!1,ra=0,Vt=0,Sa=0,Xa=0,Kl=0,kn=0,wi=0,lr=null,jn=null,Ql=!1,Jl=0,io=1/0,ro=null,Da=null,oo=!1,Za=null,sr=0,es=0,ts=null,dr=0,ns=null;function vn(){if(Nt&2&&wt!==0)return wt&-wt;if(z.T!==null){var s=mi;return s!==0?s:cs()}return K()}function hu(){kn===0&&(kn=!(wt&536870912)||Dt?Ln():536870912);var s=En.current;return s!==null&&(s.flags|=32),kn}function un(s,h,_){(s===kt&&$t===2||s.cancelPendingCommit!==null)&&(Si(s,0),oa(s,wt,kn,!1)),U(s,_),(!(Nt&2)||s!==kt)&&(s===kt&&(!(Nt&2)&&(Xa|=_),Vt===4&&oa(s,wt,kn,!1)),Yn(s))}function pu(s,h,_){if(Nt&6)throw Error(u(327));var T=!_&&(h&60)===0&&(h&s.expiredLanes)===0||dt(s,h),O=T?Uh(s,h):os(s,h,!0),I=T;do{if(O===0){_i&&!T&&oa(s,h,0,!1);break}else if(O===6)oa(s,h,0,!ia);else{if(_=s.current.alternate,I&&!Fh(_)){O=os(s,h,!1),I=!1;continue}if(O===2){if(I=h,s.errorRecoveryDisabledLanes&I)var J=0;else J=s.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){h=J;e:{var le=s;O=lr;var he=le.current.memoizedState.isDehydrated;if(he&&(Si(le,J).flags|=256),J=os(le,J,!1),J!==2){if(Zl&&!he){le.errorRecoveryDisabledLanes|=I,Xa|=I,O=4;break e}I=jn,jn=O,I!==null&&as(I)}O=J}if(I=!1,O!==2)continue}}if(O===1){Si(s,0),oa(s,h,0,!0);break}e:{switch(T=s,O){case 0:case 1:throw Error(u(345));case 4:if((h&4194176)===h){oa(T,h,kn,!ia);break e}break;case 2:jn=null;break;case 3:case 5:break;default:throw Error(u(329))}if(T.finishedWork=_,T.finishedLanes=h,(h&62914560)===h&&(I=Jl+300-et(),10<I)){if(oa(T,h,kn,!ia),bn(T,0)!==0)break e;T.timeoutHandle=Vu(fu.bind(null,T,_,jn,ro,Ql,h,kn,Xa,wi,ia,2,-0,0),I);break e}fu(T,_,jn,ro,Ql,h,kn,Xa,wi,ia,0,-0,0)}}break}while(!0);Yn(s)}function as(s){jn===null?jn=s:jn.push.apply(jn,s)}function fu(s,h,_,T,O,I,J,le,he,De,Oe,Ue,Ae){var He=h.subtreeFlags;if((He&8192||(He&16785408)===16785408)&&(fr={stylesheets:null,count:0,unsuspend:Sp},ru(h),h=Cp(),h!==null)){s.cancelPendingCommit=h(Su.bind(null,s,_,T,O,J,le,he,1,Ue,Ae)),oa(s,I,J,!De);return}Su(s,_,T,O,J,le,he,Oe,Ue,Ae)}function Fh(s){for(var h=s;;){var _=h.tag;if((_===0||_===11||_===15)&&h.flags&16384&&(_=h.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var T=0;T<_.length;T++){var O=_[T],I=O.getSnapshot;O=O.value;try{if(!pn(I(),O))return!1}catch{return!1}}if(_=h.child,h.subtreeFlags&16384&&_!==null)_.return=h,h=_;else{if(h===s)break;for(;h.sibling===null;){if(h.return===null||h.return===s)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function oa(s,h,_,T){h&=~Kl,h&=~Xa,s.suspendedLanes|=h,s.pingedLanes&=~h,T&&(s.warmLanes|=h),T=s.expirationTimes;for(var O=h;0<O;){var I=31-Ge(O),J=1<<I;T[I]=-1,O&=~J}_!==0&&se(s,_,h)}function lo(){return Nt&6?!0:(cr(0),!1)}function is(){if(vt!==null){if($t===0)var s=vt.return;else s=vt,Qn=Ya=null,cl(s),ci=null,ji=0,s=vt;for(;s!==null;)mu(s.alternate,s),s=s.return;vt=null}}function Si(s,h){s.finishedWork=null,s.finishedLanes=0;var _=s.timeoutHandle;_!==-1&&(s.timeoutHandle=-1,op(_)),_=s.cancelPendingCommit,_!==null&&(s.cancelPendingCommit=null,_()),is(),kt=s,vt=_=wa(s.current,null),wt=h,$t=0,yn=null,ia=!1,_i=dt(s,h),Zl=!1,wi=kn=Kl=Xa=Sa=Vt=0,jn=lr=null,Ql=!1,h&8&&(h|=h&32);var T=s.entangledLanes;if(T!==0)for(s=s.entanglements,T&=h;0<T;){var O=31-Ge(T),I=1<<O;h|=s[O],T&=~I}return ra=h,$r(),_}function gu(s,h){pt=null,z.H=Un,h===Pi?(h=$d(),$t=3):h===Md?(h=$d(),$t=4):$t=h===Ac?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,yn=h,vt===null&&(Vt=1,Kr(s,Dn(h,s.current)))}function yu(){var s=z.H;return z.H=Un,s===null?Un:s}function vu(){var s=z.A;return z.A=Rh,s}function rs(){Vt=4,ia||(wt&4194176)!==wt&&En.current!==null||(_i=!0),!(Sa&134217727)&&!(Xa&134217727)||kt===null||oa(kt,wt,kn,!1)}function os(s,h,_){var T=Nt;Nt|=2;var O=yu(),I=vu();(kt!==s||wt!==h)&&(ro=null,Si(s,h)),h=!1;var J=Vt;e:do try{if($t!==0&&vt!==null){var le=vt,he=yn;switch($t){case 8:is(),J=6;break e;case 3:case 2:case 6:En.current===null&&(h=!0);var De=$t;if($t=0,yn=null,Di(s,le,he,De),_&&_i){J=0;break e}break;default:De=$t,$t=0,yn=null,Di(s,le,he,De)}}Ph(),J=Vt;break}catch(Oe){gu(s,Oe)}while(!0);return h&&s.shellSuspendCounter++,Qn=Ya=null,Nt=T,z.H=O,z.A=I,vt===null&&(kt=null,wt=0,$r()),J}function Ph(){for(;vt!==null;)bu(vt)}function Uh(s,h){var _=Nt;Nt|=2;var T=yu(),O=vu();kt!==s||wt!==h?(ro=null,io=et()+500,Si(s,h)):_i=dt(s,h);e:do try{if($t!==0&&vt!==null){h=vt;var I=yn;t:switch($t){case 1:$t=0,yn=null,Di(s,h,I,1);break;case 2:if(Ad(I)){$t=0,yn=null,_u(h);break}h=function(){$t===2&&kt===s&&($t=7),Yn(s)},I.then(h,h);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:Ad(I)?($t=0,yn=null,_u(h)):($t=0,yn=null,Di(s,h,I,7));break;case 5:var J=null;switch(vt.tag){case 26:J=vt.memoizedState;case 5:case 27:var le=vt;if(!J||Xu(J)){$t=0,yn=null;var he=le.sibling;if(he!==null)vt=he;else{var De=le.return;De!==null?(vt=De,so(De)):vt=null}break t}}$t=0,yn=null,Di(s,h,I,5);break;case 6:$t=0,yn=null,Di(s,h,I,6);break;case 8:is(),Vt=6;break e;default:throw Error(u(462))}}jh();break}catch(Oe){gu(s,Oe)}while(!0);return Qn=Ya=null,z.H=T,z.A=O,Nt=_,vt!==null?0:(kt=null,wt=0,$r(),Vt)}function jh(){for(;vt!==null&&!je();)bu(vt)}function bu(s){var h=Fc(s.alternate,s,ra);s.memoizedProps=s.pendingProps,h===null?so(s):vt=h}function _u(s){var h=s,_=h.alternate;switch(h.tag){case 15:case 0:h=Nc(_,h,h.pendingProps,h.type,void 0,wt);break;case 11:h=Nc(_,h,h.pendingProps,h.type.render,h.ref,wt);break;case 5:cl(h);default:mu(_,h),h=vt=du(h,ra),h=Fc(_,h,ra)}s.memoizedProps=s.pendingProps,h===null?so(s):vt=h}function Di(s,h,_,T){Qn=Ya=null,cl(h),ci=null,ji=0;var O=h.return;try{if(Hh(s,O,h,_,wt)){Vt=1,Kr(s,Dn(_,s.current)),vt=null;return}}catch(I){if(O!==null)throw vt=O,I;Vt=1,Kr(s,Dn(_,s.current)),vt=null;return}h.flags&32768?(Dt||T===1?s=!0:_i||wt&536870912?s=!1:(ia=s=!0,(T===2||T===3||T===6)&&(T=En.current,T!==null&&T.tag===13&&(T.flags|=16384))),wu(h,s)):so(h)}function so(s){var h=s;do{if(h.flags&32768){wu(h,ia);return}s=h.return;var _=Ih(h.alternate,h,ra);if(_!==null){vt=_;return}if(h=h.sibling,h!==null){vt=h;return}vt=h=s}while(h!==null);Vt===0&&(Vt=5)}function wu(s,h){do{var _=Vh(s.alternate,s);if(_!==null){_.flags&=32767,vt=_;return}if(_=s.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!h&&(s=s.sibling,s!==null)){vt=s;return}vt=s=_}while(s!==null);Vt=6,vt=null}function Su(s,h,_,T,O,I,J,le,he,De){var Oe=z.T,Ue=b.p;try{b.p=2,z.T=null,Yh(s,h,_,T,Ue,O,I,J,le,he,De)}finally{z.T=Oe,b.p=Ue}}function Yh(s,h,_,T,O,I,J,le){do Ci();while(Za!==null);if(Nt&6)throw Error(u(327));var he=s.finishedWork;if(T=s.finishedLanes,he===null)return null;if(s.finishedWork=null,s.finishedLanes=0,he===s.current)throw Error(u(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var De=he.lanes|he.childLanes;if(De|=Xo,W(s,T,De,I,J,le),s===kt&&(vt=kt=null,wt=0),!(he.subtreeFlags&10256)&&!(he.flags&10256)||oo||(oo=!0,es=De,ts=_,Xh(mt,function(){return Ci(),null})),_=(he.flags&15990)!==0,he.subtreeFlags&15990||_?(_=z.T,z.T=null,I=b.p,b.p=2,J=Nt,Nt|=4,Lh(s,he),nu(he,s),fh(vs,s.containerInfo),wo=!!ys,vs=ys=null,s.current=he,Qc(s,he.alternate,he),Le(),Nt=J,b.p=I,z.T=_):s.current=he,oo?(oo=!1,Za=s,sr=T):Du(s,De),De=s.pendingLanes,De===0&&(Da=null),ka(he.stateNode),Yn(s),h!==null)for(O=s.onRecoverableError,he=0;he<h.length;he++)De=h[he],O(De.value,{componentStack:De.stack});return sr&3&&Ci(),De=s.pendingLanes,T&4194218&&De&42?s===ns?dr++:(dr=0,ns=s):dr=0,cr(0),null}function Du(s,h){(s.pooledCacheLanes&=h)===0&&(h=s.pooledCache,h!=null&&(s.pooledCache=null,Wi(h)))}function Ci(){if(Za!==null){var s=Za,h=es;es=0;var _=R(sr),T=z.T,O=b.p;try{if(b.p=32>_?32:_,z.T=null,Za===null)var I=!1;else{_=ts,ts=null;var J=Za,le=sr;if(Za=null,sr=0,Nt&6)throw Error(u(331));var he=Nt;if(Nt|=4,lu(J.current),iu(J,J.current,le,_),Nt=he,cr(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(St,J)}catch{}I=!0}return I}finally{b.p=O,z.T=T,Du(s,h)}}return!1}function Cu(s,h,_){h=Dn(_,h),h=Cl(s.stateNode,h,2),s=ya(s,h,2),s!==null&&(U(s,2),Yn(s))}function Mt(s,h,_){if(s.tag===3)Cu(s,s,_);else for(;h!==null;){if(h.tag===3){Cu(h,s,_);break}else if(h.tag===1){var T=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Da===null||!Da.has(T))){s=Dn(_,s),_=xc(2),T=ya(h,_,2),T!==null&&(Mc(_,T,h,s),U(T,2),Yn(T));break}}h=h.return}}function ls(s,h,_){var T=s.pingCache;if(T===null){T=s.pingCache=new zh;var O=new Set;T.set(h,O)}else O=T.get(h),O===void 0&&(O=new Set,T.set(h,O));O.has(_)||(Zl=!0,O.add(_),s=Wh.bind(null,s,h,_),h.then(s,s))}function Wh(s,h,_){var T=s.pingCache;T!==null&&T.delete(h),s.pingedLanes|=s.suspendedLanes&_,s.warmLanes&=~_,kt===s&&(wt&_)===_&&(Vt===4||Vt===3&&(wt&62914560)===wt&&300>et()-Jl?!(Nt&2)&&Si(s,0):Kl|=_,wi===wt&&(wi=0)),Yn(s)}function Tu(s,h){h===0&&(h=Nn()),s=da(s,h),s!==null&&(U(s,h),Yn(s))}function qh(s){var h=s.memoizedState,_=0;h!==null&&(_=h.retryLane),Tu(s,_)}function Gh(s,h){var _=0;switch(s.tag){case 13:var T=s.stateNode,O=s.memoizedState;O!==null&&(_=O.retryLane);break;case 19:T=s.stateNode;break;case 22:T=s.stateNode._retryCache;break;default:throw Error(u(314))}T!==null&&T.delete(h),Tu(s,_)}function Xh(s,h){return Ve(s,h)}var co=null,Ti=null,ss=!1,uo=!1,ds=!1,Ka=0;function Yn(s){s!==Ti&&s.next===null&&(Ti===null?co=Ti=s:Ti=Ti.next=s),uo=!0,ss||(ss=!0,Kh(Zh))}function cr(s,h){if(!ds&&uo){ds=!0;do for(var _=!1,T=co;T!==null;){if(s!==0){var O=T.pendingLanes;if(O===0)var I=0;else{var J=T.suspendedLanes,le=T.pingedLanes;I=(1<<31-Ge(42|s)+1)-1,I&=O&~(J&~le),I=I&201326677?I&201326677|1:I?I|2:0}I!==0&&(_=!0,Mu(T,I))}else I=wt,I=bn(T,T===kt?I:0),!(I&3)||dt(T,I)||(_=!0,Mu(T,I));T=T.next}while(_);ds=!1}}function Zh(){uo=ss=!1;var s=0;Ka!==0&&(rp()&&(s=Ka),Ka=0);for(var h=et(),_=null,T=co;T!==null;){var O=T.next,I=Eu(T,h);I===0?(T.next=null,_===null?co=O:_.next=O,O===null&&(Ti=_)):(_=T,(s!==0||I&3)&&(uo=!0)),T=O}cr(s)}function Eu(s,h){for(var _=s.suspendedLanes,T=s.pingedLanes,O=s.expirationTimes,I=s.pendingLanes&-62914561;0<I;){var J=31-Ge(I),le=1<<J,he=O[J];he===-1?(!(le&_)||le&T)&&(O[J]=On(le,h)):he<=h&&(s.expiredLanes|=le),I&=~le}if(h=kt,_=wt,_=bn(s,s===h?_:0),T=s.callbackNode,_===0||s===h&&$t===2||s.cancelPendingCommit!==null)return T!==null&&T!==null&&ye(T),s.callbackNode=null,s.callbackPriority=0;if(!(_&3)||dt(s,_)){if(h=_&-_,h===s.callbackPriority)return h;switch(T!==null&&ye(T),R(_)){case 2:case 8:_=Ne;break;case 32:_=mt;break;case 268435456:_=Ke;break;default:_=mt}return T=xu.bind(null,s),_=Ve(_,T),s.callbackPriority=h,s.callbackNode=_,h}return T!==null&&T!==null&&ye(T),s.callbackPriority=2,s.callbackNode=null,2}function xu(s,h){var _=s.callbackNode;if(Ci()&&s.callbackNode!==_)return null;var T=wt;return T=bn(s,s===kt?T:0),T===0?null:(pu(s,T,h),Eu(s,et()),s.callbackNode!=null&&s.callbackNode===_?xu.bind(null,s):null)}function Mu(s,h){if(Ci())return null;pu(s,h,!0)}function Kh(s){lp(function(){Nt&6?Ve(ut,s):s()})}function cs(){return Ka===0&&(Ka=Ln()),Ka}function Au(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Cr(""+s)}function ku(s,h){var _=h.ownerDocument.createElement("input");return _.name=h.name,_.value=h.value,s.id&&_.setAttribute("form",s.id),h.parentNode.insertBefore(_,h),s=new FormData(s),_.parentNode.removeChild(_),s}function Qh(s,h,_,T,O){if(h==="submit"&&_&&_.stateNode===O){var I=Au((O[pe]||null).action),J=T.submitter;J&&(h=(h=J[pe]||null)?Au(h.formAction):J.getAttribute("formAction"),h!==null&&(I=h,J=null));var le=new Mr("action","action",null,T,O);s.push({event:le,listeners:[{instance:null,listener:function(){if(T.defaultPrevented){if(Ka!==0){var he=J?ku(O,J):new FormData(O);bl(_,{pending:!0,data:he,method:O.method,action:I},null,he)}}else typeof I=="function"&&(le.preventDefault(),he=J?ku(O,J):new FormData(O),bl(_,{pending:!0,data:he,method:O.method,action:I},I,he))},currentTarget:O}]})}}for(var us=0;us<Sd.length;us++){var ms=Sd[us],Jh=ms.toLowerCase(),ep=ms[0].toUpperCase()+ms.slice(1);In(Jh,"on"+ep)}In(yd,"onAnimationEnd"),In(vd,"onAnimationIteration"),In(bd,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(yh,"onTransitionRun"),In(vh,"onTransitionStart"),In(bh,"onTransitionCancel"),In(_d,"onTransitionEnd"),ht("onMouseEnter",["mouseout","mouseover"]),ht("onMouseLeave",["mouseout","mouseover"]),ht("onPointerEnter",["pointerout","pointerover"]),ht("onPointerLeave",["pointerout","pointerover"]),Je("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Je("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Je("onBeforeInput",["compositionend","keypress","textInput","paste"]),Je("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ur));function $u(s,h){h=(h&4)!==0;for(var _=0;_<s.length;_++){var T=s[_],O=T.event;T=T.listeners;e:{var I=void 0;if(h)for(var J=T.length-1;0<=J;J--){var le=T[J],he=le.instance,De=le.currentTarget;if(le=le.listener,he!==I&&O.isPropagationStopped())break e;I=le,O.currentTarget=De;try{I(O)}catch(Oe){Zr(Oe)}O.currentTarget=null,I=he}else for(J=0;J<T.length;J++){if(le=T[J],he=le.instance,De=le.currentTarget,le=le.listener,he!==I&&O.isPropagationStopped())break e;I=le,O.currentTarget=De;try{I(O)}catch(Oe){Zr(Oe)}O.currentTarget=null,I=he}}}}function _t(s,h){var _=h[Se];_===void 0&&(_=h[Se]=new Set);var T=s+"__bubble";_.has(T)||(Hu(h,s,2,!1),_.add(T))}function hs(s,h,_){var T=0;h&&(T|=4),Hu(_,s,T,h)}var mo="_reactListening"+Math.random().toString(36).slice(2);function ps(s){if(!s[mo]){s[mo]=!0,nt.forEach(function(_){_!=="selectionchange"&&(tp.has(_)||hs(_,!1,s),hs(_,!0,s))});var h=s.nodeType===9?s:s.ownerDocument;h===null||h[mo]||(h[mo]=!0,hs("selectionchange",!1,h))}}function Hu(s,h,_,T){switch(tm(h)){case 2:var O=xp;break;case 8:O=Mp;break;default:O=xs}_=O.bind(null,h,_,s),O=void 0,!Bo||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(O=!0),T?O!==void 0?s.addEventListener(h,_,{capture:!0,passive:O}):s.addEventListener(h,_,!0):O!==void 0?s.addEventListener(h,_,{passive:O}):s.addEventListener(h,_,!1)}function fs(s,h,_,T,O){var I=T;if(!(h&1)&&!(h&2)&&T!==null)e:for(;;){if(T===null)return;var J=T.tag;if(J===3||J===4){var le=T.stateNode.containerInfo;if(le===O||le.nodeType===8&&le.parentNode===O)break;if(J===4)for(J=T.return;J!==null;){var he=J.tag;if((he===3||he===4)&&(he=J.stateNode.containerInfo,he===O||he.nodeType===8&&he.parentNode===O))return;J=J.return}for(;le!==null;){if(J=$e(le),J===null)return;if(he=J.tag,he===5||he===6||he===26||he===27){T=I=J;continue e}le=le.parentNode}}T=T.return}qs(function(){var De=I,Oe=Lo(_),Ue=[];e:{var Ae=wd.get(s);if(Ae!==void 0){var He=Mr,tt=s;switch(s){case"keypress":if(Er(_)===0)break e;case"keydown":case"keyup":He=Gm;break;case"focusin":tt="focus",He=zo;break;case"focusout":tt="blur",He=zo;break;case"beforeblur":case"afterblur":He=zo;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=Zs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=Bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=Km;break;case yd:case vd:case bd:He=Rm;break;case _d:He=Jm;break;case"scroll":case"scrollend":He=Lm;break;case"wheel":He=th;break;case"copy":case"cut":case"paste":He=Fm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=Qs;break;case"toggle":case"beforetoggle":He=ah}var ot=(h&4)!==0,Rt=!ot&&(s==="scroll"||s==="scrollend"),Te=ot?Ae!==null?Ae+"Capture":null:Ae;ot=[];for(var _e=De,Ee;_e!==null;){var ze=_e;if(Ee=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||Ee===null||Te===null||(ze=ki(_e,Te),ze!=null&&ot.push(mr(_e,ze,Ee))),Rt)break;_e=_e.return}0<ot.length&&(Ae=new He(Ae,tt,null,_,Oe),Ue.push({event:Ae,listeners:ot}))}}if(!(h&7)){e:{if(Ae=s==="mouseover"||s==="pointerover",He=s==="mouseout"||s==="pointerout",Ae&&_!==Oo&&(tt=_.relatedTarget||_.fromElement)&&($e(tt)||tt[fe]))break e;if((He||Ae)&&(Ae=Oe.window===Oe?Oe:(Ae=Oe.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,He?(tt=_.relatedTarget||_.toElement,He=De,tt=tt?$e(tt):null,tt!==null&&(Rt=te(tt),ot=tt.tag,tt!==Rt||ot!==5&&ot!==27&&ot!==6)&&(tt=null)):(He=null,tt=De),He!==tt)){if(ot=Zs,ze="onMouseLeave",Te="onMouseEnter",_e="mouse",(s==="pointerout"||s==="pointerover")&&(ot=Qs,ze="onPointerLeave",Te="onPointerEnter",_e="pointer"),Rt=He==null?Ae:Ze(He),Ee=tt==null?Ae:Ze(tt),Ae=new ot(ze,_e+"leave",He,_,Oe),Ae.target=Rt,Ae.relatedTarget=Ee,ze=null,$e(Oe)===De&&(ot=new ot(Te,_e+"enter",tt,_,Oe),ot.target=Ee,ot.relatedTarget=Rt,ze=ot),Rt=ze,He&&tt)t:{for(ot=He,Te=tt,_e=0,Ee=ot;Ee;Ee=Ei(Ee))_e++;for(Ee=0,ze=Te;ze;ze=Ei(ze))Ee++;for(;0<_e-Ee;)ot=Ei(ot),_e--;for(;0<Ee-_e;)Te=Ei(Te),Ee--;for(;_e--;){if(ot===Te||Te!==null&&ot===Te.alternate)break t;ot=Ei(ot),Te=Ei(Te)}ot=null}else ot=null;He!==null&&Ou(Ue,Ae,He,ot,!1),tt!==null&&Rt!==null&&Ou(Ue,Rt,tt,ot,!0)}}e:{if(Ae=De?Ze(De):window,He=Ae.nodeName&&Ae.nodeName.toLowerCase(),He==="select"||He==="input"&&Ae.type==="file")var Qe=od;else if(id(Ae))if(ld)Qe=hh;else{Qe=uh;var gt=ch}else He=Ae.nodeName,!He||He.toLowerCase()!=="input"||Ae.type!=="checkbox"&&Ae.type!=="radio"?De&&Ho(De.elementType)&&(Qe=od):Qe=mh;if(Qe&&(Qe=Qe(s,De))){rd(Ue,Qe,_,Oe);break e}gt&&gt(s,Ae,De),s==="focusout"&&De&&Ae.type==="number"&&De.memoizedProps.value!=null&&$o(Ae,"number",Ae.value)}switch(gt=De?Ze(De):window,s){case"focusin":(id(gt)||gt.contentEditable==="true")&&(ii=gt,Wo=De,Vi=null);break;case"focusout":Vi=Wo=ii=null;break;case"mousedown":qo=!0;break;case"contextmenu":case"mouseup":case"dragend":qo=!1,fd(Ue,_,Oe);break;case"selectionchange":if(gh)break;case"keydown":case"keyup":fd(Ue,_,Oe)}var at;if(Po)e:{switch(s){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else ai?nd(s,_)&&(it="onCompositionEnd"):s==="keydown"&&_.keyCode===229&&(it="onCompositionStart");it&&(Js&&_.locale!=="ko"&&(ai||it!=="onCompositionStart"?it==="onCompositionEnd"&&ai&&(at=Gs()):(sa=Oe,Io="value"in sa?sa.value:sa.textContent,ai=!0)),gt=ho(De,it),0<gt.length&&(it=new Ks(it,s,null,_,Oe),Ue.push({event:it,listeners:gt}),at?it.data=at:(at=ad(_),at!==null&&(it.data=at)))),(at=rh?oh(s,_):lh(s,_))&&(it=ho(De,"onBeforeInput"),0<it.length&&(gt=new Ks("onBeforeInput","beforeinput",null,_,Oe),Ue.push({event:gt,listeners:it}),gt.data=at)),Qh(Ue,s,De,_,Oe)}$u(Ue,h)})}function mr(s,h,_){return{instance:s,listener:h,currentTarget:_}}function ho(s,h){for(var _=h+"Capture",T=[];s!==null;){var O=s,I=O.stateNode;O=O.tag,O!==5&&O!==26&&O!==27||I===null||(O=ki(s,_),O!=null&&T.unshift(mr(s,O,I)),O=ki(s,h),O!=null&&T.push(mr(s,O,I))),s=s.return}return T}function Ei(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Ou(s,h,_,T,O){for(var I=h._reactName,J=[];_!==null&&_!==T;){var le=_,he=le.alternate,De=le.stateNode;if(le=le.tag,he!==null&&he===T)break;le!==5&&le!==26&&le!==27||De===null||(he=De,O?(De=ki(_,I),De!=null&&J.unshift(mr(_,De,he))):O||(De=ki(_,I),De!=null&&J.push(mr(_,De,he)))),_=_.return}J.length!==0&&s.push({event:h,listeners:J})}var np=/\r\n?/g,ap=/\u0000|\uFFFD/g;function Lu(s){return(typeof s=="string"?s:""+s).replace(np,`
`).replace(ap,"")}function Nu(s,h){return h=Lu(h),Lu(s)===h}function po(){}function xt(s,h,_,T,O,I){switch(_){case"children":typeof T=="string"?h==="body"||h==="textarea"&&T===""||ei(s,T):(typeof T=="number"||typeof T=="bigint")&&h!=="body"&&ei(s,""+T);break;case"className":Bn(s,"class",T);break;case"tabIndex":Bn(s,"tabindex",T);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(s,_,T);break;case"style":Ys(s,T,I);break;case"data":if(h!=="object"){Bn(s,"data",T);break}case"src":case"href":if(T===""&&(h!=="a"||_!=="href")){s.removeAttribute(_);break}if(T==null||typeof T=="function"||typeof T=="symbol"||typeof T=="boolean"){s.removeAttribute(_);break}T=Cr(""+T),s.setAttribute(_,T);break;case"action":case"formAction":if(typeof T=="function"){s.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(_==="formAction"?(h!=="input"&&xt(s,h,"name",O.name,O,null),xt(s,h,"formEncType",O.formEncType,O,null),xt(s,h,"formMethod",O.formMethod,O,null),xt(s,h,"formTarget",O.formTarget,O,null)):(xt(s,h,"encType",O.encType,O,null),xt(s,h,"method",O.method,O,null),xt(s,h,"target",O.target,O,null)));if(T==null||typeof T=="symbol"||typeof T=="boolean"){s.removeAttribute(_);break}T=Cr(""+T),s.setAttribute(_,T);break;case"onClick":T!=null&&(s.onclick=po);break;case"onScroll":T!=null&&_t("scroll",s);break;case"onScrollEnd":T!=null&&_t("scrollend",s);break;case"dangerouslySetInnerHTML":if(T!=null){if(typeof T!="object"||!("__html"in T))throw Error(u(61));if(_=T.__html,_!=null){if(O.children!=null)throw Error(u(60));s.innerHTML=_}}break;case"multiple":s.multiple=T&&typeof T!="function"&&typeof T!="symbol";break;case"muted":s.muted=T&&typeof T!="function"&&typeof T!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(T==null||typeof T=="function"||typeof T=="boolean"||typeof T=="symbol"){s.removeAttribute("xlink:href");break}_=Cr(""+T),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":T!=null&&typeof T!="function"&&typeof T!="symbol"?s.setAttribute(_,""+T):s.removeAttribute(_);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":T&&typeof T!="function"&&typeof T!="symbol"?s.setAttribute(_,""):s.removeAttribute(_);break;case"capture":case"download":T===!0?s.setAttribute(_,""):T!==!1&&T!=null&&typeof T!="function"&&typeof T!="symbol"?s.setAttribute(_,T):s.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":T!=null&&typeof T!="function"&&typeof T!="symbol"&&!isNaN(T)&&1<=T?s.setAttribute(_,T):s.removeAttribute(_);break;case"rowSpan":case"start":T==null||typeof T=="function"||typeof T=="symbol"||isNaN(T)?s.removeAttribute(_):s.setAttribute(_,T);break;case"popover":_t("beforetoggle",s),_t("toggle",s),Bt(s,"popover",T);break;case"xlinkActuate":Gt(s,"http://www.w3.org/1999/xlink","xlink:actuate",T);break;case"xlinkArcrole":Gt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",T);break;case"xlinkRole":Gt(s,"http://www.w3.org/1999/xlink","xlink:role",T);break;case"xlinkShow":Gt(s,"http://www.w3.org/1999/xlink","xlink:show",T);break;case"xlinkTitle":Gt(s,"http://www.w3.org/1999/xlink","xlink:title",T);break;case"xlinkType":Gt(s,"http://www.w3.org/1999/xlink","xlink:type",T);break;case"xmlBase":Gt(s,"http://www.w3.org/XML/1998/namespace","xml:base",T);break;case"xmlLang":Gt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",T);break;case"xmlSpace":Gt(s,"http://www.w3.org/XML/1998/namespace","xml:space",T);break;case"is":Bt(s,"is",T);break;case"innerText":case"textContent":break;default:(!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(_=Hm.get(_)||_,Bt(s,_,T))}}function gs(s,h,_,T,O,I){switch(_){case"style":Ys(s,T,I);break;case"dangerouslySetInnerHTML":if(T!=null){if(typeof T!="object"||!("__html"in T))throw Error(u(61));if(_=T.__html,_!=null){if(O.children!=null)throw Error(u(60));s.innerHTML=_}}break;case"children":typeof T=="string"?ei(s,T):(typeof T=="number"||typeof T=="bigint")&&ei(s,""+T);break;case"onScroll":T!=null&&_t("scroll",s);break;case"onScrollEnd":T!=null&&_t("scrollend",s);break;case"onClick":T!=null&&(s.onclick=po);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rt.hasOwnProperty(_))e:{if(_[0]==="o"&&_[1]==="n"&&(O=_.endsWith("Capture"),h=_.slice(2,O?_.length-7:void 0),I=s[pe]||null,I=I!=null?I[_]:null,typeof I=="function"&&s.removeEventListener(h,I,O),typeof T=="function")){typeof I!="function"&&I!==null&&(_ in s?s[_]=null:s.hasAttribute(_)&&s.removeAttribute(_)),s.addEventListener(h,T,O);break e}_ in s?s[_]=T:T===!0?s.setAttribute(_,""):Bt(s,_,T)}}}function an(s,h,_){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",s),_t("load",s);var T=!1,O=!1,I;for(I in _)if(_.hasOwnProperty(I)){var J=_[I];if(J!=null)switch(I){case"src":T=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,h));default:xt(s,h,I,J,_,null)}}O&&xt(s,h,"srcSet",_.srcSet,_,null),T&&xt(s,h,"src",_.src,_,null);return;case"input":_t("invalid",s);var le=I=J=O=null,he=null,De=null;for(T in _)if(_.hasOwnProperty(T)){var Oe=_[T];if(Oe!=null)switch(T){case"name":O=Oe;break;case"type":J=Oe;break;case"checked":he=Oe;break;case"defaultChecked":De=Oe;break;case"value":I=Oe;break;case"defaultValue":le=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(u(137,h));break;default:xt(s,h,T,Oe,_,null)}}Fs(s,I,le,he,De,J,O,!1),Ha(s);return;case"select":_t("invalid",s),T=J=I=null;for(O in _)if(_.hasOwnProperty(O)&&(le=_[O],le!=null))switch(O){case"value":I=le;break;case"defaultValue":J=le;break;case"multiple":T=le;default:xt(s,h,O,le,_,null)}h=I,_=J,s.multiple=!!T,h!=null?Ja(s,!!T,h,!1):_!=null&&Ja(s,!!T,_,!0);return;case"textarea":_t("invalid",s),I=O=T=null;for(J in _)if(_.hasOwnProperty(J)&&(le=_[J],le!=null))switch(J){case"value":T=le;break;case"defaultValue":O=le;break;case"children":I=le;break;case"dangerouslySetInnerHTML":if(le!=null)throw Error(u(91));break;default:xt(s,h,J,le,_,null)}Us(s,T,O,I),Ha(s);return;case"option":for(he in _)if(_.hasOwnProperty(he)&&(T=_[he],T!=null))switch(he){case"selected":s.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:xt(s,h,he,T,_,null)}return;case"dialog":_t("cancel",s),_t("close",s);break;case"iframe":case"object":_t("load",s);break;case"video":case"audio":for(T=0;T<ur.length;T++)_t(ur[T],s);break;case"image":_t("error",s),_t("load",s);break;case"details":_t("toggle",s);break;case"embed":case"source":case"link":_t("error",s),_t("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in _)if(_.hasOwnProperty(De)&&(T=_[De],T!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,h));default:xt(s,h,De,T,_,null)}return;default:if(Ho(h)){for(Oe in _)_.hasOwnProperty(Oe)&&(T=_[Oe],T!==void 0&&gs(s,h,Oe,T,_,void 0));return}}for(le in _)_.hasOwnProperty(le)&&(T=_[le],T!=null&&xt(s,h,le,T,_,null))}function ip(s,h,_,T){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,I=null,J=null,le=null,he=null,De=null,Oe=null;for(He in _){var Ue=_[He];if(_.hasOwnProperty(He)&&Ue!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":he=Ue;default:T.hasOwnProperty(He)||xt(s,h,He,null,T,Ue)}}for(var Ae in T){var He=T[Ae];if(Ue=_[Ae],T.hasOwnProperty(Ae)&&(He!=null||Ue!=null))switch(Ae){case"type":I=He;break;case"name":O=He;break;case"checked":De=He;break;case"defaultChecked":Oe=He;break;case"value":J=He;break;case"defaultValue":le=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(u(137,h));break;default:He!==Ue&&xt(s,h,Ae,He,T,Ue)}}ko(s,J,le,he,De,Oe,I,O);return;case"select":He=J=le=Ae=null;for(I in _)if(he=_[I],_.hasOwnProperty(I)&&he!=null)switch(I){case"value":break;case"multiple":He=he;default:T.hasOwnProperty(I)||xt(s,h,I,null,T,he)}for(O in T)if(I=T[O],he=_[O],T.hasOwnProperty(O)&&(I!=null||he!=null))switch(O){case"value":Ae=I;break;case"defaultValue":le=I;break;case"multiple":J=I;default:I!==he&&xt(s,h,O,I,T,he)}h=le,_=J,T=He,Ae!=null?Ja(s,!!_,Ae,!1):!!T!=!!_&&(h!=null?Ja(s,!!_,h,!0):Ja(s,!!_,_?[]:"",!1));return;case"textarea":He=Ae=null;for(le in _)if(O=_[le],_.hasOwnProperty(le)&&O!=null&&!T.hasOwnProperty(le))switch(le){case"value":break;case"children":break;default:xt(s,h,le,null,T,O)}for(J in T)if(O=T[J],I=_[J],T.hasOwnProperty(J)&&(O!=null||I!=null))switch(J){case"value":Ae=O;break;case"defaultValue":He=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(u(91));break;default:O!==I&&xt(s,h,J,O,T,I)}Ps(s,Ae,He);return;case"option":for(var tt in _)if(Ae=_[tt],_.hasOwnProperty(tt)&&Ae!=null&&!T.hasOwnProperty(tt))switch(tt){case"selected":s.selected=!1;break;default:xt(s,h,tt,null,T,Ae)}for(he in T)if(Ae=T[he],He=_[he],T.hasOwnProperty(he)&&Ae!==He&&(Ae!=null||He!=null))switch(he){case"selected":s.selected=Ae&&typeof Ae!="function"&&typeof Ae!="symbol";break;default:xt(s,h,he,Ae,T,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in _)Ae=_[ot],_.hasOwnProperty(ot)&&Ae!=null&&!T.hasOwnProperty(ot)&&xt(s,h,ot,null,T,Ae);for(De in T)if(Ae=T[De],He=_[De],T.hasOwnProperty(De)&&Ae!==He&&(Ae!=null||He!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(u(137,h));break;default:xt(s,h,De,Ae,T,He)}return;default:if(Ho(h)){for(var Rt in _)Ae=_[Rt],_.hasOwnProperty(Rt)&&Ae!==void 0&&!T.hasOwnProperty(Rt)&&gs(s,h,Rt,void 0,T,Ae);for(Oe in T)Ae=T[Oe],He=_[Oe],!T.hasOwnProperty(Oe)||Ae===He||Ae===void 0&&He===void 0||gs(s,h,Oe,Ae,T,He);return}}for(var Te in _)Ae=_[Te],_.hasOwnProperty(Te)&&Ae!=null&&!T.hasOwnProperty(Te)&&xt(s,h,Te,null,T,Ae);for(Ue in T)Ae=T[Ue],He=_[Ue],!T.hasOwnProperty(Ue)||Ae===He||Ae==null&&He==null||xt(s,h,Ue,Ae,T,He)}var ys=null,vs=null;function fo(s){return s.nodeType===9?s:s.ownerDocument}function Bu(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iu(s,h){if(s===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&h==="foreignObject"?0:s}function bs(s,h){return s==="textarea"||s==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var _s=null;function rp(){var s=window.event;return s&&s.type==="popstate"?s===_s?!1:(_s=s,!0):(_s=null,!1)}var Vu=typeof setTimeout=="function"?setTimeout:void 0,op=typeof clearTimeout=="function"?clearTimeout:void 0,Ru=typeof Promise=="function"?Promise:void 0,lp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ru<"u"?function(s){return Ru.resolve(null).then(s).catch(sp)}:Vu;function sp(s){setTimeout(function(){throw s})}function ws(s,h){var _=h,T=0;do{var O=_.nextSibling;if(s.removeChild(_),O&&O.nodeType===8)if(_=O.data,_==="/$"){if(T===0){s.removeChild(O),_r(h);return}T--}else _!=="$"&&_!=="$?"&&_!=="$!"||T++;_=O}while(_);_r(h)}function Ss(s){var h=s.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var _=h;switch(h=h.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":Ss(_),Ie(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}s.removeChild(_)}}function dp(s,h,_,T){for(;s.nodeType===1;){var O=_;if(s.nodeName.toLowerCase()!==h.toLowerCase()){if(!T&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(T){if(!s[Fe])switch(h){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(I=s.getAttribute("rel"),I==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(I!==O.rel||s.getAttribute("href")!==(O.href==null?null:O.href)||s.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||s.getAttribute("title")!==(O.title==null?null:O.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(I=s.getAttribute("src"),(I!==(O.src==null?null:O.src)||s.getAttribute("type")!==(O.type==null?null:O.type)||s.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&I&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(h==="input"&&s.type==="hidden"){var I=O.name==null?null:""+O.name;if(O.type==="hidden"&&s.getAttribute("name")===I)return s}else return s;if(s=zn(s.nextSibling),s===null)break}return null}function cp(s,h,_){if(h==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!_||(s=zn(s.nextSibling),s===null))return null;return s}function zn(s){for(;s!=null;s=s.nextSibling){var h=s.nodeType;if(h===1||h===3)break;if(h===8){if(h=s.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return s}function zu(s){s=s.previousSibling;for(var h=0;s;){if(s.nodeType===8){var _=s.data;if(_==="$"||_==="$!"||_==="$?"){if(h===0)return s;h--}else _==="/$"&&h++}s=s.previousSibling}return null}function Fu(s,h,_){switch(h=fo(_),s){case"html":if(s=h.documentElement,!s)throw Error(u(452));return s;case"head":if(s=h.head,!s)throw Error(u(453));return s;case"body":if(s=h.body,!s)throw Error(u(454));return s;default:throw Error(u(451))}}var $n=new Map,Pu=new Set;function go(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var la=b.d;b.d={f:up,r:mp,D:hp,C:pp,L:fp,m:gp,X:vp,S:yp,M:bp};function up(){var s=la.f(),h=lo();return s||h}function mp(s){var h=Re(s);h!==null&&h.tag===5&&h.type==="form"?fc(h):la.r(s)}var xi=typeof document>"u"?null:document;function Uu(s,h,_){var T=xi;if(T&&typeof h=="string"&&h){var O=wn(h);O='link[rel="'+s+'"][href="'+O+'"]',typeof _=="string"&&(O+='[crossorigin="'+_+'"]'),Pu.has(O)||(Pu.add(O),s={rel:s,crossOrigin:_,href:h},T.querySelector(O)===null&&(h=T.createElement("link"),an(h,"link",s),Xe(h),T.head.appendChild(h)))}}function hp(s){la.D(s),Uu("dns-prefetch",s,null)}function pp(s,h){la.C(s,h),Uu("preconnect",s,h)}function fp(s,h,_){la.L(s,h,_);var T=xi;if(T&&s&&h){var O='link[rel="preload"][as="'+wn(h)+'"]';h==="image"&&_&&_.imageSrcSet?(O+='[imagesrcset="'+wn(_.imageSrcSet)+'"]',typeof _.imageSizes=="string"&&(O+='[imagesizes="'+wn(_.imageSizes)+'"]')):O+='[href="'+wn(s)+'"]';var I=O;switch(h){case"style":I=Mi(s);break;case"script":I=Ai(s)}$n.has(I)||(s=N({rel:"preload",href:h==="image"&&_&&_.imageSrcSet?void 0:s,as:h},_),$n.set(I,s),T.querySelector(O)!==null||h==="style"&&T.querySelector(hr(I))||h==="script"&&T.querySelector(pr(I))||(h=T.createElement("link"),an(h,"link",s),Xe(h),T.head.appendChild(h)))}}function gp(s,h){la.m(s,h);var _=xi;if(_&&s){var T=h&&typeof h.as=="string"?h.as:"script",O='link[rel="modulepreload"][as="'+wn(T)+'"][href="'+wn(s)+'"]',I=O;switch(T){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=Ai(s)}if(!$n.has(I)&&(s=N({rel:"modulepreload",href:s},h),$n.set(I,s),_.querySelector(O)===null)){switch(T){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(pr(I)))return}T=_.createElement("link"),an(T,"link",s),Xe(T),_.head.appendChild(T)}}}function yp(s,h,_){la.S(s,h,_);var T=xi;if(T&&s){var O=Pe(T).hoistableStyles,I=Mi(s);h=h||"default";var J=O.get(I);if(!J){var le={loading:0,preload:null};if(J=T.querySelector(hr(I)))le.loading=5;else{s=N({rel:"stylesheet",href:s,"data-precedence":h},_),(_=$n.get(I))&&Ds(s,_);var he=J=T.createElement("link");Xe(he),an(he,"link",s),he._p=new Promise(function(De,Oe){he.onload=De,he.onerror=Oe}),he.addEventListener("load",function(){le.loading|=1}),he.addEventListener("error",function(){le.loading|=2}),le.loading|=4,yo(J,h,T)}J={type:"stylesheet",instance:J,count:1,state:le},O.set(I,J)}}}function vp(s,h){la.X(s,h);var _=xi;if(_&&s){var T=Pe(_).hoistableScripts,O=Ai(s),I=T.get(O);I||(I=_.querySelector(pr(O)),I||(s=N({src:s,async:!0},h),(h=$n.get(O))&&Cs(s,h),I=_.createElement("script"),Xe(I),an(I,"link",s),_.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},T.set(O,I))}}function bp(s,h){la.M(s,h);var _=xi;if(_&&s){var T=Pe(_).hoistableScripts,O=Ai(s),I=T.get(O);I||(I=_.querySelector(pr(O)),I||(s=N({src:s,async:!0,type:"module"},h),(h=$n.get(O))&&Cs(s,h),I=_.createElement("script"),Xe(I),an(I,"link",s),_.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},T.set(O,I))}}function ju(s,h,_,T){var O=(O=de.current)?go(O):null;if(!O)throw Error(u(446));switch(s){case"meta":case"title":return null;case"style":return typeof _.precedence=="string"&&typeof _.href=="string"?(h=Mi(_.href),_=Pe(O).hoistableStyles,T=_.get(h),T||(T={type:"style",instance:null,count:0,state:null},_.set(h,T)),T):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href=="string"&&typeof _.precedence=="string"){s=Mi(_.href);var I=Pe(O).hoistableStyles,J=I.get(s);if(J||(O=O.ownerDocument||O,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(s,J),(I=O.querySelector(hr(s)))&&!I._p&&(J.instance=I,J.state.loading=5),$n.has(s)||(_={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy},$n.set(s,_),I||_p(O,s,_,J.state))),h&&T===null)throw Error(u(528,""));return J}if(h&&T!==null)throw Error(u(529,""));return null;case"script":return h=_.async,_=_.src,typeof _=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Ai(_),_=Pe(O).hoistableScripts,T=_.get(h),T||(T={type:"script",instance:null,count:0,state:null},_.set(h,T)),T):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,s))}}function Mi(s){return'href="'+wn(s)+'"'}function hr(s){return'link[rel="stylesheet"]['+s+"]"}function Yu(s){return N({},s,{"data-precedence":s.precedence,precedence:null})}function _p(s,h,_,T){s.querySelector('link[rel="preload"][as="style"]['+h+"]")?T.loading=1:(h=s.createElement("link"),T.preload=h,h.addEventListener("load",function(){return T.loading|=1}),h.addEventListener("error",function(){return T.loading|=2}),an(h,"link",_),Xe(h),s.head.appendChild(h))}function Ai(s){return'[src="'+wn(s)+'"]'}function pr(s){return"script[async]"+s}function Wu(s,h,_){if(h.count++,h.instance===null)switch(h.type){case"style":var T=s.querySelector('style[data-href~="'+wn(_.href)+'"]');if(T)return h.instance=T,Xe(T),T;var O=N({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return T=(s.ownerDocument||s).createElement("style"),Xe(T),an(T,"style",O),yo(T,_.precedence,s),h.instance=T;case"stylesheet":O=Mi(_.href);var I=s.querySelector(hr(O));if(I)return h.state.loading|=4,h.instance=I,Xe(I),I;T=Yu(_),(O=$n.get(O))&&Ds(T,O),I=(s.ownerDocument||s).createElement("link"),Xe(I);var J=I;return J._p=new Promise(function(le,he){J.onload=le,J.onerror=he}),an(I,"link",T),h.state.loading|=4,yo(I,_.precedence,s),h.instance=I;case"script":return I=Ai(_.src),(O=s.querySelector(pr(I)))?(h.instance=O,Xe(O),O):(T=_,(O=$n.get(I))&&(T=N({},_),Cs(T,O)),s=s.ownerDocument||s,O=s.createElement("script"),Xe(O),an(O,"link",T),s.head.appendChild(O),h.instance=O);case"void":return null;default:throw Error(u(443,h.type))}else h.type==="stylesheet"&&!(h.state.loading&4)&&(T=h.instance,h.state.loading|=4,yo(T,_.precedence,s));return h.instance}function yo(s,h,_){for(var T=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=T.length?T[T.length-1]:null,I=O,J=0;J<T.length;J++){var le=T[J];if(le.dataset.precedence===h)I=le;else if(I!==O)break}I?I.parentNode.insertBefore(s,I.nextSibling):(h=_.nodeType===9?_.head:_,h.insertBefore(s,h.firstChild))}function Ds(s,h){s.crossOrigin==null&&(s.crossOrigin=h.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=h.referrerPolicy),s.title==null&&(s.title=h.title)}function Cs(s,h){s.crossOrigin==null&&(s.crossOrigin=h.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=h.referrerPolicy),s.integrity==null&&(s.integrity=h.integrity)}var vo=null;function qu(s,h,_){if(vo===null){var T=new Map,O=vo=new Map;O.set(_,T)}else O=vo,T=O.get(_),T||(T=new Map,O.set(_,T));if(T.has(s))return T;for(T.set(s,null),_=_.getElementsByTagName(s),O=0;O<_.length;O++){var I=_[O];if(!(I[Fe]||I[re]||s==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var J=I.getAttribute(h)||"";J=s+J;var le=T.get(J);le?le.push(I):T.set(J,[I])}}return T}function Gu(s,h,_){s=s.ownerDocument||s,s.head.insertBefore(_,h==="title"?s.querySelector("head > title"):null)}function wp(s,h,_){if(_===1||h.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return s=h.disabled,typeof h.precedence=="string"&&s==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function Xu(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}var fr=null;function Sp(){}function Dp(s,h,_){if(fr===null)throw Error(u(475));var T=fr;if(h.type==="stylesheet"&&(typeof _.media!="string"||matchMedia(_.media).matches!==!1)&&!(h.state.loading&4)){if(h.instance===null){var O=Mi(_.href),I=s.querySelector(hr(O));if(I){s=I._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(T.count++,T=bo.bind(T),s.then(T,T)),h.state.loading|=4,h.instance=I,Xe(I);return}I=s.ownerDocument||s,_=Yu(_),(O=$n.get(O))&&Ds(_,O),I=I.createElement("link"),Xe(I);var J=I;J._p=new Promise(function(le,he){J.onload=le,J.onerror=he}),an(I,"link",_),h.instance=I}T.stylesheets===null&&(T.stylesheets=new Map),T.stylesheets.set(h,s),(s=h.state.preload)&&!(h.state.loading&3)&&(T.count++,h=bo.bind(T),s.addEventListener("load",h),s.addEventListener("error",h))}}function Cp(){if(fr===null)throw Error(u(475));var s=fr;return s.stylesheets&&s.count===0&&Ts(s,s.stylesheets),0<s.count?function(h){var _=setTimeout(function(){if(s.stylesheets&&Ts(s,s.stylesheets),s.unsuspend){var T=s.unsuspend;s.unsuspend=null,T()}},6e4);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(_)}}:null}function bo(){if(this.count--,this.count===0){if(this.stylesheets)Ts(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var _o=null;function Ts(s,h){s.stylesheets=null,s.unsuspend!==null&&(s.count++,_o=new Map,h.forEach(Tp,s),_o=null,bo.call(s))}function Tp(s,h){if(!(h.state.loading&4)){var _=_o.get(s);if(_)var T=_.get(null);else{_=new Map,_o.set(s,_);for(var O=s.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<O.length;I++){var J=O[I];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(_.set(J.dataset.precedence,J),T=J)}T&&_.set(null,T)}O=h.instance,J=O.getAttribute("data-precedence"),I=_.get(J)||T,I===T&&_.set(null,O),_.set(J,O),this.count++,T=bo.bind(this),O.addEventListener("load",T),O.addEventListener("error",T),I?I.parentNode.insertBefore(O,I.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(O,s.firstChild)),h.state.loading|=4}}var gr={$$typeof:f,Provider:null,Consumer:null,_currentValue:S,_currentValue2:S,_threadCount:0};function Ep(s,h,_,T,O,I,J,le){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ot(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ot(0),this.hiddenUpdates=Ot(null),this.identifierPrefix=T,this.onUncaughtError=O,this.onCaughtError=I,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=le,this.incompleteTransitions=new Map}function Zu(s,h,_,T,O,I,J,le,he,De,Oe,Ue){return s=new Ep(s,h,_,J,le,he,De,Ue),h=1,I===!0&&(h|=24),I=An(3,null,null,h),s.current=I,I.stateNode=s,h=al(),h.refCount++,s.pooledCache=h,h.refCount++,I.memoizedState={element:T,isDehydrated:_,cache:h},Il(I),s}function Ku(s){return s?(s=li,s):li}function Qu(s,h,_,T,O,I){O=Ku(O),T.context===null?T.context=O:T.pendingContext=O,T=ga(h),T.payload={element:_},I=I===void 0?null:I,I!==null&&(T.callback=I),_=ya(s,T,h),_!==null&&(un(_,s,h),Ji(_,s,h))}function Ju(s,h){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var _=s.retryLane;s.retryLane=_!==0&&_<h?_:h}}function Es(s,h){Ju(s,h),(s=s.alternate)&&Ju(s,h)}function em(s){if(s.tag===13){var h=da(s,67108864);h!==null&&un(h,s,67108864),Es(s,67108864)}}var wo=!0;function xp(s,h,_,T){var O=z.T;z.T=null;var I=b.p;try{b.p=2,xs(s,h,_,T)}finally{b.p=I,z.T=O}}function Mp(s,h,_,T){var O=z.T;z.T=null;var I=b.p;try{b.p=8,xs(s,h,_,T)}finally{b.p=I,z.T=O}}function xs(s,h,_,T){if(wo){var O=Ms(T);if(O===null)fs(s,h,T,So,_),nm(s,T);else if(kp(O,s,h,_,T))T.stopPropagation();else if(nm(s,T),h&4&&-1<Ap.indexOf(s)){for(;O!==null;){var I=Re(O);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var J=rn(I.pendingLanes);if(J!==0){var le=I;for(le.pendingLanes|=2,le.entangledLanes|=2;J;){var he=1<<31-Ge(J);le.entanglements[1]|=he,J&=~he}Yn(I),!(Nt&6)&&(io=et()+500,cr(0))}}break;case 13:le=da(I,2),le!==null&&un(le,I,2),lo(),Es(I,2)}if(I=Ms(T),I===null&&fs(s,h,T,So,_),I===O)break;O=I}O!==null&&T.stopPropagation()}else fs(s,h,T,null,_)}}function Ms(s){return s=Lo(s),As(s)}var So=null;function As(s){if(So=null,s=$e(s),s!==null){var h=te(s);if(h===null)s=null;else{var _=h.tag;if(_===13){if(s=E(h),s!==null)return s;s=null}else if(_===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;s=null}else h!==s&&(s=null)}}return So=s,null}function tm(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case ut:return 2;case Ne:return 8;case mt:case Be:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var ks=!1,Ca=null,Ta=null,Ea=null,yr=new Map,vr=new Map,xa=[],Ap="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nm(s,h){switch(s){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":yr.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":vr.delete(h.pointerId)}}function br(s,h,_,T,O,I){return s===null||s.nativeEvent!==I?(s={blockedOn:h,domEventName:_,eventSystemFlags:T,nativeEvent:I,targetContainers:[O]},h!==null&&(h=Re(h),h!==null&&em(h)),s):(s.eventSystemFlags|=T,h=s.targetContainers,O!==null&&h.indexOf(O)===-1&&h.push(O),s)}function kp(s,h,_,T,O){switch(h){case"focusin":return Ca=br(Ca,s,h,_,T,O),!0;case"dragenter":return Ta=br(Ta,s,h,_,T,O),!0;case"mouseover":return Ea=br(Ea,s,h,_,T,O),!0;case"pointerover":var I=O.pointerId;return yr.set(I,br(yr.get(I)||null,s,h,_,T,O)),!0;case"gotpointercapture":return I=O.pointerId,vr.set(I,br(vr.get(I)||null,s,h,_,T,O)),!0}return!1}function am(s){var h=$e(s.target);if(h!==null){var _=te(h);if(_!==null){if(h=_.tag,h===13){if(h=E(_),h!==null){s.blockedOn=h,oe(s.priority,function(){if(_.tag===13){var T=vn(),O=da(_,T);O!==null&&un(O,_,T),Es(_,T)}});return}}else if(h===3&&_.stateNode.current.memoizedState.isDehydrated){s.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Do(s){if(s.blockedOn!==null)return!1;for(var h=s.targetContainers;0<h.length;){var _=Ms(s.nativeEvent);if(_===null){_=s.nativeEvent;var T=new _.constructor(_.type,_);Oo=T,_.target.dispatchEvent(T),Oo=null}else return h=Re(_),h!==null&&em(h),s.blockedOn=_,!1;h.shift()}return!0}function im(s,h,_){Do(s)&&_.delete(h)}function $p(){ks=!1,Ca!==null&&Do(Ca)&&(Ca=null),Ta!==null&&Do(Ta)&&(Ta=null),Ea!==null&&Do(Ea)&&(Ea=null),yr.forEach(im),vr.forEach(im)}function Co(s,h){s.blockedOn===h&&(s.blockedOn=null,ks||(ks=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,$p)))}var To=null;function rm(s){To!==s&&(To=s,We.unstable_scheduleCallback(We.unstable_NormalPriority,function(){To===s&&(To=null);for(var h=0;h<s.length;h+=3){var _=s[h],T=s[h+1],O=s[h+2];if(typeof T!="function"){if(As(T||_)===null)continue;break}var I=Re(_);I!==null&&(s.splice(h,3),h-=3,bl(I,{pending:!0,data:O,method:_.method,action:T},T,O))}}))}function _r(s){function h(he){return Co(he,s)}Ca!==null&&Co(Ca,s),Ta!==null&&Co(Ta,s),Ea!==null&&Co(Ea,s),yr.forEach(h),vr.forEach(h);for(var _=0;_<xa.length;_++){var T=xa[_];T.blockedOn===s&&(T.blockedOn=null)}for(;0<xa.length&&(_=xa[0],_.blockedOn===null);)am(_),_.blockedOn===null&&xa.shift();if(_=(s.ownerDocument||s).$$reactFormReplay,_!=null)for(T=0;T<_.length;T+=3){var O=_[T],I=_[T+1],J=O[pe]||null;if(typeof I=="function")J||rm(_);else if(J){var le=null;if(I&&I.hasAttribute("formAction")){if(O=I,J=I[pe]||null)le=J.formAction;else if(As(O)!==null)continue}else le=J.action;typeof le=="function"?_[T+1]=le:(_.splice(T,3),T-=3),rm(_)}}}function $s(s){this._internalRoot=s}Eo.prototype.render=$s.prototype.render=function(s){var h=this._internalRoot;if(h===null)throw Error(u(409));var _=h.current,T=vn();Qu(_,T,s,h,null,null)},Eo.prototype.unmount=$s.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var h=s.containerInfo;s.tag===0&&Ci(),Qu(s.current,2,null,s,null,null),lo(),h[fe]=null}};function Eo(s){this._internalRoot=s}Eo.prototype.unstable_scheduleHydration=function(s){if(s){var h=K();s={blockedOn:null,target:s,priority:h};for(var _=0;_<xa.length&&h!==0&&h<xa[_].priority;_++);xa.splice(_,0,s),_===0&&am(s)}};var om=j.version;if(om!=="19.0.0")throw Error(u(527,om,"19.0.0"));b.findDOMNode=function(s){var h=s._reactInternals;if(h===void 0)throw typeof s.render=="function"?Error(u(188)):(s=Object.keys(s).join(","),Error(u(268,s)));return s=m(h),s=s!==null?c(s):null,s=s===null?null:s.stateNode,s};var Hp={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:z,findFiberByHostInstance:$e,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{St=xo.inject(Hp),Tt=xo}catch{}}return Sr.createRoot=function(s,h){if(!g(s))throw Error(u(299));var _=!1,T="",O=Dc,I=Cc,J=Tc,le=null;return h!=null&&(h.unstable_strictMode===!0&&(_=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onUncaughtError!==void 0&&(O=h.onUncaughtError),h.onCaughtError!==void 0&&(I=h.onCaughtError),h.onRecoverableError!==void 0&&(J=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(le=h.unstable_transitionCallbacks)),h=Zu(s,1,!1,null,null,_,T,O,I,J,le,null),s[fe]=h.current,ps(s.nodeType===8?s.parentNode:s),new $s(h)},Sr.hydrateRoot=function(s,h,_){if(!g(s))throw Error(u(299));var T=!1,O="",I=Dc,J=Cc,le=Tc,he=null,De=null;return _!=null&&(_.unstable_strictMode===!0&&(T=!0),_.identifierPrefix!==void 0&&(O=_.identifierPrefix),_.onUncaughtError!==void 0&&(I=_.onUncaughtError),_.onCaughtError!==void 0&&(J=_.onCaughtError),_.onRecoverableError!==void 0&&(le=_.onRecoverableError),_.unstable_transitionCallbacks!==void 0&&(he=_.unstable_transitionCallbacks),_.formState!==void 0&&(De=_.formState)),h=Zu(s,1,!0,h,_??null,T,O,I,J,le,he,De),h.context=Ku(null),_=h.current,T=vn(),O=ga(T),O.callback=null,ya(_,O,T),h.current.lanes=T,U(h,T),Yn(h),s[fe]=h.current,ps(s),new Eo(h)},Sr.version="19.0.0",Sr}var gm;function Pp(){if(gm)return Ls.exports;gm=1;function We(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(We)}catch(j){console.error(j)}}return We(),Ls.exports=Fp(),Ls.exports}var Up=Pp(),ym={},vm;function jp(){return vm||(vm=1,function(){typeof document>"u"||(()=>{var We={2612:()=>{Smart("smart-button",class extends Smart.ContentElement{static get properties(){return{value:{type:"string"},name:{type:"string"},type:{value:"button",type:"string"},clickMode:{allowedValues:["hover","press","release","pressAndRelease"],type:"string",value:"release"}}}static get styleUrls(){return["smart.button.css"]}template(){return`<button class="smart-button smart-unselectable" inner-h-t-m-l='[[innerHTML]]' id='button' type='[[type]]' name='[[name]]' value='[[value]]' disabled='[[disabled]]' role="presentation"></button>`}refresh(){}static get listeners(){return{"button.down":"_downHandler","button.mouseenter":"_mouseEnterHandler","button.mouseleave":"_mouseLeaveHandler","button.touchend":"_touchEndHandler","button.click":"_clickHandler","button.up":"_upHandler",up:"_upHandler","button.focus":"_focusHandler","button.blur":"_blurHandler"}}focus(){const u=this;u.$.button?u.$.button.focus():HTMLElement.prototype.focus.call(u)}blur(){const u=this;u.$.button?u.$.button.blur():HTMLElement.prototype.blur.call(u)}_upHandler(u){const g=this;if(u.stopPropagation(),g.$.setAttributeValue("active",!1),g.dataset.target){const e=document.querySelector(g.dataset.target);let t=g.dataset.toggle,n=g.dataset.arguments;const a="smart-window".toLowerCase();if(e&&e.nodeName.toLowerCase()===a&&t==="modal"&&(t="openModal"),t==="tab"||t==="pill"||t==="list"){const i=this.closest(".nav, .list-group"),r='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',o=!i||i.nodeName!=="UL"&&i.nodeName!=="OL"?i.children(".active"):i.querySelectorAll("li > .active");if(i){const d=i.querySelectorAll(r);for(let p=0;p<d.length;p++)d[p].classList.remove("primary");for(let p=0;p<o.length;p++)o[p].classList.remove("active");let f=g.parentNode;for(;f;){if(f.nodeName==="LI"){f.classList.add("active");break}f=f.parentNode}g.classList.add("primary")}return e.parentNode.querySelectorAll(".active").forEach(d=>{d.classList.remove("active"),d.classList.add("smart-hidden")}),e.classList.add("active"),void e.classList.remove("smart-hidden")}t&&e&&!e[t]&&t==="collapse"&&(setTimeout(()=>{e.classList.contains("smart-hidden")?e.classList.remove("smart-hidden"):e.classList.add("smart-hidden")}),u.originalEvent.preventDefault()),t&&e&&!e[t]&&t==="dropdown"?(setTimeout(()=>{e.opened=!e.opened}),u.originalEvent.preventDefault()):t&&e&&e[t]&&(setTimeout(()=>{n?e[t](n):e[t]()},50),u.originalEvent.preventDefault())}}_focusHandler(){this.$.setAttributeValue("focus",!0),this.$.fireEvent("focus")}_blurHandler(){this.$.setAttributeValue("focus",!1),this.$.fireEvent("blur")}_clickHandler(u){const g=this;(g.clickMode!=="release"&&g.clickMode!=="pressAndRelease"||g.readonly)&&(u.preventDefault(),u.stopPropagation())}_downHandler(u){const g=this;if(!(g.disabled||(g.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(g,u.pageX,u.pageY),g.$.setAttributeValue("active",!0),g.clickMode!=="press"&&g.clickMode!=="pressAndRelease"||g.readonly))){if(g.hasAttribute("smart-blazor"))return void g.$.dispatchEvent(new Event("click"));const e="buttons"in u?u.buttons:u.which;g.$.fireEvent("click",{buttons:e,clientX:u.clientX,clientY:u.clientY,pageX:u.pageX,pageY:u.pageY,screenX:u.screenX,screenY:u.screenY})}}_mouseEnterHandler(u){const g=this;if(!g.readonly&&(g.$button.setAttributeValue("hover",!0),g.$.setAttributeValue("hover",!0),g.clickMode==="hover")){const e="buttons"in u?u.buttons:u.which;if(g.hasAttribute("smart-blazor"))return void g.$.dispatchEvent(new Event("click"));g.$.fireEvent("click",{buttons:e,clientX:u.clientX,clientY:u.clientY,pageX:u.pageX,pageY:u.pageY,screenX:u.screenX,screenY:u.screenY})}}_touchEndHandler(){const u=this;setTimeout(function(){u.$button.setAttributeValue("hover",!1),u.$.setAttributeValue("hover",!1)},300)}_mouseLeaveHandler(){this.$button.setAttributeValue("hover",!1),this.$.setAttributeValue("hover",!1)}propertyChangedHandler(u,g,e){super.propertyChangedHandler(u,g,e);const t=this;u==="disabled"?(t._setFocusable(),t.$button&&t.$button.setAttributeValue("hover",!1),t.$.setAttributeValue("hover",!1),t instanceof Smart.RepeatButton&&t._stopRepeat()):u==="unfocusable"&&t._setFocusable()}_setFocusable(){const u=this,g=u.$.button?u.$.button:u;if(u.disabled||u.unfocusable)return g.removeAttribute("tabindex"),void(g.tabIndex=-1);g.tabIndex=u.tabIndex>0?u.tabIndex:0}ready(){const u=this;super.ready(),u.setAttribute("role","button"),u._setFocusable(),u.enableShadowDOM&&u.$.hiddenInput&&u.appendChild(u.$.hiddenInput)}}),Smart("smart-repeat-button",class extends Smart.Button{static get properties(){return{delay:{value:50,type:"number"},initialDelay:{value:150,type:"number"}}}static get listeners(){return{"button.down":"_startRepeat","button.mouseenter":"_overriddenHandler","button.mouseleave":"_overriddenHandler","button.pointerenter":"_updateInBoundsFlag","button.pointerleave":"_updateInBoundsFlag","button.touchmove":"_touchmoveHandler","document.up":"_stopRepeat"}}_clickHandler(u){const g=this;(g.clickMode!=="release"||g.preventDefaultClick||g.readonly||g.disabled)&&(u.preventDefault(),u.stopPropagation(),g.preventDefaultClick=!1)}_updateInBoundsFlag(u){const g=this;u.type.indexOf("leave")!==-1?(g._isPointerInBounds=!1,g.$button.setAttributeValue("hover",!1),g.$.setAttributeValue("hover",!1)):(g._isPointerInBounds=!0,g.$button.setAttributeValue("hover",!0),g.$.setAttributeValue("hover",!0)),("buttons"in u?u.buttons:u.which)!==1&&g._stopRepeat(u)}_startRepeat(u){const g=this;g.setAttribute("active",""),g._initialTimer||g.readonly||(g._initialTimer=setTimeout(function(){g._repeatTimer=setInterval(()=>{if(g._isPointerInBounds){if(g.hasAttribute("smart-blazor"))return g.$.dispatchEvent(new Event("click")),void(g.preventDefaultClick=!0);const e="buttons"in u?u.buttons:u.which;g.$.fireEvent("click",{buttons:e,clientX:u.clientX,clientY:u.clientY,pageX:u.pageX,pageY:u.pageY,screenX:u.screenX,screenY:u.screenY}),g.preventDefaultClick=!0}},g.delay)},g.initialDelay))}_stopRepeat(u){const g=this;g.readonly||u&&(u.type==="pointercancel"||u.originalEvent&&u.originalEvent.type==="pointercancel")||(g.$.setAttributeValue("active",!1),g._repeatTimer&&(clearInterval(g._repeatTimer),g._repeatTimer=null),g._initialTimer&&(clearTimeout(g._initialTimer),g._initialTimer=null))}_touchmoveHandler(u){this.preventDefaultClick&&u.cancelable&&(u.preventDefault(),u.stopPropagation())}_overriddenHandler(){}}),Smart("smart-toggle-button",class extends Smart.Button{static get properties(){return{checked:{value:!1,type:"boolean?"},falseContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminate:{value:!1,type:"boolean"},trueContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateTemplate:{value:null,type:"any"},trueTemplate:{value:null,type:"any"},falseTemplate:{value:null,type:"any"},type:{value:"toggle",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}static get listeners(){return{keydown:"_keyHandler",keyup:"_keyHandler",dragstart:"_dragStartHandler","button.click":"_buttonClickHandler","button.mouseenter":"_buttonMouseEnterHandler","button.mouseleave":"_buttonMouseLeaveHandler","document.up":"_documentUpHandler"}}ready(){super.ready(),this._setAriaState(),this._updateGroupValue()}_setAriaState(){const u=this,g=u.checked;g!==null?u.setAttribute("aria-pressed",g):u.setAttribute("aria-pressed","mixed")}_buttonClickHandler(){}_buttonMouseLeaveHandler(){this.removeAttribute("hover")}_buttonMouseEnterHandler(){const u=this;u.setAttribute("hover",""),u.disabled||u.readonly||u.clickMode!=="hover"||(u._changeCheckState("pointer"),u.focus(),u._updateHidenInputNameAndValue())}_documentUpHandler(u){const g=this;g._pressed&&(g._pressed=!1,g.disabled||g.readonly||g.clickMode==="press"||u.originalEvent.type==="pointercancel"||(g._changeCheckState("pointer"),g.focus(),g._updateHidenInputNameAndValue()))}_downHandler(u){const g=this;g.disabled||g.readonly||(g.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(g,u.pageX,u.pageY),g._pressed=!0,g.clickMode!=="press"&&g.clickMode!=="pressAndRelease"||(g._changeCheckState("pointer"),g.hasAttribute("smart-blazor")?g.$.dispatchEvent(new Event("click")):g.$.fireEvent("click"),g._updateHidenInputNameAndValue()),g.clickMode==="press"&&(u.preventDefault(),u.stopPropagation()))}_dragStartHandler(u){u.preventDefault()}_keyHandler(u){const g=this;if(g.disabled!==!0&&!g.readonly&&u.keyCode===32){if(u.type==="keydown")return void u.preventDefault();if(g.switchMode==="none")return;g._changeCheckState("keyboard"),g._updateHidenInputNameAndValue()}}_updateGroupValue(){const u=this;if(u.dataset.target){const g=document.querySelector(u.dataset.target);if(g){const e=document.querySelectorAll('[data-target="'+u.dataset.target+'"]'),t=[];if(u.checked){const n=u.dataset.property,a=u.dataset.value;if(n&&g[n]!==void 0){let i=a;i==="true"&&(i=!0),i==="false"&&(i=!1),g[n]=i}}for(let n=0;n<e.length;n++){const a=e[n];a.checked&&(a.name?(t.push(a.name),u.id&&a.setAttribute("data-id",u.id)):u.id&&t.push(u.id))}g.value=t.toString(),u._targetDispatchTimer&&clearTimeout(u._targetDispatchTimer),u._targetDispatchTimer=setTimeout(()=>{g.dispatchEvent(new Event("change"))},100)}}}_changeCheckState(u){const g=this;let e=null;g.checked===null?g.checked=!0:(e=g.checked,g.checked=!g.checked),g._handleTextSelection(),g.$.fireEvent("change",{value:g.checked,oldValue:e,changeType:u}),g.checked?g.$.fireEvent("checkValue",{changeType:u}):g.$.fireEvent("uncheckValue",{changeType:u}),g._updateGroupValue(),g._setAriaState()}_handleTextSelection(){const u=this;u.$.addClass("smart-unselectable"),u.timer&&clearTimeout(u.timer),u.timer=setTimeout(()=>u.$.removeClass("smart-unselectable"),500)}propertyChangedHandler(u,g,e){super.propertyChangedHandler(u,g,e);const t=this;if(u==="checked")return t.$.fireEvent("change",{value:e,oldValue:g,changeType:"api"}),void t._setAriaState();switch(u){case"trueTemplate":t._handleTemplate(!0);break;case"falseTemplate":t._handleTemplate(!1);break;case"indeterminateTemplate":t._handleTemplate()}}_htmlBindOnInitialization(){const u=this;u._bindContentProperty("trueContent","smart-true-content"),u._bindContentProperty("falseContent","smart-false-content"),u._bindContentProperty("indeterminateContent","smart-indeterminate-content")}_bindContentProperty(u,g){const e=this;if(!e.$[u+"Container"])return;let t=document.createElement("div");t.innerHTML=e.innerHTML;let n,a=t.getElementsByClassName(g);if(a.length>0)for(let i=0;i<a.length;i++)n=a[i];e[u]===""&&(e[u]=n===void 0?"":n.outerHTML),e.$[u+"Container"].innerHTML=e[u]}_updateContentProperties(){const u=this;function g(e){u.$[e+"Container"]&&(u[e]=u.$[e+"Container"].innerHTML)}g("trueContent"),g("falseContent"),g("indeterminateContent")}_updateHidenInputValue(){const u=this;if(!u.$.hiddenInput)return;let g;g=u.checked===null?"null":u.checked===!1?"off":u.value||"on",u.$.hiddenInput.setAttribute("value",g)}_updateHidenInputName(){const u=this;if(!u.$.hiddenInput)return;let g=u.checked===!1?"":u.name||"";u.$.hiddenInput.setAttribute("name",g)}_updateHidenInputNameAndValue(){this._updateHidenInputName(),this._updateHidenInputValue()}_handleTemplate(u,g){const e=this;let t,n,a;if(u===!0?(t=e.trueTemplate,n=e.$.trueContentContainer,a=e.trueContent):u===!1?(t=e.falseTemplate,n=e.$.falseContentContainer,a=e.falseContent):(t=e.indeterminateTemplate,n=e.$.indeterminateContentContainer,a=e.indeterminateContent),g&&(n.innerHTML=a||""),t===null||!t)return;if(typeof t=="function")return void t(n,{value:a});if(!("content"in document.createElement("template")))return void e.error(e.localize("htmlTemplateNotSuported",{elementType:e.nodeName.toLowerCase()}));if(t=document.getElementById(t),t===null||!("content"in t))return void e.error(e.localize("invalidTemplate",{elementType:e.nodeName.toLowerCase(),property:"template"}));const i=t.content,r=i.childNodes.length,o=/{{\w+}}/g;let d,f=[];for(let x=0;x<r;x++)for(d=o.exec(i.childNodes[x].innerHTML);d;)f.push({childNodeIndex:x,bindingString:d[0]}),d=o.exec(i.childNodes[x].innerHTML);const p=f.length;let v,w,C=document.importNode(t.content,!0);for(let x=0;x<p;x++){v=C.childNodes[f[x].childNodeIndex],w=f.length;for(let L=0;L<w;L++)v.innerHTML=v.innerHTML.replace(f[x].bindingString,a)}n.innerHTML="";for(let x=0;x<C.childNodes.length;x++)C.childNodes[x].outerHTML&&(n.innerHTML+=C.childNodes[x].outerHTML)}})},9097:()=>{Smart("smart-check-box",class extends Smart.ToggleButton{static get properties(){return{checkMode:{value:"both",allowedValues:["both","input","label"],type:"string"},type:{value:"checkbox",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}template(){return`<div id='container' class='smart-container' role="presentation">
                    <div class='smart-overlay' role="presentation"></div>
                    <span id='checkBoxInput' class='smart-input' aria-hidden="true"></span>
                    <span id='checkBoxLabel' inner-h-t-m-l='[[innerHTML]]' class='smart-label'><content></content></span>
                    <input id='hiddenInput' class='smart-hidden-input' type='hidden'>
                </div>`}static get listeners(){return{down:"_downHandler","document.up":"_documentUpHandler","checkBoxInput.mouseenter":"_mouseEnterHandler","checkBoxInput.mouseleave":"_mouseLeaveHandler",focus:"_focusHandler",blur:"_blurHandler"}}static get styleUrls(){return["smart.toggle.css"]}_focusHandler(){this.$.setAttributeValue("focus",!0)}_blurHandler(){this.$.setAttributeValue("focus",!1)}_mouseEnterHandler(){this.$.setAttributeValue("hover",!0)}_mouseLeaveHandler(){this.$.setAttributeValue("hover",!1)}ready(){const u=this;super.ready(),u.setAttribute("role","checkbox"),u.indeterminate&&(u._valueCache=u.checked,u.checked=null,u._setAriaState()),u.classList.add("smart-toggle-box"),u._updateHidenInputNameAndValue()}propertyChangedHandler(u,g,e){super.propertyChangedHandler(u,g,e);const t=this;switch(t._updateContentProperties(),u){case"indeterminate":e?(t._valueCache=t.checked,t.checked=null):t.checked=t._valueCache,t._setAriaState(),t._updateHidenInputNameAndValue();break;case"value":case"checked":t._updateHidenInputNameAndValue();break;case"name":t._updateHidenInputName()}}_documentUpHandler(u){const g=this;if(!g._pressed||u.originalEvent.type==="pointercancel")return;const e=g.enableShadowDOM?u.originalEvent.composedPath()[0]:u.originalEvent.target;if(g._pressed=!1,g.$.setAttributeValue("active",!1),!(g.disabled||g.readonly||g.checkMode==="input"&&e!==g.$.checkBoxInput||g.checkMode==="label"&&e!==g.$.checkBoxLabel)){if(g.clickMode==="press")return u.preventDefault(),void u.stopPropagation();g._changeCheckState("pointer"),g.focus(),g._handleTextSelection(),g._updateHidenInputNameAndValue()}}_downHandler(u){const g=this,e=g.enableShadowDOM?u.originalEvent.composedPath()[0]:u.originalEvent.target;if(!(g.disabled||g.readonly||g.checkMode==="input"&&e!==g.$.checkBoxInput||g.checkMode==="label"&&e!==g.$.checkBoxLabel)){if(g.$.setAttributeValue("active",!0),g.hasRippleAnimation){const t=g.$.checkBoxInput.getBoundingClientRect(),n=window.scrollX||window.pageXOffset,a=window.scrollY||window.pageYOffset;Smart.Utilities.Animation.Ripple.animate(g.$.checkBoxInput,t.left+t.width/2+n,t.top+t.height/2+a)}g._pressed=!0,g.clickMode!=="press"&&g.clickMode!=="pressAndRelease"||(g._changeCheckState("pointer"),g.$.fireEvent("click"),g.focus(),g._updateHidenInputNameAndValue())}}_setAriaState(){const u=this,g=u.checked;g!==null?u.setAttribute("aria-checked",g):u.setAttribute("aria-checked","mixed")}})},9346:()=>{Smart("smart-drop-down-button",class extends Smart.ContentElement{static get properties(){return{autoCloseDelay:{value:100,type:"number"},placeholderTemplate:{value:"",type:"any"},dropDownAppendTo:{value:null,type:"any"},dropDownButtonPosition:{allowedValues:["none","left","right","top","bottom"],value:"right",type:"string"},dropDownHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownMinHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMinWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownOpenMode:{allowedValues:["none","default","dropDownButton","auto"],value:"default",type:"string"},dropDownOverlay:{value:!1,type:"boolean"},dropDownPlaceholder:{value:"No Items",type:"string"},dropDownPosition:{allowedValues:["auto","top","bottom","overlay-top","overlay-center","overlay-bottom","center-bottom","center-top"],value:"auto",type:"string"},dropDownWidth:{value:"",type:"any",validator:"_propertyValidator"},hint:{value:"",type:"string"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},label:{value:"",type:"string"},messages:{extend:!0,value:{en:{invalidNode:'smart-drop-down-button: Invalid parameter "{{node}}" when calling {{method}}.'}},type:"object"},name:{value:"",type:"string"},opened:{value:!1,type:"boolean"},placeholder:{value:"",type:"string"},resizeIndicator:{value:!1,type:"boolean"},resizeMode:{value:"none",allowedValues:["none","horizontal","vertical","both"],type:"string"},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},contentSelector:{value:"",type:"string"}}}static get listeners(){return{"actionButton.down":"_buttonsDownHandler","actionButton.mouseenter":"_buttonsMouseEventsHandler","actionButton.mouseleave":"_buttonsMouseEventsHandler","document.selectstart":"_selectStartHandler","document.dragstart":"_dragStartHandler","document.down":"_documentDownHandler","document.up":"_documentUpHandler","document.move":"_documentMoveHandler","dropDownButton.down":"_buttonsDownHandler","dropDownButton.mouseenter":"_buttonsMouseEventsHandler","dropDownButton.mouseleave":"_buttonsMouseEventsHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",focus:"_focusEventHandler",blur:"_blurEventHandler","dropDownContainer.transitionend":"_dropDownTransitionendHandler",mouseenter:"_mouseEnterHandler",mouseleave:"_mouseLeaveHandler",resize:"_resizeHandler","resizeBar.move":"_resizeBarMoveHandler",styleChanged:"_styleChangedHandler"}}template(){return`<div id="container" role="presentation">
                    <span class="smart-label" id="label">[[label]]</span>
                    <div id="content" class="smart-content" role="presentation">
                        <div id="buttonsContainer" class="smart-buttons-container" role="presentation">
                            <span id="actionButton" class="smart-action-button">[[placeholder]]</span>
                            <span id="dropDownButton" class="smart-drop-down-button">
                                <span class="smart-drop-down-button-icon" id="arrow" aria-hidden="true"></span>
                            </span>
                        </div>
                        <div id="dropDownContainer" class="smart-drop-down smart-drop-down-container smart-visibility-hidden" role="dialog">
                            <smart-scroll-viewer id="scrollViewer" inner-h-t-m-l='[[innerHTML]]'
                                right-to-left="[[rightToLeft]]"
                                horizontal-scroll-bar-visibility="[[horizontalScrollBarVisibility]]"
                                vertical-scroll-bar-visibility="[[verticalScrollBarVisibility]]">
                                <content></content>
                            </smart-scroll-viewer>
                            <div id="resizeBar" class="smart-drop-down-resize-bar" aria-label="Resize">
                                <div></div>
                            </div>
                         </div>
                    </div>
                    <span class="smart-hidden smart-hint" id="hint">[[hint]]</span>
                </div>`}static get styleUrls(){return["smart.scrollviewer.css","smart.dropdown.css","smart.dropdownbutton.css"]}attached(){const u=this;super.attached(),u.isCompleted&&u.$.dropDownContainer&&(u._positionDetection.dropDownAttached("_setDropDownSize"),u._positionDetection.checkBrowserBounds())}detached(){const u=this;super.detached(),u.$.dropDownContainer&&(u.close(),u._positionDetection.dropDownDetached())}propertyChangedHandler(u,g,e){const t=this;switch(u){case"disabled":case"unfocusable":t._setFocusable();break;case"dropDownAppendTo":t._positionDetection.dropDownAppendToChangedHandler();break;case"dropDownHeight":case"dropDownMaxHeight":case"dropDownMaxWidth":case"dropDownMinHeight":case"dropDownMinWidth":case"dropDownWidth":t._setDropDownSize();break;case"dropDownOpenMode":t._setFocusable(),t.close(),t._setAriaRelations();break;case"dropDownOverlay":e||t._positionDetection.removeOverlay();break;case"dropDownPlaceholder":t.$.dropDownContainer.hasAttribute("empty")&&(t.$.scrollViewer.$.scrollViewerContentContainer.innerHTML=e,t.opened&&t.$.scrollViewer.refresh());break;case"dropDownPosition":t._positionDetection.dropDownPositionChangedHandler();break;case"innerHTML":e.trim()===""?(t.$.dropDownContainer.setAttribute("empty",""),requestAnimationFrame(()=>t.$.scrollViewer.$.scrollViewerContentContainer.innerHTML=t.dropDownPlaceholder)):(t.$.dropDownContainer.removeAttribute("empty"),t.$.scrollViewer.$.scrollViewerContentContainer.innerHTML=e),t.opened&&t.$.scrollViewer.refresh();break;case"opened":e?t.open():t.close();break;case"placeholder":g!==""&&e!==""||t._setFocusable();break;case"resizeIndicator":e?t.$.dropDownContainer.setAttribute("resize-indicator",""):t.$.dropDownContainer.removeAttribute("resize-indicator");break;case"resizeMode":t.$.dropDownContainer.setAttribute("resize-mode",t.resizeMode),t.opened&&t.$.scrollViewer.refresh();break;case"placeholderTemplate":t._applyPlaceholderTemplate();break;case"label":e?t._ariaButton.setAttribute("aria-labelledby",t.$.label.id):t.elementName==="DropDownButton"&&t._ariaButton.setAttribute("aria-labelledby",t.$.actionButton.id)}}appendChild(u){const g=this;if(!g.isCompleted||u instanceof HTMLElement&&u.classList.contains("smart-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(g,e.concat(Array.prototype.slice.call(arguments)))}u?(g.$.scrollViewer.appendChild(u),g.opened&&g.$.scrollViewer.refresh()):g.error(g.localize("invalidNode",{method:"removeChild",node:"node"}))}removeChild(u){const g=this;if(!g.isCompleted||u instanceof HTMLElement&&u.classList.contains("smart-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(g,e.concat(Array.prototype.slice.call(arguments)))}u?g.$.dropDownContainer.contains(u)&&(g.$.scrollViewer.removeChild(u),g.opened&&g.$.scrollViewer.refresh()):g.error(g.localize("invalidNode",{method:"removeChild",node:"node"}))}removeAll(){const u=this;u.isCompleted&&u.$.scrollViewer.removeAll()}_open(){const u=this;if(!u.disabled&&u.offsetHeight&&u.$dropDownContainer.hasClass("smart-visibility-hidden")){if(u.$dropDownContainer.hasClass("not-in-view")&&u.$dropDownContainer.removeClass("not-in-view"),u.$.dropDownContainer.style.transition=null,u.dropDownAppendTo&&u.dropDownAppendTo.length>0){const g=u.getBoundingClientRect();if(u.$.container.contains(u.$.dropDownContainer)){let e=0;const t=setInterval(function(){const n=u.getBoundingClientRect();e++,n.top===u._positionTop&&e<10||(u.open(),clearInterval(t),u._positionTop=n.top)},100);return}g.top!==u._positionTop&&(u._positionTop=g.top)}u.$.fireEvent("opening").defaultPrevented||(u.opened=!0,u._ariaButton.setAttribute("aria-expanded",!0),u._positionDetection.placeOverlay(),u._positionDetection.checkBrowserBounds("vertically"),u._positionDetection.positionDropDown(),u._positionDetection.checkBrowserBounds("horizontally"),u.$dropDownContainer.removeClass("smart-visibility-hidden"),u.$.fireEvent("open"),u.$.dropDownButton&&(u.dropDownOpenMode==="dropDownButton"?u.$.dropDownButton.setAttribute("selected",""):u.$.dropDownButton.removeAttribute("selected")),u.$.input&&u.$.input.focus())}}toggle(){const u=this;u.opened?u.close():u.open()}open(){const u=this,g=document.querySelectorAll("smart-drop-down-button, smart-color-picker");for(let e=0;e<g.length;e++)g[e]!==u&&g[e].opened&&g[e].close();u._open(),u.$.scrollViewer.refresh()}scrollTo(u,g){this.isCompleted&&this.$.scrollViewer.scrollTo(u,g)}ready(){super.ready()}_applyPlaceholderTemplate(){const u=this;if(u.placeholderTemplate){const g=document.createElement("div");let e;if(typeof u.placeholderTemplate=="string"&&u.placeholderTemplate.startsWith("#")&&(e=document.querySelector(u.placeholderTemplate)),typeof u.placeholderTemplate=="function"){const t=u.placeholderTemplate();if(t)return void(u.$.actionButton.innerHTML=t)}e instanceof HTMLTemplateElement?g.appendChild(e.content.cloneNode(!0)):e instanceof HTMLElement?g.appendChild(e):g.innerHTML=u.placeholderTemplate,u.$.actionButton.innerHTML=g.innerHTML}}render(){const u=this;if(u.rightToLeft&&(u.dropDownButtonPosition=u.dropDownButtonPosition==="right"?"left":"right"),u.classList.add("smart-drop-down-box"),u._edgeMacFF=Smart.Utilities.Core.Browser.Edge||Smart.Utilities.Core.Browser.Firefox&&navigator.platform.toLowerCase().indexOf("mac")!==-1,u._positionDetection=new Smart.Utilities.PositionDetection(u,u.$.dropDownContainer,u.$.container,"close"),u._positionDetection.getDropDownParent(!0),u._positionDetection.setDropDownPosition(),u._calculateDropDownSize(),u.$.dropDownContainer.setAttribute("resize-mode",u.resizeMode),u.resizeIndicator&&u.$.dropDownContainer.setAttribute("resize-indicator",""),u._positionDetection.handleAutoPositioning(),u.$.label&&!u.$.label.id&&(u.$.label.id=u.id+"Label"),u.$.actionButton&&!u.$.actionButton.id&&(u.$.actionButton.id=u.id+"ActionButton"),u.$.hint&&!u.$.hint.id&&(u.$.hint.id=u.id+"Hint"),u.dropDownAppendTo)for(let g=0;g<u.classList.length;g++){const e=u.classList[g];u.$.dropDownContainer.classList.add(e)}if(u._applyPlaceholderTemplate(),u._createElement(),u.contentSelector)if(u.contentSelector instanceof HTMLElement)u.$.scrollViewer.$.scrollViewerContentContainer.appendChild(u.contentSelector);else{const g=document.querySelector(u.contentSelector);g&&(u.$.scrollViewer.innerHTML="",g.style.display="",u.$.scrollViewer.appendChild(g))}u.opened?u.open():u.hasAnimation&&u._edgeMacFF&&u.$dropDownContainer.addClass("not-in-view"),u._positionTop=u.getBoundingClientRect().top,super.render()}_setAriaRelations(u){const g=this;let e,t;g.dropDownOpenMode!=="dropDownButton"?(e=g.$.dropDownButton,e.setAttribute("aria-hidden",!0),t=g,g.$.actionButton.removeAttribute("role")):(e=g,t=g.$.dropDownButton,t.removeAttribute("aria-hidden"),g.$.actionButton.setAttribute("role","button")),g._ariaButton=t,t.setAttribute("role","button"),t.setAttribute("aria-haspopup","dialog"),t.setAttribute("aria-owns",g.$.dropDownContainer.id),t.setAttribute("aria-describedby",g.$.hint.id),g.label?t.setAttribute("aria-labelledby",g.$.label.id):g.elementName==="DropDownButton"&&t.setAttribute("aria-labelledby",g.$.actionButton.id),e.setAttribute("role","presentation"),e.removeAttribute("aria-owns"),u?t.setAttribute("aria-expanded",g.opened):(e.removeAttribute("aria-describedby"),e.removeAttribute("aria-expanded"),e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-labelledby"))}_setDropDownSize(){const u=this;u._dropDownSize||u._calculateDropDownSize(),["dropDownMinWidth","dropDownMinHeight","dropDownMaxWidth","dropDownMaxHeight"].forEach(g=>{u.$.dropDownContainer.style[g.replace("dropDown","").replace(/^./,"m")]=u[g]?u[g]+(u[g].toString().endsWith("%")?"%":"px"):null}),u.dropDownWidth?u.dropDownWidth!=="auto"?u.$.dropDownContainer.style.width=(u.dropDownWidth==="initial"?u.offsetWidth:parseFloat(u.dropDownWidth))+"px":u.$.dropDownContainer.style.width="auto":u.$.dropDownContainer.style.width=u._dropDownSize.width==="auto"?"auto":(parseFloat(u._dropDownSize.width)||0)+"px",u.dropDownHeight&&u.dropDownHeight!=="auto"?u.$.dropDownContainer.style.height=parseFloat(u.dropDownHeight)+((u.dropDownHeight+"").indexOf("%")>-1?"%":"px"):u.$.dropDownContainer.style.height=u._dropDownSize.height}_setFocusable(){const u=this;if(u.disabled||u.unfocusable)return u.removeAttribute("tabindex"),u.$.actionButton.removeAttribute("tabindex"),void u.$.dropDownButton.removeAttribute("tabindex");let g=u.tabIndex>0?u.tabIndex:0;u.dropDownOpenMode==="dropDownButton"?(u.removeAttribute("tabindex"),u.$.actionButton.setAttribute("tabindex",g),u.$.dropDownButton.setAttribute("tabindex",g)):(u.$.actionButton.removeAttribute("tabindex"),u.$.dropDownButton.removeAttribute("tabindex"),u.tabIndex=g)}_calculateDropDownSize(){const u=this;u._dropDownSize={};const g=window.getComputedStyle(u.$.dropDownContainer),e=parseFloat(g.getPropertyValue("border-top-width").trim()),t=parseFloat(g.getPropertyValue("border-bottom-width").trim()),n=parseFloat(g.getPropertyValue("margin-top").trim()),a=parseFloat(g.getPropertyValue("margin-bottom").trim()),i=parseFloat(g.getPropertyValue("padding-top").trim()),r=parseFloat(g.getPropertyValue("padding-bottom").trim());Smart.Utilities.Core.CSSVariablesSupport()&&(u._dropDownSize.width=g.getPropertyValue("--smart-drop-down-list-drop-down-width").trim(),u._dropDownSize.height=g.getPropertyValue("--smart-drop-down-list-drop-down-height").trim()),(!u._dropDownSize.width||u._dropDownSize.width.indexOf("initial")>-1)&&(u._dropDownSize.width=u.offsetWidth),u._dropDownSize.height||(u._dropDownSize.height="auto"),u._dropDownSize.minHeight=parseFloat(g.getPropertyValue("min-height").trim()),u._dropDownSize.maxHeight=parseFloat(g.getPropertyValue("max-height").trim()),u._dropDownSize.borderWidth=(isNaN(e)?0:e)+(isNaN(t)?0:t),u._dropDownSize.paddingWidth=(isNaN(i)?0:i)+(isNaN(r)?0:r),u._dropDownSize.marginWidth=(isNaN(n)?0:n)+(isNaN(a)?0:a)}_createElement(){const u=this;u.innerHTML.trim()===""&&(u.$.dropDownContainer.setAttribute("empty",""),u.$.scrollViewer.$.scrollViewerContentContainer.innerHTML=u.dropDownPlaceholder),u._setDropDownSize(),u._setFocusable(),u._setAriaRelations(!0),u.$.arrow.noRipple=!0}_dragStartHandler(u){this._resizeDetails&&this._resizeDetails.started&&u.preventDefault()}_dropDownTransitionendHandler(){const u=this;u._edgeMacFF&&!u.opened&&u.hasAnimation&&(u.$.dropDownContainer.style.top=u.$.dropDownContainer.style.left="",u.$dropDownContainer.addClass("not-in-view"))}_blurEventHandler(){const u=this;u.hasAttribute("focus")&&(u.$.dropDownButton&&(u.removeAttribute("focus"),u.$.dropDownButton.removeAttribute("focus")),u.$.actionButton&&(u.removeAttribute("focus"),u.$.actionButton.removeAttribute("focus")),u.$.fireEvent("blur"))}_focusEventHandler(){const u=this;u.hasAttribute("focus")||(u.$.dropDownButton&&(u.setAttribute("focus",""),u.$.dropDownButton.setAttribute("focus","")),u.$.actionButton&&(u.setAttribute("focus",""),u.$.actionButton.setAttribute("focus","")),u.$.fireEvent("focus"))}_getUpEventTarget(u){const g=this;let e=u;if(e===g.$.dropDownContainer)return"dropDownContainer";for(e=e.parentElement===void 0?e.getRootNode().host:e.parentElement;e;){if(e===g.$.dropDownContainer){e="dropDownContainer";break}e=e.parentElement===void 0?e.getRootNode().host:e.parentElement}return e}close(){const u=this;u.$dropDownContainer&&(u.$dropDownContainer.hasClass("smart-visibility-hidden")||u.$.fireEvent("closing").defaultPrevented||(u.$dropDownContainer.addClass("smart-visibility-hidden"),u.$.fireEvent("close"),u.$.dropDownButton&&u.$.dropDownButton.removeAttribute("selected"),u.opened=!1,u._ariaButton.setAttribute("aria-expanded",!1),u._preventDropDownClose=!1,u._positionDetection.removeOverlay(!0),u._edgeMacFF&&!u.hasAnimation&&(u.$.dropDownContainer.style.top=u.$.dropDownContainer.style.left="",u.$dropDownContainer.addClass("not-in-view"))))}_documentUpHandler(u){const g=this,e=g.hasAttribute("resizing");if(g.$.actionButton.removeAttribute("active"),g._resizeDetails&&g._resizeDetails.started)return g._resizeDetails.started=g._resizeDetails.resizeEventFired=!1,g.removeAttribute("resizing"),g._preventDropDownClose=!1,g.focus(),void g.$.fireEvent("resizeEnd",{position:{left:u.pageX,top:u.pageY}});if(g.disabled||g._isDropDownClicked||g.readonly)return void delete g._isDropDownClicked;if(g._overlayDown)return g.close(),void delete g._overlayDown;let t=u.originalEvent.target;if(g.isInShadowDOM&&(t=u.originalEvent.composedPath()[0]),g._preventsSelectStart=!1,t===void 0||t===g.$.resizeBar)return;const n=t.closest(".smart-action-button");let a;if(g._buttonClicked&&(g.dropDownOpenMode==="dropDownButton"&&n&&g._buttonClicked===g.$.actionButton?g.$.fireEvent("actionButtonClick"):t.closest(".smart-drop-down-button")!==g._buttonClicked&&n!==g._buttonClicked||(a=!0,g.$.fireEvent("dropDownButtonClick"))),g._buttonClicked=void 0,!g.editable&&n===g.$.actionButton||t.closest(".smart-drop-down-button")===g.$.dropDownButton)return g.dropDownOpenMode==="dropDownButton"&&n===g.$.actionButton?void g.close():void(g.$dropDownContainer.hasClass("smart-visibility-hidden")&&g.dropDownOpenMode!=="none"&&a&&u.originalEvent.type!=="pointercancel"?g.open():g.close());t=g._getUpEventTarget(t),t!==void 0&&((t!=="dropDownContainer"&&t!=="item"||t==="item"&&g.selectionMode!=="checkBox"&&g.selectionMode.indexOf("Many")<0)&&g.close(),e&&g.$.scrollViewer&&g.$.scrollViewer.refresh())}_keyDownHandler(u){const g=this,e=(g.shadowRoot||g.getRootNode()).activeElement||document.activeElement;if(!(g.disabled||g.readonly||e!==g&&e!==g.$.dropDownButton&&e!==g.$.actionButton))switch(u.key){case"Enter":case" ":u.preventDefault(),u.target!==g.$.actionButton&&(g.opened&&u.key==="Enter"?g.close():g.opened||g.readonly||g.dropDownOpenMode==="none"||g.open()),g.dropDOwnOpenMode==="dropDownButton"&&u.target.setAttribute("active","");break;case"End":g.$.scrollViewer.scrollTop=g.$.scrollViewer.scrollHeight;break;case"Home":g.$.scrollViewer.scrollTop=0;break;case"PageUp":case"PageDown":g.$.scrollViewer.scrollTop+=(u.key.indexOf("Down")>-1?1:-1)*g.$.dropDownContainer.offsetHeight;break;case"ArrowUp":case"ArrowDown":if(u.altKey)return void(g.disabled||g.readonly||g.dropDownOpenMode==="none"||(g.$dropDownContainer.hasClass("smart-visibility-hidden")?g.open():g.close()));u.preventDefault(),g.$.scrollViewer.scrollTop+=10*(u.key.indexOf("Down")>-1?1:-1);break;case"Escape":u.preventDefault(),g.close()}}_keyUpHandler(u){const g=this.isInShadowDOM?u.composedPath()[0]:u.target;u.key!=="Enter"&&u.key!==" "||g.removeAttribute("active")}_propertyValidator(u,g){return typeof g!="number"&&typeof g!="string"?u:g}_mouseEnterHandler(){const u=this;u._isElementHovered=!0,u.dropDownOpenMode!=="auto"||u.disabled||u.readonly||u.open()}_mouseLeaveHandler(){const u=this;u.removeAttribute("hover"),u._isElementHovered=!1,u.dropDownOpenMode!=="auto"||u.disabled||u.readonly||u._autoClose()}_autoClose(){const u=this;u._autoCloseTimeout=setTimeout((function(){u._isElementHovered||u.close(),clearTimeout(u._autoCloseTimeout)}).bind(u),u.autoCloseDelay)}_documentMoveHandler(u){const g=this,e=g.isInShadowDOM?u.originalEvent.composedPath()[0]:u.originalEvent.target;if(g.dropDownOpenMode==="auto"&&g.dropDownAppendTo!==null&&(g.contains(e)||g.$.dropDownContainer.contains(e)?g._isElementHovered=!0:(g._isElementHovered=!1,g._autoClose())),!g._resizeDetails||g._resizeDetails&&!g._resizeDetails.started)return;g.setAttribute("resizing",""),g._resizeDetails.resizeEventFired||(g.$.fireEvent("resizeStart",{position:{left:u.pageX,top:u.pageY}}),g._resizeDetails.resizeEventFired=!0);const t=document.documentElement,n=g.$.dropDownContainer.getBoundingClientRect(),a=g.getBoundingClientRect(),i=g.$.dropDownContainer.hasAttribute("top")?"top":"bottom";let r;function o(){if(r=u.pageY-g._resizeDetails.y,i==="bottom")g._resizeDetails.height=Math.min(t.clientHeight-n.top-6,Math.max(0,g._resizeDetails.height+r)),g._resizeDetails.y=Math.max(n.top+t.scrollTop-g._resizeDetails.offsetY,Math.min(t.clientHeight+t.scrollTop-1.5*g._resizeDetails.offsetY,u.pageY));else{if(g._resizeDetails.height=Math.min(g._dropDownSize.maxHeight,Math.max(0,Math.min(a.top,g._resizeDetails.height-r))),r=Math.max(0,n.top+(n.height-Math.max(g._dropDownSize.minHeight,g._resizeDetails.height))),g.dropDownAppendTo&&g.dropDownAppendTo.length>0){const p=Math.abs(parseFloat(getComputedStyle(g.$.dropDownContainer).getPropertyValue("margin-bottom")))||0;g.$.dropDownContainer.style.top=g.dropDownAppendTo&&g.dropDownAppendTo.length>0?p+r+"px":""}const f=a.top+t.scrollTop+g._resizeDetails.offsetYtop;g._resizeDetails.y=Math.max(g._resizeDetails.offsetYtop,Math.min(f,Math.max(f-g._dropDownSize.maxHeight,u.pageY)))}g.$.dropDownContainer.style.height=g._resizeDetails.height+"px"}function d(){r=u.pageX-g._resizeDetails.x,g._resizeDetails.width=Math.min(t.clientWidth-n.left-6,Math.max(0,g._resizeDetails.width+r)),g.$.dropDownContainer.style.width=g._resizeDetails.width+"px",g._resizeDetails.x=Math.max(n.left+t.scrollLeft-g._resizeDetails.offsetXR,Math.min(t.clientWidth+t.scrollLeft-1.5*g._resizeDetails.offsetXR,u.pageX))}switch(g.resizeMode){case"vertical":o();break;case"horizontal":d();break;case"both":d(),o()}}_documentDownHandler(u){const g=this;if(g.disabled||g.readonly)return;let e=u.originalEvent.target;if(e===g._overlay&&(g._overlayDown=!0),g.isInShadowDOM){e=u.originalEvent.composedPath()[0];let n=e;for(;n;){if(n.closest(".smart-drop-down-container")===g.$.dropDownContainer){g._isDropDownClicked=!0;break}n=n.getRootNode().host}}else g._isDropDownClicked=e.closest(".smart-drop-down-container")===g.$.dropDownContainer;if(g._buttonClicked=e.closest(".smart-action-button")||e.closest(".smart-drop-down-button"),g._isDropDownClicked&&(g._preventDropDownClose=!0),e!==g.$.resizeBar||g.resizeMode==="none")return;g._resizeDetails||(g._resizeDetails={});const t=g.$.dropDownContainer.getBoundingClientRect();g._resizeDetails.started=!0,g._resizeDetails.x=u.pageX,g._resizeDetails.y=u.pageY,g._resizeDetails.width=g.$.dropDownContainer.offsetWidth,g._resizeDetails.height=g.$.dropDownContainer.offsetHeight,g._resizeDetails.offsetXL=u.clientX-t.left,g._resizeDetails.offsetXR=t.left+g.$.dropDownContainer.offsetWidth-u.clientX,g._resizeDetails.offsetY=t.top+g.$.dropDownContainer.offsetHeight-u.clientY,g._resizeDetails.offsetYtop=u.clientY-t.top,g._preventDropDownClose=!0}_resizeHandler(){this.refresh()}refresh(){const u=this;u.resizeMode==="none"&&(u._calculateDropDownSize(),u._setDropDownSize())}_resizeBarMoveHandler(u){u.originalEvent.type==="touchmove"&&u.originalEvent.preventDefault()}_styleChangedHandler(u){const g=this;if(g.dropDownAppendTo&&g.dropDownAppendTo.length>0){const e=u.detail.styleProperties,t=["font-size","font-family","font-style","font-weight"];for(let n=0;n<t.length;n++)e[t[n]]&&(g.$.dropDownContainer.style[t[n]]=e[t[n]].value)}g._dropDownSize&&g._dropDownSize.height==="auto"&&g._setDropDownSize()}_buttonsDownHandler(u){const g=this;if(!g.disabled){if(g.hasRippleAnimation){if(g.dropDownOpenMode==="dropDownButton")Smart.Utilities.Animation.Ripple.animate(u.target,u.pageX,u.pageY);else if(u.target===g.$.dropDownButton||!g.editable){const e=g.$.buttonsContainer;e.firstElementChild.noRipple=!0,Smart.Utilities.Animation.Ripple.animate(e,u.pageX,u.pageY),e.firstElementChild.noRipple=!1}}g._preventsSelectStart=!0,g.dropDownOpenMode==="dropDownButton"&&u.target===g.$.actionButton&&g.tagName.toLowerCase()==="smart-drop-down-button"&&g.$.actionButton.setAttribute("active",""),g.opened&&(g._preventDropDownClose=!0)}}_buttonsMouseEventsHandler(u){const g=this;g.disabled||(u.type==="mouseenter"?(g.setAttribute("hover",""),u.target.setAttribute("hover","")):(g.removeAttribute("hover"),u.target.removeAttribute("hover")))}_selectStartHandler(u){this._preventsSelectStart&&u.preventDefault()}})},6321:()=>{(function(){if(typeof window===void 0)return;const u="21.0.0",g=[];let e="Smart";if(window[e]&&window[e].Version){if(window[e].Version===u)return;if(window[e].Version!==u)e+=u;else{let E=2;for(;window[e];)e+=E.toString(),E++}}const t=navigator.userAgent.indexOf("Edge")>-1&&navigator.appVersion.indexOf("Edge")>-1;document.elementsFromPoint||(document.elementsFromPoint=document.msElementsFromPoint);class n{static isBoolean(l){return typeof l=="boolean"}static isFunction(l){return!!(l&&l.constructor&&l.call&&l.apply)}static isArray(l){return Array.isArray(l)}static isObject(l){return l&&(typeof l=="object"||this.isFunction(l))||!1}static isDate(l){return l instanceof Date}static isString(l){return typeof l=="string"}static isNumber(l){return typeof l=="number"}static getType(l){const m=this,c=["Boolean","Number","String","Function","Array","Date","Object"].find(y=>{if(m["is"+y](l))return y});return c?c.toLowerCase():void 0}}class a{static animate(l,m,c,y){const b=l;if(!b||b instanceof HTMLElement==0)return;if(b.getElementsByClassName("smart-ripple").length===0){const ee=document.createElement("span");ee.classList.add("smart-ripple"),ee.setAttribute("role","presentation");let de=!0,me=null;if(window[e].EnableShadowDOM&&b.enableShadowDOM&&b.isInShadowDOM!==!0){for(let ge=0;ge<b.shadowRoot.host.shadowRoot.children.length;ge++)b.shadowRoot.host.shadowRoot.children[ge].tagName.toLowerCase()!=="link"&&(me=b.shadowRoot.host.shadowRoot.children[ge]);b.shadowRoot.host.shadowRoot.querySelector(".smart-ripple")&&(de=!1)}else me=b.firstElementChild;de&&(me&&!me.noRipple&&me.offsetHeight>0?me.appendChild(ee):b.appendChild(ee))}let S=null;if(S=window[e].EnableShadowDOM&&b.shadowRoot?b.shadowRoot.host.shadowRoot.querySelector(".smart-ripple"):b.getElementsByClassName("smart-ripple")[0],!S)return;S.innerHTML="",S.classList.remove("smart-animate"),S.style.height=S.style.width=Math.max(b.offsetHeight,b.offsetWidth)+"px";const D=window.getComputedStyle(S.parentElement),M=parseInt(D.borderLeftWidth)||0,$=parseInt(D.borderTopWidth)||0,P=b.getBoundingClientRect(),G=m-(P.left+window.pageXOffset)-S.offsetWidth/2-M,Z=c-(P.top+window.pageYOffset)-S.offsetHeight/2-$;S.style.left=G+"px",S.style.top=Z+"px",S.classList.add("smart-animate"),S.addEventListener("animationend",function ee(){S.parentElement&&S.parentElement.removeChild(S),y&&y(),S.removeEventListener("animationend",ee),S.removeEventListener("animationcancel",ee)}),S.addEventListener("animationcancel",function ee(){S.parentElement&&S.parentElement.removeChild(S),y&&y(),S.removeEventListener("animationcancel",ee),S.removeEventListener("animationend",ee)})}}class i{static easeInQuad(l,m,c,y){return c*(l/=y)*l+m}static easeOutQuad(l,m,c,y){return-c*(l/=y)*(l-2)+m}static easeInOutQuad(l,m,c,y){return(l/=y/2)<1?c/2*l*l+m:-c/2*(--l*(l-2)-1)+m}static easeInCubic(l,m,c,y){return c*(l/=y)*l*l+m}static easeOutCubic(l,m,c,y){return c*((l=l/y-1)*l*l+1)+m}static easeInOutCubic(l,m,c,y){return(l/=y/2)<1?c/2*l*l*l+m:c/2*((l-=2)*l*l+2)+m}static easeInQuart(l,m,c,y){return c*(l/=y)*l*l*l+m}static easeOutQuart(l,m,c,y){return-c*((l=l/y-1)*l*l*l-1)+m}static easeInOutQuart(l,m,c,y){return(l/=y/2)<1?c/2*l*l*l*l+m:-c/2*((l-=2)*l*l*l-2)+m}static easeInQuint(l,m,c,y){return c*(l/=y)*l*l*l*l+m}static easeOutQuint(l,m,c,y){return c*((l=l/y-1)*l*l*l*l+1)+m}static easeInOutQuint(l,m,c,y){return(l/=y/2)<1?c/2*l*l*l*l*l+m:c/2*((l-=2)*l*l*l*l+2)+m}static easeInSine(l,m,c,y){return-c*Math.cos(l/y*(Math.PI/2))+c+m}static easeOutSine(l,m,c,y){return c*Math.sin(l/y*(Math.PI/2))+m}static easeInOutSine(l,m,c,y){return-c/2*(Math.cos(Math.PI*l/y)-1)+m}static easeInExpo(l,m,c,y){return l===0?m:c*Math.pow(2,10*(l/y-1))+m}static easeOutExpo(l,m,c,y){return l===y?m+c:c*(1-Math.pow(2,-10*l/y))+m}static easeInOutExpo(l,m,c,y){return l===0?m:l===y?m+c:(l/=y/2)<1?c/2*Math.pow(2,10*(l-1))+m:c/2*(2-Math.pow(2,-10*--l))+m}static easeInCirc(l,m,c,y){return-c*(Math.sqrt(1-(l/=y)*l)-1)+m}static easeOutCirc(l,m,c,y){return c*Math.sqrt(1-(l=l/y-1)*l)+m}static easeInOutCirc(l,m,c,y){return(l/=y/2)<1?-c/2*(Math.sqrt(1-l*l)-1)+m:c/2*(Math.sqrt(1-(l-=2)*l)+1)+m}static easeInElastic(l,m,c,y){let b=1.70158,S=0,D=c;return l===0?m:(l/=y)==1?m+c:(S||(S=.3*y),D<Math.abs(c)?(D=c,b=S/4):b=S/(2*Math.PI)*Math.asin(c/D),-D*Math.pow(2,10*(l-=1))*Math.sin((l*y-b)*(2*Math.PI)/S)+m)}static easeOutElastic(l,m,c,y){let b=1.70158,S=0,D=c;return l===0?m:(l/=y)==1?m+c:(S||(S=.3*y),D<Math.abs(c)?(D=c,b=S/4):b=S/(2*Math.PI)*Math.asin(c/D),D*Math.pow(2,-10*l)*Math.sin((l*y-b)*(2*Math.PI)/S)+c+m)}static easeInOutElastic(l,m,c,y){let b=1.70158,S=0,D=c;return l===0?m:(l/=y/2)==2?m+c:(S||(S=y*.44999999999999996),D<Math.abs(c)?(D=c,b=S/4):b=S/(2*Math.PI)*Math.asin(c/D),l<1?D*Math.pow(2,10*(l-=1))*Math.sin((l*y-b)*(2*Math.PI)/S)*-.5+m:D*Math.pow(2,-10*(l-=1))*Math.sin((l*y-b)*(2*Math.PI)/S)*.5+c+m)}static easeInBack(l,m,c,y,b){return b===void 0&&(b=1.70158),c*(l/=y)*l*((b+1)*l-b)+m}static easeOutBack(l,m,c,y,b){return b===void 0&&(b=1.70158),c*((l=l/y-1)*l*((b+1)*l+b)+1)+m}static easeInOutBack(l,m,c,y,b){return b===void 0&&(b=1.70158),(l/=y/2)<1?c/2*(l*l*((1+(b*=1.525))*l-b))+m:c/2*((l-=2)*l*((1+(b*=1.525))*l+b)+2)+m}static easeInBounce(l,m,c,y){return c-this.easeOutBounce(y-l,0,c,y)+m}static easeOutBounce(l,m,c,y){return(l/=y)<.36363636363636365?c*(7.5625*l*l)+m:l<.7272727272727273?c*(7.5625*(l-=.5454545454545454)*l+.75)+m:l<.9090909090909091?c*(7.5625*(l-=.8181818181818182)*l+.9375)+m:c*(7.5625*(l-=.9545454545454546)*l+.984375)+m}static easeInOutBounce(l,m,c,y){return l<y/2?.5*this.easeInBounce(2*l,0,c,y)+m:.5*this.easeOutBounce(2*l-y,0,c,y)+.5*c+m}}class r{static get isMobile(){return/(iphone|ipod|ipad|android|iemobile|blackberry|bada)/.test(window.navigator.userAgent.toLowerCase())||["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}static get Browser(){let l;const m=function(y){let b=y.indexOf(l);if(b===-1)return;const S=y.indexOf("rv:");return parseFloat(l==="Trident"&&S!==-1?y.substring(S+3):y.substring(b+l.length+1))};let c={};return c[function(){const y=[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"IE"},{string:navigator.userAgent,subString:"Trident",identity:"IE"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}];for(let b=0;b<y.length;b++){let S=y[b].string;if(l=y[b].subString,S.indexOf(y[b].subString)!==-1)return y[b].identity}return"Other"}()]=!0,c.version=m(navigator.userAgent)||m(navigator.appVersion)||"Unknown",c}static toCamelCase(l){return l.replace(/-([a-z])/g,function(m){return m[1].toUpperCase()})}static toDash(l){return l.split(/(?=[A-Z])/).join("-").toLowerCase()}static unescapeHTML(l){return new DOMParser().parseFromString(l,"text/html").documentElement.textContent}static escapeHTML(l){const m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(l).replace(/[&<>"'`=\/]/g,c=>m[c])}static sanitizeHTML(l){if(l&&(l.indexOf("onclick")>=0||l.indexOf("onload")>=0||l.indexOf("onerror")>=0))return this.escapeHTML(l);const m=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig");return String(l).replace(m,c=>this.escapeHTML(c))}static createGUID(){function l(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return l()+l()+"-"+l()+"-"+l()+"-"+l()+"-"+l()+l()+l()}static getScriptLocation(){return window[e].BaseUrl!=="./"?window[e].BaseUrl:function(){if(document.currentScript){let b=document.currentScript.src,S=b.lastIndexOf("/");return b=b.substring(0,S),b}const l=new Error;let m="(",c=")";if(Smart.Utilities.Core.Browser.Safari&&(m="@",c=`
`),l.fileName)return l.fileName.replace("/smart.element.js","");let y=l.stack.split(m);return y=y[1],y=y.split(c)[0],y=y.split(":"),y.splice(-2,2),y=y.join(":"),y.replace("/smart.element.js","")}()}static CSSVariablesSupport(){return window.CSS&&window.CSS.supports&&window.CSS.supports("(--fake-var: 0)")}static assign(l,m){const c=b=>b&&typeof b=="object"&&!Array.isArray(b)&&b!==null;let y=Object.assign({},l);return c(l)&&c(m)&&Object.keys(m).forEach(b=>{c(m[b])?b in l?y[b]=this.assign(l[b],m[b]):Object.assign(y,{[b]:m[b]}):Object.assign(y,{[b]:m[b]})}),y}static html(l,m){const c=this;let y="",b=l.childNodes;if(!m){for(let S,D=0,M=b.length;D<M&&(S=b[D]);D++){const $=["strong"];if(S instanceof HTMLElement||S.tagName&&$.indexOf(S.tagName.toLowerCase())>=0){const P=S.tagName.toLowerCase(),G=S.attributes;let Z="<"+P;for(let ee,de=0;ee=G[de];de++)Z+=" "+ee.name+'="'+ee.value.replace(/[&\u00A0"]/g,A.Core.escapeHTML)+'"';Z+=">",["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"][P]&&(y+=Z),y=y+Z+c.html(S)+"</"+P+">"}else{if(S.nodeType===8)continue;y+=S.textContent.replace(/[&\u00A0<>]/g,A.Core.escapeHTML)}}return y}{const S=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;l.innerHTML=m.replace(S,"<$1></$2>")}}}let o=[];class d{static watch(l){switch(l.nodeName.toLowerCase()){case"smart-grid":case"smart-kanban":case"smart-table":case"smart-pivot-table":case"smart-scheduler":case"smart-tabs":case"smart-card-view":case"smart-list-box":case"smart-combo-box":case"smart-drop-down-list":case"smart-calendar":case"smart-gauge":case"smart-numeric-text-box":case"smart-menu":case"smart-tree":o.push(l);break;default:return}d.start()}static start(){d.isStarted||(d.isStarted=!0,d.interval&&clearInterval(d.interval),o.length===0||document.hidden?d.isStarted=!1:d.interval=setInterval(function(){d.observe()},100))}static stop(){d.isStarted=!1,d.interval&&clearInterval(d.interval)}static observeElement(l){const m=l;if(window.Smart.Mode==="test"||document.hidden)return void(d.interval&&clearInterval(d.interval));let c=l._computedStyle||m.hasStyleObserver!=="resize"?document.defaultView.getComputedStyle(m,null):{},y=!0,b=m.hasStyleObserver!=="resize"?["paddingLeft","paddingRight","paddingTop","paddingBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","display","visibility","font-size","font-family","font-style","font-weight","max-height","min-height","max-width","min-width","overflow","overflow-x","overflow-y"]:[];if(l.styleProperties&&(b=b.concat(l.styleProperties)),l.observableStyleProperties&&(b=l.observableStyleProperties),!m._styleInfo){m._styleInfo=[];for(let D=0;D<b.length;D++){const M=b[D],$=M.startsWith("--")?c.getPropertyValue(M):c[M];m._styleInfo[M]=$}return}if(l.isHidden||c.display!=="none"&&(l.offsetWidth!==0&&l.offsetHeight!==0||(l.isHidden=!0)),l.isHidden){if(l.visibilityChangedHandler(),l.isHidden)return;y=!1}let S=[];for(let D=0;D<b.length;D++){const M=b[D],$=M.startsWith("--")?c.getPropertyValue(M):c[M];m._styleInfo[M]!==$&&(S[M]={oldValue:m._styleInfo[M],value:$},S.length++),m._styleInfo[M]=$}S.length>0&&(m.$.fireEvent("styleChanged",{styleProperties:S},{bubbles:!1,cancelable:!0}),S.display&&y&&m.$.fireEvent("resize",m,{bubbles:!1,cancelable:!0}))}static observe(){for(let l=0;l<o.length;l++){const m=o[l];this.observeElement(m)}}static unwatch(l){d.stop();const m=o.indexOf(l);m!==-1&&o.splice(m,1),d.start()}}let f=[];const p=[],v=["resize","down","up","move","tap","taphold","swipeleft","swiperight","swipetop","swipebottom"];class w{constructor(l){const m=this;m.target=l,m.$target=new x(l),m.$document=l.$document?l.$document:new x(document),m.id=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase();let c={handlers:{},boundEventTypes:[],listen:m.listen.bind(m),unlisten:m.unlisten.bind(m)};return m.tapHoldDelay=750,m.swipeMin=10,m.swipeMax=5e3,m.swipeDelay=1e3,m.tapHoldDelay=750,m.inputEventProperties=["clientX","clientY","pageX","pageY","screenX","screenY"],v.forEach(y=>{c[y]=b=>{c.handlers[y]=b},m[y]=b=>{if(!c.handlers[b.type]){if((b.type==="mousemove"||b.type==="pointermove"||b.type==="touchmove")&&c.handlers.move){const S=m.createEvent(b,"move");c.handlers.move(S)}return!0}return c.handlers[b.type](b)}}),m.listen(),m.handlers=c.handlers,c}listen(l){const m=this;if(l==="resize"&&m.target!==document&&m.target!==window&&m.target.hasResizeObserver!==!1){if(Smart.Utilities.Core.Browser.Firefox){if(!m.target.resizeObserver){let c,y,b,S=!1,D=m.target.offsetWidth,M=m.target.offsetHeight;const $=new ResizeObserver(()=>{if(!S)return void(S=!0);const P=new CustomEvent("resize",{bubbles:!1,cancelable:!0});y=m.target.offsetWidth,b=m.target.offsetHeight,c=y!==D||b!==M,m.target.requiresLayout&&(c=!0),c&&(m.resize(P),m.target.requiresLayout=!1,D=y,M=b)});$.observe(m.target),m.target.resizeObserver=$}}else if(!m.target.resizeTrigger){const c=document.createElement("div");c.className="smart-resize-trigger-container",c.innerHTML='<div class="smart-resize-trigger-container"><div class="smart-resize-trigger"></div></div><div class="smart-resize-trigger-container"><div class="smart-resize-trigger-shrink"></div></div>',c.setAttribute("aria-hidden",!0),window[e].EnableShadowDOM&&m.target.shadowRoot?m.target.shadowRoot.appendChild(c):m.target.appendChild(c),m.target.resizeTrigger=c;const y=c.childNodes[0],b=y.childNodes[0],S=c.childNodes[1],D=function(){b.style.width="100000px",b.style.height="100000px",y.scrollLeft=1e5,y.scrollTop=1e5,S.scrollLeft=1e5,S.scrollTop=1e5};let M,$,P,G,Z=m.target.offsetWidth,ee=m.target.offsetHeight;if(Z===0||ee===0){const de=function(){D(),m.target.removeEventListener("resize",de)};m.target.addEventListener("resize",de),D()}else D();m.target.resizeHandler=function(){$||($=requestAnimationFrame(function(){if($=0,P=m.target.offsetWidth,G=m.target.offsetHeight,M=P!==Z||G!==ee,m.target.requiresLayout&&(M=!0),!M)return;Z=P,ee=G;const de=new CustomEvent("resize",{bubbles:!1,cancelable:!0});m.resize(de),m.target.requiresLayout=!1})),D()},y.addEventListener("scroll",m.target.resizeHandler),S.addEventListener("scroll",m.target.resizeHandler)}}m.isListening||(m.isListening=!0,m.isPressed=!1,m.isReleased=!1,m.isInBounds=!1,window.PointerEvent?(m.$target.listen("pointerdown.inputEvents"+m.id,m.pointerDown.bind(m)),m.$target.listen("pointerup.inputEvents"+m.id,m.pointerUp.bind(m)),m.$target.listen("pointermove.inputEvents"+m.id,m.pointerMove.bind(m)),m.$target.listen("pointercancel.inputEvents"+m.id,m.pointerCancel.bind(m))):("ontouchstart"in window&&(m.$target.listen("touchmove.inputEvents"+m.id,m.touchMove.bind(m)),m.$target.listen("touchstart.inputEvents"+m.id,m.touchStart.bind(m)),m.$target.listen("touchend.inputEvents"+m.id,m.touchEnd.bind(m)),m.$target.listen("touchcancel.inputEvents"+m.id,m.touchCancel.bind(m))),m.$target.listen("mousedown.inputEvents"+m.id,m.mouseDown.bind(m)),m.$target.listen("mouseup.inputEvents"+m.id,m.mouseUp.bind(m)),m.$target.listen("mousemove.inputEvents"+m.id,m.mouseMove.bind(m)),m.$target.listen("mouseleave.inputEvents"+m.id,m.mouseLeave.bind(m))),m.target._handleDocumentUp||(m.target._handleDocumentUp=m.handleDocumentUp.bind(m),m.target._handleDocumentUpId=m.id,m.$document.listen("mouseup.inputEvents"+m.target._handleDocumentUpId,m.target._handleDocumentUp)))}unlisten(l){const m=this;if(m.isListening=!1,window.PointerEvent?(m.$target.unlisten("pointerdown.inputEvents"+m.id),m.$target.unlisten("pointerup.inputEvents"+m.id),m.$target.unlisten("pointermove.inputEvents"+m.id),m.$target.unlisten("pointercancel.inputEvents"+m.id)):("ontouchstart"in window&&(m.$target.unlisten("touchstart.inputEvents"+m.id),m.$target.unlisten("touchmove.inputEvents"+m.id),m.$target.unlisten("touchend.inputEvents"+m.id),m.$target.unlisten("touchcancel.inputEvents"+m.id)),m.$target.unlisten("mousedown.inputEvents"+m.id),m.$target.unlisten("mouseup.inputEvents"+m.id),m.$target.unlisten("mousemove.inputEvents"+m.id),m.$target.unlisten("mouseleave.inputEvents"+m.id)),m.target._handleDocumentUp&&(m.$document.unlisten("mouseup.inputEvents"+m.target._handleDocumentUpId,m.target._handleDocumentUp),delete m.target._handleDocumentUp,delete m.target._handleDocumentUpId),l==="resize"){if(Smart.Utilities.Core.Browser.Firefox)m.target.resizeObserver&&(m.target.resizeObserver.unobserve(m.target),delete m.target.resizeObserver);else if(m.target.resizeTrigger){const c=m.target.resizeTrigger,y=c.childNodes[0],b=c.childNodes[1];y.removeEventListener("scroll",m.target.resizeHandler),b.removeEventListener("scroll",m.target.resizeHandler),m.target.resizeHandler=null,c.parentNode.removeChild(c),delete m.target.resizeTrigger}}}handleDocumentUp(l){const m=this;m.isPressed=!1,m.isReleased=!1,m.resetSwipe(l)}createEvent(l,m){const c=this,y=l.touches,b=l.changedTouches,S=y&&y.length?y[0]:b&&b.length?b[0]:void 0,D=new CustomEvent(m,{bubbles:!0,cancelable:!0,composed:c.$target.element.getRootNode().host!==void 0});if(D.originalEvent=l,S){for(let M=0;M<c.inputEventProperties.length;M++){const $=c.inputEventProperties[M];D[$]=S[$]}return D}for(let M in l)M in D||(D[M]=l[M]);return D}fireTap(l){const m=this;if(clearTimeout(this.tapHoldTimeout),!this.tapHoldFired&&this.isInBounds){const c=m.createEvent(l,"tap");m.tap(c)}}initTap(l){const m=this;m.isInBounds=!0,m.tapHoldFired=!1,m.tapHoldTimeout=setTimeout(function(){if(m.isInBounds){m.tapHoldFired=!0;const c=m.createEvent(l,"taphold");m.taphold(c)}},m.tapHoldDelay)}pointerDown(l){return this.handleDown(l)}mouseDown(l){const m=this;if(!(m.isPressed||m.touchStartTime&&new Date-m.touchStartTime<500))return m.handleDown(l)}touchStart(l){const m=this;return m.touchStartTime=new Date,m.isTouchMoved=!0,m.handleDown(l)}mouseUp(l){const m=this;if(!(m.isReleased||m.touchEndTime&&new Date-m.touchEndTime<500))return m.handleUp(l)}handleDown(l){const m=this;m.isReleased=!1,m.isPressed=!0;const c=m.createEvent(l,"down");return(m.handlers.tap||m.handlers.taphold)&&m.initTap(c),(m.handlers.swipeleft||m.handlers.swiperight||m.handlers.swipetop||m.handlers.swipebottom)&&m.initSwipe(c),m.down(c)}handleUp(l){const m=this;m.isReleased=!0,m.isPressed=!1;const c=m.createEvent(l,"up"),y=m.up(c);return(m.handlers.tap||m.handlers.taphold)&&m.fireTap(c),m.resetSwipe(c),y}handleMove(l){const m=this;let c=m.move(l);return m.isPressed&&(m._maxSwipeVerticalDistance=Math.max(m._maxSwipeVerticalDistance,Math.abs(m._startY-l.pageY)),m._maxSwipeHorizontalDistance=Math.max(m._maxSwipeHorizontalDistance,Math.abs(m._startX-l.pageX)),c=m.handleSwipeEvents(l)),c}touchEnd(l){return this.touchEndTime=new Date,this.handleUp(l)}pointerUp(l){return this.handleUp(l)}pointerCancel(l){this.pointerUp(l)}touchCancel(l){this.touchEnd(l)}mouseLeave(){this.isInBounds=!1}mouseMove(l){if(!this.isTouchMoved)return this.handleMove(l)}pointerMove(l){return this.handleMove(l)}touchMove(l){const m=this,c=l.touches,y=l.changedTouches,b=c&&c.length?c[0]:y&&y.length?y[0]:void 0;for(let S=0;S<m.inputEventProperties.length;S++){const D=m.inputEventProperties[S];l[D]===void 0&&(l[D]=b[D])}return m.isTouchMoved=!0,m.handleMove(l)}handleSwipeEvents(l){const m=this;let c=!0;return(m.handlers.swipetop||m.handlers.swipebottom)&&(c=this.handleVerticalSwipeEvents(l)),c===!1||(m.handlers.swipeleft||m.handlers.swiperight)&&(c=this.handleHorizontalSwipeEvents(l)),c}handleVerticalSwipeEvents(l){let m,c;return m=l.pageY,c=m-this._startY,this.swiped(l,c,"vertical")}handleHorizontalSwipeEvents(l){let m,c;return m=l.pageX,c=m-this._startX,this.swiped(l,c,"horizontal")}swiped(l,m,c){const y=this;if(c=c||0,Math.abs(m)>=y.swipeMin&&!y._swipeEvent&&!y._swipeLocked){let b=m<0?"swipeleft":"swiperight";if(c==="horizontal"?y._swipeEvent=y.createEvent(l,b):(b=m<0?"swipetop":"swipebottom",y._swipeEvent=y.createEvent(l,m<0?"swipetop":"swipebottom")),y[b]&&(y[b](this._swipeEvent),Math.abs(m)<=this.swipeMax))return l.stopImmediatePropagation(),!1}return!0}resetSwipe(){this._swipeEvent=null,clearTimeout(this._swipeTimeout)}initSwipe(l){const m=this;m._maxSwipeVerticalDistance=0,m._maxSwipeHorizontalDistance=0,m._startX=l.pageX,m._startY=l.pageY,m._swipeLocked=!1,m._swipeEvent=null,m._swipeTimeout=setTimeout(function(){m._swipeLocked=!0},m.swipeDelay)}}class C{get scrollWidth(){const l=this;return l.horizontalScrollBar?l.horizontalScrollBar.max:-1}set scrollWidth(l){const m=this;l<0&&(l=0),m.horizontalScrollBar&&(m.horizontalScrollBar.max=l)}get scrollHeight(){const l=this;return l.verticalScrollBar?l.verticalScrollBar.max:-1}set scrollHeight(l){const m=this;l<0&&(l=0),m.verticalScrollBar&&(m.verticalScrollBar.max=l)}get scrollLeft(){const l=this;return l.horizontalScrollBar?l.horizontalScrollBar.value:-1}set scrollLeft(l){const m=this;l<0&&(l=0),m.horizontalScrollBar&&(m.horizontalScrollBar.value=l)}get scrollTop(){const l=this;return l.verticalScrollBar?l.verticalScrollBar.value:-1}set scrollTop(l){const m=this;l<0&&(l=0),m.verticalScrollBar&&(m.verticalScrollBar.value=l)}get vScrollBar(){return this.verticalScrollBar}get hScrollBar(){return this.horizontalScrollBar}constructor(l,m,c){const y=this;y.container=l,y.horizontalScrollBar=m,y.verticalScrollBar=c,y.disableSwipeScroll=!1,y.listen()}listen(){const l=this,m=r.isMobile,c=l.horizontalScrollBar,y=l.verticalScrollBar;let b,S,D,M,$,P,G,Z;l.inputEvents=new w(l.container);const ee=function(xe){return{amplitude:0,delta:0,initialValue:0,min:0,max:xe.max,previousValue:0,pointerPosition:0,targetValue:0,scrollBar:xe,value:0,velocity:0}},de=ee(c),me=ee(y),ge=function(){const xe=l.container.touchVelocityCoefficient||50;P=Date.now(),G=P-M,M=P;const Ve=function(ye){ye.delta=ye.value-ye.previousValue,ye.previousValue=ye.value;let je=xe*ye.delta/(1+G);ye.velocity=.8*je+.2*ye.velocity};Ve(me),Ve(de)},we=function(xe){return Z.value=xe>Z.max?Z.max:xe<Z.min?Z.min:xe,Z.scrollBar.value=Z.value,xe>Z.max?"max":xe<Z.min?"min":"value"};function Me(){let xe,Ve;Z.amplitude&&(l.container.$.fireEvent("kineticScroll"),xe=Date.now()-M,Ve=-Z.amplitude*Math.exp(-xe/500),Ve>5||Ve<-5?(we(Z.targetValue+Ve),cancelAnimationFrame(S),S=0,S=requestAnimationFrame(Me)):we(Z.targetValue))}let ke;l.inputEvents.down(function(xe){if(!m)return;const Ve=xe.originalEvent.target,ye=Ve&&Ve.closest?Ve.closest("smart-scroll-bar"):void 0;if(ye===l.horizontalScrollBar||ye===l.verticalScrollBar)return;D=!0,b=!1;const je=function(Le,et){Le.amplitude=0,Le.pointerPosition=et,Le.previousValue=Le.value,Le.value=Le.scrollBar.value,Le.initialValue=Le.value,Le.max=Le.scrollBar.max};je(me,xe.clientY),je(de,xe.clientX),M=Date.now(),clearInterval($),$=setInterval(ge,500)}),l.inputEvents.up(function(){if(!D)return!0;if(clearInterval($),l.disableSwipeScroll)return void(D=!1);const xe=function(Ve){Z=Ve,Ve.amplitude=.8*Ve.velocity,Ve.targetValue=Math.round(Ve.value+Ve.amplitude),M=Date.now(),cancelAnimationFrame(S),S=requestAnimationFrame(Me),Ve.velocity=0};me.velocity>10||me.velocity<-10?xe(me):(de.velocity>10||de.velocity<-10)&&xe(de),D=!1}),l.inputEvents.move(function(xe){if(!D)return!0;if(l.disableSwipeScroll||(b&&(xe.originalEvent.preventDefault(),xe.originalEvent.stopPropagation()),de.visible=l.scrollWidth>0,me.visible=l.scrollHeight>0,!D||!de.visible&&!me.visible))return;const Ve=l.container.touchScrollRatio,ye=l.container;let je,Le;Ve&&(typeof Ve=="number"?(je=-Ve,Le=-Ve):typeof Ve=="function"&&(je=Ve(me.max,ye.offsetHeight),Le=Ve(de.max,ye.offsetWidth))),me.ratio=je||-me.max/ye.offsetHeight,me.delta=(xe.clientY-me.pointerPosition)*me.ratio,de.ratio=Le||-de.max/ye.offsetWidth,de.delta=(xe.clientX-de.pointerPosition)*de.ratio;let et="value";const Ye=function(Ne,mt,Be){return Ne.delta>5||Ne.delta<-5?(Z=Ne,et=Ne.initialValue+Ne.delta>Z.max?"max":Ne.initialValue+Ne.delta<Z.min?"min":"value",et==="min"&&Ne.initialValue===0||et==="max"&&Ne.initialValue===Ne.max||!Ne.visible||(l.container.$.fireEvent("kineticScroll"),we(Ne.initialValue+Ne.delta),ge(),Be.originalEvent.preventDefault(),Be.originalEvent.stopPropagation(),b=!0,!1)):null};let ut=Ye(me,xe.clientY,xe);if(ut!==null)return ut;{let Ne=Ye(de,xe.clientX,xe);if(Ne!==null)return Ne}}),l.scrollTo=function(xe,Ve){const ye=Ve===!1?de:me;let je=!1;M||(M=Date.now()),ke||(ke=Date.now()),Math.abs(Date.now()-ke)>375?M=Date.now():je=!0,ke=Date.now(),ye.value=ye.scrollBar.value,ye.delta=xe-ye.value,ye.max=ye.scrollBar.max,xe<=ye.min&&(xe=ye.min),xe>=ye.max&&(xe=ye.max),ye.targetValue=xe;const Le=xe;let et=ye.value;ye.velocity=100*ye.delta/(1+ye.max),ye.from=et;const Ye=function(Ne){return ye.value=Ne>ye.max?ye.max:Ne<ye.min?ye.min:Ne,ye.scrollBar.value=ye.value,Ne>ye.max?"max":Ne<ye.min?"min":"value"},ut=function(){let Ne,mt=Date.now()-ke,Be=Math.min(1e3,Date.now()-M),Ke=ye.velocity*Math.exp(Be/175);if(je)(Ke<0&&ye.value<=xe||Ke>0&&ye.value>=xe)&&(Ke=0),(ye.value+Ke<=ye.min||ye.value+Ke>=ye.max)&&(Ke=0),Ke>.5||Ke<-.5?(Ye(ye.value+Ke),cancelAnimationFrame(S),S=0,S=requestAnimationFrame(ut)):Ye(ye.targetValue);else{if(mt>=175)return cancelAnimationFrame(S),l.container.$.fireEvent("kineticScroll"),void(S=0);Ne=A.Animation.Easings.easeInSine(mt,et,Le-et,175),Ye(Ne),cancelAnimationFrame(S),S=0,S=requestAnimationFrame(ut)}};cancelAnimationFrame(S),S=requestAnimationFrame(ut)},l.inputEvents.listen()}unlisten(){const l=this;l.inputEvents&&l.inputEvents.unlisten(),delete l.inputEvents}}class x{constructor(l){this.events={},this.handlers={},this.element=l}hasClass(l){const m=this,c=l.split(" ");for(let y=0;y<c.length;y++)if(!m.element.classList.contains(c[y]))return!1;return!0}addClass(l){const m=this;if(m.hasClass(l))return;const c=l.split(" ");for(let y=0;y<c.length;y++)m.element.classList.add(c[y]);m.isNativeElement||d.observeElement(m.element)}removeClass(l){const m=this;if(arguments.length===0)return void m.element.removeAttribute("class");const c=l.split(" ");for(let y=0;y<c.length;y++)m.element.classList.remove(c[y]);m.element.className===""&&m.element.removeAttribute("class"),m.isNativeElement||d.observeElement(m.element)}get isCustomElement(){const l=this;return!!l.element.tagName.startsWith(e)||l.element instanceof window[e].BaseElement==1||l.element.tagName!=="DIV"&&l.element.tagName!=="SPAN"&&l.element.tagName!=="BUTTON"&&l.element.tagName!=="INPUT"&&l.element.tagName!=="UL"&&l.element.tagName!=="LI"&&document.createElement(l.element.nodeName)instanceof window[e].BaseElement==1}get isNativeElement(){return!this.isCustomElement}dispatch(l){const m=this,c=m.events[l.type];let y=!1;if(c.length>1)for(let b=0;b<c.length;b++){const S=c[b];if(S.namespace&&S.namespace.indexOf("_")>=0){y=!0;break}}y&&c.sort(function(b,S){let D=b.namespace,M=S.namespace;return D=D.indexOf("_")===-1?0:parseInt(D.substring(D.indexOf("_")+1)),M=M.indexOf("_")===-1?0:parseInt(M.substring(M.indexOf("_")+1)),D<M?-1:D>M?1:0});for(let b=0;b<c.length;b++){const S=c[b];if(l.namespace=S.namespace,l.context=S.context,l.defaultPrevented)break;const D=S.handler.apply(m.element,[l]);if(D!==void 0&&(l.result=D,D===!1)){l.preventDefault(),l.stopPropagation();break}}return l.result}fireEvent(l,m,c){const y=this;c||(c={bubbles:!0,cancelable:!0,composed:y.element.getRootNode().host!==null}),c.detail=m||{};const b=new CustomEvent(l,c);if(b.originalStopPropagation=b.stopPropagation,b.stopPropagation=function(){return b.isPropagationStopped=!0,b.originalStopPropagation()},y.dispatchEvent(b),window[e].isVue){const S=A.Core.toDash(l);if(S!==l){const D=new CustomEvent(S,c);D.originalStopPropagation=b.stopPropagation,D.stopPropagation=function(){return D.isPropagationStopped=!0,D.originalStopPropagation()},y.dispatchEvent(D)}}return b}get isPassiveSupported(){const l=this;if(l.supportsPassive!==void 0)return l.supportsPassive;l.supportsPassive=!1;try{let m=Object.defineProperty({},"passive",{get:function(){l.supportsPassive=!0}});window.addEventListener("testPassive",null,m),window.removeEventListener("testPassive",null,m)}catch{}return l.supportsPassive}dispatchEvent(l){const m=this,c=l.type,y=m.element.context,b=c.substring(0,1).toUpperCase()+c.substring(1);m.element.context=document,m.element["on"+b]?m.element["on"+b](l):m.element["on"+c.toLowerCase()]?m.element["on"+c.toLowerCase()](l):m.element.dispatchEvent(l),m.element.context=y}listen(l,m){const c=this,y=l.split("."),b=y.slice(1).join("."),S=y[0];c.events[S]||(c.events[S]=[]);const D={type:S,handler:m,context:c.element,namespace:b};v.indexOf(S)>=0&&(c.inputEvents||(c.inputEvents=new w(c.element)),c.inputEvents[S](function(M){c.dispatchEvent(M)}),c.inputEvents.boundEventTypes.push(S),c.inputEvents.listen(S)),c.events[S].length===0&&(c.handlers[S]=c.dispatch.bind(c),S==="wheel"?c.element.addEventListener("wheel",c.handlers[S],!!c.isPassiveSupported&&{passive:!1}):S==="touchmove"||S==="touchstart"||S==="touchend"?c.element.addEventListener(S,c.handlers[S],!!c.isPassiveSupported&&{passive:!1}):c.element.addEventListener(S,c.handlers[S],!1)),c.events[S].push(D)}unlisten(l){const m=this,c=l.split("."),y=c.slice(1).join("."),b=c[0];let S=m.events[b];if(m.inputEvents&&m.inputEvents.boundEventTypes.indexOf(b)>=0&&(m.inputEvents.boundEventTypes.splice(m.inputEvents.boundEventTypes.indexOf(b),1),m.inputEvents.boundEventTypes.length===0&&m.inputEvents.unlisten(b)),S){for(let D=0;D<S.length;D++){if(y!==""){let M=S.findIndex($=>$.namespace===y);S.splice(M,1);break}S=[]}S.length===0&&(m.element.removeEventListener(b,m.handlers[b]),m.events[b]=[],delete m.handlers[b])}}getAttributeValue(l,m){const c=this,y=c.element.getAttribute(l);if(c.isNativeElement)return c.deserialize(y,m);const b=c.element.propertyByAttributeName[l];return b.deserialize===void 0?c.deserialize(y,m,b.nullable):c.element[b.deserialize](y)}setAttributeValue(l,m,c){const y=this;let b,S=!1;if(y.isNativeElement){if(b=y.serialize(m,c),c==="boolean"&&["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(l)>=0)return void(m?y.element.setAttribute(l,""):y.element.removeAttribute(l))}else{const D=y.element.propertyByAttributeName[l];S=!D||D.nullable,b=D&&D.serialize?y.element[D.serialize](m):y.serialize(m,c,S)}c!=="array"&&c!=="object"||b!=="[]"&&b!=="{}"?b===void 0?(y.element.removeAttribute(l),y.element.shadowRoot&&y.element.$.root&&y.element.$.root.removeAttribute(l)):(y.element.setAttribute(l,b),y.element.shadowRoot&&y.element.$.root&&y.element.$.root.setAttribute(l,b)):y.element.removeAttribute(l)}serialize(l,m,c){if(m===void 0&&(m=A.Types.getType(l)),l!==void 0&&(c||l!==null)){if(c&&l===null)return"null";if(m==="string")return l;if(m==="boolean"||m==="bool"){if(l===!0||l==="true"||l===1||l==="1")return"";if(l===!1||l==="false"||l===0||l==="0")return}return m==="array"?JSON.stringify(l):["string","number","int","integer","float","date","any","function"].indexOf(m)>=0?l.toString():m==="object"?JSON.stringify(l):void 0}}deserialize(l,m,c){const y=l==="null";if(l!==void 0&&(!y||c)){if(y&&c)return null;if(m==="boolean"||m==="bool")return l!==null;if(m==="number"||m==="float")return l==="NaN"?NaN:l==="Infinity"?1/0:l==="-Infinity"?-1/0:parseFloat(l);if(m==="int"||m==="integer")return l==="NaN"?NaN:l==="Infinity"?1/0:l==="-Infinity"?-1/0:parseInt(l);if(m==="string"||m==="any")return l;if(m==="date")return new Date(l);if(m==="function"){if(typeof window[l]=="function")return window[l]}else if(m==="array"||m==="object")try{const b=JSON.parse(l);if(b)return b}catch{if(window[l]&&typeof window[l]=="object")return window[l];if(m==="object"&&l.indexOf("{")>=0){let S=(l=l.replace(/{/gi,"").replace(/}/gi,"").replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim()).trim().split(","),D={};for(let M=0;M<S.length;M++){const $=S[M].split(":")[0].trim(),P=S[M].split(":")[1].trim();D[$]=P}return D}if(m==="array"&&l.indexOf("[")>=0){if(l.indexOf("{")>=0){let S=l.replace(/{/gi,"").replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim();S=S.split("},");for(let D=0;D<S.length;D++){let M={},$=S[D].trim().split(",");for(let P=0;P<$.length;P++){const G=$[P].split(":")[0].trim(),Z=$[P].split(":")[1].trim();M[G]=Z}S[D]=M}return S}return l.replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim().split(",")}}}}}class L{static get Ripple(){return a}static get Easings(){return i}}class A{static get Types(){return n}static get Core(){return r}static get Animation(){return L}static get Scroll(){return C}static get InputEvents(){return w}static Extend(l){return new x(l)}static Assign(l,m){if(l.indexOf(".")>=0){const c=l.split(".");return A[c[0]]||(A[c[0]]={}),void(A[c[0]][c[1]]=m)}A[l]=m}}const k=A.Extend(document);let B=null;document.addEventListener("click",()=>{d.start(),B&&clearTimeout(B),B=setTimeout(()=>{d.stop()},1e4)}),document.addEventListener("mouseenter",()=>{d.start()}),document.addEventListener("mouseleave",()=>{d.stop()});class H{}H.cache={};class V extends HTMLElement{static get properties(){return{animation:{value:"advanced",type:"string",allowedValues:["none","simple","advanced"]},unfocusable:{value:!1,type:"boolean"},disabled:{value:!1,type:"boolean"},dataContext:{value:null,reflectToAttribute:!1,type:"any"},debugMode:{value:!0,type:"boolean",reflectToAttribute:!1},unlockKey:{value:"",type:"string",reflectToAttribute:!1},locale:{value:"en",type:"string",reflectToAttribute:!1},localizeFormatFunction:{value:null,type:"any",reflectToAttribute:!1},messages:{value:{en:{propertyUnknownName:"Invalid property name: '{{name}}'!",propertyUnknownType:"'{{name}}' property is with undefined 'type' member!",propertyInvalidValue:"Invalid '{{name}}' property value! Actual value: '{{actualValue}}', Expected value: '{{value}}'!",propertyInvalidValueType:"Invalid '{{name}}' property value type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",methodInvalidValueType:"Invalid '{{name}}' method argument value type! Actual type: '{{actualType}}', Expected type: '{{type}}' for argument with index: '{{argumentIndex}}'!",methodInvalidArgumentsCount:"Invalid '{{name}}' method arguments count! Actual arguments count: '{{actualArgumentsCount}}', Expected at least: '{{argumentsCount}}' argument(s)!",methodInvalidReturnType:"Invalid '{{name}}' method return type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",elementNotInDOM:"Element does not exist in DOM! Please, add the element to the DOM, before invoking a method.",moduleUndefined:"Module is undefined.",missingReference:"{{elementType}}: Missing reference to '{{files}}'.",htmlTemplateNotSuported:"{{elementType}}: Web Browser doesn't support HTMLTemplate elements.",invalidTemplate:"{{elementType}}: '{{property}}' property accepts a string that must match the id of an HTMLTemplate element from the DOM."}},reflectToAttribute:!1,inherit:!0,type:"object"},props:{value:null,reflectToAttribute:!1,isHierarchicalProperty:!0,type:"any"},readonly:{value:!1,type:"boolean"},renderMode:{value:"auto",type:"string",reflectToAttribute:!1,allowedValues:["auto","manual"]},rightToLeft:{value:!1,type:"boolean"},rethrowError:{value:!0,type:"boolean",reflectToAttribute:!1},theme:{value:window[e].Theme,type:"string"},visibility:{value:"visible",allowedValues:["visible","collapsed","hidden"],type:"string"},wait:{value:!1,type:"boolean"}}}getBindings(l,m){const c=this;let y=0,b={},S=(D=>{if(D instanceof HTMLElement)return c.parseAttributes(D);{let M=c.parseProperty(D.data?D.data.trim():null,"textContent",D);if(M)return c&&D.parentNode===c.$.content&&(M.value=c.$.html!==""?c.$.html:void 0,c.innerHTML=""),{textContent:M}}})(l);S&&(b.data=S),m||(b.mapping=[],m=b),l.getAttribute&&(b.nodeId=l.getAttribute("smart-id"),m&&S&&(m.mapping[b.nodeId]=S)),b.node=l,l.firstChild&&(b.children={});for(let D=l.firstChild;D;D=D.nextSibling)b.children[y++]=c.getBindings(D,m);return b}_addRemovePropertyBinding(l,m,c,y,b){if(!l||!m||!c)return;const S=this,D=S.bindings,M=c.getAttribute("smart-id"),$=l.indexOf("{{")>=0;let P=!1;(l=l.replace("{{","").replace("}}","").replace("[[","").replace("]]","")).indexOf("!")>=0&&(l=l.replace("!",""),P=!0);const G=S._properties[l],Z={name:l,reflectToAttribute:G.reflectToAttribute,twoWay:$,type:G.type,not:P};if(b&&!y){const de={},me={name:l,targetPropertyName:m,reflectToAttribute:G.reflectToAttribute,twoWay:$,type:G.type,not:P};de[l]=me,D.mapping[M]=de}const ee=function(de){for(let me in de){const ge=de[me];if(ge.nodeId===M){ge.data||(ge.data={}),y?(ge.data[m]=null,delete ge.data[m]):ge.data[m]=Z;break}if(ge.children)ee(ge.children);else if(ge.node&&ge.node.children&&ge.node===c.parentElement){const we=ge.node;if(!we.firstChild)continue;ge.children={};let Me=0;for(let ke=we.firstChild;ke;ke=ke.nextSibling)ge.children[Me++]=S.getBindings(ke);ee(ge.children)}}};ee(D.children),y?delete S.boundProperties[l]:S.boundProperties[l]=!0,S.updateBoundNodes(l)}addPropertyBinding(l,m,c,y){this._addRemovePropertyBinding(l,m,c,!1,y)}removePropertyBinding(l,m,c,y){this._addRemovePropertyBinding(l,m,c,!0,y)}parseAttributes(l){const m=this;let c;for(let y=0;y<l.attributes.length;y++){const b=l.attributes[y],S=b.name,D=b.value;H.cache["toCamelCase"+S]||(H.cache["toCamelCase"+S]=A.Core.toCamelCase(S));const M=H.cache["toCamelCase"+S];if(S.indexOf("(")>=0){let P=S.substring(1,S.length-1);if(m&&!m.dataContext){m.templateListeners[l.getAttribute("smart-id")+"."+P]=D,l.removeAttribute(S);continue}{c||(c={});const G=D.substring(0,D.indexOf("("));c[M]={isEvent:!0,name:P,value:G};continue}}let $=m.parseProperty(D,S,l);$&&(c||(c={}),c[M]=$)}return c}parseProperty(l,m){if(!l||!l.length)return;const c=this;let y,b=l.length,S=0,D=0,M=0,$=!0;for(;D<b;){S=l.indexOf("{{",D);let Z=l.indexOf("[[",D),ee="}}";if(Z>=0&&(S<0||Z<S)&&(S=Z,$=!1,ee="]]"),M=S<0?-1:l.indexOf(ee,S+2),M<0)return;y=y||{};let de=l.slice(S+2,M).trim();y.name=de,D=M+2}const P=y.name,G=c?c._properties[P]:null;return y.twoWay=$,y.ready=!1,c&&(P.indexOf("::")>=0?c.boundProperties[P.substring(0,P.indexOf("::"))]=!0:c.boundProperties[P]=!0),G?(y.type=G.type,y.reflectToAttribute=G.reflectToAttribute):(["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(m)>=0?y.type="boolean":y.type="string",y.reflectToAttribute=!0),y}updateTextNodes(){const l=this;l.updateTextNode(l.shadowRoot||l,l.bindings,l)}updateTextNode(l,m,c){const y=this;if(!m)return;let b=0;for(let S=l.firstChild;S&&m.children;S=S.nextSibling)y.updateTextNode(S,m.children[b++],c);if(m&&m.data)for(let S in m.data){const D=m.data[S],M=D.name;S==="textContent"&&D.twoWay&&!D.updating&&D.value!==void 0&&(c[M]=D.value)}}updateBoundProperty(l,m){if(m.updating)return;const c=this;m.updating=!0,c[l]=m.value,m.updating=!1}updateBoundNodes(l){const m=this;if(m.updateBoundNode(m.shadowRoot||m,m.bindings,m,l),m.detachedChildren.length>0)for(let c=0;c<m.detachedChildren.length;c++){const y=m.detachedChildren[c],b=y.getAttribute("smart-id"),S=function(M){if(M.nodeId===b)return M;for(let $ in M.children){const P=M.children[$];if((P.getAttribute?P.getAttribute("smart-id"):"")===b)return M;if(P.children){const G=S(P);if(G)return G}}return null},D=S(m.bindings);if(D)m.updateBoundNode(y,D,m,l,!0);else if(y.getAttribute&&m.bindings.mapping){const M=m,$=m.bindings;if($)for(let P in $.mapping){const G=M.querySelector('[smart-id="'+P+'"]');if(G){const Z=$.mapping[P];m.updateBoundData(G,Z,M,l)}}}}}updateBoundMappedNodes(){const l=this,m=l.bindings,c=l;if(m.mapping)for(let y in m.mapping){let b=c.querySelector('[smart-id="'+y+'"]');if(c.shadowRoot&&(b=c.querySelector('[id="'+y+'"]'),b||(b=c.shadowRoot.querySelector('[id="'+y+'"]')||c.shadowRoot.querySelector('[smart-id="'+y+'"]'))),b){const S=m.mapping[y];l.updateBoundData(b,S,c)}else if(c.getAttribute("aria-controls")){let S=document.getElementById(c.getAttribute("aria-controls"));if(!S&&c.shadowRoot&&(S=c.shadowRoot.getElementById(c.getAttribute("aria-controls"))),b=S.querySelector('[smart-id="'+y+'"]'),b){const D=m.mapping[y];l.updateBoundData(b,D,c)}}}}updateBoundNode(l,m,c,y,b){const S=this;if(!m)return;let D=0;if(b){if(b&&!m.data)for(let $=l.firstChild;$&&m.children;$=$.nextSibling)if($.getAttribute){const P=$.getAttribute("smart-id"),G=function(){for(let Z in m.children)if(m.children[Z].nodeId===P)return m.children[Z]}();S.updateBoundNode($,G,c,y),D++}else S.updateBoundNode($,m.children[D++],c,y,b)}else for(let $=l.firstChild;$&&m.children;$=$.nextSibling)if($.getAttribute){const P=$.getAttribute("smart-id"),G=function(){for(let Z in m.children)if(m.children[Z].nodeId===P)return m.children[Z]}();S.updateBoundNode($,G,c,y),D++}else S.updateBoundNode($,m.children[D++],c,y);if(!m||!m.data)return;const M=m.data;S.updateBoundData(l,M,c,y)}updateBoundData(l,m,c,y){const b=this;for(let S in m){const D=m[S];let M=D.name;if(!D.updating&&(M.indexOf("::")>=0&&(M=M.substring(0,M.indexOf("::"))),y===void 0||y===M)){if(M.indexOf("(")>=0){let $=M.substring(M.indexOf("("));const P=M.substring(0,M.indexOf("("));if($=$.substring(1,$.length-1),$=$.replace(/ /gi,""),$=$.split(","),$.length>0&&$[0]!==""){let G=[];for(let Z=0;Z<$.length;Z++)G.push(c[$[Z]]);D.value=c[P].apply(c,G)}else D.value=c[P]();D.type=typeof D.value}else D.value=c[M];if(M==="innerHTML"){if(l[S].toString().trim()!==c[M].toString().trim()){if(window.smartBlazor&&l[S].indexOf("<!--")>=0){(D.ready||c._properties[M].defaultValue!==D.value)&&(l[S]=D.value.toString());continue}(D.ready||c._properties[M].defaultValue!==D.value)&&(l[S]=D.value.toString().trim())}}else D.not?(l[S]=!D.value,D.targetPropertyName&&(l[D.targetPropertyName]=!D.value)):(l[S]=D.value,D.targetPropertyName&&(l[D.targetPropertyName]=D.value));if(l.$&&l.$.isNativeElement){H.cache["toDash"+S]||(H.cache["toDash"+S]=A.Core.toDash(S));const $=H.cache["toDash"+S],P=l.$.getAttributeValue($,D.type);!D.reflectToAttribute||P===D.value&&D.ready||l.$.setAttributeValue($,D.value,D.type),D.reflectToAttribute||l.$.setAttributeValue($,null,D.type)}if(!D.ready){if(l.$&&l.$.isCustomElement){H.cache["toDash"+S]||(H.cache["toDash"+S]=A.Core.toDash(S));const $=H.cache["toDash"+S];l._properties||(l._beforeCreatedProperties=l._properties=l.propertyByAttributeName=[]),l._properties[S]||(l._properties[S]={attributeName:$},l._beforeCreatedProperties&&(l._beforeCreatedProperties[S]=l._properties[S]),l.propertyByAttributeName[$]=l._properties[S]);const P=l._properties[S];P.isUpdating=!0,D.reflectToAttribute&&(D.not?l.$.setAttributeValue(P.attributeName,!D.value,D.type):l.$.setAttributeValue(P.attributeName,D.value,D.type)),D.reflectToAttribute||l.$.setAttributeValue(P.attributeName,null,D.type),P.isUpdating=!1}if(D.twoWay){const $=function(P){if(D.value=P,l.$&&l.$.isNativeElement){H.cache["toDash"+S]||(H.cache["toDash"+S]=A.Core.toDash(S));const G=H.cache["toDash"+S],Z=l.$.getAttributeValue(G,D.type);D.reflectToAttribute&&Z!==D.value&&l.$.setAttributeValue(G,D.value,D.type),D.reflectToAttribute||l.$.setAttributeValue(G,null,D.type)}};if(D.name.indexOf("::")>=0){const P=D.name.indexOf("::"),G=D.name.substring(P+2);b["$"+l.getAttribute("smart-id")].listen(G,function(){$(l[S]);const Z=D.name.substring(0,D.name.indexOf("::"));b.updateBoundProperty(Z,D)})}if(l.$&&l.$.isCustomElement){l._properties[S]&&(l._properties[S].notify=!0),H.cache["toDash"+S]||(H.cache["toDash"+S]=A.Core.toDash(S));const P=H.cache["toDash"+S];b["$"+l.getAttribute("smart-id")].listen(P+"-changed",function(G){let Z=G.detail;$(Z.value);const ee=b.context;G.context!==document&&(b.context=b),b.updateBoundProperty(D.name,D),b.context=ee})}}}D.ready=!0}}}static clearCache(){this.cache={}}addMessages(l,m){Object.assign(this.messages[l],m)}localize(l,m){const c=this;if(!c.messages||!c.messages[c.locale])return;let y=c.messages[c.locale][l];if(y==="")return"";if(!y){const S=c.messages.en;if(S){let D=S[l];if(D){for(let M in m){let $=m[M];D=D.replace(new RegExp("{{"+M+"}}","g"),$)}return D}return l}}const b=y;for(let S in m){let D=m[S];y=y.replace(new RegExp("{{"+S+"}}","g"),D)}if(c.localizeFormatFunction){const S=c.localizeFormatFunction(b,y,m,l);if(S!==void 0)return S}return y}static get requires(){return{}}static get listeners(){return{"theme-changed":function(l){this.theme=l.detail.newValue}}}static get methods(){return{}}get classNamesMap(){return{animation:"smart-animate",rippleAnimation:"smart-ripple"}}get hasAnimation(){return this.animation!=="none"}get hasRippleAnimation(){return this.animation!=="none"&&this.animation==="advanced"}static get modules(){return window[e].Modules}get properties(){const l=this;return l._properties||(l._properties=[]),l._properties}get parents(){const l=this;let m=[],c=l.parentNode;for(;c&&c.nodeType!==9;)c instanceof HTMLElement==1&&m.push(c),c=c.parentNode;const y=l.getRootNode();if(y.host){const b=S=>{let D=[S],M=S.parentNode;for(;M&&M.nodeType!==9;)M instanceof HTMLElement==1&&D.push(M),M=M.parentNode;return D};m=m.concat(b(y.host))}return window[e].EnableShadowDOM&&l.isInShadowDOM&&l.shadowParent&&(m=m.concat(l.shadowParent.parents)),m}log(l){this._logger("log",l)}warn(l){this._logger("warn",l)}error(l){this._logger("error",l)}_logger(l,m){if(this.debugMode){const c=m instanceof Error?m.message:m.toString();console[l](c)}if(this.rethrowError&&l==="error")throw m}get focused(){return this.contains(document.activeElement)}template(){return"<div></div>"}registered(){const l=this;l.onRegistered&&l.onRegistered()}created(){const l=this;l.isReady=!1,l._initElement(l),l._setModuleState("created"),l.onCreated&&l.onCreated()}completed(){const l=this;l.isCompleted=!0,l._onCompleted&&l._onCompleted(),l.onCompleted&&l.onCompleted()}whenReady(l){const m=this;m.isCompleted?l():(m.whenReadyCallbacks||(m.whenReadyCallbacks=[]),m.whenReadyCallbacks.push(l))}whenRendered(l){const m=this;m.isRendered?l():(m.whenRenderedCallbacks||(m.whenRenderedCallbacks=[]),m.whenRenderedCallbacks.push(l))}addThemeClass(){const l=this;l.theme!==""&&l.classList.add("smart-"+l.theme)}addDefaultClass(){const l=this;l.classList.add(e.toLowerCase()+"-element"),l.classList.add(l.nodeName.toLowerCase())}_renderShadowRoot(){const l=this;if(l.shadowRoot){l.$.root.classList.add(l.nodeName.toLowerCase());for(let m=0;m<l.attributes.length;m++){const c=l.attributes[m];c.name==="class"||c.name==="id"||c.name==="style"||c.name==="tabindex"||c.name.indexOf("aria")>=0||l.$.root.setAttribute(c.name,c.value)}for(let m=0;m<l.classList.length;m++){const c=l.classList[m];c!=="smart-element-init"&&c!=="smart-element"&&c!=="smart-hidden"&&c!=="smart-visibility-hidden"&&l.$.root.classList.add(c)}}}render(){const l=this;if(!l.isRendered&&(l.isRendered=!0,l.isRendering=!1,l.context=document,l._renderShadowRoot(),l.whenRenderedCallbacks)){for(let m=0;m<l.whenRenderedCallbacks.length;m++)l.whenRenderedCallbacks[m]();l.whenRenderedCallbacks=[]}l.onRender&&l.onRender(),l.disabled&&l.setAttribute("aria-disabled",!0),l.readonly&&["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(l.getAttribute("role"))!==-1&&l.setAttribute("aria-readonly",!0)}ready(){const l=this;if(l._setId(),l.addThemeClass(),l.addDefaultClass(),l.visibility==="collapsed"?l.classList.add("smart-hidden"):l.visibility==="hidden"&&l.classList.add("smart-visibility-hidden"),l.dataContext&&l.applyDataContext(),l.onReady&&l.onReady(),l.shadowRoot&&Smart(l._selector)){if(Smart(l._selector).styleUrls){const m=Smart(l._selector).styleUrls;for(let c=0;c<m.length;c++)l.importStyle(m[c])}if(Smart(l._selector).styles){const m=document.createElement("style");m.innerHTML=Smart(l._selector).styles,l.shadowRoot.insertBefore(m,l.shadowRoot.firstChild)}}Smart(l._selector)&&Smart(l._selector).ready&&Smart(l._selector).ready()}_setId(){const l=this;if(!l.id){const m=l.elementName;l.id=m.slice(0,1).toLowerCase()+m.slice(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}}checkLicense(){const l=this;if(window[e].License==="Evaluation"&&window.location.hostname.indexOf("htmlelements")===-1&&window[e].License!=="8414516F-15A2-4D84-A7AF-A9A72400DB02"){if(l.unlockKey==="8414516F-15A2-4D84-A7AF-A9A72400DB02")return;if(document.body.hasAttribute("smart-license")&&document.body.getAttribute("smart-license")==="8414516F-15A2-4D84-A7AF-A9A72400DB02")return void(window[e].License="8414516F-15A2-4D84-A7AF-A9A72400DB02");l.logWatermark(),l.logLicense(),window[e].License="8414516F-15A2-4D84-A7AF-A9A72400DB02"}}logWatermark(){const l=document.createElement("a");l.href="https://www.htmlelements.com/",l.innerHTML="https://www.htmlelements.com/",l.style.position="absolute",l.style.right="5px",l.style.bottom="5px",l.style.color="#fff",l.style.padding="20px",l.style.borderRadius="5px",l.style.background="#0C3D78",l.style.cursor="pointer",l.style.zIndex="999999",l.style.display="block",l.style.fontSize="24px",l.style.textDecoration="none",l.style.fontWeight="bold",l.style.opacity=0,l.style.transition="opacity .35s ease-in-out",l.id="watermark",document.getElementById("watermark")||setTimeout(()=>{document.getElementById("watermark")||(document.body.appendChild(l),setTimeout(()=>{l.style.opacity=1}),setTimeout(()=>{l.style.opacity=0,setTimeout(()=>{l.parentNode.removeChild(l)},350)},6e3))},1e3)}logLicense(){console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("*jQWidgets License Key Not Found."),console.log("*This is an EVALUATION only Version, it is NOT Licensed for software projects intended for PRODUCTION."),console.log("*if you want to hide this message, please send an email to: sales@jqwidgets.com for a license."),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************")}get _selector(){const l=this;return l.id?"#"+l.id:l.classList.length>0?"."+l.classList[0]:""}applyDataContext(l){const m=this;let c=typeof m.dataContext=="string"?window[m.dataContext]||document[m.dataContext]:m.dataContext;if(l&&(c=l,m.dataContext=l),c){if(!c._uid){c._uid=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),c._properties=[];for(let y in c){const b=c[y];typeof b!="function"&&y!=="_properties"&&y!=="_uid"&&(c._properties[y]=b,Object.defineProperty(c,y,{configurable:!1,enumerable:!0,get:()=>c._properties[y],set(S){const D=c._properties[y];c._properties[y]=S;let M=[];M[y]={oldValue:D,value:S},M.length++,m.updatingDataContext=!0,k.fireEvent("dataContextPropertyChanged",{dataContext:c,properties:M},{bubbles:!1,cancelable:!0}),m.updatingDataContext=!1}}))}}if(m.dataContextProperties=m.parseAttributes(m),m.dataContextPropertiesMap={},m.dataContextListeners={},m.dataContextProperties){m.updatingDataContext=!0;for(let y in m.dataContextProperties){const b=m.dataContextProperties[y],S=b.name;if(b.propertyName=y,m.dataContextPropertiesMap[S]=y,H.cache["toDash"+y]||(H.cache["toDash"+y]=A.Core.toDash(S)),b.isEvent){const D=b.value;m.dataContextListeners[S]&&m.removeEventListener(S,m.dataContextListeners[S]),m.dataContextListeners[S]=function(M){c[D](M)},m.addEventListener(S,m.dataContextListeners[S])}if(S.indexOf(".")>=0){const D=S.split(".");let M=c[D[0]];for(let $=1;$<D.length;$++)M=M[D[$]];M!==void 0&&(m[y]=M)}else m[y]=c[S]}m.dataContextPropertyChangedHandler=function(y){const b=y.detail.properties;if(y.detail.dataContext===(typeof m.dataContext=="string"?window[m.dataContext]||document[m.dataContext]:m.dataContext))for(let S in b){const D=m.dataContextPropertiesMap[S],M=m.context;D&&(m.context=document,m[D]=b[S].value,m.context=M)}},k.listen("dataContextPropertyChanged",m.dataContextPropertyChangedHandler),m.updatingDataContext=!1}else m.dataContextProperties=null}else{m.dataContextProperties=null;const y=function(){(typeof m.dataContext=="string"?window[m.dataContext]||document[m.dataContext]:m.dataContext)&&(m.applyDataContext(),window.removeEventListener("load",y))};window.addEventListener("load",y)}}updateDataContextProperty(l){const m=this,c=typeof m.dataContext=="string"?window[m.dataContext]||document[m.dataContext]:m.dataContext,y=m.dataContextProperties[l];if(!m.updatingDataContext&&y.twoWay){const b=y.name;if(b.indexOf(".")>=0){const S=b.split(".");let D=c[S[0]];for(let M=1;M<S.length;M++)D=D[S[M]];D!==void 0&&(D=m[l],f[c._uid]&&(f[c._uid][l]=D))}else c[b]=m[l],f[c._uid]&&(f[c._uid][l]=c[b])}}static get version(){return window[e].Version}initProperties(){const l=this;if(Smart(l._selector)&&Smart(l._selector).properties&&(l._initProperties=Smart(l._selector).properties),l.hasAttribute("props")&&!l.props?l._initProperties=window[l.getAttribute("props")]:l.props&&(l._initProperties=l.props),l._initProperties){const m=Object.keys(l._initProperties);for(let c=0;c<m.length;c++){const y=m[c],b=l._initProperties[y];if(b!=null){if(b.constructor===Smart.ObservableArray||b instanceof Smart.ObservableArray){l[y]=b.toArray();continue}if(b.constructor===Smart.DataAdapter||b.constructor.name==="smartDataAdapter"||typeof b=="object"&&Smart.DataAdapter&&b instanceof Smart.DataAdapter||b instanceof Smart.Observable||b.constructor===Smart.Observable||typeof b!="object"||A.Types.isArray(b)||b instanceof Date){if(l[y]===void 0&&["onReady","onAttached","onDetached","onCreated","onCompleted"].indexOf(y)===-1){const S=l.localize("propertyUnknownName",{name:y});l.log(S)}l[y]=b;continue}}if(y!=="messages")if(y!=="dataSourceMap"&&y!=="rowCSSRules")if(y!=="keys"){if(b&&typeof b=="object"){const S=function(D,M){const $=Object.keys(D);for(let P=0;P<$.length;P++){const G=$[P],Z=D[G],ee=l._properties[M+"_"+G];if(ee&&ee.value===null){if(l[M+"_"+G]===void 0){const de=l.localize("propertyUnknownName",{name:M+"_"+G});l.log(de)}l[M+"_"+G]=Z}else if(typeof Z=="object"&&!A.Types.isArray(Z)&&Z&&Z.constructor!==Date)S(Z,M+"_"+G);else{if(l[M+"_"+G]===void 0){const de=l.localize("propertyUnknownName",{name:M+"_"+G});l.log(de)}l[M+"_"+G]=Z}}};S(b,y)}}else l[y]=b;else l[y]=b;else l[y]=Object.assign(l[y],b)}}}setProperties(l){const m=this,c=Object.keys(l);for(let y=0;y<c.length;y++){const b=c[y],S=l[b];if(S.constructor===Smart.ObservableArray||S instanceof Smart.ObservableArray)m[b]=S.toArray();else if(S.constructor===Smart.DataAdapter||S.constructor.name==="smartDataAdapter"||typeof S=="object"&&Smart.DataAdapter&&S instanceof Smart.DataAdapter||S instanceof Smart.Observable||S.constructor===Smart.Observable||typeof S!="object"||A.Types.isArray(S)||S instanceof Date){if(m[b]===void 0&&["onReady","onAttached","onDetached","onCreated","onCompleted"].indexOf(b)===-1)continue;const D=m._properties[b];D.type==="int"||D.type==="number"&&typeof subPropertyValue=="string"?D.type==="int"?m[b]=parseInt(S):m[b]=parseFloat(S):m[b]=S}else if(b!=="messages"&&b!=="dataSourceMap"){if(typeof S=="object"){const D=function(M,$){const P=Object.keys(M);for(let G=0;G<P.length;G++){const Z=P[G],ee=M[Z],de=m._properties[$+"_"+Z];if(de&&de.value===null){if(m[$+"_"+Z]===void 0)continue;const me=m._properties[$+"_"+Z];me.type==="int"||me.type==="number"&&typeof ee=="string"?me.type==="int"?m[$+"_"+Z]=parseInt(ee):m[$+"_"+Z]=parseFloat(ee):m[$+"_"+Z]=ee}else if(typeof ee=="object"&&!A.Types.isArray(ee)&&ee&&ee.constructor!==Date)D(ee,$+"_"+Z);else{if(m[$+"_"+Z]===void 0)continue;const me=m._properties[$+"_"+Z];me.type==="int"||me.type==="number"&&typeof ee=="string"?me.type==="int"?m[$+"_"+Z]=parseInt(ee):m[$+"_"+Z]=parseFloat(ee):m[$+"_"+Z]=ee}}};D(S,b)}}else m[b]=S}}setup(){const l=this;if(l.context=this,l.isReady&&!l.isCompleted)return;if(l.isReady)return l._setModuleState("attached"),l.isAttached=!0,l.attached(),l._handleListeners("listen"),void(l.context=document);l.ownerElement&&l.ownerElement.detachedChildren.indexOf(l)>=0&&l.ownerElement.detachedChildren.splice(l.ownerElement.detachedChildren.indexOf(l),1),l.isReady=!0,l.methods=l.getStaticMember("methods"),l.initProperties(),r.isMobile&&l.classList.add("smart-mobile");for(let y=0;y<l.attributes.length;y+=1){const b=l.propertyByAttributeName[l.attributes[y].name];if(!b)continue;let S=l.$.getAttributeValue(b.attributeName,b.type);const D=S?S.toString():"";if(!(D.indexOf("{{")>=0||D.indexOf("[[")>=0||b.type!=="object"&&b.type!=="array"&&(l.attributes[y].value.indexOf("{{")>=0||l.attributes[y].value.indexOf("[[")>=0)||S===void 0||b.value===S)){const M=A.Types.getType(S),$=l.attributes[y].value;if((b.type==="any"||b.type==="object")&&""+l[b.name]===S||b.type==="array"&&l[b.name]&&JSON.stringify(l[b.name])===S)continue;if(M==="number"&&isNaN(S)&&$!=="NaN"&&$!=="Infinity"&&$!=="-Infinity"){const P=l.localize("propertyInvalidValueType",{name:b.name,actualType:"string",type:b.type});l.log(P)}b.isUpdatingFromAttribute=!0,l[b.name]=S,b.isUpdatingFromAttribute=!1}}for(let y in l._properties){const b=l._properties[y];if(y==="innerHTML"&&b.value===b.defaultValue&&(b.value=b.defaultValue=A.Core.html(l)),b.type!=="boolean"&&b.type!=="bool"||l.getAttribute(b.attributeName)==="false"&&(b.isUpdating=!0,l.setAttribute(b.attributeName,""),b.isUpdating=!1),b.defaultReflectToAttribute&&b.reflectToAttribute){if(b.defaultReflectToAttribute&&b.defaultReflectToAttributeConditions){let S=!0;for(let D=0;D<b.defaultReflectToAttributeConditions.length;D++){const M=b.defaultReflectToAttributeConditions[D];let $,P;for(let G in M)$=G,P=M[G];l._properties[$]&&l._properties[$].value!==P&&(S=!1)}if(!S)continue}b.isUpdating=!0,l.$.setAttributeValue(b.attributeName,b.value,b.type),b.isUpdating=!1}}const m=[];if(l.children.length>0)for(let y=0;y<l.children.length;y++){const b=l.children[y];A.Extend(b).isCustomElement&&m.push(b)}l.applyTemplate(),l.complete=function(){if(!l.templateBindingsReady){const b=S=>{S.templateBindingsReady||(S.templateBindingsReady=!0,S.updateTextNodes(),S.updateBoundNodes())};if(l.ownerElement){let S=l.ownerElement,D=[];for(;S;)D.push(S),S=S.ownerElement;for(let M=D.length-1;M>=0;M--)b(D[M]);b(l)}else b(l)}const y=()=>{if(l._setModuleState("ready"),l.ready(),l.renderMode!=="auto"||l.isRendered||l.render(),l.isAttached=!0,l._setModuleState("attached"),l.attached(),l._handleListeners("listen"),l.isHidden||l.offsetWidth!==0&&l.offsetHeight!==0||(l.isHidden=!0),l.completed(),l.isRendered&&(l.context=document),l.whenReadyCallbacks){for(let b=0;b<l.whenReadyCallbacks.length;b++)l.whenReadyCallbacks[b]();l.whenReadyCallbacks=[]}};if(l.wait)l.classList.add("smart-visibility-hidden");else if(l.classList.contains("smart-async"))requestAnimationFrame(()=>{y()});else{const b=l.shadowParent;l.shadowParent=null;const S=l.parents;if(l.shadowParent=b,S.length===0)return;const D=()=>{let M=l.ownerElement,$=[];for(;M;)$.push(M),M=M.ownerElement;for(let P=$.length-1;P>=0;P--)$[P].updateBoundMappedNodes()};l.ownerElement&&S[S.length-1].nodeName!=="HTML"?l.getRootNode().host?y():l.ownerElement&&l.ownerElement.parents[l.ownerElement.parents.length-1].nodeName==="HTML"?(D(),y()):l.checkIsInDomInterval=setInterval(()=>{const M=l.parents;M[M.length-1].nodeName==="HTML"&&(clearInterval(l.checkIsInDomInterval),D(),y())},100):y()}};let c=[].slice.call(l.querySelectorAll("[smart-id]")).concat(m);if(window[e].EnableShadowDOM&&l.isInShadowDOM!==!0&&(c=[].slice.call(l.shadowRoot.querySelectorAll("[smart-id]")).concat(m)),c.length===0)l.complete();else{l._completeListeners=0;for(let y=0;y<c.length;y++){const b=c[y];if(A.Extend(b).isCustomElement){const S=(function(){l._completeListeners--,l._completeListeners===0&&(l.complete(),delete l._completeListeners)}).bind(l);b.isCompleted||b.isUtilityElement||b.wait===!0||(l._completeListeners++,b._onCompleted||(b.completeHandlers=[],b._onCompleted=function(){for(let D=0;D<b.completeHandlers.length;D++)b.completeHandlers[D]()}),b.completeHandlers.push(S))}}l._completeListeners===0&&l.complete()}}visibilityChangedHandler(){const l=this;l.isReady&&requestAnimationFrame(()=>{l.offsetWidth===0||l.offsetHeight===0?l.isHidden=!0:(l.isHidden=!1,l.$.fireEvent("resize",l,{bubbles:!1,cancelable:!0}))})}attributeChangedCallback(l,m,c){const y=this,b=y.propertyByAttributeName[l];if(l!=="class"&&l!=="style"||y.visibilityChangedHandler(),b||y.attributeChanged(l,m,c),y.onAttributeChanged&&y.onAttributeChanged(l,m,c),!b||b&&b.isUpdating)return;let S=y.$.getAttributeValue(b.attributeName,b.type);c!==void 0&&y[b.name]!==S&&(b.isUpdatingFromAttribute=!0,y[b.name]=S!==void 0?S:y._properties[b.name].defaultValue,b.isUpdatingFromAttribute=!1)}attributeChanged(l,m,c){}set hasStyleObserver(l){const m=this;m._hasStyleObserver===void 0&&(m._hasStyleObserver=l),l?d.watch(m):d.unwatch(m)}get hasStyleObserver(){const l=this;return l._hasStyleObserver===void 0||l._hasStyleObserver}attached(){const l=this;l.hasStyleObserver&&d.watch(l),l.onAttached&&l.onAttached(),Smart(l._selector)&&Smart(l._selector).attached&&Smart(l._selector).attached()}detached(){const l=this;l.hasStyleObserver&&d.unwatch(l),l._setModuleState("detached"),l.isAttached=!1,l.ownerElement&&l.ownerElement.detachedChildren.indexOf(l)===-1&&l.ownerElement.detachedChildren.push(l),l._handleListeners("unlisten"),l.onDetached&&l.onDetached(),Smart(l._selector)&&Smart(l._selector).detached&&Smart(l._selector).detached(),p&&p[l._selector]&&delete p[l._selector]}propertyChangedHandler(l,m,c){const y=this;m!==c&&(l==="theme"&&(m!==""&&y.classList.remove("smart-"+m),c!==""&&y.classList.add("smart-"+c)),l==="visibility"?(m==="collapsed"?y.classList.remove("smart-hidden"):m==="hidden"&&y.classList.remove("smart-visibility-hidden"),c==="collapsed"?y.classList.add("smart-hidden"):c==="hidden"&&y.classList.add("smart-visibility-hidden")):(l==="disabled"||l==="readonly")&&y._ariaPropertyChangedHandler(l,c),y.propertyChanged&&y.propertyChanged(l,m,c))}_ariaPropertyChangedHandler(l,m){const c=this;l==="readonly"&&["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(c.getAttribute("role"))===-1||(m?c.setAttribute("aria-"+l,!0):c.removeAttribute("aria-"+l))}_handleListeners(l){const m=this,c=m.tagName.toLowerCase(),y=b=>{for(let S in b){const D=S.split(".");let M=D[0],$=m.$;if(D[1])if(M=D[1],$=m["$"+D[0]],D[0]==="document"){let Z=m.smartId;Z===""&&(Z=A.Core.toCamelCase(c)),M=M+"."+Z}else m.smartId&&(M=M+"."+m.smartId+"_"+m.parents.length);else m.smartId&&(M=M+"."+m.smartId);const P=b[S],G=function(Z){const ee=m.context;m.context=m,m[P]&&m[P].apply(m,[Z]),m.context=ee};$&&$[l](M,G)}};y(m.getStaticMember("listeners")),y(m.templateListeners),Smart(m._selector)&&Smart(m._selector).properties&&y(Smart(m._selector).listeners)}parseTemplate(){const l=this,m=l.template(),c=document.createDocumentFragment();if(g[l.nodeName]&&!t)return g[l.nodeName].cloneNode(!0);if(m==="")return null;let y=document.createElement("div");c.appendChild(y),y.innerHTML=m;let b=y.childNodes;y.parentNode.removeChild(y);for(let S=0;S<b.length;S++)c.appendChild(b[S]);return g[l.nodeName]=c,t?c:c.cloneNode(!0)}applyTemplate(){const l=this,m=l.parseTemplate();if(!m||!m.hasChildNodes)return;const c=m.childNodes[0],y=(D,M)=>{l["$"+D]=M.$=A.Extend(M),l.$[D]=M,M.ownerElement=l};let b=c;if(c.getElementsByTagName("content").length>0){let D=c.getElementsByTagName("content")[0];b=D.parentNode,b.removeChild(D)}else{const D=m.querySelectorAll("[inner-h-t-m-l]");D&&D.length>0&&(b=D[0])}l.$.template=c.nodeName.toLowerCase()==="template"?c:c.querySelector("template");let S=m.querySelectorAll("[id]");S.length===0&&(S=m.querySelectorAll("*")),y("root",c),y("content",b),l.$.html=l.innerHTML.toString().trim();for(let D=0;D<S.length;D+=1){let M=S[D];M.id===""&&(M.id="child"+D),y(M.id,M),M.setAttribute("smart-id",M.id),l.shadowRoot?M.shadowParent=l:M.removeAttribute("id")}for(l.hasTemplateBindings!==!1?l.bindings=l.getBindings(m):l.bindings=[],l.$root.addClass("smart-container");l.childNodes.length;)b.appendChild(l.firstChild);if(l.appendTemplate(m),l.$.template){const D=document.createElement("div");D.classList.add("smart-template-container"),l.$.templateContainer=D,l.$.template.parentNode.insertBefore(D,l.$.template),l.refreshTemplate()}}refreshTemplate(){const l=this;if(!l.$.templateContainer)return;l.templateDetached(l.$.templateContainer);const m=l.$.template.content.cloneNode(!0);l.templateBindings=l.getBindings(m),l.templateProperties=[];let c=document.createDocumentFragment();const y=function(b,S,D){for(let M in b){const $=b[M],P=$.node.cloneNode();S.appendChild(P);let G=[],Z=!1;if($.data)for(let ee in $.data){const de=$.data[ee],me=de.name;if(l.templateProperties[me]=!0,P.removeAttribute(A.Core.toDash(ee)),ee==="*items")G=l[me],Z=!0;else if(me.indexOf("item.")>=0&&D!==void 0)de.value=D[me.substring(5)],P[ee]=de.value;else if(me.indexOf("item")>=0&&D!==void 0)de.value=D,P[ee]=de.value;else if(ee==="*if")if(me.indexOf("(")>=0){let ge,we=me.substring(me.indexOf("("));const Me=me.substring(0,me.indexOf("("));if(we=we.substring(1,we.length-1),we=we.replace(/ /gi,""),we=we.split(","),we.length>0&&we[0]!==""){let ke=[];for(let xe=0;xe<we.length;xe++)ke.push(l[we[xe]]);ge=l[Me].apply(l,ke)}else ge=l[Me]();ge===!1&&S.removeChild(P)}else l[me]||S.removeChild(P);else l.updateBoundNode(P,$,l,me)}if(G.length>0||Z){for(let ee=0;ee<G.length;ee++)$.children&&y($.children,P,G[ee]);if(typeof G=="number")for(let ee=0;ee<G;ee++)$.children&&y($.children,P,ee)}else $.children&&y($.children,P,D)}};y(l.templateBindings.children,c),l.$.templateContainer.innerHTML="",l.$.templateContainer.appendChild(c),l.templateAttached(l.$.templateContainer)}templateAttached(){}templateDetached(){}appendTemplate(l){this.appendChild(l)}defineElementModules(){const l=this,m=l.constructor.prototype;if(m.elementName==="BaseElement"){m.modules=l.constructor.modules;const c=m.modules;for(let y=0;y<c.length;y+=1)l.addModule(c[y])}else{const c=m.modules;if(!c)return;for(let y=0;y<c.length;y+=1){const b=c[y],S=b.prototype;l.defineElementMethods(S.methodNames,S),l.defineElementProperties(b.properties)}}}watch(l,m){const c=this;c._watch=l!==null&&m!==null?{properties:l,propertyChangedCallback:m}:null}unwatch(){this._watch=null}set(l,m,c){const y=this,b=y.context;y.context=c===!0?document:y,y[l]=m,y.context=b}get(l){return this[l]}_setModuleState(l,m){const c=this,y="is"+l.substring(0,1).toUpperCase()+l.substring(1),b="on"+l.substring(0,1).toUpperCase()+l.substring(1);for(let S=0;S<c.modulesList.length;S++){const D=c.modulesList[S];D[y]=!0,D[l]&&D[l](m),D[b]&&D[b](m)}}addModule(l,m){const c=this;if(!l)return;const y=c.modules.slice(0),b=l.prototype,S=Object.getPrototypeOf(l);if(S.name&&S.name!==l.name&&c.addModule(S),!l.moduleName&&l.name&&(l.moduleName=l.name),y.findIndex(D=>l.moduleName===D.moduleName)===-1&&y.push(l),c.defineModule(l),c.defineElementMethods(b.methodNames,b),c.defineElementProperties(l.properties),c.constructor.prototype.modules=y,m)for(let D in Smart.Elements.tagNames){const M=Smart.Elements.tagNames[D];let $=Object.getPrototypeOf(M),P=[];for(;$!==HTMLElement;)P.push($.prototype),$=Object.getPrototypeOf($);P.indexOf(c)>=0&&M!==c&&M.prototype.addModule(l)}}defineModule(l){if(l.isDefined)return;l.prototype._initModule=function(b){this.ownerElement=b};const m=l.properties||{},c=Object.keys(m),y=Object.getOwnPropertyNames(l.prototype);l.prototype.methodNames=y;for(let b=0;b<c.length;b+=1){const S=c[b],D=m[S];Object.defineProperty(l.prototype,S,{configurable:!1,enumerable:!0,get(){return this.ownerElement?this.ownerElement[S]:D.value},set(M){this.ownerElement[S]=M}})}l.isDefined=!0}getStaticMember(l,m){const c=window[e][this.elementName],y=c[l];m||(m="");let b=m==="array"?[]:m==="string"?"":{},S=Object.getPrototypeOf(c),D=[];for(;S[l];)D.push(S[l]),S=Object.getPrototypeOf(S);for(let M=D.length-1;M>=0;M--)if(m==="array")for(let $=0;$<D[M].length;$++)b.indexOf(D[M][$])===-1&&b.push(D[M][$]);else m==="string"?b.indexOf(D[M])===-1&&(b+=D[M]):b=A.Core.assign(b,D[M]);if(m==="array"){for(let M=0;M<y.length;M++)b.indexOf(y[M])===-1&&b.push(y[M]);return b}return m==="string"?(b.indexOf(y)===-1&&(b+=y),b):A.Core.assign(b,y)}defineElementHierarchicalProperties(l,m){const c=this,y=[];(function(b){const S=Object.keys(b);for(let D=0;D<S.length;D++){const M=S[D];if(M==="messages"||M==="keys")continue;const $=b[M],P=Object.keys($),G=P.indexOf("value")>=0&&P.indexOf("type")>=0&&typeof $.value=="object";if($.type==="propertyObject"||G){const Z=function(ee,de){if(!ee.value)return;const me=Object.keys(ee.value);for(let ge=0;ge<me.length;ge++){const we=me[ge],Me=ee.value[we],ke=de+"_"+we;if(typeof Me!="object"||Me===null)break;const xe=Object.keys(Me);if(!(xe.indexOf("value")>=0&&xe.indexOf("type")>=0))break;if(ee.type!=="array"&&(ee.isHierarchicalProperty=!0),Me.parentPropertyName=de,m){const Ve=m._properties[ke];if(ee.value.hasOwnProperty(we)){if(Ve.isDefined)continue;delete ee.value[we]}Ve.isDefined=!0,Object.defineProperty(ee.value,we,{configurable:!1,enumerable:!0,get:()=>m._properties[ke].value,set(ye){m.updateProperty(m,m._properties[ke],ye)}})}y[ke]||(y[ke]=Me,y.length++),(Me.type==="propertyObject"||typeof Me.value=="object"&&Me.type!=="array")&&Z(m?m._properties[ke]:Me,ke)}};Z($,M)}}})(l),y.length>0&&!m&&c.defineElementProperties(y)}defineElement(){const l=this,m=l.constructor.prototype,c=l.getStaticMember("properties"),y=Object.getOwnPropertyNames(m);m.extendedProperties={},m.boundProperties={},m.templateListeners={},l.defineElementModules(),l.defineElementMethods(y,m),l.defineElementProperties(c),l.defineElementHierarchicalProperties(l.extendedProperties),m._initElement=function(){const b=this,S=m.extendedProperties,D=Object.keys(S),M=b.modules;b.$=A.Extend(b),b.$document=k,b.smartId=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),b.isCreated||(b.modulesList=[],b._properties=[],b._beforeCreatedProperties&&(b._properties=b._beforeCreatedProperties,delete b._beforeCreatedProperties),b.detachedChildren=[],b.propertyByAttributeName=[]);for(let P=0;P<M.length;P+=1){let G=new M[P];G._initModule(b),b.modulesList.push(G)}const $=[];for(let P=0;P<D.length;P+=1){const G=D[P],Z=S[G];let ee=Z.value;if(b._properties[G]){if(b._properties[G].notify!==void 0)continue;delete b._properties[G]}if(q&&G==="innerHTML"&&delete b[G],window.navigator.userAgent.indexOf("PhantomJS")===-1&&b.hasOwnProperty(G))if(Z.isHierarchicalProperty&&b[G]){const me=b[G];$.push({name:G,value:me}),ee=Z.value,delete b[G]}else ee=b[G],delete b[G];if(Z.type==="array"&&ee!=null&&(ee=ee.slice(0)),Z.type==="object"&&ee!=null&&(ee=Array.isArray(ee)?ee.slice(0):Object.assign({},ee)),b._properties[G]={name:G,notify:Z.notify,allowedValues:Z.allowedValues,type:Z.type,nullable:Z.nullable,reflectToAttribute:Z.reflectToAttribute,defaultReflectToAttribute:Z.defaultReflectToAttribute,defaultReflectToAttributeConditions:Z.defaultReflectToAttributeConditions,value:ee,readOnly:Z.readOnly,defaultValue:ee,attributeName:Z.attributeName,observer:Z.observer,inherit:Z.inherit,extend:Z.extend,validator:Z.validator},b.propertyByAttributeName[Z.attributeName]=b._properties[G],!Z.hasOwnProperty("type")){const me=b.localize("propertyUnknownType",{name:G});b.log(me)}if(Z.type==="any"||Z.type==="propertyObject")continue;const de=A.Types.getType(ee);if(ee!=null&&Z.type!==de&&!Z.validator){if(Z.type==="object"&&de==="array"||de==="number"&&["integer","int","float"].findIndex(ge=>ge===Z.type)>=0)continue;const me=b.localize("propertyInvalidValueType",{name:G,actualType:de,type:Z.type});b.log(me)}}if(b.defineElementHierarchicalProperties(b._properties,b),$.length&&window[e].RenderMode!=="manual")for(let P=0;P<$.length;P++){const G=$[P];b[G.name]=G.value}b.isCreated=!0},m.registered()}defineElementMethods(l,m){const c=this.constructor.prototype,y=function(S,D){const M=Array.prototype.slice.call(arguments,2);return function(){if(!this.isReady&&D!=="localize"&&D!=="localize"&&D!=="cloneNode"&&D!=="importStyle"&&D!=="log"&&D!=="parseAttributes"){const ge=this.localize("elementNotInDOM");this.log(ge)}let P=this;for(let ge=0;ge<this.modulesList.length;ge++){let we=this.modulesList[ge];if(D in we){P=we;break}}const G=this.context,Z=M.concat(Array.prototype.slice.call(arguments));let ee=null;const de=function(ge,we){return ge===we||ge==="number"&&(we==="int"||we==="integer"||we==="float")||ge==="bool"&&we==="boolean"||ge==="boolean"&&we==="bool"||ge==="object"&&we==="any"||void 0};if(this.methods){const ge=this.methods[D];if(ge){const we=ge.split(":");ee=we[we.length-1].trim();const Me=[],ke=ge.substring(1+ge.indexOf("("),ge.lastIndexOf(")")).split(",");let xe="";for(let ye=0;ye<ke.length;ye++){const je=ke[ye];xe+=je,je.indexOf(":")>=0?(Me.push(xe),xe=""):xe+=","}let Ve=Me.length;for(let ye=0;ye<Me.length;ye++){const je=Me[ye].trim().split(":"),Le=je[0].split("=")[0].trim().indexOf("?")>=0,et=je[1].indexOf("?")>=0,Ye=je[1].replace(/\?/gi,"").trim(),ut=Ye.split("|");let Ne=je[0].split("=")[1];const mt=A.Types.getType(Z[ye]);if(Z[ye]===void 0&&Ne){switch(Ne=Ne.trim(),Ye[0]){case"date":{let Be=Ne.substring(Ne.indexOf("(")+1,Ne.lastIndexOf(")"));Be=Be.length>0?Be.split(",").map(Ke=>parseInt(Ke)):[],Ne=Be.length===0?new Date:new Date(Be[0],Be[1],Be[2]);break}case"bool":case"boolean":Ne=Ne==="true"||Ne==="1";break;case"int":case"integer":Ne=parseInt(Ne);break;case"float":case"number":Ne=parseFloat(Ne);break;case"any":case"object":Ne=Ne.indexOf("{")>=0?JSON.parse(Ne):Ne}Z.push(Ne)}else Le&&Ve--;if(Ye!==mt&&mt){let Be=!0;for(let Ke=0;Ke<ut.length;Ke++)if(de(mt,ut[Ke])){Be=!1;break}if(Be&&(Z[ye]!==null||!et)){const Ke=this.localize("methodInvalidValueType",{name:D,actualType:mt,type:Ye,argumentIndex:ye});this.log(Ke)}}if(Z.length<Ve){const Be=this.localize("methodInvalidArgumentsCount",{name:D,actualArgumentsCount:Z.length,argumentsCount:Ve});this.log(Be)}}}}this.context=this;const me=S.apply(P,Z);if(ee){const ge=A.Types.getType(me)===void 0?"void":A.Types.getType(me);if(!de(ge,ee)){const we=this.localize("methodInvalidReturnType",{name:D,actualType:ge,type:ee});this.log(we)}}return this.context=G,me}},b=["constructor","ready","created","render","attached","detached","appendChild","insertBefore","removeChild","connect","disconnectedCallback","connectedCallback","attributeChangedCallback","propertyChangedHandler","enableShadowDOM","isInShadowDOM","addPropertyBindings"];for(let S in l){let D=l[S];D&&D.startsWith&&D.startsWith("_")||b.find(M=>M===D)!==void 0||c.extendedProperties[D]||A.Types.isFunction(m[D])&&(c[D]=y(m[D],D))}}defineElementProperties(l){if(!l)return;const m=this,c=m.constructor.prototype,y=Object.keys(l),b=m.getStaticMember("properties");Object.assign(c.extendedProperties,l),m.updateProperty=function(S,D,M){const $=S;if(!D||D.readOnly)return;if(D.allowedValues){let Z=!1;for(let ee=0;ee<D.allowedValues.length;ee++)if(D.allowedValues[ee]===M){Z=!0;break}if(!Z){const ee=JSON.stringify(D.allowedValues).replace(/\[|\]/gi,"").replace(",",", ").replace(/"/gi,"'"),de="'"+M+"'",me=$.localize("propertyInvalidValue",{name:D.name,actualValue:de,value:ee});return void $.log(me)}}const P=D.name,G=$._properties[P].value;if(D.validator&&$[D.validator]){const Z=$.context;$.context=$;const ee=$[D.validator](G,M);ee!==void 0&&(M=ee),$.context=Z}if(G!==M){if($.propertyChanging){const Z=$.propertyChanging(P,G,M);if(Z===!1||Z===null)return}if(!D.hasOwnProperty("type")){const Z=$.localize("propertyUnknownType",{name:P});$.log(Z)}if(D.type!=="array"||JSON.stringify(G)!==JSON.stringify(M)){if(M!=null&&D.type!=="any"&&D.type!=="propertyObject"&&D.type!==A.Types.getType(M)&&!D.validator||M===null&&!D.nullable){let Z=!0;if(D.type==="object"&&A.Types.getType(M)==="array"&&(Z=!1),A.Types.getType(M)==="number"&&["integer","int","float"].findIndex(ee=>ee===D.type)>=0&&(Z=!1),Z){const ee=$.localize("propertyInvalidValueType",{name:P,actualType:A.Types.getType(M),type:D.type});return void $.error(ee)}}if(D.isUpdating=!0,D.isHierarchicalProperty){const Z=function(ee,de){if(!ee)return;const me=Object.keys(ee);for(let ge=0;ge<me.length;ge++){const we=me[ge],Me=ee[we];typeof Me=="object"&&!A.Types.isArray(Me)&&Me&&Me.constructor!==Date?Z(Me,de+"_"+we):$[de+"_"+we]=Me}};Z(M,P)}else $._properties[P].value=M;if(!D.isUpdatingFromAttribute&&D.reflectToAttribute&&$.$.setAttributeValue(D.attributeName,M,D.type),$.isReady&&(!$.ownerElement||$.ownerElement&&$.ownerElement.isReady)){if(P==="wait"&&(M||!G||$.isCompleted||($.classList.remove("smart-visibility-hidden"),$.ownerElement&&$.ownerElement.updateBoundMappedNodes(),$.updateBoundMappedNodes(),$.complete())),P==="renderMode")return;if($.context!==$&&!$.wait){const ee=$.context;$.context=$,$.propertyChangedHandler(P,G,M),$.context=ee,D.observer&&$[D.observer]&&($.context=$,$[D.observer](G,M),$.context=document),$._watch&&$._watch.properties.indexOf(P)>=0&&$._watch.propertyChangedCallback(P,G,M)}const Z=D.notify||$.boundProperties[P];Z&&($.$.fireEvent(D.attributeName+"-changed",{context:$.context,oldValue:G,value:$[P]}),$.boundProperties[P]&&$.updateBoundNodes(P)),Z&&$.templateProperties&&$.templateProperties[P]&&$.refreshTemplate(),$.dataContextProperties&&(P==="dataContext"?$.applyDataContext():$.dataContextProperties[P]&&$.updateDataContextProperty(P))}D.isUpdating=!1}}};for(let S=0;S<y.length;S+=1){const D=y[S],M=l[D],$=A.Core.toDash(D),P=M.type||"any",G=P.indexOf("?")>=0||P==="any";G&&P!=="any"&&(M.type=P.substring(0,P.length-1)),M.nullable=G,M.attributeName=$.toLowerCase(),M.name=D,M.reflectToAttribute=M.reflectToAttribute===void 0||M.reflectToAttribute,M.inherit&&b[D]&&(M.value=b[D].value),M.extend&&b[D]&&A.Core.assign(M.value,b[D].value),c.hasOwnProperty(D)||Object.defineProperty(c,D,{configurable:!1,enumerable:!0,get(){if(this._properties[D])return this._properties[D].value},set(Z){const ee=this;ee.updateProperty(ee,ee._properties[D],Z)}})}}}let z=[],N=[],F=[],q=!1;const Y=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);Y&&parseInt(Y[2],10)<=50&&(q=!0);class X{static register(l,m){const c=m.prototype;let y=r.toCamelCase(l).replace(/[a-z]+/,""),b=m.version||window[e].Version;if(window.customElements.get(l)&&window.customElements.get(l).version===b)return;let S=l;for(b=b.split(".");window.customElements.get(l);)l=S+"-"+b.join("."),b[2]=parseInt(b[2])+1;if(!z[l]){if(l.startsWith(e.toLowerCase()))z[l]=window[e][y]=window[e.toLowerCase()+y]=m;else{let D=l.split("-")[0];D=D.substring(0,1).toUpperCase()+D.substring(1),window[e][D]||(window[e][D]={}),z[l]=window[e][D][y]=window[D.toLowerCase()+y]=m,window[e][y]&&(y=r.toCamelCase(l)),window[e][y]=m}c.elementName=y,c.defineElement(),N[l]&&N[l](c),window.customElements.define(l,m)}}static registerElements(){const l=this;if(l.toRegister){l.isRegistering=!0;for(let m=0;m<l.toRegister.length;m++){const c=l.toRegister[m];l.register(c.tagName,c.element)}l.isRegistering=!1}}static get(l){if(z[l])return z[l]}static whenRegistered(l,m){if(!l)throw new Error("Syntax Error: Invalid tag name");const c=N[l],y=this.get(l),b=y?y.modules.length:3;try{c||y?!c&&y?(m(y.prototype),N[l]=void 0):c&&!y?N[l]=function(S){c(S),m(S)}:c&&y&&(y.proto&&(c(y.proto),m(y.proto)),N[l]=void 0):N[l]=function(S){try{m(S)}catch(D){const M=D instanceof Error?D.message:D.toString();console.log(M)}}}catch(S){const D=S instanceof Error?S.message:S.toString();console.log(D)}if(y&&b!==y.prototype.modules.length){const S=document.querySelectorAll(l);for(let D=0;D<S.length;D++){const M=S[D];M.isCreated&&M._initElement()}}}}X.lazyRegister=!1,X.tagNames=[];class ae{constructor(){const l=this;l.name="observableArray",l.observables=arguments.length<3?null:arguments[2];const m=new Proxy(l,{deleteProperty:function(c,y){return delete c[y],!0},apply:function(c,y,b){return c.apply(y,b)},get:function(c,y){return typeof(b=y)=="symbol"||typeof b=="object"&&Object.prototype.toString.call(b)==="[object Symbol]"||c[y]||isNaN(parseInt(y))?c[y]:l.getItem(parseInt(y));var b},set:function(c,y,b){return c[y]||isNaN(parseInt(y))?(c[y]=b,!0):(l.setItem(parseInt(y),b),!0)}});if(l._addArgs={eventName:"change",object:m,action:"add",index:null,removed:new Array,addedCount:1},l._removeArgs={eventName:"change",object:m,action:"remove",index:null,removed:null,addedCount:0},arguments.length>=1&&Array.isArray(arguments[0])){l._array=[];const c=arguments[0];for(let y=0,b=c.length;y<b;y++){const S=l._getItem(l._array.length,c[y]);l._array.push(S)}}else l._array=Array.apply(null,arguments);return arguments.length===2&&(l.notifyFn=arguments[1]),m}get canNotify(){const l=this;return l._canNotify===void 0&&(l._canNotify=!0),l._canNotify}set canNotify(l){this._canNotify=l}_notify(l){const m=this;m.canNotify&&m.notifyFn&&m.notifyFn(l)}notify(l){l&&(this.notifyFn=l)}toArray(){return this._array}_getItem(l,m){const c=this;return typeof m=="string"||typeof m=="number"||m===void 0?m:new Proxy(m,{deleteProperty:function(y,b){return delete y[b],!0},set:function(y,b,S){const D=y[b];return y[b]=S,!c._canNotify||y.canNotify===!1||(c.observables&&!c.observables[b]||c._notify({eventName:"change",object:c,target:y,action:"update",index:l,path:l+"."+b,oldValue:D,newValue:S,propertyName:b}),!0)}})}getItem(l){return this._array[l]}setItem(l,m){const c=this,y=c._array[l];c._array[l]=c._getItem(l,m),c._notify({eventName:"change",object:c._array,action:"update",index:l,removed:[y],addedCount:1})}get length(){return this._array.length}set length(l){const m=this;n.isNumber(l)&&m._array&&m._array.length!==l&&m.splice(l,m._array.length-l)}toString(){return this._array.toString()}toLocaleString(){return this._array.toLocaleString()}concat(){const l=this;l._addArgs.index=l._array.length;const m=l._array.concat.apply(l._array,arguments);return new Smart.ObservableArray(m)}join(l){return this._array.join(l)}pop(){const l=this;l._removeArgs.index=l._array.length-1,delete l[l._array.length-1];const m=l._array.pop();return l._removeArgs.removed=[m],l._notify(l._removeArgs),l._notifyLengthChange(),m}push(){const l=this;if(l._addArgs.index=l._array.length,arguments.length===1&&Array.isArray(arguments[0])){const m=arguments[0];for(let c=0,y=m.length;c<y;c++){const b=l._getItem(l._array.length,m[c]);l._array.push(b)}}else{const m=l._getItem(l._addArgs.index,arguments[0]);l._array.push.apply(l._array,[m])}return l._addArgs.addedCount=l._array.length-l._addArgs.index,l._notify(l._addArgs),l._notifyLengthChange(),l._array.length}_notifyLengthChange(){const l=this;if(!l.canNotify)return;const m=l._createPropertyChangeData("length",l._array.length);l._notify(m)}_createPropertyChangeData(l,m,c){return{eventName:"change",object:this,action:l,value:m,oldValue:c}}reverse(){return this._array.reverse()}shift(){const l=this,m=l._array.shift();return l._removeArgs.index=0,l._removeArgs.removed=[m],l._notify(l._removeArgs),l._notifyLengthChange(),m}slice(l,m){return this._array.slice(l,m)}sort(l){return this._array.sort(l)}splice(l,m,c){const y=this,b=y._array.length;let S;if(c&&c.length)for(let D=0;D<c.length;D++)S=y._array.splice(l+D,m,c[D]);else S=y._array.splice.apply(y._array,arguments);if(c){let D=y.canNotify;if(y.canNotify=!1,c.length)for(let M=0;M<c.length;M++)y.setItem(l+M,c[M]);else y.setItem(l,c);y.canNotify=D,y._notify({eventName:"change",object:this,action:"add",index:l,added:S,addedCount:y._array.length>b?y._array.length-b:0})}else y._notify({eventName:"change",object:this,action:"remove",index:l,removed:S,addedCount:y._array.length>b?y._array.length-b:0});return y._array.length!==b&&y._notifyLengthChange(),S}unshift(){const l=this,m=l._array.length,c=l._array.unshift.apply(l._array,arguments);return l._addArgs.index=0,l._addArgs.addedCount=c-m,l._notify(this._addArgs),l._notifyLengthChange(),c}indexOf(l,m){const c=this;for(let y=m||0,b=c._array.length;y<b;y++)if(c._array[y]===l)return y;return-1}lastIndexOf(l,m){const c=this;for(let y=m||c._array.length-1;y>=0;y--)if(c._array[y]===l)return y;return-1}find(l,m){return this._array.find(l,m)}findIndex(l,m){return this._array.findIndex(l,m)}every(l,m){return this._array.every(l,m)}some(l,m){return this._array.some(l,m)}forEach(l,m){this._array.forEach(l,m)}map(l,m){return this._array.map(l,m)}filter(l,m){return this._array.filter(l,m)}reduce(l,m){return m!==void 0?this._array.reduce(l,m):this._array.reduce(l)}reduceRight(l,m){return m!==void 0?this._array.reduceRight(l,m):this._array.reduceRight(l)}move(l,m){this.splice(m,0,this.splice(l,1)[0])}}let Q={};window[e]&&(Q=window[e]),window[e]=function(E,l){let m=E;if(E){if(E.indexOf("#")>=0||E.indexOf(".")>=0)return p[E]?p[E]:l?(p[E]=new l,function(c,y){const b=y.properties;y._properties=[];const S=function(M,$){const P=Object.keys(M);for(let G=0;G<P.length;G++){const Z=P[G],ee=M[Z];y._properties[$+Z]=ee,Array.isArray(ee)?y._properties[$+Z]=new ae(ee,function(de){const me=Z+"."+de.path,ge=de.newValue,we=document.querySelector(c);if(we){const Me=me.split(".");let ke=we;for(let xe=0;xe<Me.length;xe++)ke=ke[Me[xe]];ke=ge}}):(Object.defineProperty(M,Z,{configurable:!1,enumerable:!0,get:()=>y._properties[$+Z],set(de){y._properties[$+Z]=de}}),ee&&ee.constructor.name==="DataAdapter"||ee&&typeof ee=="object"&&Smart.DataAdapter&&ee instanceof Smart.DataAdapter||typeof ee=="object"&&ee&&Object.keys(ee).length>0&&S(ee,$+Z+"."))}};S(b,""),Object.defineProperty(y,"properties",{configurable:!1,enumerable:!0,get:()=>b});const D=document.querySelector(c);if(D&&D.isReady)for(let M in b)if(M==="properties"){const $=b[M];for(let P in $)D[P]=$[P]}else D[M]=b[M];else if(D){D.props={};for(let M in b)D.props[M]=b[M]}}(E,p[E]),p[E]):void 0;if(l){if(X.tagNames[E]=l,X.lazyRegister){X.toRegister||(X.toRegister=[]);const c=r.toCamelCase(m).replace(/[a-z]+/,"");return window[e][c]=l,void X.toRegister.push({tagName:m,element:l})}X.register(m,l)}}},window.addEventListener("load",function(){const E=window[e].Elements.tagNames;let l=[];for(let m in E){const c=E[m];let y=document.querySelectorAll("["+m+"]");for(let S=0;S<y.length;S++){const D=y[S];D instanceof HTMLDivElement&&(D.__proto__=c.prototype,D.created(),D.connectedCallback()),D.classList.add("smart-element-ready")}let b=c.name;b==="Item"&&(b="ListItem"),y=document.querySelectorAll('[is="'+e.toLocaleLowerCase()+b+'"]');for(let S=0;S<y.length;S++)l.push(y[S])}if(l.length>0){const m=c=>{let y=[],b=c.parentNode;for(;b&&b.nodeType!==9;)b instanceof HTMLElement==1&&y.push(b),b=b.parentNode;return y};l.sort(function(c,y){let b=m(c).length,S=m(y).length;return b<S?1:b>S?-1:0});for(let c=0;c<l.length;c++){const y=l[c],b=y.getAttribute("is");let S;S=b==="smartItem"?new window.smartListItem(y):new window[b](y),S.removeAttribute("is")}}});const ie=function(){if(document.readyState==="complete"&&window[e].RenderMode!=="manual"){F.sort(function(E,l){let m=E.element.parents.length,c=l.element.parents.length;return m<c?-1:m>c?1:0});for(let E=0;E<F.length;E++)window[e].RenderMode="",F[E].element.isLoading=!1,F[E].callback(),window[e].RenderMode="";F=[],document.removeEventListener("readystatechange",ie)}};Object.assign(window[e],{Elements:X,Modules:[],BaseElement:class extends V{static get observedAttributes(){let E=this,l=["external-style"];for(let m in E.prototype.extendedProperties){const c=E.prototype.extendedProperties[m];l.push(c.attributeName)}return l}static get styleUrls(){return[]}static get styles(){return""}get styleUrl(){return this._styleUrl}set styleUrl(E){this._styleUrl=E}get isInShadowDOM(){const E=this,l=E.getRootNode();return!E.hasAttribute("smart-blazor")&&l!==document&&l!==E}getShadowRootOrBody(){const E=this;return E.isInShadowDOM&&E.getRootNode().host?E.getRootNode().host.shadowRoot:document.body}get enableShadowDOM(){return window[e].EnableShadowDOM}importStyle(E,l){this._importStyle(E,l)}_importStyle(E,l){const m=this;if(!m.shadowRoot||!E)return;const c=S=>{const D=m.shadowRoot.children;for(let $=0;$<D.length;$++){const P=D[$];if(P instanceof HTMLLinkElement&&P.href===S)return l&&l(),null}const M=document.createElement("link");return M.rel="stylesheet",M.type="text/css",M.href=S,M.onload=l,M},y=(()=>{const S=m.shadowRoot.children;let D=null;for(let M=0;M<S.length;M++){const $=S[M];$ instanceof HTMLLinkElement&&(D=$)}return D})(),b=(S,D)=>{D.parentNode.insertBefore(S,D.nextSibling)};if(Array.isArray(E)){const S=document.createDocumentFragment();for(let D=0;D<E.length;D++){const M=c(E[D]);M&&S.appendChild(M)}y?b(S,y):m.shadowRoot.insertBefore(S,m.shadowRoot.firstChild)}else{const S=c(E);if(!S)return;y?b(S,y):m.shadowRoot.insertBefore(S,m.shadowRoot.firstChild)}}attributeChanged(E,l,m){E==="style-url"&&(this.styleUrl=m)}attributeChangedCallback(E,l,m){this.isReady&&super.attributeChangedCallback(E,l,m)}constructor(E,l){super();const m=this;if(E){l&&(m._initProperties=l);const c=y=>{if(typeof y=="string"?document.querySelector(y):y){const b=typeof y=="string"?document.querySelector(y):y;if(b instanceof HTMLDivElement){const S=document.createElement(m.tagName);for(let D of b.attributes)S.setAttribute(D.name,b.getAttribute(D.name));for(;b.childNodes.length;)S.appendChild(b.firstChild);return typeof y=="string"&&(S.id=y.substring(1)),S._initProperties=l,b.parentNode&&b.parentNode.replaceChild(S,b),S}if(l){const S=b.context;if(b._initProperties=l,b.isReady){b.context=b;const D={},M={};for(let $ in l)D[$]=b[$],M[$]=l[$];Object.getOwnPropertyNames(l).length>0&&(b.initProperties(),b.propertyChangedHandler(l,D,M)),b.context=S}}return b}};if(typeof E=="string"){const y=document.querySelectorAll(E),b=[];if(y.length>1){for(let S=0;S<y.length;S++){const D=c(y[S]);b.push(D)}return b}}else if(E&&E.length>0){const y=E;if(y.length>1){for(let b=0;b<y.length;b++){const S=c(y[b]);z.push(S)}return z}}return c(E)}m._styleUrl="",m.isUtilityElement||m.created()}_getRootShadowParent(){let E=this.shadowParent;for(;E;){if(!E.shadowParent)return E;E=E.shadowParent}return E||this.shadowParent}_getStyleUrl(E){let l=A.Core.getScriptLocation()+window[e].StyleBaseUrl+E;return this.shadowParent&&(l=l.replace("scoped/","")),l}_getStyleUrls(){const E=this;E.nodeName.startsWith(e);const l=E.getStaticMember("styleUrls","array"),m=[];for(let c=0;c<l.length;c++){const y=l[c],b=E._getStyleUrl(y);m.push(b)}return m}_setupShadowRoot(){const E=this;E.classList.add("smart-element-init");const l=m=>{m.$.root&&(m.$.root.classList.add(e.toLowerCase()+"-element"),m.$.root.classList.add(E.nodeName.toLowerCase())),m.setup(),m.classList.remove("smart-element-init")};if(document.adoptedStyleSheets)if(window[e].AdoptedStyleSheets)window[e].AdoptedStyleSheetsLoaded?(E.shadowRoot.adoptedStyleSheets=window[e].AdoptedStyleSheets,l(E)):(E.shadowRoot.adoptedStyleSheets=window[e].AdoptedStyleSheets,window[e].AdoptedStyleSheetsLoadedQueue||(window[e].AdoptedStyleSheetsLoadedQueue=[]),window[e].AdoptedStyleSheetsLoadedQueue.push(E));else{const m=new CSSStyleSheet;let c=A.Core.getScriptLocation()+"/styles/smart.default.css";m.replace('@import url("'+c+'")').then(()=>{if(l(E),window[e].AdoptedStyleSheetsLoaded=!0,window[e].AdoptedStyleSheetsLoadedQueue){const y=window[e].AdoptedStyleSheetsLoadedQueue;for(let b=0;b<y.length;b++){const S=y[b];l(S)}delete window[e].AdoptedStyleSheetsLoadedQueue}}).catch(y=>{console.error("Failed to load:",y)}),window[e].AdoptedStyleSheets=[m],document.adoptedStyleSheets=[m],E.shadowRoot.adoptedStyleSheets=window[e].AdoptedStyleSheets}}connect(){const E=this;window[e].EnableShadowDOM&&!E.shadowRoot&&E.isInShadowDOM!==!0&&(E.attachShadow({mode:"open"}),E.shadowRoot&&E.$.root&&(E.shadowRoot.appendChild(E.$.root),E.$.root.classList.add(E.nodeName.toLowerCase()))),E.shadowRoot||E.shadowParent?E.shadowRoot?E._setupShadowRoot():(E.shadowParent&&window[e].EnableShadowDOM,E.setup()):E.setup()}connectedCallback(){const E=this;if(E.isLoading||E.isUtilityElement)return;E.classList.add("smart-element-init");const l=function(){E.classList.remove("smart-element-init")};if(document.readyState==="complete"&&(window[e].isAngular===void 0&&(window[e].isAngular=document.body.querySelector("[ng-version]")!==null),window[e].isVue===void 0&&(window[e].isVue=document.querySelector(".vue-root")!==null),window[e].isAngular)){for(let m=0;m<E.parents.length&&!E.parents[m].nodeName.toLowerCase().startsWith(e.toLowerCase()+"-");m++)if(E.parents[m].hasAttribute("ng-version")&&!E.classList.contains("smart-angular")){window[e].RenderMode="manual";break}}if(document.readyState==="complete"&&window[e].RenderMode!=="manual"){const m=E.parents;m.length&&m[m.length-1].nodeName==="HTML"||E.getRootNode().host?(E.checkIsInDomTimer&&clearInterval(E.checkIsInDomTimer),l(),E.connect()):(E.checkIsInDomTimer&&clearInterval(E.checkIsInDomTimer),m.length>0&&(E.checkIsInDomTimer=setInterval(()=>{const c=E.parents;c.length===0&&clearInterval(E.checkIsInDomTimer),c.length>0&&c[c.length-1].nodeName==="HTML"&&(clearInterval(E.checkIsInDomTimer),l(),E.connect())},100)))}else E.isLoading=!0,F.push({element:this,callback:(function(){this.isReady||(l(),this.connect())}).bind(E)})}disconnectedCallback(){const E=this;E.isAttached?(E.shadowParent=null,E.detached()):E._resetShadowParent()}adoptedCallback(){this.setup()}appendTemplate(E){const l=this;l.shadowRoot?l.shadowRoot.appendChild(E):l.appendChild(E)}_resetShadowParent(){const E=this;if(!window[e].EnableShadowDOM||E.shadowParent===null)return;const l=[];let m=E.parentNode;for(;m&&m.nodeType!==9;){if(m instanceof HTMLElement==1)l.push(m);else if(m.nodeType===11&&m.host){m=m.host;continue}m=m.parentNode}for(let c=0;c<l.length;c++)if(l[c]===E.shadowParent)return;l.length>0&&l[l.length-1].nodeName==="HTML"&&(E.shadowParent=null)}},Utilities:A,Import:function(E,l){let m=0;const c=function(y,b){return new Promise(S=>{const D=document.createElement("script");D.src=y,D.onload=S;for(let M=0;M<document.head.children.length;M++){const $=document.head.children[M];if($.src&&$.src.toString().indexOf(b)>=0)return void S()}document.head.appendChild(D)})};return new Promise(y=>{const b=A.Core.getScriptLocation(),S=function(D){if(!E[D])return;const M=b+"/"+E[D];c(M,E[D]).then(function(){m++,m===E.length&&y(),S(D+1)})};if(l)for(let D=0;D<E.length;D++){const M=b+"/"+E[D];c(M,E[D]).then(function(){m++,m===E.length&&y()})}else S(0)})},ObservableArray:ae,Observable:class{constructor(E,l){const m=this;var c;return this.name="observable",E&&Object.assign(m,E),c=E,Object.getOwnPropertyNames(Object.getPrototypeOf(c)).forEach(y=>y==="constructor"||!!y.startsWith("_")||void(m[y]=c[y])),new Proxy(m,{deleteProperty:function(y,b){return delete y[b],!0},get:function(y,b){return y[b]},set:function(y,b,S){const D=y[b];return D===S||(y[b]=S,!(b!=="notifyFn"&&!b.startsWith("_")&&b!=="canNotify"&&(!l||l.indexOf(b)!==-1)&&m.canNotify&&(m._notify({target:y,propertyName:b,oldValue:D,newValue:S}),0)))}})}get canNotify(){const E=this;return E._canNotify===void 0&&(E._canNotify=!0),E._canNotify}set canNotify(E){this._canNotify=E}_notify(E){const l=this;if(l.canNotify&&l.notifyFn)for(let m=0;m<l.notifyFn.length;m++)l.notifyFn[m](E)}notify(E){const l=this;E&&(l.notifyFn||(l.notifyFn=[]),l.notifyFn.push(E))}},Component:class{constructor(E,l){const m=this.name;let c=null;return E?c=new window[m](E,l):(c=new window[m],c._initProperties=l),this._element=c,c}get name(){return"Component"}get element(){return this._element}},Theme:Q.Theme||"",EnableShadowDOM:Q.ShadowDom||!1,BaseUrl:"./",StyleBaseUrl:"/styles/default/",Version:u,Templates:g,RenderMode:Q.RenderMode||"auto",Render:function(){const E=()=>{window[e].RenderMode="",ie()};document.readyState==="complete"?E():(window.removeEventListener("load",E),window.addEventListener("load",E))},Data:p,Mode:Q.Mode||"production",License:Q.License||"Evaluation"});let te=window[e].Theme;window[e].RenderMode!=="manual"&&document.addEventListener("readystatechange",ie),Object.defineProperty(window[e],"Theme",{configurable:!1,enumerable:!0,get:()=>te,set(E){const l=te;te=E,k.fireEvent("theme-changed",{oldValue:l,newValue:E},{bubbles:!0,cancelable:!0})}}),window[e]("smart-base-element",window[e].BaseElement),window[e]("smart-content-element",class extends window[e].BaseElement{static get properties(){return{content:{type:"any",reflectToAttribute:!1},innerHTML:{type:"string",reflectToAttribute:!1}}}template(){return"<div inner-h-t-m-l='[[innerHTML]]'></div>"}ready(){super.ready(),this.applyContent()}refresh(){}clearContent(){const E=this;for(;E.$.content.firstChild;)E.$.content.removeChild(E.$.content.firstChild)}applyContent(){const E=this;if(E.content===void 0)return void(E.content=E.$.content);if(E.content===""||E.content===null)return void E.clearContent();if(E.content instanceof HTMLElement)return E.clearContent(),void E.$.content.appendChild(E.content);const l=document.createDocumentFragment();let m=document.createElement("div");l.appendChild(m),E.content instanceof HTMLElement?m.appendChild(E.content):m.innerHTML=E.content;let c=Array.from(m.childNodes);m.parentNode.removeChild(m);for(let y=0;y<c.length;y++)l.appendChild(c[y]);E.clearContent(),E.$.content.appendChild(l)}propertyChangedHandler(E,l,m){super.propertyChangedHandler(E,l,m);const c=this;l!==m&&(E==="innerHTML"&&(c.content=m,c.applyContent(),c.innerHTML=c.content=A.Core.html(c.$.content)),E==="content"&&c.applyContent())}}),window[e]("smart-scroll-viewer",class extends window[e].ContentElement{static get properties(){return{autoRefresh:{type:"boolean",value:!1},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},touchScrollRatio:{type:"any",value:null},touchVelocityCoefficient:{type:"number",value:50},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}static get listeners(){return{touchmove:"_touchmoveHandler",touchstart:"_touchstartHandler",wheel:"_mouseWheelHandler","document.up":"_upHandler"}}static get styleUrls(){return["smart.scrollviewer.css"]}template(){return`<div id="container" class="smart-container" role="presentation">
                        <div id="scrollViewerContainer" class="smart-scroll-viewer-container" role="presentation">
                            <div id="scrollViewerContentContainer" inner-h-t-m-l='[[innerHTML]]' class="smart-scroll-viewer-content-container" role="presentation">
                                <content></content>
                            </div>
                        </div>
                        <smart-scroll-bar id="verticalScrollBar" theme="[[theme]]"  animation="[[animation]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]" orientation="vertical"></smart-scroll-bar>
                        <smart-scroll-bar id="horizontalScrollBar" theme="[[theme]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]"></smart-scroll-bar>
                    </div>`}appendChild(E){const l=this;if(E){if(!l.isCompleted||E.classList&&E.classList.contains("smart-resize-trigger-container")){const m=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(l,m.concat(Array.prototype.slice.call(arguments)))}l.$.scrollViewerContentContainer.appendChild(E)}}removeChild(E){const l=this;if(E){if(!l.isCompleted||E.classList&&E.classList.contains("smart-resize-trigger-container")){const m=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(l,m.concat(Array.prototype.slice.call(arguments)))}l.$.scrollViewerContentContainer.removeChild(E)}}removeAll(){const E=this;E.isCompleted&&(E.$.scrollViewerContentContainer.innerHTML="")}_horizontalScrollbarHandler(E){const l=this;l.$.scrollViewerContentContainer.style.left=(l.rightToLeft?1:-1)*l.scrollLeft+"px",E.stopPropagation&&E.stopPropagation(),l.onHorizontalChange&&l.onHorizontalChange(E)}_verticalScrollbarHandler(E){const l=this;l.$.scrollViewerContentContainer.style.top=-l.scrollTop+"px",E.stopPropagation&&E.stopPropagation(),l.onVerticalChange&&l.onVerticalChange(E)}_touchmoveHandler(E){const l=this;if(l._touchmoveInside&&E.cancelable)return E.preventDefault(),void E.stopPropagation();const m=l.scrollHeight>0,c=l.scrollWidth>0,y=l._touchCoords;if(!m&&!c||!y)return;const b=E.touches[0];let S,D,M,$;l._touchCoords=[b.pageX,b.pageY],m?(S=l.scrollTop,D=l.scrollHeight,M=b.pageY,$=y[1]):(S=l.scrollLeft,D=l.scrollWidth,M=b.pageX,$=y[0]);const P=parseFloat(M.toFixed(5)),G=parseFloat($.toFixed(5));S===0&&P>=G||S===D&&P<=G||(M!==$&&(l._touchmoveInside=!0),E.cancelable&&(E.preventDefault(),E.stopPropagation()))}_touchstartHandler(E){const l=E.touches[0];this._touchCoords=[l.pageX,l.pageY]}_mouseWheelHandler(E){const l=this;if(!l.disabled&&(l.computedHorizontalScrollBarVisibility||l.computedVerticalScrollBarVisibility)){if(E.shiftKey&&l.computedHorizontalScrollBarVisibility){const m=l.scrollLeft;return m===0&&E.deltaX<0||m===l.scrollHeight&&E.deltaX>0?void 0:(E.stopPropagation(),E.preventDefault(),void(l.scrollWidth>0&&l.scrollTo(void 0,l.scrollLeft+l._getScrollCoefficient(E,l.offsetWidth))))}if(l.computedVerticalScrollBarVisibility){const m=l.scrollTop;if(m===0&&E.deltaY<0||m===l.scrollHeight&&E.deltaY>0)return;if(E.stopPropagation(),E.preventDefault(),l.scrollHeight>0){l._wheelrafId=0;const c=()=>{l.scrollTop+=E.deltaY};cancelAnimationFrame(l._wheelrafId),l._wheelrafId=0,l._wheelrafId=requestAnimationFrame(c)}}}}_overriddenHandler(){}_upHandler(){delete this._touchCoords,delete this._touchmoveInside}_getScrollCoefficient(E,l){const m=E.deltaMode,c=Math.abs(E.deltaY);let y;return m===0?y=c<33.333333333333336?c:l:m===1?y=c<1?c*33.333333333333336:l:m===2&&(y=l),E.deltaY<0?-y:y}applyContent(){super.applyContent(),this.refresh()}get computedHorizontalScrollBarVisibility(){const E=this;return E._scrollView&&E._scrollView.hScrollBar?!E._scrollView.hScrollBar.$.hasClass("smart-hidden"):null}get computedVerticalScrollBarVisibility(){const E=this;return E._scrollView&&E._scrollView.vScrollBar?!E._scrollView.vScrollBar.$.hasClass("smart-hidden"):null}scrollTo(E,l){const m=this;m._scrollView&&(E!==void 0&&m._scrollView.scrollTo(E),l!==void 0&&m._scrollView.scrollTo(l,!1))}refreshScrollBarsVisibility(){const E=this;E._scrollView&&(E._scrollView.hScrollBar.disabled=E.disabled,E._scrollView.vScrollBar.disabled=E.disabled,E.horizontalScrollBarVisibility==="disabled"&&(E._scrollView.hScrollBar.disabled=!0),E.verticalScrollBarVisibility==="disabled"&&(E._scrollView.vScrollBar.disabled=!0),E.scrollWidth>0?E._scrollView.hScrollBar.$.removeClass("smart-hidden"):E.horizontalScrollBarVisibility!=="visible"&&E._scrollView.hScrollBar.$.addClass("smart-hidden"),E.scrollHeight>0?E._scrollView.vScrollBar.$.removeClass("smart-hidden"):E.verticalScrollBarVisibility!=="visible"&&E._scrollView.vScrollBar.$.addClass("smart-hidden"),E.horizontalScrollBarVisibility==="hidden"&&E._scrollView.hScrollBar.$.addClass("smart-hidden"),E.verticalScrollBarVisibility==="hidden"&&E._scrollView.vScrollBar.$.addClass("smart-hidden"),E.horizontalScrollBarVisibility==="visible"&&E._scrollView.hScrollBar.$.removeClass("smart-hidden"),E.verticalScrollBarVisibility==="visible"&&(E._scrollView.vScrollBar.$.removeClass("smart-hidden"),E.disabled||(E._scrollView.vScrollBar.disabled=E.scrollHeight<=0)),E.computedHorizontalScrollBarVisibility&&E.computedVerticalScrollBarVisibility?(E._scrollView.hScrollBar.$.addClass("bottom-corner"),E._scrollView.vScrollBar.$.addClass("bottom-corner")):(E._scrollView.hScrollBar.$.removeClass("bottom-corner"),E._scrollView.vScrollBar.$.removeClass("bottom-corner")))}ready(){super.ready();const E=this;E.$.verticalScrollBar.onChange=l=>{l.detail=l,E._verticalScrollbarHandler(l)},E.$.horizontalScrollBar.onChange=l=>{l.detail=l,E._horizontalScrollbarHandler(l)},E.$.verticalScrollBar.setAttribute("aria-controls",E.id),E.$.horizontalScrollBar.setAttribute("aria-controls",E.id),E._customScrollView||(E._scrollView=new Smart.Utilities.Scroll(E,E.$.horizontalScrollBar,E.$.verticalScrollBar)),E.refresh()}refresh(){const E=this;function l(){const b=E.$.scrollViewerContainer.classList.contains("vscroll");E.$.scrollViewerContainer.classList.remove("vscroll");const S=E.$.scrollViewerContentContainer.offsetWidth-E.$.scrollViewerContainer.offsetWidth;return S>0&&E.horizontalScrollBarVisibility!=="hidden"||E.horizontalScrollBarVisibility==="visible"?E.$.scrollViewerContainer.classList.add("hscroll"):E.$.scrollViewerContainer.classList.remove("hscroll"),b&&E.$.scrollViewerContainer.classList.add("vscroll"),S}function m(){let b;const S=E.$.scrollViewerContainer.classList.contains("hscroll");if(E.$.scrollViewerContainer.classList.remove("hscroll"),Smart.Utilities.Core.Browser.Safari){const D=E.$.scrollViewerContentContainer.getBoundingClientRect().height,M=E.$.scrollViewerContainer.getBoundingClientRect().height;b=D&&M?parseInt(D)-parseInt(M):E.$.scrollViewerContentContainer.offsetHeight-E.$.scrollViewerContainer.offsetHeight}else b=E.$.scrollViewerContentContainer.offsetHeight-E.$.scrollViewerContainer.offsetHeight;return E.virtualScrollHeight&&(b=E.virtualScrollHeight),b>0&&E.verticalScrollBarVisibility!=="hidden"||E.verticalScrollBarVisibility==="visible"?E.$.scrollViewerContainer.classList.add("vscroll"):E.$.scrollViewerContainer.classList.remove("vscroll"),S&&E.$.scrollViewerContainer.classList.add("hscroll"),b}if(!E.$.scrollViewerContentContainer)return;E.verticalScrollBarVisibility==="hidden"&&E.$.scrollViewerContentContainer.setAttribute("disable-vertical",""),E.horizontalScrollBarVisibility==="hidden"&&E.$.scrollViewerContentContainer.setAttribute("disable-horizontal","");let c=E.scrollWidth,y=E.scrollHeight;E.scrollWidth=l(),E.scrollHeight=m(),E.scrollHeight&&y===E.scrollHeight||(E.scrollWidth=l()),E.scrollWidth&&c===E.scrollWidth||(E.scrollHeight=m()),E.computedVerticalScrollBarVisibility&&(E.scrollHeight+=E._scrollView.hScrollBar.offsetHeight),E.computedHorizontalScrollBarVisibility&&(E.scrollWidth+=E._scrollView.vScrollBar.offsetWidth),E.scrollHeight===0&&E.scrollWidth>0&&E.$.container.offsetHeight-E.$.content.offsetHeight<5&&(E.$.container.style.paddingBottom=E._scrollView.hScrollBar.offsetHeight+"px"),E.autoRefresh&&(E.$.scrollViewerContainer.scrollLeft=0,E.$.scrollViewerContainer.scrollTop=0)}attached(){const E=this;super.attached(),E._scrollView||E._customScrollView||(E._scrollView=new Smart.Utilities.Scroll(E,E.$.horizontalScrollBar,E.$.verticalScrollBar))}detached(){const E=this;super.detached(),E._scrollView&&(E._scrollView.unlisten(),delete E._scrollView)}get scrollWidth(){const E=this;return E._scrollView&&E._scrollView.hScrollBar?E._scrollView.hScrollBar.max===1&&E.horizontalScrollBarVisibility==="visible"?0:E._scrollView.hScrollBar.max:-1}set scrollWidth(E){const l=this;E<0&&(E=0),l._scrollView&&l._scrollView.hScrollBar&&(E===0&&l.horizontalScrollBarVisibility==="visible"?l._scrollView.hScrollBar.max=0:l._scrollView.hScrollBar.max=E,l.refreshScrollBarsVisibility())}get scrollHeight(){const E=this;return E._scrollView&&E._scrollView.vScrollBar?E._scrollView.vScrollBar.max===1&&E.verticalScrollBarVisibility==="visible"?0:E._scrollView.vScrollBar.max:0}set scrollHeight(E){const l=this;E<0&&(E=0),l._scrollView&&l._scrollView.vScrollBar&&(E===0&&l.verticalScrollBarVisibility==="visible"?l._scrollView.vScrollBar.max=1:l._scrollView.vScrollBar.max=E,l.refreshScrollBarsVisibility())}get scrollLeft(){const E=this;return E._scrollView&&E._scrollView.hScrollBar?E._scrollView.hScrollBar.value:0}set scrollLeft(E){const l=this;E<0&&(E=0),l._scrollView&&l._scrollView.hScrollBar&&(l._scrollView.hScrollBar.value=E)}get scrollTop(){const E=this;return E._scrollView&&E._scrollView.vScrollBar?E._scrollView.vScrollBar.value:0}set scrollTop(E){const l=this;E<0&&(E=0),l._scrollView&&l._scrollView.vScrollBar&&(l._scrollView.vScrollBar.value=E)}propertyChangedHandler(E,l,m){const c=this;super.propertyChangedHandler(E,l,m),E!=="animation"&&E!=="theme"&&c.refresh()}}),window[e].Utilities.Assign("PositionDetection",class{constructor(E,l,m,c){const y=this;if(l){const b="dropDown"+Math.floor(65536*(1+Math.random())).toString(16).substring(1);l.id=b,E.setAttribute("aria-owns",b)}y.context=E,y.dropDown=l,y.defaultParent=m,y.closeMethod=c}handleAutoPositioning(){const E=this,l=E.context;if(l.dropDownPosition!=="auto"||l.disabled||l.isHidden)return;const m=window.requestAnimationFrame;let c,y=Date.now();return c=m(function b(){l.isHidden||document.hidden||(c=m(b),l.dropDownPosition==="auto"&&!l.disabled&&(l.isInShadowDOM?document.body.contains(l.shadowParent):document.body.contains(l))||cancelAnimationFrame(c),l.isHidden&&cancelAnimationFrame(c),Date.now()-y>=200&&(E.scrollHandler(),y=Date.now()))})}checkBrowserBounds(E){const l=this.context;if(l.dropDownPosition==="auto"&&!l.disabled)switch(E){case"vertically":this.checkBrowserBoundsVertically();break;case"horizontally":this.checkBrowserBoundsHorizontally();break;default:this.checkBrowserBoundsVertically(),this.checkBrowserBoundsHorizontally()}}checkBrowserBoundsHorizontally(){const E=this.context,l=this.dropDown;let m,c=0;r.isMobile||window.innerWidth===document.documentElement.clientWidth||(c=window.innerWidth-document.documentElement.clientWidth),E._dropDownParent!==null?m=!0:l.style.left="";const y=window.innerWidth-c;let b=E.getBoundingClientRect().left;if(b<0&&(l.style.left=(m?0:Math.abs(b))+"px",b=parseFloat(l.style.left)),b+l.offsetWidth>y){let S=b-Math.abs(y-b-l.offsetWidth);m&&(S+=window.pageXOffset),l.style.left=(m?S:S-b)+"px",window.innerWidth===document.documentElement.clientWidth&&(l.style.left=parseFloat(l.style.left)+c+"px"),m&&window.innerHeight===document.documentElement.clientHeight&&this.positionDropDown(!0)}}checkBrowserBoundsVertically(E){const l=this.context,m=this.dropDown,c=l._dropDownListPosition;E||(E=l.getBoundingClientRect()),E.height!==0&&(document.documentElement.clientHeight-Math.abs(E.top+E.height+m.offsetHeight)>=0?l._dropDownListPosition="bottom":E.top-m.offsetHeight>=0?l._dropDownListPosition="top":l._dropDownListPosition="overlay-center",this.updatePositionAttribute(c,l._dropDownListPosition))}scrollHandler(){const E=this.context;if(!E.parentElement)return;const l=E.getBoundingClientRect();if(l.top===E._positionTop)return;const m=E._dropDownListPosition;this.checkBrowserBoundsVertically(l),E._dropDownListPosition!==m&&this.positionDropDown(),E._positionTop=l.top}getDropDownParent(E){const l=this.context,m=this.dropDown;let c=l.dropDownAppendTo;l._positionedParent=null,c===null?l._dropDownParent=null:c==="body"||c===document.body?l.getRootNode().host?l._dropDownParent=l.getRootNode().host.shadowRoot:l._dropDownParent=document.body:c instanceof HTMLElement?l._dropDownParent=c:typeof c=="string"?(c=document.getElementById(c),c instanceof HTMLElement?l._dropDownParent=c:(l.dropDownAppendTo=null,l._dropDownParent=null)):(l.dropDownAppendTo=null,l._dropDownParent=null);let y=l._dropDownParent;if(y!==null){for(;y&&y instanceof HTMLElement&&window.getComputedStyle(y).position==="static"&&y!==l.getShadowRootOrBody();)y=y.parentElement;y===document.body?l._positionedParent=null:l._positionedParent=y,m&&(m.setAttribute("animation",l.animation),l.theme!==""&&m.$.addClass(l.theme),E&&(l._dropDownParent.appendChild(m),m.$.addClass("smart-drop-down-repositioned")),l.detachedChildren.indexOf(m)===-1&&l.detachedChildren.push(m))}}dropDownAppendToChangedHandler(){const E=this.context,l=this.dropDown,m=E._dropDownParent;this.getDropDownParent(),E._dropDownParent!==m&&(E[this.closeMethod](),["left","top","font-size","font-family","font-style","font-weight"].forEach(c=>l.style[c]=null),E._dropDownParent===null?(this.defaultParent.appendChild(l),l.$.removeClass("smart-drop-down-repositioned")):(E._dropDownParent.appendChild(l),l.$.addClass("smart-drop-down-repositioned")))}dropDownPositionChangedHandler(){const E=this;E.dropDown.style.transition="none",E.context[E.closeMethod](),E.setDropDownPosition(),E.handleAutoPositioning()}dropDownAttached(E){const l=this.context;l._dropDownParent!==null&&(l._dropDownParent.appendChild(this.dropDown),this.handleAutoPositioning(),E&&l[E]())}dropDownDetached(){const E=this.context;E._dropDownParent!==null&&document.body.contains(this.dropDown)&&document.body.contains(E._dropDownParent)&&E._dropDownParent.removeChild(this.dropDown)}setDropDownPosition(){const E=this.context,l=E.dropDownPosition,m=E._dropDownListPosition;l==="auto"?this.checkBrowserBounds():E._dropDownListPosition=l,this.updatePositionAttribute(m,E._dropDownListPosition)}updatePositionAttribute(E,l){const m=this.context,c=this.dropDown;m.$.dropDownButton&&!m.$.dropDownButton.hasAttribute(l)&&(m.$.dropDownButton.removeAttribute(E),m.$.dropDownButton.setAttribute(l,"")),c.hasAttribute(l)||(c.style.transition="none",c.removeAttribute(E),c.setAttribute(l,""),requestAnimationFrame(function(){c.style.transition=null}))}positionDropDown(E){const l=this.context,m=this.dropDown;if(!l.opened||l._dropDownParent===null)return;const c=l.getBoundingClientRect();let y,b;if(this.customPositionDropDown){const D=this.customPositionDropDown(c);y=D.left,b=D.top}else switch(y=c.left,b=c.top,l._dropDownListPosition){case"bottom":b+=l.$.container.offsetHeight-1;break;case"center-bottom":b+=l.$.container.offsetHeight-1,y+=l.offsetWidth-m.offsetWidth/2;break;case"center-top":b-=m.offsetHeight-1,y+=l.offsetWidth-m.offsetWidth/2;break;case"top":b-=m.offsetHeight-1;break;case"overlay-bottom":break;case"overlay-center":b-=m.offsetHeight/2-l.offsetHeight/2;break;case"overlay-top":b-=m.offsetHeight-l.offsetHeight}const S=this.getDropDownOffset();m.style.top=b+S.y+"px",E||(m.style.left=y+S.x+"px")}getDropDownOffset(){const E=this.context._positionedParent;let l,m;if(E&&E.nodeName!=="#document-fragment"){const c=E.getBoundingClientRect();l=-c.left,m=-c.top}else l=window.pageXOffset,m=window.pageYOffset;return{x:l,y:m}}placeOverlay(){const E=this.context;if(!E.dropDownOverlay||E._overlay)return;const l=document.createElement("div");l.classList.add("smart-drop-down-overlay"),l.style.width=document.documentElement.scrollWidth+"px",l.style.height=document.documentElement.scrollHeight+"px",document.body.appendChild(l),E._overlay=l}removeOverlay(E){const l=this,m=l.context;m._overlay&&(m.hasAnimation&&E?requestAnimationFrame(function c(){l.dropDown.getBoundingClientRect().height>0?requestAnimationFrame(c):(document.body.removeChild(m._overlay),delete m._overlay)}):(document.body.removeChild(m._overlay),delete m._overlay))}}),window.Smart.Color=class{constructor(E){if(window.Smart._colors||(window.Smart._colors=[]),window.Smart._colors[E]){const m=window.Smart._colors[E];return this.hex=m.hex,this.r=m.r,this.g=m.g,void(this.b=m.b)}this.r=this.g=this.b=0,this.hex="";const l=this.getStandardizedColor(E);l&&(this.setHex(l.substring(1)),window.Smart._colors[E]={hex:this.hex,r:this.r,g:this.g,b:this.b})}getStandardizedColor(E){const l=document.createElement("canvas").getContext("2d");return l.fillStyle=E,l.fillStyle}getInvertedColor(){if(this.hex==="")return"transparent";const E={"#DD5347":"#F8DCDA","#8E24AA":"#F9EEFB","#D50000":"#FFD5D5","#E67C73":"#F9DBD9","#F4511E":"#FDD6C8","#F6BF26":"#FDF2D7","#0B8043":"#DAFCEA","#33B679":"#DFF7EC","#3F51B5":"#E2E6F5","#039BE5":"#E8F8FF","#7986CB":"#DCDFF1","#8C47FF":"#EADDFF","#FF36C2":"#FFDFF5","#FFCFC9":"#C9403E","#FF9EB7":"#FF2058","#FFD66D":"#AA7B00","#FFEBB6":"#C18C00","#93DF89":"#29721F","#D1F7C4":"#619414","#9DC7FF":"#003377","#D0F0FD":"#098FCA","#7D2FFF":"#1BB4F5","#ECE1FD":"#7D30F1","#FA9DE2":"#860666","#FFDAF6":"#FF1AC6","#CBCBCB":"#6B6B6B","#EDEDED":"#909090","#CDAFFF":"#4600BB"};return E["#"+this.hex.toUpperCase()]?E["#"+this.hex.toUpperCase()]:255-(.299*this.r+.587*this.g+.114*this.b)<105?"Black":"White"}hexToRgb(E){let l="00",m="00",c="00";return(E=this.validateHex(E)).length===6?(l=E.substring(0,2),m=E.substring(2,4),c=E.substring(4,6)):(E.length>4&&(l=E.substring(4,E.length),E=E.substring(0,4)),E.length>2&&(m=E.substring(2,E.length),E=E.substring(0,2)),E.length>0&&(c=E.substring(0,E.length))),{r:this.hexToInt(l),g:this.hexToInt(m),b:this.hexToInt(c)}}validateHex(E){return(E=(E=new String(E).toUpperCase()).replace(/[^A-F0-9]/g,"0")).length>6&&(E=E.substring(0,6)),E}webSafeDec(E){return E=Math.round(E/51),E*=51}hexToWebSafe(E){let l,m,c;return E.length===3?(l=E.substring(0,1),m=E.substring(1,1),c=E.substring(2,1)):(l=E.substring(0,2),m=E.substring(2,4),c=E.substring(4,6)),this.intToHex(this.webSafeDec(this.hexToInt(l)))+this.intToHex(this.webSafeDec(this.hexToInt(m)))+this.intToHex(this.webSafeDec(this.hexToInt(c)))}rgbToWebSafe(E){return{r:this.webSafeDec(E.r),g:this.webSafeDec(E.g),b:this.webSafeDec(E.b)}}rgbToHex(E){return this.intToHex(E.r)+this.intToHex(E.g)+this.intToHex(E.b)}intToHex(E){let l=parseInt(E).toString(16);return l.length===1&&(l="0"+l),l.toUpperCase()}hexToInt(E){return parseInt(E,16)}setRgb(E,l,m){let c=function(y){return y<0||y>255||isNaN(parseInt(y))?0:y};this.r=c(E),this.g=c(l),this.b=c(m),this.hex=this.rgbToHex(this)}setHex(E){this.hex=E;let l=this.hexToRgb(this.hex);this.r=l.r,this.g=l.g,this.b=l.b}}})()},9894:()=>{Smart("smart-led",class extends Smart.ToggleButton{static get properties(){return{shape:{value:"round",allowedValues:["round","square"],type:"string"}}}static get styleUrls(){return["smart.led.css"]}template(){return`<div id='container' class='smart-container' role="presentation">
                    <div id='ledAnimation' class='smart-animation' role="presentation"></div>
                    <div id='button' class='smart-input' role="presentation">
                        <span id='falseContentContainer' inner-h-t-m-l='[[falseContent]]' class='smart-false-content-container'></span>
                        <span id='indeterminateContentContainer' inner-h-t-m-l='[[indeterminateContent]]' class='smart-indeterminate-content-container'></span>
                        <span id='trueContentContainer' inner-h-t-m-l='[[trueContent]]' class='smart-true-content-container'></span>
                    </div>
                    <input id='hiddenInput' class='smart-hidden-input' type='hidden'>
                </div>`}ready(){const u=this;super.ready(),u._htmlBindOnInitialization(),u.indeterminate&&(u._valueCashe=u.checked,u.checked=null),u._handleTemplate(!0),u._handleTemplate(!1),u._handleTemplate(),u._updateHidenInputNameAndValue()}propertyChangedHandler(u,g,e){super.propertyChangedHandler(u,g,e);const t=this;switch(u){case"indeterminate":e?(t._valueCashe=t.checked,t.checked=null):t.checked=t._valueCashe,t._updateHidenInputNameAndValue();break;case"trueContent":t.trueContent=e,t._handleTemplate(!0);break;case"falseContent":t.falseContent=e,t._handleTemplate(!1);break;case"indeterminateContent":t.indeterminateContent=e,t._handleTemplate();break;case"value":case"checked":t._updateHidenInputNameAndValue();break;case"name":t._updateHidenInputName()}}_documentUpHandler(u){const g=this;if(g._pressed&&!g.readonly){if(g.clickMode==="press")return u.preventDefault(),u.stopPropagation(),void(g._pressed=!1);super._documentUpHandler(u),g.indeterminate=!1,g._updateHidenInputNameAndValue(),g._pressed=!1}}_mouseDownHandler(){const u=this;u.readonly||u.disabled||(u._pressed=!0,u.clickMode!=="press"&&u.clickMode!=="pressAndRelease"||(u._changeCheckState("pointer"),u.$.fireEvent("click"),u.indeterminate=!1,u._updateHidenInputNameAndValue()))}})},1690:()=>{Smart("smart-power-button",class extends Smart.ToggleButton{static get styleUrls(){return["smart.powerbutton.css"]}template(){return`<div id='container' class='smart-container'>
                    <div id='powerButtonAnimation' class='smart-animation'></div>
                    <span id='button' class='smart-input' aria-hidden="true"></span>
                    <input id='hiddenInput' class='smart-hidden-input' type='hidden'>
                </div>`}ready(){super.ready(),this._updateHidenInputNameAndValue()}})},8649:()=>{Smart("smart-radio-button",class extends Smart.ToggleButton{static get properties(){return{checkMode:{value:"both",allowedValues:["both","input","label"],type:"string"},type:{value:"radio",type:"string",defaultReflectToAttribute:!0,readonly:!0},groupName:{value:"",type:"string"}}}template(){return`<div  id='container' class='smart-container'>
                 <div class ='smart-overlay'></div>
                 <span id='radioButtonInput' class ='smart-input'></span>
                 <span id='radioButtonLabel' inner-h-t-m-l='[[innerHTML]]' class ='smart-label'><content></content></span>
                 <input id='hiddenInput' class ='smart-hidden-input' type='hidden'>
               </div>`}static get listeners(){return{down:"_downHandler","document.up":"_documentUpHandler",mouseenter:"_elementMouseEnterHandler","radioButtonInput.mouseenter":"_radioMouseEnterHandler","radioButtonInput.mouseleave":"_radioMouseLeaveHandler",focus:"_focusHandler",blur:"_blurHandler"}}static get styleUrls(){return["smart.toggle.css"]}_radioMouseEnterHandler(){this.$.setAttributeValue("hover",!0)}_radioMouseLeaveHandler(){this.$.setAttributeValue("hover",!1)}_focusHandler(){this.$.setAttributeValue("focus",!0)}_blurHandler(){this.$.setAttributeValue("focus",!1)}_mouseEnterHandler(){this.$.setAttributeValue("hover",!0)}_mouseLeaveHandler(){this.$.setAttributeValue("hover",!1)}ready(){const u=this;super.ready(),u.classList.add("smart-toggle-box"),u._handleMultipleCheckedInstances(),u._updateHidenInputNameAndValue(),u._updateGroupValue()}_downHandler(u){const g=this,e=g.enableShadowDOM?u.originalEvent.composedPath()[0]:u.originalEvent.target;if(!(g.disabled||g.readonly||g.checkMode==="input"&&e!==g.$.radioButtonInput||g.checkMode==="label"&&e!==g.$.radioButtonLabel)){if(g.$.setAttributeValue("active",!0),g.hasRippleAnimation){const t=g.$.radioButtonInput.getBoundingClientRect(),n=window.scrollX||window.pageXOffset,a=window.scrollY||window.pageYOffset;Smart.Utilities.Animation.Ripple.animate(g.$.radioButtonInput,t.left+t.width/2+n,t.top+t.height/2+a)}g._preventAction?g._preventAction=!1:(g.clickMode!=="release"&&g.clickMode!=="pressAndRelease"||(g._pressed=!0),g.clickMode!=="press"&&g.clickMode!=="pressAndRelease"||(g.clickMode==="pressAndRelease"&&(g.groupName===""?g._checkedBeforeChange=g.parentNode.querySelector("smart-radio-button[checked]"):g._checkedBeforeChange=document.querySelector('smart-radio-button[group-name="'+g.groupName+'"][checked]')),g._handleMouseInteraction()))}}_elementMouseEnterHandler(){const u=this;u.clickMode!=="hover"||u.disabled||u.readonly||u._handleMouseInteraction()}_documentUpHandler(u){const g=this,e=g.enableShadowDOM?u.originalEvent.composedPath()[0]:u.originalEvent.target;!g._pressed||g.disabled||g.readonly||g.checkMode==="input"&&e!==g.$.radioButtonInput||g.checkMode==="label"&&e!==g.$.radioButtonLabel||u.originalEvent.type==="pointercancel"||(g.clickMode==="release"?g._handleMouseInteraction():(g._checkedBeforeChange===null?(g.$.fireEvent("change",{value:!1,oldValue:!0,changeType:"pointer"}),g.$.fireEvent("uncheckValue",{changeType:"pointer"}),g.checked=!1):g._checkedBeforeChange._changeCheckState("pointer"),g.focus(),g._updateHidenInputNameAndValue()),g.$.setAttributeValue("active",!1),g._pressed=!1)}_handleMouseInteraction(){const u=this;u._handleTextSelection(),u._changeCheckState("pointer"),u.focus(),u._updateHidenInputNameAndValue()}_handleMultipleCheckedInstances(){const u=Array.from(document.querySelectorAll('smart-radio-button[group-name="'+this.groupName+'"][checked]')),g=Array.from(document.querySelectorAll('smart-ui-radio-button[group-name="'+this.groupName+'"][checked]')),e=u.length+g.length;e<2||u.concat(...g).forEach((t,n)=>n<e-1&&(t.checked=!1))}_changeCheckState(u){const g=this;let e=document.querySelectorAll('smart-radio-button[group-name="'+g.groupName+'"]'),t=document.querySelectorAll('smart-ui-radio-button[group-name="'+g.groupName+'"]'),n=Array.from(e).concat(...t);if(g.checked===!0&&u==="api"||g.checked===!1)if(n.length>0)g._changeCheckStateInGroup(n,u);else{let a=g.parentNode;g.getRootNode().host?(a=g.getRootNode().host.parentNode,e=a.querySelectorAll("smart-radio-button:not([group-name])"),t=a.querySelectorAll("smart-ui-radio-button:not([group-name])"),n=Array.from(e).concat(...t)):n=a.querySelectorAll("smart-radio-button:not([group-name])"),g._changeCheckStateInGroup(n,u)}}_updateGroupValue(){const u=this;if(u.dataset.target){const g=document.querySelector(u.dataset.target);if(g&&u.checked){const e=u.dataset.property,t=u.dataset.value;if(e&&g[e]!==void 0){let n=t;n==="true"&&(n=!0),n==="false"&&(n=!1),g[e]=n}else u.name?(g.value=u.name,u.id&&g.setAttribute("data-id",u.id)):u.id&&(g.value=u.id),u._targetDispatchTimer&&clearTimeout(u._targetDispatchTimer),u._targetDispatchTimer=setTimeout(()=>{g.dispatchEvent(new Event("change"))},100)}}}_changeCheckStateInGroup(u,g){const e=this,t=e.getRootNode().host?e.getRootNode().host:e;for(let n=0;n<u.length;n++)u[n]._isUpdating=!0,u[n]===t?t.checked=!0:u[n].checked&&(u[n].checked=!1),u[n]._isUpdating=!1;t.nativeElement?(t.nativeElement.$.fireEvent("change",{value:!0,oldValue:!1,changeType:g}),t.nativeElement.$.fireEvent("checkValue",{changeType:g})):(t.$.fireEvent("change",{value:!0,oldValue:!1,changeType:g}),t.$.fireEvent("checkValue",{changeType:g})),e._updateGroupValue()}propertyChangedHandler(u,g,e){const t=this;switch(u){case"value":t._updateHidenInputNameAndValue();break;case"checked":t._isUpdating||t._changeCheckState("api"),t._updateHidenInputNameAndValue();break;case"name":t._updateHidenInputName();break;default:super.propertyChangedHandler(u,g,e)}}})},2616:()=>{Smart("smart-switch-button",class extends Smart.ToggleButton{static get properties(){return{inverted:{value:!1,type:"boolean"},orientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"},switchMode:{value:"default",allowedValues:["default","click","drag","none"],type:"string"},clickMode:{value:"release",allowedValues:["press","release","pressAndRelease"],type:"string"}}}static get listeners(){return{"container.down":"_mouseDownHandler","document.move":"_drag","container.move":"_moveHandler","document.up":"_switchThumbDropHandler",mouseenter:"_switchButtonOnMouseEnter",mouseleave:"_switchButtonOnMouseLeave",resize:"_resizeHandler","container.resize":"_resizeHandler","document.selectstart":"_selectStartHandler"}}static get styleUrls(){return["smart.switchbutton.css"]}propertyChangedHandler(u,g,e){const t=this;switch(super.propertyChangedHandler(u,g,e),t._updateContentProperties(),u){case"indeterminate":e?(t._valueCache=t.checked,t.checked=null):t.checked=t._valueCache,t._setAriaState();break;case"trueContent":t.trueContent=e;break;case"falseContent":t.falseContent=e;break;case"orientation":t._resizeHandler()}t._getContainersSizeAndBreakPoint(),t._removeDragStyles(),t._resizeHandler()}template(){return`<div  id='container' class='smart-container' role="presentation">
                    <div id='innerContainer' class='smart-inner-container' role="presentation">
                        <span id='falseContentContainer' inner-h-t-m-l='[[falseContent]]' class='smart-false-content-container'></span>
                        <span id='switchThumb' class='smart-thumb' role="presentation"></span>
                        <span id='trueContentContainer' inner-h-t-m-l='[[trueContent]]' class='smart-true-content-container'></span>
                    </div>
                    <input id='hiddenInput' class='smart-hidden-input' type='hidden'>
                </div>`}ready(){const u=this;super.ready(),u.setAttribute("role","switch");let g=u.animation;u.hasAnimation&&(u.animation="none"),u._supportCSSVariables=Smart.Utilities.Core.CSSVariablesSupport()&&!!window.getComputedStyle(u.$.container).getPropertyValue("--smart-switch-button-default-width"),u._htmlBindOnInitialization(),u._resizeHandler(),u._initializePrivateVariables(),u._getContainersSizeAndBreakPoint(),u.indeterminate&&(u._valueCache=u.checked,u.checked=null),u._setAriaState(),u._handleTemplate(!0),u._handleTemplate(!1),u._handleTemplate(),u._updateHidenInputNameAndValue(),u._updateThumbPosition(),u.animation=g}_mouseDownHandler(u){const g=this;g.disabled||g.readonly||g.switchMode==="none"||(u.originalEvent.target.closest(".smart-thumb")!==g.$.switchThumb||g.switchMode!=="default"&&g.switchMode!=="drag"||g._switchThumbDragStartHandler(u),g._isSwitchClicked=g,g._updateContentProperties(),g.clickMode!=="release"&&g.switchMode==="click"&&(g._updateStateOnClick(),g.$.fireEvent("click"),g.indeterminate=!1,g._updateHidenInputNameAndValue()))}_updateStateOnClick(){this._changeCheckState(),this.focus()}_drag(u){this._mouseDown&&(Smart.Utilities.Core.isMobile&&u.originalEvent.preventDefault(),this._switchThumbDragHandler(u))}_switchThumbDragStartHandler(u){const g=this;g.disabled||(g.switchMode==="click"&&g.clickMode!=="release"&&(u.preventDefault(),u.stopPropagation()),g._isInactiveOn("drag")||(g._mouseDown=!0,g._getContainersSizeAndBreakPoint(),g._pointerPosition=g.orientation==="vertical"?u.pageY:u.pageX,u.preventDefault()))}_selectStartHandler(u){this._mouseDown&&u.preventDefault()}_switchThumbDragHandler(u){const g=this;if(g._isInactiveOn("drag"))return;if(g._mouseDown===!1)return void g._removeDragStyles();if(!g.hasAttribute("dragged")){if(Math.abs((g.orientation==="vertical"?u.pageY:u.pageX)-g._pointerPosition)<=1.5)return;g.setAttribute("dragged","")}let e=g.$.innerContainer,t=g.$.container.getBoundingClientRect(),n=g.orientation==="vertical"?document.body.scrollTop||document.documentElement.scrollTop:document.body.scrollLeft||document.documentElement.scrollLeft,a=g.orientation==="vertical"?t.top+n:t.left+n,i=g.orientation==="vertical"?g._pointerPosition-e.offsetTop:g._pointerPosition-e.offsetLeft,r=g._pointerPosition>=a&&g._pointerPosition<=a+g._switchContainerSize;const o=-1*(g.offsetWidth-g.$.switchThumb.offsetWidth),d=-1*(g.offsetHeight-g.$.switchThumb.offsetHeight);if(g._pointerPosition=g.orientation==="vertical"?u.pageY:u.pageX,r){let f=g._pointerPosition-i;f<-g._switchTrackLength&&(f=-g._switchTrackLength),f>0&&(f=0),g.orientation==="vertical"?g.$.innerContainer.style.top=Math.max(d,f)+"px":g.$.innerContainer.style.left=Math.max(o,f)+"px"}}_switchThumbDropHandler(){const u=this;u.hasAttribute("dragged")?u._endDrag():u._isSwitchClicked&&u._endClick(),u._mouseDown=!1,delete u._isSwitchClicked}_endDrag(){const u=this,g=u.inverted&&!u.rightToLeft||!u.inverted&&u.rightToLeft;if(u.indeterminate=!1,u._updateHidenInputNameAndValue(),u._isInactiveOn("drag")||!u._mouseDown)return;u.removeAttribute("dragged"),delete u._pointerPosition;const e=(u.orientation==="vertical"?u.$.innerContainer.offsetTop+u.$.switchThumb.offsetTop+u.$.switchThumb.clientHeight/2:u.$.innerContainer.offsetLeft+u.$.switchThumb.offsetLeft+u.$.switchThumb.clientWidth/2)>u._switchBreakPoint;u.checked!==null?!g==(e===u.checked)&&u._changeCheckState(!u.checked):e?u._changeCheckState(g):u._changeCheckState(!g),u._removeDragStyles(),u._updateThumbPosition()}_endClick(){const u=this;u._resizeHandler(),u.disabled||u.readonly||u._isInactiveOn("click")||(u.clickMode!=="release"&&u.clickMode!=="pressAndRelease"||u._updateStateOnClick(),u.indeterminate=!1,u._updateHidenInputNameAndValue())}_switchButtonOnMouseEnter(){const u=this;u.disabled||u.readonly||u.$.addClass("hovered")}_switchButtonOnMouseLeave(){const u=this;u.disabled||u.readonly||u.$.removeClass("hovered")}_isInactiveOn(u){const g=this,e=g.disabled||g.readonly||g.switchMode!==u;return g.switchMode!=="default"&&e}_keyUpHandler(u){const g=this;g.disabled||g.readonly||u.keyCode!==32||g.switchMode==="none"||(g._getContainersSizeAndBreakPoint(),g._changeCheckState())}_initializePrivateVariables(){const u=this;u._switchContainerSize=u._switchTrackLength=u._switchBreakPoint=u._pointerPosition=0,u._mouseDown=!1}_changeCheckState(u){const g=this;let e=g.checked;if(e===null&&u!==void 0)return g.$.fireEvent("change",{value:u,oldValue:null,changeType:"pointer"}),g.$.fireEvent("uncheckValue",{changeType:"pointer"}),g.checked=u,void g._updateThumbPosition();g.checked===null?g.checked=!0:g.checked=!g.checked,g._setAriaState(),g._updateThumbPosition(),g.$.fireEvent("change",{value:g.checked,oldValue:e,changeType:"pointer"}),g.checked?g.$.fireEvent("checkValue",{changeType:"pointer"}):g.$.fireEvent("uncheckValue",{changeType:"pointer"}),g._updateHidenInputNameAndValue()}_getContainersSizeAndBreakPoint(){const u=this;u._switchContainerSize=u.orientation==="vertical"?u.$.container.offsetHeight:u.$.container.offsetWidth,u._switchTrackLength=u.orientation==="vertical"?u._switchContainerSize-u.$.switchThumb.offsetHeight:u._switchContainerSize-u.$.switchThumb.offsetWidth,u._switchBreakPoint=u._switchContainerSize/2}_removeDragStyles(){const u=this;u._supportCSSVariables?u.$.innerContainer.removeAttribute("style"):u.$.innerContainer.style.left="",u._supportCSSVariables?u.$.innerContainer.removeAttribute("style"):u.$.innerContainer.style.top="",u._mouseDown=!1}_moveHandler(u){u.originalEvent.type==="touchmove"&&u.originalEvent.preventDefault()}_resizeHandler(){const u=this;if(!document.body.contains(u))return;const g=window.getComputedStyle(u,null),e=parseInt(g.getPropertyValue("border-top-width")),t=parseInt(g.getPropertyValue("border-right-width")),n=parseInt(g.getPropertyValue("border-bottom-width")),a=parseInt(g.getPropertyValue("border-left-width")),i=u.orientation==="vertical"?u.offsetHeight-(e+n):u.offsetWidth-(a+t);u._getContainersSizeAndBreakPoint(),u._supportCSSVariables?u.$.container.style.setProperty("--smart-switch-button-default-width",i+"px"):(u._innerContainerSize=i,u.$.innerContainer.style.height=u.$.innerContainer.style.width="",u.$.trueContentContainer.style.height=u.$.trueContentContainer.style.width="",u.$.falseContentContainer.style.height=u.$.falseContentContainer.style.width="",u.orientation==="horizontal"?(u.$.innerContainer.style.setProperty("width",2*i-u.$.switchThumb.clientWidth+"px"),u.$.trueContentContainer.style.setProperty("width",u._switchTrackLength+"px"),u.$.falseContentContainer.style.setProperty("width",u._switchTrackLength+"px")):(u.$.innerContainer.style.setProperty("height",2*i-u.$.switchThumb.clientHeight+"px"),u.$.trueContentContainer.style.setProperty("height",u._switchTrackLength+"px"),u.$.falseContentContainer.style.setProperty("height",u._switchTrackLength+"px")),u._updateThumbPosition())}_updateThumbPosition(){const u=this,g=u.inverted&&!u.rightToLeft||!u.inverted&&u.rightToLeft;!u._supportCSSVariables&&(g?u.checked!==!0:u.checked!==!1)&&u._innerContainerSize?((g?u.checked===!1:u.checked)&&(u.orientation==="horizontal"?(u.$.innerContainer.style.left=-1*(u._innerContainerSize-u.$.switchThumb.offsetWidth)+"px",u.$.innerContainer.style.top=""):(u.$.innerContainer.style.top=-1*(u._innerContainerSize-u.$.switchThumb.offsetHeight)+"px",u.$.innerContainer.style.left="")),u.checked===null&&(u.orientation==="horizontal"?(u.$.innerContainer.style.left=-1*(u._innerContainerSize/2-u.$.switchThumb.offsetWidth/2)+"px",u.$.innerContainer.style.top=""):(u.$.innerContainer.style.top=-1*(u._innerContainerSize/2-u.$.switchThumb.offsetHeight/2)+"px",u.$.innerContainer.style.left=""))):u.$.innerContainer.style.left=u.$.innerContainer.style.top=""}_setAriaState(){const u=this,g=!!u.checked;u.setAttribute("aria-checked",g),g?(u.$.falseContentContainer.setAttribute("aria-hidden",!0),u.$.trueContentContainer.removeAttribute("aria-hidden")):(u.$.trueContentContainer.setAttribute("aria-hidden",!0),u.$.falseContentContainer.removeAttribute("aria-hidden"))}})}},j={};function ne(u){var g=j[u];if(g!==void 0)return g.exports;var e=j[u]={exports:{}};return We[u](e,e.exports,ne),e.exports}ne.n=u=>{var g=u&&u.__esModule?()=>u.default:()=>u;return ne.d(g,{a:g}),g},ne.d=(u,g)=>{for(var e in g)ne.o(g,e)&&!ne.o(u,e)&&Object.defineProperty(u,e,{enumerable:!0,get:g[e]})},ne.o=(u,g)=>Object.prototype.hasOwnProperty.call(u,g),(()=>{ne(6321),ne(2612),ne(1690),ne(8649),ne(9097),ne(9346),ne(2616),ne(9894);class u extends Smart.Component{get name(){return"smartButton"}}class g extends Smart.Component{get name(){return"smartToggleButton"}}class e extends Smart.Component{get name(){return"smartRepeatButton"}}class t extends Smart.Component{get name(){return"smartSwitchButton"}}class n extends Smart.Component{get name(){return"smartCheckBox"}}class a extends Smart.Component{get name(){return"smartPowerButton"}}class i extends Smart.Component{get name(){return"smartRadioButton"}}class r extends Smart.Component{get name(){return"smartDropDownButton"}}class o extends Smart.Component{get name(){return"smartLed"}}})()})()}()),ym}jp();typeof window<"u"&&(window.Smart?window.Smart.RenderMode="manual":window.Smart={RenderMode:"manual"});let Tm;typeof window<"u"&&(Tm=window.Smart);class af extends Jt.Component{constructor(j){super(j),this.componentRef=Jt.createRef()}get id(){return this._id||(this._id="RepeatButton"+Math.floor((1+Math.random())*65536).toString(16).substring(1)),this._id}get animation(){return this.nativeElement?this.nativeElement.animation:void 0}set animation(j){this.nativeElement&&(this.nativeElement.animation=j)}get clickMode(){return this.nativeElement?this.nativeElement.clickMode:void 0}set clickMode(j){this.nativeElement&&(this.nativeElement.clickMode=j)}get delay(){return this.nativeElement?this.nativeElement.delay:void 0}set delay(j){this.nativeElement&&(this.nativeElement.delay=j)}get disabled(){return this.nativeElement?this.nativeElement.disabled:void 0}set disabled(j){this.nativeElement&&(this.nativeElement.disabled=j)}get initialDelay(){return this.nativeElement?this.nativeElement.initialDelay:void 0}set initialDelay(j){this.nativeElement&&(this.nativeElement.initialDelay=j)}get innerHTML(){return this.nativeElement?this.nativeElement.innerHTML:void 0}set innerHTML(j){this.nativeElement&&(this.nativeElement.innerHTML=j)}get unlockKey(){return this.nativeElement?this.nativeElement.unlockKey:void 0}set unlockKey(j){this.nativeElement&&(this.nativeElement.unlockKey=j)}get locale(){return this.nativeElement?this.nativeElement.locale:void 0}set locale(j){this.nativeElement&&(this.nativeElement.locale=j)}get localizeFormatFunction(){return this.nativeElement?this.nativeElement.localizeFormatFunction:void 0}set localizeFormatFunction(j){this.nativeElement&&(this.nativeElement.localizeFormatFunction=j)}get messages(){return this.nativeElement?this.nativeElement.messages:void 0}set messages(j){this.nativeElement&&(this.nativeElement.messages=j)}get name(){return this.nativeElement?this.nativeElement.name:void 0}set name(j){this.nativeElement&&(this.nativeElement.name=j)}get readonly(){return this.nativeElement?this.nativeElement.readonly:void 0}set readonly(j){this.nativeElement&&(this.nativeElement.readonly=j)}get theme(){return this.nativeElement?this.nativeElement.theme:void 0}set theme(j){this.nativeElement&&(this.nativeElement.theme=j)}get unfocusable(){return this.nativeElement?this.nativeElement.unfocusable:void 0}set unfocusable(j){this.nativeElement&&(this.nativeElement.unfocusable=j)}get value(){return this.nativeElement?this.nativeElement.value:void 0}set value(j){this.nativeElement&&(this.nativeElement.value=j)}get properties(){return["animation","clickMode","delay","disabled","initialDelay","innerHTML","unlockKey","locale","localizeFormatFunction","messages","name","readonly","theme","unfocusable","value"]}get eventListeners(){return["onClick","onCreate","onReady"]}componentDidRender(j){const ne=this,u={},g={};let e=null;const t=n=>{const a=new WeakSet;return JSON.stringify(n,(i,r)=>{if(r!==null&&typeof r=="object"){if(a.has(r))return;a.add(r)}return r})};for(let n in ne.props)if(n!=="children"){if(n==="style"){e=ne.props[n];continue}if(n.startsWith("on")&&ne.properties.indexOf(n)===-1){g[n]=ne.props[n];continue}u[n]=ne.props[n]}j&&(ne.nativeElement=this.componentRef.current,ne.nativeElement&&!ne.nativeElement.isCompleted&&(ne.nativeElement.reactStateProps=JSON.parse(t(u)))),j&&ne.nativeElement&&ne.nativeElement.isCompleted;for(let n in u){if(n==="class"||n==="className"){const a=u[n].trim().split(" ");if(ne.nativeElement._classNames){const i=ne.nativeElement._classNames;for(let r in i)ne.nativeElement.classList.contains(i[r])&&i[r]!==""&&ne.nativeElement.classList.remove(i[r])}ne.nativeElement._classNames=a;for(let i in a)!ne.nativeElement.classList.contains(a[i])&&a[i]!==""&&ne.nativeElement.classList.add(a[i]);continue}if(u[n]!==ne.nativeElement[n]){const a=r=>r.replace(/-([a-z])/g,function(o){return o[1].toUpperCase()});(n==="hover"||n==="active"||n==="focus"||n==="selected")&&ne.nativeElement.setAttribute(n,"");const i=a(n);if(ne.nativeElement[i]===void 0&&ne.nativeElement.setAttribute(n,u[n]),u[n]!==void 0){if(typeof u[n]=="object"&&ne.nativeElement.reactStateProps&&!j&&t(u[n])===t(ne.nativeElement.reactStateProps[i]))continue;ne.nativeElement[i]=u[n]}}}for(let n in g)ne[n]=g[n],ne.nativeElement[n.toLowerCase()]=g[n];if(j&&(Tm.Render(),ne.onCreate&&ne.onCreate(),ne.nativeElement.whenRendered(()=>{ne.onReady&&ne.onReady()})),e)for(let n in e)ne.nativeElement.style[n]=e[n]}componentDidMount(){this.componentDidRender(!0)}componentDidUpdate(){this.componentDidRender(!1)}componentWillUnmount(){const j=this;if(j.nativeElement){j.nativeElement.whenRenderedCallbacks=[];for(let ne=0;ne<j.eventListeners.length;ne++){const u=j.eventListeners[ne];j.nativeElement.removeEventListener(u.substring(2).toLowerCase(),j[u])}}}render(){return Jt.createElement("smart-repeat-button",{ref:this.componentRef,suppressHydrationWarning:!0},this.props.children)}}let Em;typeof window<"u"&&(Em=window.Smart);class rf extends Jt.Component{constructor(j){super(j),this.componentRef=Jt.createRef()}get id(){return this._id||(this._id="ToggleButton"+Math.floor((1+Math.random())*65536).toString(16).substring(1)),this._id}get animation(){return this.nativeElement?this.nativeElement.animation:void 0}set animation(j){this.nativeElement&&(this.nativeElement.animation=j)}get checked(){return this.nativeElement?this.nativeElement.checked:void 0}set checked(j){this.nativeElement&&(this.nativeElement.checked=j)}get clickMode(){return this.nativeElement?this.nativeElement.clickMode:void 0}set clickMode(j){this.nativeElement&&(this.nativeElement.clickMode=j)}get disabled(){return this.nativeElement?this.nativeElement.disabled:void 0}set disabled(j){this.nativeElement&&(this.nativeElement.disabled=j)}get innerHTML(){return this.nativeElement?this.nativeElement.innerHTML:void 0}set innerHTML(j){this.nativeElement&&(this.nativeElement.innerHTML=j)}get unlockKey(){return this.nativeElement?this.nativeElement.unlockKey:void 0}set unlockKey(j){this.nativeElement&&(this.nativeElement.unlockKey=j)}get locale(){return this.nativeElement?this.nativeElement.locale:void 0}set locale(j){this.nativeElement&&(this.nativeElement.locale=j)}get localizeFormatFunction(){return this.nativeElement?this.nativeElement.localizeFormatFunction:void 0}set localizeFormatFunction(j){this.nativeElement&&(this.nativeElement.localizeFormatFunction=j)}get messages(){return this.nativeElement?this.nativeElement.messages:void 0}set messages(j){this.nativeElement&&(this.nativeElement.messages=j)}get name(){return this.nativeElement?this.nativeElement.name:void 0}set name(j){this.nativeElement&&(this.nativeElement.name=j)}get readonly(){return this.nativeElement?this.nativeElement.readonly:void 0}set readonly(j){this.nativeElement&&(this.nativeElement.readonly=j)}get theme(){return this.nativeElement?this.nativeElement.theme:void 0}set theme(j){this.nativeElement&&(this.nativeElement.theme=j)}get unfocusable(){return this.nativeElement?this.nativeElement.unfocusable:void 0}set unfocusable(j){this.nativeElement&&(this.nativeElement.unfocusable=j)}get value(){return this.nativeElement?this.nativeElement.value:void 0}set value(j){this.nativeElement&&(this.nativeElement.value=j)}get properties(){return["animation","checked","clickMode","disabled","innerHTML","unlockKey","locale","localizeFormatFunction","messages","name","readonly","theme","unfocusable","value"]}get eventListeners(){return["onChange","onCheckValue","onUncheckValue","onCreate","onReady"]}componentDidRender(j){const ne=this,u={},g={};let e=null;const t=n=>{const a=new WeakSet;return JSON.stringify(n,(i,r)=>{if(r!==null&&typeof r=="object"){if(a.has(r))return;a.add(r)}return r})};for(let n in ne.props)if(n!=="children"){if(n==="style"){e=ne.props[n];continue}if(n.startsWith("on")&&ne.properties.indexOf(n)===-1){g[n]=ne.props[n];continue}u[n]=ne.props[n]}j&&(ne.nativeElement=this.componentRef.current,ne.nativeElement&&!ne.nativeElement.isCompleted&&(ne.nativeElement.reactStateProps=JSON.parse(t(u)))),j&&ne.nativeElement&&ne.nativeElement.isCompleted;for(let n in u){if(n==="class"||n==="className"){const a=u[n].trim().split(" ");if(ne.nativeElement._classNames){const i=ne.nativeElement._classNames;for(let r in i)ne.nativeElement.classList.contains(i[r])&&i[r]!==""&&ne.nativeElement.classList.remove(i[r])}ne.nativeElement._classNames=a;for(let i in a)!ne.nativeElement.classList.contains(a[i])&&a[i]!==""&&ne.nativeElement.classList.add(a[i]);continue}if(u[n]!==ne.nativeElement[n]){const a=r=>r.replace(/-([a-z])/g,function(o){return o[1].toUpperCase()});(n==="hover"||n==="active"||n==="focus"||n==="selected")&&ne.nativeElement.setAttribute(n,"");const i=a(n);if(ne.nativeElement[i]===void 0&&ne.nativeElement.setAttribute(n,u[n]),u[n]!==void 0){if(typeof u[n]=="object"&&ne.nativeElement.reactStateProps&&!j&&t(u[n])===t(ne.nativeElement.reactStateProps[i]))continue;ne.nativeElement[i]=u[n]}}}for(let n in g)ne[n]=g[n],ne.nativeElement[n.toLowerCase()]=g[n];if(j&&(Em.Render(),ne.onCreate&&ne.onCreate(),ne.nativeElement.whenRendered(()=>{ne.onReady&&ne.onReady()})),e)for(let n in e)ne.nativeElement.style[n]=e[n]}componentDidMount(){this.componentDidRender(!0)}componentDidUpdate(){this.componentDidRender(!1)}componentWillUnmount(){const j=this;if(j.nativeElement){j.nativeElement.whenRenderedCallbacks=[];for(let ne=0;ne<j.eventListeners.length;ne++){const u=j.eventListeners[ne];j.nativeElement.removeEventListener(u.substring(2).toLowerCase(),j[u])}}}render(){return Jt.createElement("smart-toggle-button",{ref:this.componentRef,suppressHydrationWarning:!0},this.props.children)}}let xm;typeof window<"u"&&(xm=window.Smart);class of extends Jt.Component{constructor(j){super(j),this.componentRef=Jt.createRef()}get id(){return this._id||(this._id="PowerButton"+Math.floor((1+Math.random())*65536).toString(16).substring(1)),this._id}get animation(){return this.nativeElement?this.nativeElement.animation:void 0}set animation(j){this.nativeElement&&(this.nativeElement.animation=j)}get checked(){return this.nativeElement?this.nativeElement.checked:void 0}set checked(j){this.nativeElement&&(this.nativeElement.checked=j)}get clickMode(){return this.nativeElement?this.nativeElement.clickMode:void 0}set clickMode(j){this.nativeElement&&(this.nativeElement.clickMode=j)}get disabled(){return this.nativeElement?this.nativeElement.disabled:void 0}set disabled(j){this.nativeElement&&(this.nativeElement.disabled=j)}get unlockKey(){return this.nativeElement?this.nativeElement.unlockKey:void 0}set unlockKey(j){this.nativeElement&&(this.nativeElement.unlockKey=j)}get locale(){return this.nativeElement?this.nativeElement.locale:void 0}set locale(j){this.nativeElement&&(this.nativeElement.locale=j)}get localizeFormatFunction(){return this.nativeElement?this.nativeElement.localizeFormatFunction:void 0}set localizeFormatFunction(j){this.nativeElement&&(this.nativeElement.localizeFormatFunction=j)}get messages(){return this.nativeElement?this.nativeElement.messages:void 0}set messages(j){this.nativeElement&&(this.nativeElement.messages=j)}get name(){return this.nativeElement?this.nativeElement.name:void 0}set name(j){this.nativeElement&&(this.nativeElement.name=j)}get readonly(){return this.nativeElement?this.nativeElement.readonly:void 0}set readonly(j){this.nativeElement&&(this.nativeElement.readonly=j)}get theme(){return this.nativeElement?this.nativeElement.theme:void 0}set theme(j){this.nativeElement&&(this.nativeElement.theme=j)}get unfocusable(){return this.nativeElement?this.nativeElement.unfocusable:void 0}set unfocusable(j){this.nativeElement&&(this.nativeElement.unfocusable=j)}get value(){return this.nativeElement?this.nativeElement.value:void 0}set value(j){this.nativeElement&&(this.nativeElement.value=j)}get properties(){return["animation","checked","clickMode","disabled","unlockKey","locale","localizeFormatFunction","messages","name","readonly","theme","unfocusable","value"]}get eventListeners(){return["onChange","onCreate","onReady"]}componentDidRender(j){const ne=this,u={},g={};let e=null;const t=n=>{const a=new WeakSet;return JSON.stringify(n,(i,r)=>{if(r!==null&&typeof r=="object"){if(a.has(r))return;a.add(r)}return r})};for(let n in ne.props)if(n!=="children"){if(n==="style"){e=ne.props[n];continue}if(n.startsWith("on")&&ne.properties.indexOf(n)===-1){g[n]=ne.props[n];continue}u[n]=ne.props[n]}j&&(ne.nativeElement=this.componentRef.current,ne.nativeElement&&!ne.nativeElement.isCompleted&&(ne.nativeElement.reactStateProps=JSON.parse(t(u)))),j&&ne.nativeElement&&ne.nativeElement.isCompleted;for(let n in u){if(n==="class"||n==="className"){const a=u[n].trim().split(" ");if(ne.nativeElement._classNames){const i=ne.nativeElement._classNames;for(let r in i)ne.nativeElement.classList.contains(i[r])&&i[r]!==""&&ne.nativeElement.classList.remove(i[r])}ne.nativeElement._classNames=a;for(let i in a)!ne.nativeElement.classList.contains(a[i])&&a[i]!==""&&ne.nativeElement.classList.add(a[i]);continue}if(u[n]!==ne.nativeElement[n]){const a=r=>r.replace(/-([a-z])/g,function(o){return o[1].toUpperCase()});(n==="hover"||n==="active"||n==="focus"||n==="selected")&&ne.nativeElement.setAttribute(n,"");const i=a(n);if(ne.nativeElement[i]===void 0&&ne.nativeElement.setAttribute(n,u[n]),u[n]!==void 0){if(typeof u[n]=="object"&&ne.nativeElement.reactStateProps&&!j&&t(u[n])===t(ne.nativeElement.reactStateProps[i]))continue;ne.nativeElement[i]=u[n]}}}for(let n in g)ne[n]=g[n],ne.nativeElement[n.toLowerCase()]=g[n];if(j&&(xm.Render(),ne.onCreate&&ne.onCreate(),ne.nativeElement.whenRendered(()=>{ne.onReady&&ne.onReady()})),e)for(let n in e)ne.nativeElement.style[n]=e[n]}componentDidMount(){this.componentDidRender(!0)}componentDidUpdate(){this.componentDidRender(!1)}componentWillUnmount(){const j=this;if(j.nativeElement){j.nativeElement.whenRenderedCallbacks=[];for(let ne=0;ne<j.eventListeners.length;ne++){const u=j.eventListeners[ne];j.nativeElement.removeEventListener(u.substring(2).toLowerCase(),j[u])}}}render(){return Jt.createElement("smart-power-button",{ref:this.componentRef,suppressHydrationWarning:!0},this.props.children)}}let Mm;typeof window<"u"&&(Mm=window.Smart);class Yp extends Jt.Component{constructor(j){super(j),this.componentRef=Jt.createRef()}get id(){return this._id||(this._id="Button"+Math.floor((1+Math.random())*65536).toString(16).substring(1)),this._id}get animation(){return this.nativeElement?this.nativeElement.animation:void 0}set animation(j){this.nativeElement&&(this.nativeElement.animation=j)}get clickMode(){return this.nativeElement?this.nativeElement.clickMode:void 0}set clickMode(j){this.nativeElement&&(this.nativeElement.clickMode=j)}get disabled(){return this.nativeElement?this.nativeElement.disabled:void 0}set disabled(j){this.nativeElement&&(this.nativeElement.disabled=j)}get innerHTML(){return this.nativeElement?this.nativeElement.innerHTML:void 0}set innerHTML(j){this.nativeElement&&(this.nativeElement.innerHTML=j)}get unlockKey(){return this.nativeElement?this.nativeElement.unlockKey:void 0}set unlockKey(j){this.nativeElement&&(this.nativeElement.unlockKey=j)}get locale(){return this.nativeElement?this.nativeElement.locale:void 0}set locale(j){this.nativeElement&&(this.nativeElement.locale=j)}get localizeFormatFunction(){return this.nativeElement?this.nativeElement.localizeFormatFunction:void 0}set localizeFormatFunction(j){this.nativeElement&&(this.nativeElement.localizeFormatFunction=j)}get messages(){return this.nativeElement?this.nativeElement.messages:void 0}set messages(j){this.nativeElement&&(this.nativeElement.messages=j)}get name(){return this.nativeElement?this.nativeElement.name:void 0}set name(j){this.nativeElement&&(this.nativeElement.name=j)}get readonly(){return this.nativeElement?this.nativeElement.readonly:void 0}set readonly(j){this.nativeElement&&(this.nativeElement.readonly=j)}get rightToLeft(){return this.nativeElement?this.nativeElement.rightToLeft:void 0}set rightToLeft(j){this.nativeElement&&(this.nativeElement.rightToLeft=j)}get theme(){return this.nativeElement?this.nativeElement.theme:void 0}set theme(j){this.nativeElement&&(this.nativeElement.theme=j)}get type(){return this.nativeElement?this.nativeElement.type:void 0}set type(j){this.nativeElement&&(this.nativeElement.type=j)}get value(){return this.nativeElement?this.nativeElement.value:void 0}set value(j){this.nativeElement&&(this.nativeElement.value=j)}get unfocusable(){return this.nativeElement?this.nativeElement.unfocusable:void 0}set unfocusable(j){this.nativeElement&&(this.nativeElement.unfocusable=j)}get properties(){return["animation","clickMode","content","disabled","innerHTML","unlockKey","locale","localizeFormatFunction","messages","name","readonly","rightToLeft","theme","type","value","unfocusable"]}get eventListeners(){return["onClick","onCreate","onReady"]}componentDidRender(j){const ne=this,u={},g={};let e=null;const t=n=>{const a=new WeakSet;return JSON.stringify(n,(i,r)=>{if(r!==null&&typeof r=="object"){if(a.has(r))return;a.add(r)}return r})};for(let n in ne.props)if(n!=="children"){if(n==="style"){e=ne.props[n];continue}if(n.startsWith("on")&&ne.properties.indexOf(n)===-1){g[n]=ne.props[n];continue}u[n]=ne.props[n]}j&&(ne.nativeElement=this.componentRef.current,ne.nativeElement&&!ne.nativeElement.isCompleted&&(ne.nativeElement.reactStateProps=JSON.parse(t(u)))),j&&ne.nativeElement&&ne.nativeElement.isCompleted;for(let n in u){if(n==="class"||n==="className"){const a=u[n].trim().split(" ");if(ne.nativeElement._classNames){const i=ne.nativeElement._classNames;for(let r in i)ne.nativeElement.classList.contains(i[r])&&i[r]!==""&&ne.nativeElement.classList.remove(i[r])}ne.nativeElement._classNames=a;for(let i in a)!ne.nativeElement.classList.contains(a[i])&&a[i]!==""&&ne.nativeElement.classList.add(a[i]);continue}if(u[n]!==ne.nativeElement[n]){const a=r=>r.replace(/-([a-z])/g,function(o){return o[1].toUpperCase()});(n==="hover"||n==="active"||n==="focus"||n==="selected")&&ne.nativeElement.setAttribute(n,"");const i=a(n);if(ne.nativeElement[i]===void 0&&ne.nativeElement.setAttribute(n,u[n]),u[n]!==void 0){if(typeof u[n]=="object"&&ne.nativeElement.reactStateProps&&!j&&t(u[n])===t(ne.nativeElement.reactStateProps[i]))continue;ne.nativeElement[i]=u[n]}}}for(let n in g)ne[n]=g[n],ne.nativeElement[n.toLowerCase()]=g[n];if(j&&(Mm.Render(),ne.onCreate&&ne.onCreate(),ne.nativeElement.whenRendered(()=>{ne.onReady&&ne.onReady()})),e)for(let n in e)ne.nativeElement.style[n]=e[n]}componentDidMount(){this.componentDidRender(!0)}componentDidUpdate(){this.componentDidRender(!1)}componentWillUnmount(){const j=this;if(j.nativeElement){j.nativeElement.whenRenderedCallbacks=[];for(let ne=0;ne<j.eventListeners.length;ne++){const u=j.eventListeners[ne];j.nativeElement.removeEventListener(u.substring(2).toLowerCase(),j[u])}}}render(){return Jt.createElement("smart-button",{ref:this.componentRef,suppressHydrationWarning:!0},this.props.children)}}var bm={},_m;function Wp(){return _m||(_m=1,function(){typeof document>"u"||(()=>{var We={2612:()=>{Smart("smart-button",class extends Smart.ContentElement{static get properties(){return{value:{type:"string"},name:{type:"string"},type:{value:"button",type:"string"},clickMode:{allowedValues:["hover","press","release","pressAndRelease"],type:"string",value:"release"}}}static get styleUrls(){return["smart.button.css"]}template(){return`<button class="smart-button smart-unselectable" inner-h-t-m-l='[[innerHTML]]' id='button' type='[[type]]' name='[[name]]' value='[[value]]' disabled='[[disabled]]' role="presentation"></button>`}refresh(){}static get listeners(){return{"button.down":"_downHandler","button.mouseenter":"_mouseEnterHandler","button.mouseleave":"_mouseLeaveHandler","button.touchend":"_touchEndHandler","button.click":"_clickHandler","button.up":"_upHandler",up:"_upHandler","button.focus":"_focusHandler","button.blur":"_blurHandler"}}focus(){const u=this;u.$.button?u.$.button.focus():HTMLElement.prototype.focus.call(u)}blur(){const u=this;u.$.button?u.$.button.blur():HTMLElement.prototype.blur.call(u)}_upHandler(u){const g=this;if(u.stopPropagation(),g.$.setAttributeValue("active",!1),g.dataset.target){const e=document.querySelector(g.dataset.target);let t=g.dataset.toggle,n=g.dataset.arguments;const a="smart-window".toLowerCase();if(e&&e.nodeName.toLowerCase()===a&&t==="modal"&&(t="openModal"),t==="tab"||t==="pill"||t==="list"){const i=this.closest(".nav, .list-group"),r='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',o=!i||i.nodeName!=="UL"&&i.nodeName!=="OL"?i.children(".active"):i.querySelectorAll("li > .active");if(i){const d=i.querySelectorAll(r);for(let p=0;p<d.length;p++)d[p].classList.remove("primary");for(let p=0;p<o.length;p++)o[p].classList.remove("active");let f=g.parentNode;for(;f;){if(f.nodeName==="LI"){f.classList.add("active");break}f=f.parentNode}g.classList.add("primary")}return e.parentNode.querySelectorAll(".active").forEach(d=>{d.classList.remove("active"),d.classList.add("smart-hidden")}),e.classList.add("active"),void e.classList.remove("smart-hidden")}t&&e&&!e[t]&&t==="collapse"&&(setTimeout(()=>{e.classList.contains("smart-hidden")?e.classList.remove("smart-hidden"):e.classList.add("smart-hidden")}),u.originalEvent.preventDefault()),t&&e&&!e[t]&&t==="dropdown"?(setTimeout(()=>{e.opened=!e.opened}),u.originalEvent.preventDefault()):t&&e&&e[t]&&(setTimeout(()=>{n?e[t](n):e[t]()},50),u.originalEvent.preventDefault())}}_focusHandler(){this.$.setAttributeValue("focus",!0),this.$.fireEvent("focus")}_blurHandler(){this.$.setAttributeValue("focus",!1),this.$.fireEvent("blur")}_clickHandler(u){const g=this;(g.clickMode!=="release"&&g.clickMode!=="pressAndRelease"||g.readonly)&&(u.preventDefault(),u.stopPropagation())}_downHandler(u){const g=this;if(!(g.disabled||(g.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(g,u.pageX,u.pageY),g.$.setAttributeValue("active",!0),g.clickMode!=="press"&&g.clickMode!=="pressAndRelease"||g.readonly))){if(g.hasAttribute("smart-blazor"))return void g.$.dispatchEvent(new Event("click"));const e="buttons"in u?u.buttons:u.which;g.$.fireEvent("click",{buttons:e,clientX:u.clientX,clientY:u.clientY,pageX:u.pageX,pageY:u.pageY,screenX:u.screenX,screenY:u.screenY})}}_mouseEnterHandler(u){const g=this;if(!g.readonly&&(g.$button.setAttributeValue("hover",!0),g.$.setAttributeValue("hover",!0),g.clickMode==="hover")){const e="buttons"in u?u.buttons:u.which;if(g.hasAttribute("smart-blazor"))return void g.$.dispatchEvent(new Event("click"));g.$.fireEvent("click",{buttons:e,clientX:u.clientX,clientY:u.clientY,pageX:u.pageX,pageY:u.pageY,screenX:u.screenX,screenY:u.screenY})}}_touchEndHandler(){const u=this;setTimeout(function(){u.$button.setAttributeValue("hover",!1),u.$.setAttributeValue("hover",!1)},300)}_mouseLeaveHandler(){this.$button.setAttributeValue("hover",!1),this.$.setAttributeValue("hover",!1)}propertyChangedHandler(u,g,e){super.propertyChangedHandler(u,g,e);const t=this;u==="disabled"?(t._setFocusable(),t.$button&&t.$button.setAttributeValue("hover",!1),t.$.setAttributeValue("hover",!1),t instanceof Smart.RepeatButton&&t._stopRepeat()):u==="unfocusable"&&t._setFocusable()}_setFocusable(){const u=this,g=u.$.button?u.$.button:u;if(u.disabled||u.unfocusable)return g.removeAttribute("tabindex"),void(g.tabIndex=-1);g.tabIndex=u.tabIndex>0?u.tabIndex:0}ready(){const u=this;super.ready(),u.setAttribute("role","button"),u._setFocusable(),u.enableShadowDOM&&u.$.hiddenInput&&u.appendChild(u.$.hiddenInput)}}),Smart("smart-repeat-button",class extends Smart.Button{static get properties(){return{delay:{value:50,type:"number"},initialDelay:{value:150,type:"number"}}}static get listeners(){return{"button.down":"_startRepeat","button.mouseenter":"_overriddenHandler","button.mouseleave":"_overriddenHandler","button.pointerenter":"_updateInBoundsFlag","button.pointerleave":"_updateInBoundsFlag","button.touchmove":"_touchmoveHandler","document.up":"_stopRepeat"}}_clickHandler(u){const g=this;(g.clickMode!=="release"||g.preventDefaultClick||g.readonly||g.disabled)&&(u.preventDefault(),u.stopPropagation(),g.preventDefaultClick=!1)}_updateInBoundsFlag(u){const g=this;u.type.indexOf("leave")!==-1?(g._isPointerInBounds=!1,g.$button.setAttributeValue("hover",!1),g.$.setAttributeValue("hover",!1)):(g._isPointerInBounds=!0,g.$button.setAttributeValue("hover",!0),g.$.setAttributeValue("hover",!0)),("buttons"in u?u.buttons:u.which)!==1&&g._stopRepeat(u)}_startRepeat(u){const g=this;g.setAttribute("active",""),g._initialTimer||g.readonly||(g._initialTimer=setTimeout(function(){g._repeatTimer=setInterval(()=>{if(g._isPointerInBounds){if(g.hasAttribute("smart-blazor"))return g.$.dispatchEvent(new Event("click")),void(g.preventDefaultClick=!0);const e="buttons"in u?u.buttons:u.which;g.$.fireEvent("click",{buttons:e,clientX:u.clientX,clientY:u.clientY,pageX:u.pageX,pageY:u.pageY,screenX:u.screenX,screenY:u.screenY}),g.preventDefaultClick=!0}},g.delay)},g.initialDelay))}_stopRepeat(u){const g=this;g.readonly||u&&(u.type==="pointercancel"||u.originalEvent&&u.originalEvent.type==="pointercancel")||(g.$.setAttributeValue("active",!1),g._repeatTimer&&(clearInterval(g._repeatTimer),g._repeatTimer=null),g._initialTimer&&(clearTimeout(g._initialTimer),g._initialTimer=null))}_touchmoveHandler(u){this.preventDefaultClick&&u.cancelable&&(u.preventDefault(),u.stopPropagation())}_overriddenHandler(){}}),Smart("smart-toggle-button",class extends Smart.Button{static get properties(){return{checked:{value:!1,type:"boolean?"},falseContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminate:{value:!1,type:"boolean"},trueContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateTemplate:{value:null,type:"any"},trueTemplate:{value:null,type:"any"},falseTemplate:{value:null,type:"any"},type:{value:"toggle",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}static get listeners(){return{keydown:"_keyHandler",keyup:"_keyHandler",dragstart:"_dragStartHandler","button.click":"_buttonClickHandler","button.mouseenter":"_buttonMouseEnterHandler","button.mouseleave":"_buttonMouseLeaveHandler","document.up":"_documentUpHandler"}}ready(){super.ready(),this._setAriaState(),this._updateGroupValue()}_setAriaState(){const u=this,g=u.checked;g!==null?u.setAttribute("aria-pressed",g):u.setAttribute("aria-pressed","mixed")}_buttonClickHandler(){}_buttonMouseLeaveHandler(){this.removeAttribute("hover")}_buttonMouseEnterHandler(){const u=this;u.setAttribute("hover",""),u.disabled||u.readonly||u.clickMode!=="hover"||(u._changeCheckState("pointer"),u.focus(),u._updateHidenInputNameAndValue())}_documentUpHandler(u){const g=this;g._pressed&&(g._pressed=!1,g.disabled||g.readonly||g.clickMode==="press"||u.originalEvent.type==="pointercancel"||(g._changeCheckState("pointer"),g.focus(),g._updateHidenInputNameAndValue()))}_downHandler(u){const g=this;g.disabled||g.readonly||(g.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(g,u.pageX,u.pageY),g._pressed=!0,g.clickMode!=="press"&&g.clickMode!=="pressAndRelease"||(g._changeCheckState("pointer"),g.hasAttribute("smart-blazor")?g.$.dispatchEvent(new Event("click")):g.$.fireEvent("click"),g._updateHidenInputNameAndValue()),g.clickMode==="press"&&(u.preventDefault(),u.stopPropagation()))}_dragStartHandler(u){u.preventDefault()}_keyHandler(u){const g=this;if(g.disabled!==!0&&!g.readonly&&u.keyCode===32){if(u.type==="keydown")return void u.preventDefault();if(g.switchMode==="none")return;g._changeCheckState("keyboard"),g._updateHidenInputNameAndValue()}}_updateGroupValue(){const u=this;if(u.dataset.target){const g=document.querySelector(u.dataset.target);if(g){const e=document.querySelectorAll('[data-target="'+u.dataset.target+'"]'),t=[];if(u.checked){const n=u.dataset.property,a=u.dataset.value;if(n&&g[n]!==void 0){let i=a;i==="true"&&(i=!0),i==="false"&&(i=!1),g[n]=i}}for(let n=0;n<e.length;n++){const a=e[n];a.checked&&(a.name?(t.push(a.name),u.id&&a.setAttribute("data-id",u.id)):u.id&&t.push(u.id))}g.value=t.toString(),u._targetDispatchTimer&&clearTimeout(u._targetDispatchTimer),u._targetDispatchTimer=setTimeout(()=>{g.dispatchEvent(new Event("change"))},100)}}}_changeCheckState(u){const g=this;let e=null;g.checked===null?g.checked=!0:(e=g.checked,g.checked=!g.checked),g._handleTextSelection(),g.$.fireEvent("change",{value:g.checked,oldValue:e,changeType:u}),g.checked?g.$.fireEvent("checkValue",{changeType:u}):g.$.fireEvent("uncheckValue",{changeType:u}),g._updateGroupValue(),g._setAriaState()}_handleTextSelection(){const u=this;u.$.addClass("smart-unselectable"),u.timer&&clearTimeout(u.timer),u.timer=setTimeout(()=>u.$.removeClass("smart-unselectable"),500)}propertyChangedHandler(u,g,e){super.propertyChangedHandler(u,g,e);const t=this;if(u==="checked")return t.$.fireEvent("change",{value:e,oldValue:g,changeType:"api"}),void t._setAriaState();switch(u){case"trueTemplate":t._handleTemplate(!0);break;case"falseTemplate":t._handleTemplate(!1);break;case"indeterminateTemplate":t._handleTemplate()}}_htmlBindOnInitialization(){const u=this;u._bindContentProperty("trueContent","smart-true-content"),u._bindContentProperty("falseContent","smart-false-content"),u._bindContentProperty("indeterminateContent","smart-indeterminate-content")}_bindContentProperty(u,g){const e=this;if(!e.$[u+"Container"])return;let t=document.createElement("div");t.innerHTML=e.innerHTML;let n,a=t.getElementsByClassName(g);if(a.length>0)for(let i=0;i<a.length;i++)n=a[i];e[u]===""&&(e[u]=n===void 0?"":n.outerHTML),e.$[u+"Container"].innerHTML=e[u]}_updateContentProperties(){const u=this;function g(e){u.$[e+"Container"]&&(u[e]=u.$[e+"Container"].innerHTML)}g("trueContent"),g("falseContent"),g("indeterminateContent")}_updateHidenInputValue(){const u=this;if(!u.$.hiddenInput)return;let g;g=u.checked===null?"null":u.checked===!1?"off":u.value||"on",u.$.hiddenInput.setAttribute("value",g)}_updateHidenInputName(){const u=this;if(!u.$.hiddenInput)return;let g=u.checked===!1?"":u.name||"";u.$.hiddenInput.setAttribute("name",g)}_updateHidenInputNameAndValue(){this._updateHidenInputName(),this._updateHidenInputValue()}_handleTemplate(u,g){const e=this;let t,n,a;if(u===!0?(t=e.trueTemplate,n=e.$.trueContentContainer,a=e.trueContent):u===!1?(t=e.falseTemplate,n=e.$.falseContentContainer,a=e.falseContent):(t=e.indeterminateTemplate,n=e.$.indeterminateContentContainer,a=e.indeterminateContent),g&&(n.innerHTML=a||""),t===null||!t)return;if(typeof t=="function")return void t(n,{value:a});if(!("content"in document.createElement("template")))return void e.error(e.localize("htmlTemplateNotSuported",{elementType:e.nodeName.toLowerCase()}));if(t=document.getElementById(t),t===null||!("content"in t))return void e.error(e.localize("invalidTemplate",{elementType:e.nodeName.toLowerCase(),property:"template"}));const i=t.content,r=i.childNodes.length,o=/{{\w+}}/g;let d,f=[];for(let x=0;x<r;x++)for(d=o.exec(i.childNodes[x].innerHTML);d;)f.push({childNodeIndex:x,bindingString:d[0]}),d=o.exec(i.childNodes[x].innerHTML);const p=f.length;let v,w,C=document.importNode(t.content,!0);for(let x=0;x<p;x++){v=C.childNodes[f[x].childNodeIndex],w=f.length;for(let L=0;L<w;L++)v.innerHTML=v.innerHTML.replace(f[x].bindingString,a)}n.innerHTML="";for(let x=0;x<C.childNodes.length;x++)C.childNodes[x].outerHTML&&(n.innerHTML+=C.childNodes[x].outerHTML)}})},5810:()=>{Smart("smart-calendar",class extends Smart.BaseElement{static get properties(){return{animationSettings:{value:null,type:"object"},calendarMode:{value:"default",allowedValues:["default","classic"],type:"string"},dayNameFormat:{value:"firstTwoLetters",allowedValues:["narrow","firstTwoLetters","long","short"],type:"string"},dateFormatFunction:{value:null,type:"function"},disableAutoNavigation:{value:!1,type:"boolean"},disableMouseWheel:{value:!1,type:"boolean"},displayMode:{value:"month",allowedValues:["month","year","decade"],type:"string"},displayModeView:{value:"table",allowedValues:["table","list"],type:"string"},dropDownHeight:{value:"200",type:"string"},dropDownWidth:{value:"",type:"string"},firstDayOfWeek:{value:0,type:"number",defaultValue:0,validator:"_firstDayOfWeekValidator"},footerTemplate:{value:null,type:"any"},headerTemplate:{value:null,type:"any"},hideDayNames:{value:!1,type:"boolean"},hideOtherMonthDays:{value:!1,type:"boolean"},hideTooltipArrow:{value:!1,type:"boolean"},importantDates:{value:[],type:"array",defaultValue:[]},importantDatesTemplate:{value:null,type:"any"},max:{value:new Date(2100,0,1),type:"any",defaultValue:new Date(2100,0,1)},min:{value:new Date(1900,0,1),type:"any",defaultValue:new Date(1900,0,1)},months:{value:1,type:"number",defaultValue:1,validator:"_monthsValidator"},monthNameFormat:{value:"long",allowedValues:["narrow","firstTwoLetters","long","short","2-digit","numeric"],type:"string"},name:{value:"",type:"string"},restrictedDates:{value:[],type:"array",defaultValue:[]},scrollButtonsNavigationMode:{value:"landscape",allowedValues:["portrait","landscape"],type:"string"},scrollButtonsPosition:{value:"both",allowedValues:["near","far","both"],type:"string"},selectedDates:{value:[],reflectToAttribute:!1,type:"array"},selectionMode:{value:"default",allowedValues:["none","default","one","oneExtended","many","zeroOrMany","oneOrMany","zeroOrOne","week","range"],type:"string"},spinButtonsDelay:{value:200,type:"number"},spinButtonsInitialDelay:{value:0,type:"number"},titleTemplate:{value:null,type:"any"},tooltip:{value:!1,type:"boolean"},tooltipArrow:{value:!0,type:"boolean"},tooltipArrowDirection:{allowedValues:["bottom","top","left","right","none"],value:"bottom",type:"string"},tooltipDelay:{value:100,type:"number"},tooltipOffset:{value:[],type:"array"},tooltipPosition:{value:"auto",allowedValues:["auto","bottom","top","left","right","absolute"],type:"string"},tooltipTemplate:{value:null,type:"any"},view:{value:"portrait",allowedValues:["landscape","portrait"],type:"string"},viewSections:{value:["header"],type:"array"},weekNumbers:{value:!1,type:"boolean"},weeks:{value:6,type:"number",defaultValue:6,validator:"_weeksValidator"},yearFormat:{value:"numeric",allowedValues:["2-digit","numeric"],type:"string"}}}static get listeners(){return{"container.down":"_downHandler","document.up":"_documentUpHandler","body.move":"_moveHandler","container.wheel":"_containerWheelHandler","body.focus":"_bodyFocusStateHandler","body.blur":"_bodyBlurStateHandler","header.click":"_headerClickHandler","header.change":"_headerChangeHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler","container.mouseover":"_mouseEventsHandler","container.mouseout":"_mouseEventsHandler","container.open":"_popupEventHandler","container.close":"_popupEventHandler"}}static get methods(){return{select:"select(date=new Date(): date|string): void",clearSelection:"clearSelection(): void",today:"today(): date",navigate:"navigate(step: date|string|int): bool"}}static get styleUrls(){return["smart.calendar.css"]}template(){return`<div id="container" role="presentation">
                    <div id="title" class="smart-calendar-title" role="heading" aria-level="1">
                        <div id="yearContainer" class="smart-calendar-year-container" role="button"></div>
                        <div id="dateContainer" class="smart-calendar-date-container smart-calendar-selected" role="button"></div>
                    </div>
                    <div id="calendarContainer" class="smart-calendar-container">
                        <div id="header" class="smart-calendar-header">
                            <smart-repeat-button prev-month class="smart-calendar-button" id="previousMonthButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]" right-to-left="[[rightToLeft]]" aria-label="Previous month">
                                <span aria-hidden="true"></span>
                            </smart-repeat-button>
                            <div id="dateElement" class="smart-calendar-date-element" role="presentation">
                                <div id="defaultHeaderDate" role="button"></div>
                                <div id="classicHeaderDate">
                                    <div id="monthElement" class="smart-calendar-month-element" disabled="[[disabled]]" role="presentation">
                                    </div>
                                    <input class="smart-calendar-year-element" id="yearElement" disabled="[[disabled]]" readonly="[[readonly]]" aria-label="Year" />
                                    <span class="smart-calendar-year-elements">
                                        <smart-repeat-button next-year class="smart-calendar-button" id="nextYearButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]" right-to-left="[[rightToLeft]]" aria-label="Next year">
                                            <span aria-hidden="true"></span>
                                        </smart-repeat-button>
                                        <smart-repeat-button prev-year class="smart-calendar-button" id="previousYearButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]" right-to-left="[[rightToLeft]]" aria-label="Previous year">
                                            <span aria-hidden="true"></span>
                                        </smart-repeat-button>
                                    </span>
                                </div>
                            </div>
                            <smart-repeat-button next-month class="smart-calendar-button" id="nextMonthButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]" right-to-left="[[rightToLeft]]" aria-label="Next month">
                                <span aria-hidden="true"></span>
                            </smart-repeat-button>
                        </div>
                        <div id="body" class="smart-content smart-calendar-body" role="presentation">
                            <div id="monthsContainer" class="smart-calendar-months-container" role="presentation">
                              <div id="month" class="smart-calendar-month" role="grid">
                                   <div id="monthName" class="smart-calendar-month-name"></div>
                                   <div id="weekTitles" class="smart-calendar-week-titles" role="row">
                                       <div class="smart-calendar-week-title" role="columnheader"></div>
                                       <div class="smart-calendar-week-title" role="columnheader"></div>
                                       <div class="smart-calendar-week-title" role="columnheader"></div>
                                       <div class="smart-calendar-week-title" role="columnheader"></div>
                                       <div class="smart-calendar-week-title" role="columnheader"></div>
                                       <div class="smart-calendar-week-title" role="columnheader"></div>
                                       <div class="smart-calendar-week-title" role="columnheader"></div>
                                       <div class="smart-calendar-week-title" role="columnheader"></div>
                                   </div>
                                   <div id="weeks" class="smart-calendar-weeks" role="rowgroup">
                                        <div class="smart-calendar-week" role="row">
                                           <div class="smart-calendar-week-number" role="rowheader"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                        </div>
                                        <div class="smart-calendar-week" role="row">
                                           <div class="smart-calendar-week-number" role="rowheader"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                       </div>
                                       <div class="smart-calendar-week" role="row">
                                           <div class="smart-calendar-week-number" role="rowheader"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                       </div>
                                       <div class="smart-calendar-week" role="row">
                                           <div class="smart-calendar-week-number" role="rowheader"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                       </div>
                                       <div class="smart-calendar-week" role="row">
                                           <div class="smart-calendar-week-number" role="rowheader"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                       </div>
                                       <div class="smart-calendar-week" role="row">
                                           <div class="smart-calendar-week-number" role="rowheader"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                       </div>
                                   </div>
                                </div>
                            </div>
                            <div id="dateViewContainer" class="smart-calendar-date-view-container smart-hidden">
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                            </div>
                            <div id="monthsSeparator" class="smart-calendar-month-separator"></div>
                            <div id="nextMonthsContainer" class="smart-calendar-next-months-container" aria-hidden="true"></div>
                            <div id="animationPanel" class="smart-calendar-animation-panel smart-hidden"></div>
                        </div>
                        <div id="footer" class="smart-calendar-footer smart-hidden">
                            <div id="selectedDatesRange"></div>
                        </div>
                        <input id="hiddenInput" type="hidden" name="[[name]]">
                    </div>
                </div>`}_updateTargetValue(){const u=this;if(u.dataset.target){const g=document.querySelector(u.dataset.target);if(g){const e=u.dataset.property,t=u.selectedDates.toString();e&&g[e]!==void 0&&(g[e]=t)}}}propertyChangedHandler(u,g,e){super.propertyChangedHandler(u,g,e);const t=this;switch(u){case"animationSettings":t._applyAnimationSettings();break;case"disabled":case"unfocusable":t._setFocusable();break;case"calendarMode":case"dropDownWidth":case"dropDownHeight":t.displayMode="month",t._refreshHeaderElements(),t._refreshCalendarMode(),t._setDisplayModeContent();break;case"dayNameFormat":t._refreshDayOfWeekTitles(t.$.month);break;case"dateFormatFunction":{let n=t.$.monthsContainer.children;for(let a=0;a<n.length;a++)n[a].firstElementChild.innerHTML=e?e(n[a]._date):t._monthsNames[n[a]._date.getMonth()]+" "+n[a]._date.toLocaleDateString(t.locale,{year:t.yearFormat});t._refreshHeaderTitle();break}case"displayMode":if(t.calendarMode==="classic"&&e!=="month"){t[u]="month";break}t._setDisplayMode(g,e);break;case"displayModeView":t._applyAnimationSettings(!0),t.displayMode!=="month"&&t._setDisplayModeContent();break;case"firstDayOfWeek":t._handleMonths(),t._refreshDayOfWeekTitles();break;case"hideTooltipArrow":t.$.tooltip&&(t.$.tooltip.arrow=!e);break;case"titleTemplate":case"headerTemplate":case"footerTemplate":t._handleLayoutTemplate(t.$[u.split(/[T]/)[0]],e),u==="titleTemplate"?t._refreshTitle():u==="headerTemplate"?t._refreshHeaderTitle():t._refreshFooter();break;case"importantDates":t.importantDates=t._getValidDates(e),t._refreshImportantDates();break;case"importantDatesTemplate":t._handleImportantDateTemplate(),t._refreshImportantDates();break;case"locale":t._refreshMonthNames(),t._refreshDayOfWeekTitles(),t._refreshHeaderTitle(),t._refreshTitle(),t._refreshFooter(),t.displayMode&&t.displayMode!=="month"&&t._setDisplayModeContent();break;case"max":case"min":t._validateMinMax(u,e,g),t._validateSelectedDates(),t._noFocusingRequired=!1,t._refreshHeaderElements();break;case"months":t._handleMonths();break;case"monthNameFormat":t._refreshCalendarMode(),t._refreshHeaderTitle();break;case"restrictedDates":t._setRestrictedDates(t.restrictedDates=t._getValidDates(e));break;case"rightToLeft":t._refreshDayOfWeekTitles(),t._handleMonths();break;case"scrollButtonsNavigationMode":t._setScrollButtonsNavigationMode();break;case"selectedDates":if(t._clearSelection(!0),t._validateSelectedDates(t._getValidDates(e)),t._applySelectionMode(!0),t._viewDates){let n=t.selectedDates[t.selectedDates.length-1];t._isDateInView(n)?t.selectedDates.map(a=>t._selectDate(a,!0,!0)):t._handleMonths(n)}t._refreshFooter(),t._setWeeksVisibility(t.$.monthsContainer),t.$.hiddenInput.value=t.selectedDates.toString(),t.isInitialized&&(t.$.fireEvent("change",{value:t.selectedDates}),t._updateTargetValue()),t._refreshTitle(),t.displayMode!=="month"&&t._setDisplayModeContent();break;case"selectionMode":t._applySelectionMode(!1,g),t._refreshTitle();break;case"tooltip":t._handleTooltip();break;case"tooltipArrow":case"tooltipArrowDirection":case"tooltipDelay":case"tooltipOffset":case"tooltipPosition":case"tooltipTemplate":if(t.$.tooltip){const n=u.replace("tooltip","");t.$.tooltip[n.charAt(0).toLowerCase()+n.slice(1)]=e}break;case"view":t._refreshTitle();break;case"viewSections":e.indexOf("title")>-1?t.$title.removeClass("smart-hidden"):t.$title.addClass("smart-hidden"),t._refreshTitle(),e.indexOf("header")>-1?t.$header.removeClass("smart-hidden"):t.$header.addClass("smart-hidden"),t._refreshHeaderTitle(),e.indexOf("footer")>-1?t.$footer.removeClass("smart-hidden"):t.$footer.addClass("smart-hidden"),t._refreshFooter(),t._setFocusable();break;case"weeks":t._setWeeksVisibility(t.$.monthsContainer);break;case"yearFormat":if(t._refreshCalendarMode(),t._refreshFooter(),t.months>1&&t.displayMode==="month"){let n=t._animationStarted?t.$.nextMonthsContainer.children:t.$.monthsContainer.children;for(let a=0;a<n.length;a++)n[a].firstElementChild.innerHTML=t.dateFormatFunction?t.dateFormatFunction(n[a]._date):t._monthsNames[n[a]._date.getMonth()]+" "+n[a]._date.toLocaleDateString(t.locale,{year:e})}t._refreshTitle(),t._refreshHeaderTitle()}}ready(){super.ready();const u=this;u._keysPressed={},u._applyAnimationSettings(),u.importantDates=u._getValidDates(u.importantDates),u.restrictedDates=u._getValidDates(u.restrictedDates)}render(){const u=this;u.setAttribute("role","dialog"),u._refreshMonthNames(),u._validateMinMax(),u._validateSelectedDates(u._getValidDates(u.selectedDates)),u._handleLayoutTemplate(u.$.title,u.titleTemplate),u._handleLayoutTemplate(u.$.header,u.headerTemplate),u._handleLayoutTemplate(u.$.footer,u.footerTemplate),u._handleImportantDateTemplate(),u._setFocusable(),u._refreshDayOfWeekTitles(),u._applySelectionMode(!0),u._handleMonths(u.selectedDates.length===0?new Date(new Date().setHours(0,0,0,0)):u.selectedDates[u.selectedDates.length-1]),u._handleTooltip(),u._updateViewSectionsVisibility(),u._setScrollButtonsNavigationMode(),u._refreshCalendarMode(),u._setDisplayMode(),u._refreshTitle(),u._refreshFooter(),u._refreshImportantDates(),u.$.monthElement&&u.$.monthElement._setDropDownSize&&u.$.monthElement._setDropDownSize(),u._changeEventFired=0,u.$.hiddenInput.value=u.selectedDates.toString(),u.shadowRoot&&u.appendChild(u.$.hiddenInput),u.isInitialized=!0,super.render()}refresh(){this.isInitialized&&this.render()}_updateViewSectionsVisibility(){const u=this;u.viewSections.indexOf("title")>-1?u.$title.removeClass("smart-hidden"):u.$title.addClass("smart-hidden"),u.viewSections.indexOf("header")>-1?u.$header.removeClass("smart-hidden"):u.$header.addClass("smart-hidden"),u.viewSections.indexOf("footer")>-1?u.$footer.removeClass("smart-hidden"):u.$footer.addClass("smart-hidden")}clearSelection(){this._clearSelection()}_setFocusable(){const u=this;let g=u.tabIndex>0?u.tabIndex:0;function e(t,n){if(n)return t&&t instanceof n?(typeof t._setFocusable=="function"&&t.isCompleted?t.unfocusable=g<=-1:t.setAttribute("tabindex",g),t):t||void 0}(u.disabled||u.unfocusable)&&(g=-1),u.$.previousMonthButton=e(u.$.previousMonthButton,Smart.Button),u.$.nextMonthButton=e(u.$.nextMonthButton,Smart.Button),u.$.nextYearButton=e(u.$.nextYearButton,Smart.Button),u.$.previousYearButton=e(u.$.previousYearButton,Smart.Button),u.$.monthElement=e(u.$.monthElement,Smart.Input),u.$.yearElement=e(u.$.yearElement,HTMLInputElement),u.viewSections.indexOf("title")>-1&&(u.$.dateContainer.setAttribute("tabindex",g),u.$.yearContainer.setAttribute("tabindex",g)),u.$.body.setAttribute("tabindex",g),u.calendarMode==="default"?u.$.dateElement.setAttribute("tabindex",g):u.$.dateElement.removeAttribute("tabindex"),u.unfocusable?u.removeAttribute("tabindex"):u.tabIndex=u.readonly&&!u.disabled?u.tabIndex>0?u.tabIndex:0:g}static get requires(){return{"Smart.DropDownList":"smart.dropdownlist.js","Smart.ListBox":"smart.listbox.js","Smart.RepeatButton":"smart.button.js","Smart.Tooltip":"smart.tooltip.js"}}navigate(u){const g=this;let e,t,n;if(u){if(typeof u=="number"){if(u=parseInt(u),isNaN(u)||u===0)return!1;if(g.weeks!==6&&g.weeks!==0&&g.displayMode==="month"){let a,i;g._focusedCell||g._focusCell();const r=[].slice.call(g._focusedCell.closest(".smart-calendar-weeks").children).filter(o=>!o.classList.contains("smart-hidden"));u<0?(i=r[0].querySelectorAll(".smart-calendar-cell"),a=g.rightToLeft?i[i.length-1]:i[0]):(i=r[r.length-1].querySelectorAll(".smart-calendar-cell"),a=g.rightToLeft?i[0]:i[i.length-1]),t=new Date(a.value),t.setDate(t.getDate()+u),e=t}else e=g._getNextDate(u)}else{if(e=u=g._getValidDate(u),n=!0,isNaN(e.getTime()))return!1;const a=g._viewDates[0];if(a&&e.getMonth()===a.getMonth()&&e.getFullYear()===a.getFullYear())return!1;g.weeks!==6&&g.weeks!==0&&g.displayMode==="month"&&(t=e)}return!(!e||g.$.fireEvent("navigationChanging",{value:new Date(e),type:g.displayMode}).defaultPrevented||(g.displayMode!=="month"?(!n&&g.hasAnimation?(g.$nextMonthsContainer.addClass("smart-calendar-date-view-container"),g.displayModeView==="list"?g._setDisplayModeContent(e):g._navigationDate&&g._navigationDate.getTime()===e.getTime()||g._animateNavigation(e,u)):g._setDisplayModeContent(e),g.$.fireEvent("navigationChange",{value:new Date(e),type:g.displayMode}),0):(g.hasAnimation?(g._animateNavigation(e,u),g.$nextMonthsContainer.hasClass("smart-date-view-container")&&g.$nextMonthsContainer.removeClass("smart-date-view-container")):(g._handleMonths(e),g._refreshHeaderElements(),g._refreshHeaderTitle()),t&&(g._focusCell(g._getCellByDate(t,g._animationStarted?g.$.nextMonthsContainer:void 0),!0),g._updateWeeksVisibility(u)),g.$.fireEvent("navigationChange",{value:new Date(e),type:g.displayMode}),0)))}}set value(u){this._select(u)}get value(){return this.selectedDates&&this.selectedDates.length>0?this.selectedDates[0]:null}select(u){this._select(u)}_select(u){const g=this;g._viewDates&&g._viewDates[0]!==void 0&&g.selectionMode!=="none"&&u&&(u=g._getValidDate(u))instanceof Date&&(g.selectionMode==="one"&&g.selectedDates.map(Number).indexOf(u.getTime())>-1||u.getTime()<g.min.getTime()||u.getTime()>g.max.getTime()||(g.selectionMode!=="one"&&g.selectionMode!=="default"&&g.selectionMode!=="zeroOrOne"||g._clearSelection(!0),g._selectDate(u),g.selectedDates.length!==1||g._isDateInView(g.selectedDates[0])||g._handleMonths(g.selectedDates[0])))}today(){const u=this;let g=new Date;return g.setHours(0,0,0,0),g.getTime()<u.min.getTime()||g.getTime()>u.max.getTime()?g=new Date(u.max):u._selectDate(g),u._handleMonths(g),g}_animateNavigation(u,g,e){const t=this;t._navigationDate=u,t._animationSettings||t._applyAnimationSettings(),t.$animationPanel.addClass("smart-hidden"),t.$.dateViewContainer.style.transform="",t.$.dateViewContainer.style.opacity="",t.$.monthsContainer.style.transform="",t.$.monthsContainer.style.opacity="";const n=t.displayMode!=="month"?t.$.dateViewContainer:t.$.monthsContainer,a=t.$.body[t._animationSettings.scrollMax]-t.$.body[t._animationSettings.size];t._scrollStep=t.$.body[t._animationSettings.size]*t._animationSettings.startSpeed,t._animationStarted&&t._getMonthCells(t.$.monthsContainer,t.rightToLeft).map(i=>{t._setCellState(i,"restricted",!1),t._setCellState(i,"selected",!1),t._setCellState(i,"otherMonth",!1),t._setCellState(i,"focus",!1),t._setCellState(i,"important",!1),t._setCellState(i,"today",!1),t._setCellState(i,"disabled",!1),t._setCellState(i,"hover",!1)}),t._animationStarted=!0,t.displayMode!=="month"?(t._setCellState(t._focusedCell,"focus",!1),t._setDisplayModeContent(u,t.$.nextMonthsContainer)):t._handleMonths(u,t.$.nextMonthsContainer),t.rightToLeft&&(g*=-1),e||(g>0?(n.style.order=1,t.$.nextMonthsContainer.style.order=3,(!t._animationStarted||t._animationStarted&&t.$.body[t._animationSettings.scrollSize]>t.$.body[t._animationSettings.scrollMax]*t._animationSettings.resetThreshold*2)&&(t.$.body[t._animationSettings.scrollSize]=0)):(n.style.order=3,t.$.nextMonthsContainer.style.order=1,(!t._animationStarted||t._animationStarted&&t.$.body[t._animationSettings.scrollSize]<t.$.body[t._animationSettings.scrollMax]*t._animationSettings.resetThreshold)&&(t.$.body[t._animationSettings.scrollSize]=t.$.body[t._animationSettings.scrollMax]))),cancelAnimationFrame(t._animationId),t._animationId=requestAnimationFrame(function i(){let r=g>0?t.$.body[t._animationSettings.scrollSize]>=a:t.$.body[t._animationSettings.scrollSize]===0,o=t._scrollStep/2;r?t._animateNavigationCompleted():(g>0&&t.$.body[t._animationSettings.scrollSize]>a*t._animationSettings.easeThreshold?(o=Math.max(t.$.body[t._animationSettings.scrollSize]/t._animationSettings.stepEaseSize,Math.abs(o-(a-t.$.body[t._animationSettings.scrollSize])*t._animationSettings.step)),t._scrollStep=t._scrollStep*t._animationSettings.step+o):g<0&&t.$.body[t._animationSettings.scrollSize]<a*t._animationSettings.easeThreshold&&(o=Math.max(t.$.body[t._animationSettings.scrollMax]/t._animationSettings.stepEaseSize,Math.abs(o-t.$.body[t._animationSettings.scrollSize]*t._animationSettings.step)),t._scrollStep=t._scrollStep*t._animationSettings.step+o),t.$.body[t._animationSettings.scrollSize]+=g>0?t._scrollStep:-t._scrollStep,t._animationId=requestAnimationFrame(i))})}_animateNavigationCompleted(){const u=this;let g,e,t,n=u.displayMode!=="month"?u.$.dateViewContainer:u.$.monthsContainer;if(cancelAnimationFrame(u._animationId),u.displayMode!=="month"){let a=[].slice.call(n.children).indexOf(u._focusedCell);n.innerHTML=u.$.nextMonthsContainer.innerHTML;let i,r=n.children[a];e=n.children,t=u.$.nextMonthsContainer.children;for(let o=0;o<e.length;o++)e[o].value=t[o].value,e[o].restricted=t[o].restricted,e[o].important=t[o].important,e[o].otherMonth=t[o].otherMonth,e[o].value.getTime()<=u.max.getTime()&&(i=e[o]);g=r&&r.value.getTime()>=u.max.getTime()?i.value:u._focusedCell?u._focusedCell.value:void 0}else{let a=n.children,i=u.$.nextMonthsContainer.children;u._focusedCell&&u.$.nextMonthsContainer.contains(u._focusedCell)&&(g=u._focusedCell.value);for(let r=0;r<a.length&&i[r]._date;r++){a[r]._date=i[r]._date,a[r].innerHTML=i[r].innerHTML,e=u._getMonthCells(a[r]),t=u._getMonthCells(i[r]);for(let o=0;o<e.length;o++)e[o].value=t[o].value,e[o].restricted=t[o].restricted,e[o].important=t[o].important,e[o].otherMonth=t[o].otherMonth,e[o].removeAttribute("focus")}u._selectedCells.length>0&&(u._selectedCells=u._selectedCells.map(r=>u._getCellByDate(r.value)).filter(r=>r!==void 0))}u._focusCell(u._getCellByDate(g)),n.style.order=1,u.$.nextMonthsContainer.style.order=3,u.$.body[u._animationSettings.scrollSize]=0,u._animationStarted=!1,delete u._navigationDate}_applyAnimationSettings(u){const g=this;g._animationSettings=g.animationSettings?g.animationSettings:g._animationSettings||{},g.scrollButtonsNavigationMode==="portrait"?(g._animationSettings.scrollMax="scrollHeight",g._animationSettings.size="offsetHeight",g._animationSettings.scrollSize="scrollTop"):(g._animationSettings.scrollMax="scrollWidth",g._animationSettings.size="offsetWidth",g._animationSettings.scrollSize="scrollLeft"),u||(g._animationSettings.startSpeed=g._animationSettings.startSpeed?g._animationSettings.startSpeed:.2,g._animationSettings.easeThreshold=g._animationSettings.easeThreshold?g._animationSettings.easeThreshold:.5,g._animationSettings.step=g._animationSettings.step?g._animationSettings.step:.25,g._animationSettings.stepEaseSize=g._animationSettings.stepEaseSize?g._animationSettings.stepEaseSize:200,g._animationSettings.resetThreshold=g._animationSettings.resetThreshold?g._animationSettings.resetThreshold:.2)}_applySelectionMode(u,g){const e=this;let t=[],n=!!u,a=e.selectionMode;function i(o,d){const f=e.$.monthsContainer.children;for(let p=0;p<f.length;p++)e._getMonthCells(f[p]).map(v=>{e._setCellState(v,o,d)})}switch(a==="many"&&a==="range"||i("hover",!1),e._newRangeSelectionStarted=e.selectedDates.length>0&&a==="range",["default","many","zeroOrMany","oneOrMany","week","range"].indexOf(a)!==-1?Array.from(e.getElementsByClassName("smart-calendar-month")).forEach(o=>o.setAttribute("aria-multiselectable",!0)):Array.from(e.getElementsByClassName("smart-calendar-month")).forEach(o=>o.removeAttribute("aria-multiselectable")),a!=="none"&&g!=="none"||i("selected",!1),a){case"none":return void e._clearSelection(n);case"range":return void(e.selectedDates.length>1&&e._selectMultipleDates(e.selectedDates[0],e.selectedDates[e.selectedDates.length-1]));case"many":case"default":case"oneOrMany":if(e.selectedDates.length===0){t.push(new Date(Math.min(Math.max(e.min.getTime(),new Date().setHours(0,0,0,0)),e.max.getTime())));break}return;case"oneExtended":case"one":if(e.selectedDates.length===1)return;e.selectedDates.length>1?(t.push(e.selectedDates[e.selectedDates.length-1]),e._clearSelection(n)):t.push(new Date(Math.min(Math.max(e.min.getTime(),new Date().setHours(0,0,0,0)),e.max.getTime())));break;case"zeroOrOne":if(e.selectedDates.length>1){t.push(e.selectedDates[e.selectedDates.length-1]),e._clearSelection(n);break}return;case"zeroOrMany":return;case"week":if(e.selectedDates.length>=1){let o=e.selectedDates[e.selectedDates.length-1];for(let d=0;d<7;d++)t.push(new Date(o)),o.setDate(o.getDate()+1);e._clearSelection(n)}}if(e.selectedDates=[],u)return void(e.selectedDates=t);const r=t.length;for(let o=0;o<r;o++)e._selectDate(t[o],o<r-1)}__clearSelection(){const u=this,g=u.selectionMode,e=u.context;if(u.context=u,u.set("selectedDates",[]),u._selectedCells&&u._selectedCells.map(t=>{u._setCellState(t,"selected",!1)}),u.selectedDates=[],u._selectedCells=[],g==="many"||g==="range"){const t=u.$.monthsContainer.children;for(let n=0;n<t.length;n++)u._getMonthCells(t[n]).map(a=>{u._setCellState(a,"hover",!1)})}u.$.footer&&u._refreshFooter(),u.$.hiddenInput.value=u.selectedDates.toString(),u.context=e}_clearSelection(u){const g=this,e=g.selectedDates.slice(0),t=g.selectionMode;if(g.isRendered){if(g._selectedCells&&g._selectedCells.map(n=>{g._setCellState(n,"selected",!1)}),g.selectedDates=[],g._selectedCells=[],t==="many"||t==="range"){const n=g.$.monthsContainer.children;for(let a=0;a<n.length;a++)g._getMonthCells(n[a]).map(i=>{g._setCellState(i,"hover",!1)})}g.$.footer&&g._refreshFooter(),g.$.hiddenInput.value=g.selectedDates.toString(),!u&&g.isInitialized&&e.length&&(g.$.fireEvent("change",{value:[]}),g._updateTargetValue()),g.$.title&&g._refreshTitle()}else g.set("selectedDates",[])}_bodyBlurStateHandler(u){this._bodyStateHandler(u),this.$.fireEvent("blur")}_bodyFocusStateHandler(u){this._bodyStateHandler(u),this.$.fireEvent("focus")}_bodyStateHandler(u){const g=this;if(g._focusedCell){if(u.type==="blur"||u.type==="focus"&&g._noFocusingRequired)return g._noFocusingRequired=!1,void g._setCellState(g._focusedCell,"focus",!1);if(g.displayMode!=="month")return void(u.type!=="focus"||g.$.dateViewContainer.querySelector("smart-calendar-cell[focus]")||g._setCellState(g._focusedCell||g.$.dateViewContainer.querySelector(".smart-calendar-cell"),"focus",!0))}u.type==="focus"&&g._focusCell()}_containerWheelHandler(u){const g=this;if(g.disabled||g.readonly||g.displayMode!=="month"&&g.displayModeView==="list"||g.disableMouseWheel)return;let e,t;t=document.activeElement,g.shadowRoot?t=g.shadowRoot.activeElement:g.isInShadowDOM&&(t=g.getRootNode().activeElement),g.$.yearElement===t&&(e=12),(t&&g.shadowRoot||t.closest("smart-calendar")===g)&&(e=u.target===g.$.yearElement?12:1),e&&(u.preventDefault(),e=e===12?e:e*g.months,u.deltaY>0?g.navigate(-e):g.navigate(e))}_downHandler(u){const g=this;let e=u.originalEvent.target;if(g._dragStartDetails=void 0,g.disabled||g.readonly)return;if(g.hasRippleAnimation&&(e.value instanceof Date||e.parentElement&&e.parentElement.classList.contains("smart-calendar-title")||e.parentElement===g.$.dateElement)&&Smart.Utilities.Animation.Ripple.animate(e,u.pageX,u.pageY),e=u.originalEvent.target.closest(".smart-calendar-header"),u.originalEvent.target.closest(".smart-calendar-year-container")&&g.displayMode!=="decade")return g.calendarMode==="classic"?void 0:void g._showDateView("year");if(u.originalEvent.target.closest(".smart-calendar-date-container")&&g.displayMode!=="month")return g.calendarMode==="classic"?void 0:void g._displayModeHandler(g.displayModeView==="list"?g.$.listViewContainer.querySelector("li.active"):g._focusedCell,"month");if(g._animationStarted&&g._animateNavigationCompleted(),Smart.Utilities.Core.isMobile&&u.originalEvent.target.closest(".smart-calendar-body")===g.$.body)return void(g._dragStartDetails={x:u.pageX,y:u.pageY,startTime:Date.now(),target:u.originalEvent.target});if(e=u.originalEvent.target,e.closest(".smart-calendar-week")||e.parentElement===g.$.dateViewContainer){for(;e&&!(e.value instanceof Date);)e=e.parentElement;return void(e&&(g.displayMode!=="month"?g._displayModeHandler(e):g._weeksDownHandler(u,e)))}if(e.closest(".smart-calendar-month-element"))return;if(u.originalEvent.stopPropagation(),g.displayModeView==="list"&&g.displayMode!=="month")return e=(g.shadowRoot||g.isInShadowDOM?u.originalEvent.composedPath()[0]:u.originalEvent.target).closest("smart-list-item"),void(e&&g._displayModeHandler(e));const t=document.scrollingElement||document.documentElement,n=t.scrollLeft,a=t.scrollTop;g.unfocusable||g.focus(),window.scrollTo(n,a)}_displayModeHandler(u,g){const e=this;if(e._animationStarted&&e._animateNavigationCompleted(),u instanceof HTMLElement&&u.closest(".smart-calendar-week")&&u.otherMonth&&(e.displayMode==="decade"&&(u.value.getFullYear()<e.min.getFullYear()||u.value.getFullYear()>e.max.getFullYear())||e.displayMode==="year"&&(u.value.getFullYear()<e.min.getFullYear()||u.value.getFullYear()===e.min.getFullYear()&&u.value.getMonth()<e.min.getMonth()||u.value.getFullYear()>e.max.getFullYear()||u.value.getFullYear()===e.max.getFullYear()&&u.value.getMonth()>e.max.getMonth())))return;switch(g=g||e.displayMode){case"year":g="month";break;case"decade":g="year"}if(e.displayMode===g)return;const t=e.$.listViewContainer,n=t&&t.contains(u);e.$.fireEvent("displayModeChanging",{oldDisplayMode:e.displayMode,newDisplayMode:g}).defaultPrevented||(e.set("displayMode",g),e.$nextMonthsContainer.removeClass("smart-calendar-date-view-container"),u.parentElement!==e.$.dateViewContainer||u.disabled||u.restricted||e._focusCell(u),e.hasAnimation?(n&&u instanceof HTMLLIElement?u.offsetHeight?e.$.animationPanel.style.transformOrigin=u.offsetWidth/2+"px "+(u.offsetTop+u.offsetHeight/2)+"px":e.$.animationPanel.style.transformOrigin=t.offsetLeft+t.offsetWidth/2+"px "+(t.offsetTop+t.offsetHeight/2)+"px":(e.$.dateViewContainer.style.order=1,e.$.nextMonthsContainer.style.order=3,u=e._focusedCell,e.$.animationPanel.style.transformOrigin=u.offsetLeft+u.offsetWidth/2+"px "+(u.offsetTop+u.offsetHeight/2)+"px"),e._animateView(1,u)):e._setDisplayModeContent(u.value instanceof Date?u.value:new Date(u.getAttribute("value")||u.value)))}_animateView(u,g){const e=this;let t,n,a=g instanceof Date?g:new Date(g.getAttribute("value")||g.value),i=!1,r=1,o=1;const d=e.$.listViewContainer;e.displayModeView==="list"?t=d.contains(g)?d:n=e.displayMode!=="month"?e.$.monthsContainer:d:g.value instanceof Date||(g=e._focusedCell?e._focusedCell:e._selectedCells.length>0?e._selectedCells[e._selectedCells.length-1]:e._getCellByDate(new Date)),t||(t=g.parentElement===e.$.dateViewContainer?e.$.dateViewContainer:e.$.monthsContainer),n||(n=e.displayMode==="month"?e.$.monthsContainer:e.displayModeView==="list"?d:e.$.dateViewContainer),n.style.transformOrigin=e.$.animationPanel.style.transformOrigin,t===d?(e.$.animationPanel.innerHTML="",e.$.animationPanel.appendChild(t.cloneNode(!0))):e.$.animationPanel.innerHTML=t.innerHTML,e._setDisplayModeContent(a),t.style.order=1,e.$.nextMonthsContainer.style.order=3,e.$.body[e._animationSettings.scrollSize]=0,e.$.animationPanel.style.width=e.$.body.offsetWidth+"px",e.$.animationPanel.style.height=e.$.body.offsetHeight+"px",e.$.animationPanel.style.transform="scale(1)",e.$.animationPanel.style.opacity=1,e.$animationPanel.removeClass("smart-hidden"),n.style.opacity="0",n.style.transform="scale(3.5)",t.$.hasClass("smart-calendar-date-view-container")?e.$animationPanel.addClass("smart-calendar-date-view-container"):e.$animationPanel.removeClass("smart-calendar-date-view-container"),cancelAnimationFrame(e._animationId),e._animationId=requestAnimationFrame(function f(){if((u>0&&r>=3.5||u<0&&r<=0)&&(i=!0),i){if(cancelAnimationFrame(e._animationId),e.$animationPanel.addClass("smart-hidden"),e.$.animationPanel.style.transform="",e.$.animationPanel.style.opacity="",t.style.order=1,e.$.nextMonthsContainer.style.order=3,e.$.body[e._animationSettings.scrollSize]=0,n.style.transform="",n.style.opacity="",e.unfocusable)return;e.displayMode==="month"?e.$.body.focus():e.displayModeView==="list"&&e.focus()}else e.$.animationPanel.style.opacity=o,n.style.opacity=1-o,o-=.05,u>0?(e.$.animationPanel.style.transform="scale("+r+")",n.style.transform="scale("+Math.min((r-1)/2,1)+")",r+=.125):(e.$.animationPanel.style.transform="scale("+Math.max(r,0)+")",n.style.transform="scale("+Math.max(1+r,1)+")",r-=.06),e._animationId=requestAnimationFrame(f)})}_documentUpHandler(u){const g=this;let e=u.originalEvent.target;if((g.isInShadowDOM||g.shadowRoot&&e===g)&&(e=u.originalEvent.composedPath()[0]),g._newRangeSelectionStarted&&!g.$.container.contains(e)&&delete g._newRangeSelectionStarted,e&&e.classList&&e.classList.contains("smart-calendar-cell")&&g._dragStartDetails&&(u.originalEvent.stopPropagation(),u.originalEvent.preventDefault(),u.preventDefault()),!Smart.Utilities.Core.isMobile||!g._dragStartDetails||u.originalEvent.target.closest(".smart-calendar-list-view"))return;delete g._previousIteration;const t=Date.now();let n={};(g.isInShadowDOM||g.shadowRoot&&e===g)&&(e=u.originalEvent.composedPath()[0]),g.scrollButtonsNavigationMode==="portrait"?(n.coordinate="y",n.direction="pageY"):(n.coordinate="x",n.direction="pageX");const a=g._dragStartDetails.step*(g.rightToLeft?-1:1);if(Math.abs(g._dragStartDetails[n.coordinate]-u[n.direction])<=10){if(e=g.displayModeView==="list"&&g.displayMode!=="month"?e.closest("smart-list-item"):e,!e)return void(g._dragStartDetails=void 0);if(g.displayMode!=="month")return g._displayModeHandler(e),g.scrollButtonsNavigationMode==="portrait"?g.$.body.scrollTop=0:g.$.body.scrollLeft=0,void(g._dragStartDetails=void 0);if(g._weeksDownHandler(u,e),!g.disableAutoNavigation&&e.otherMonth)return}else{const r=Math.abs((u[n.direction]-g._dragStartDetails[n.coordinate])/(t-g._dragStartDetails.startTime));if(r>1){const o=parseInt(r);for(let d=0;d<o;d++)if(!g.navigate(a)){g._cancelAnimation();break}return void(g._dragStartDetails=void 0)}}if(!g.hasAnimation)return g.navigate(g._dragStartDetails.step),void(g._dragStartDetails=void 0);let i=(g.displayMode!=="month"?g.$.dateViewContainer[g._animationSettings.scrollMax]:g.$.monthsContainer[g._animationSettings.scrollMax])+g.$.monthsSeparator[g._animationSettings.size];if(g._dragStartDetails.step>0&&g.$.body[g._animationSettings.scrollSize]>i*g._animationSettings.easeThreshold||g._dragStartDetails.step<0&&g.$.body[g._animationSettings.scrollSize]<i*g._animationSettings.easeThreshold)return g._animateNavigation(g._dragStartDetails.navigationDate,a,!0),g.weeks!==6&&g.weeks!==0&&g.displayMode==="month"&&g._updateWeeksVisibility(a,g._getCellByDate(g._dragStartDetails.navigationDate,g.$.nextMonthsContainer)),g.$.fireEvent("navigationChange",{value:new Date(g._dragStartDetails.navigationDate),type:g.displayMode}),void(g._dragStartDetails=void 0);g._cancelAnimation(),g._dragStartDetails=void 0}_cancelAnimation(){const u=this,g=u.displayMode!=="month"?u.$.dateViewContainer:u.$.monthsContainer;let e=u.$.animationPanel.style.transform,t=u.$.animationPanel.style.opacity;e&&(e=parseFloat(e.substring(e.indexOf("(")+1||0,e.indexOf(")")))),g.style.order=1,u.$.nextMonthsContainer.style.order=3,u.$.body[u._animationSettings.scrollSize]=0,u._animationId=requestAnimationFrame(function n(){if(!e||e>=3.5){cancelAnimationFrame(u._animationId),u.$animationPanel.addClass("smart-hidden"),u.$.animationPanel.style.transform="",u.$.animationPanel.style.opacity="";const a=u.displayMode==="month"?u.$.monthsContainer:u.$.listViewContainer;return a.style.transform="",a.style.opacity="",u.unfocusable||(u.displayMode==="month"?u.$.body.focus():u.displayModeView==="list"&&u.focus()),void(u._animationStarted=!1)}u.$.animationPanel.style.opacity=t-=.25,u.$.animationPanel.style.transform="scale("+(e+=.5)+")",u._animationId=requestAnimationFrame(n)})}_focusCell(u,g){const e=this;if(e._focusedCell&&e._setCellState(e._focusedCell,"focus",!1),e.disabled||e.readonly)return;if(u)return e.displayMode!=="month"?(e._setCellState(u,"focus",!0),void(e._focusedCell=u)):u.disabled||u.restricted?void 0:(g||e._setCellState(u,"focus",!0),void(e._focusedCell=u));if(e.displayMode!=="month"&&e.$.monthsContainer.offsetHeight===0)return;const t=e._selectedCells[e._selectedCells.length-1];if(t&&t.offsetHeight)e._setCellState(t,"focus",!0),e._focusedCell=t;else{const n=e.$.monthsContainer.children;if(!n[0]._date||e.min.getTime<n[0]._date.getTime())return;const a=e._getMonthCells(n[0],e.rightToLeft);for(let i=0;i<a.length;i++){const r=a[i];if(!r.otherMonth){if(r.disabled||r.restricted||!r.offsetHeight)continue;e._focusedCell=r;break}}}e._focusedCell&&e._setCellState(e._focusedCell,"focus",!0)}_getDays(u,g){const e=g.length;let t=[];if(e>0)for(let n=0;n<e;n++)g[n].getFullYear()===u.getFullYear()&&g[n].getMonth()===u.getMonth()&&t.push(g[n].getDate());return t}_getCellByDate(u,g){const e=this;if(!(u instanceof Date))return;if(g||(g=e.$.monthsContainer),e.displayMode!=="month"){if(e.displayModeView==="list")return;let i=arguments[1]?e.$.nextMonthsContainer.children:e.$.dateViewContainer.children;for(let r=0;r<i.length;r++)if(e.displayMode!=="year"){if(i[r].value.getFullYear()===u.getFullYear())return i[r]}else if(i[r].value.getMonth()===u.getMonth())return i[r];return}let t,n,a=g.children;for(let i=0;i<a.length;i++)if(u.getFullYear()===a[i]._date.getFullYear()&&u.getMonth()===a[i]._date.getMonth()){t=a[i];break}if(t){n=e._getMonthCells(t);for(let i=0;i<n.length;i++)if((!n[i].otherMonth||n[i].hover)&&n[i].value.getMonth()===u.getMonth()&&n[i].value.getDate()===u.getDate())return n[i]}}_getMonthCells(u,g){const e=u.getElementsByClassName("smart-calendar-week");let t=[];if(g)for(let n=0;n<e.length;n++){let a=e[n].children;for(let i=a.length-1;i>0;i--)a[i].classList.contains("smart-calendar-cell")&&t.push(a[i])}else for(let n=0;n<e.length;n++){let a=e[n].children;for(let i=1;i<a.length;i++)a[i].classList.contains("smart-calendar-cell")&&t.push(a[i])}return t}_getWeekNumber(u){const g=this;let e,t=new Date(u.getFullYear(),0,1),n=Math.round((u.getTime()-t.getTime()-6e4*(u.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)+1,a=t.getDay()-g.firstDayOfWeek;return a=a>=0?a:a+7,a<4?(e=Math.floor((n+a-1)/7)+1,e>52&&(t=new Date(u.getFullYear()+1,0,1),a=t.getDay()-g.firstDayOfWeek,a=a>=0?a:a+7,e=a<4?1:53)):e=Math.round((n+a-1)/7),e}_handleDateSelection(u){const g=this;if(u!==void 0&&!u.disabled&&!u.restricted)switch(g.selectionMode){case"none":g._focusCell(u);break;case"oneExtended":case"one":case"default":if(g._keysPressed.Control)return g.selectedDates.length>1||g.selectedDates.length===1&&!u.selected?void g._selectDate(u.value):void g._focusCell(u);if(g._keysPressed.Shift)return void g._selectMultipleDates(new Date(g.selectedDates[0]),u);g._clearSelection(!0),g._selectDate(u.value,g._selectedCells.indexOf(u.value)>-1);break;case"many":{if(g.selectedDates.length===0)return void g._selectDate(u.value);const e=g.selectedDates[g.selectedDates.length-1];let t=new Date(g.selectedDates[0]);if(u.value.getTime()===t.getTime()||u.value.getTime()===e.getTime())return g._clearSelection(),void g._focusCell(u);g.selectedDates.length>0&&g._selectMultipleDates(t,u);break}case"range":{if(g.selectedDates.length>1&&!g._keysPressed.Control&&!g._newRangeSelectionStarted&&g._clearSelection(!0),g.selectedDates.length===0||g._keysPressed.Control&&g.selectedDates.length>1&&!g._newRangeSelectionStarted)return u.value&&g.selectedDates.find(n=>n.getTime()===u.value.getTime())?void 0:(g._newRangeSelectionStarted=!0,void g._selectDate(u.value));const e=g.selectedDates[g.selectedDates.length-1];let t=g._keysPressed.Control||g._newRangeSelectionStarted?e:new Date(g.selectedDates[0]);g.selectedDates.length>0&&g._selectMultipleDates(t,u),delete g._newRangeSelectionStarted;break}case"zeroOrMany":g._selectDate(u.value);break;case"oneOrMany":if(g.selectedDates.length===1&&u.selected)return void g._focusCell(u);g._selectDate(u.value);break;case"zeroOrOne":if(g.selectedDates.length===1&&u.selected)return void g._selectDate(u.value);g._clearSelection(!0),g._selectDate(u.value);break;case"week":{if(u.selected&&(u.value.getTime()===g.selectedDates[0].getTime()||u.value.getTime()===g.selectedDates[g.selectedDates.length-1].getTime()))return g._clearSelection(),void g._focusCell(u);g._clearSelection(!0);let e=new Date(u.value);g._selectDate(e);for(let t=1;t<7;t++)e.setDate(e.getDate()+1),g._selectDate(e);g._isDateInView(e)||g.navigate(1);break}}}_handleImportantDateTemplate(){const u=this;if(u._importantDatesTemplate=u._validateTemplate("importantDatesTemplate",u.importantDatesTemplate),!u._importantDatesTemplate||!u._importantDatesTemplate.content)return;let g=u._importantDatesTemplate.content;const e=g.childNodes.length,t=/{{\w+}}/g;let n;u._bindingDetails=[];for(let a=0;a<e;a++)if(n=t.exec(g.childNodes[a].innerHTML),n)return void u._bindingDetails.push({childNodeIndex:a,bindingString:n[0]})}_handleLayoutTemplate(u,g){const e=this,t=e._validateTemplate(u.$.hasClass("smart-header")?"headerTemplate":u.$.hasClass("smart-calendar-footer")?"footerTemplate":"titleTemplate",g);if(!t||!t.content)return void(typeof g=="function"&&g(u,{}));e._layoutTemplates||(e._layoutTemplates=[]);let n=document.importNode(t.content,!0);u.innerHTML="";const a=n.childNodes.length,i=/{{\w+}}/g;let r,o=[];for(let d=0;d<a;d++)r=i.exec(n.childNodes[d].innerHTML),r&&o.push({childNodeIndex:d,bindingString:r[0]});if(e._layoutTemplates=e._layoutTemplates.filter(d=>d.selector!==u),e._layoutTemplates.push({selector:u,template:t,bindings:o}),e.shadowRoot)return u.innerHTML="<slot></slot>",void e.appendChild(n);u.appendChild(n)}_handleCalendarCellHover(u,g){const e=this;if(!e._animationStarted){if(e.displayMode==="month")if(u.type==="mouseover"&&(e.selectionMode==="many"||e.selectionMode==="range"&&e._newRangeSelectionStarted)&&e.selectedDates.length>0){const t=e.$.monthsContainer.children;for(let d=0;d<t.length;d++)e._getMonthCells(t[d]).map(f=>{e._setCellState(f,"hover",!1)});let n=new Date(e.selectionMode==="range"?e.selectedDates[e.selectedDates.length-1]:e.selectedDates[0]),a=new Date(g.value),i=g;const r=n.getTime()>a.getTime()?-1:1,o=function(){i=e._getCellByDate(n),!i||i.selected||i.restricted||e._setCellState(i,"hover",!0)};if(n.getTime()!==a.getTime()){for(n.setDate(n.getDate()+r);n.getTime()!==a.getTime();)o(),n.setDate(n.getDate()+r);o()}}else e._setCellState(g,"hover",!1);u.type!=="mouseover"||g.otherMonth?e._setCellState(g,"hover",!1):e._setCellState(g,"hover",!0)}}_handleMonths(u,g){const e=this;let t;function n(i){let r,o=i.children.length,d=document.createDocumentFragment();for(;o<e.months;o++)r=e.$.month.cloneNode(!1),r.innerHTML=e.$.month.innerHTML,d.appendChild(r);return d}function a(i){let r=i.children;for(let o=0;o<r.length;o++)e._setMonth(u,r[o]),u.setMonth(u.getMonth()+1);e._setWeeksVisibility(i),e._refreshHeaderElements(),e._refreshHeaderTitle(),e.tooltip&&e.$.tooltip&&e.$.tooltip.close(),e.$.body===document.activeElement&&e._focusCell()}if(u||(u=e._viewDates&&e._viewDates.length>0?e._viewDates[0]:new Date),u=new Date(Math.min(Math.max(e.min.getTime(),u.getTime()),e.max.getTime())),g||(g=e.$.monthsContainer),e._selectedCells=[],e.hasAnimation){for(t=e.$.nextMonthsContainer.children,t.length>0&&t[0].value instanceof Date&&(e.$.nextMonthsContainer.innerHTML="");e.$.nextMonthsContainer.childElementCount<e.months;)e.$.nextMonthsContainer.appendChild(n(e.$.nextMonthsContainer));for(;e.$.nextMonthsContainer.childElementCount>e.months;)e.$.nextMonthsContainer.removeChild(t[e.$.nextMonthsContainer.childElementCount-1]);if(arguments[1]===e.$.nextMonthsContainer)return void a(e.$.nextMonthsContainer)}if(t=e.$.monthsContainer.children,t.length>e.months){for(;e.$.monthsContainer.childElementCount>e.months;)e.$.monthsContainer.removeChild(t[e.$.monthsContainer.childElementCount-1]),e._viewDates.pop();a(e.$.monthsContainer)}else e.$.monthsContainer.children.length!==e.months&&(e._viewDates=[],e.$.monthsContainer.appendChild(n(e.$.monthsContainer))),a(e.$.monthsContainer)}_headerChangeHandler(u){const g=this;if(u.stopPropagation(),g.disabled||g.readonly)return;if(u.target.ownerElement===g.$.monthElement&&g._changeEventFired!==0)return void g._changeEventFired--;const e=g.displayMode;u.target===g.$.yearElement&&(g._viewDates[0].setFullYear(Math.min(Math.max(g.min.getFullYear(),isNaN(parseInt(g.$.yearElement.value))?0:parseInt(g.$.yearElement.value)),g.max.getFullYear())),g._handleMonths(g._viewDates[0])),!g.$.monthElement||u.target!==g.$.monthElement&&u.target.ownerElement!==g.$.monthElement||(g._handleMonths(new Date(g.$.monthsContainer.children[0]._date.getFullYear(),g.$.monthElement.selectedIndex,1)),e!=="month"&&g._setDisplayMode(g.displayMode,g.displayMode="month"))}_headerClickHandler(u){const g=this;if(g.disabled||g.readonly)return;let e=u.target.closest("smart-repeat-button");if(!e||!e.disabled){switch(e){case g.$.previousMonthButton:return g._isInteractiveNavigation=!0,void g.navigate(-1*g.months*(g.rightToLeft?-1:1));case g.$.nextMonthButton:return g._isInteractiveNavigation=!0,void g.navigate(1*g.months*(g.rightToLeft?-1:1));case g.$.previousYearButton:return void g.navigate(-12);case g.$.nextYearButton:return void g.navigate(12)}g.calendarMode!=="classic"&&u.target.closest(".smart-calendar-date-element")&&(g._animationStarted&&g._animateNavigationCompleted(),g._isInteractiveNavigation=!0,g._showDateView())}}_selectMultipleDates(u,g){const e=this;if(g instanceof HTMLElement&&(g=g.value),e._newRangeSelectionStarted?e._selectDate(u,!0):e._clearSelection(!0),e.selectionMode!=="range"||g.getTime()!==u.getTime()){if((u=new Date(u)).getTime()<g.getTime())for(;u.getTime()<=g.getTime();)e.selectedDates.find(t=>t.getTime()===u.getTime())||e._selectDate(u,!0),u.setDate(u.getDate()+1);else if(u.getTime()>g.getTime())for(;u.getTime()>=g.getTime();)e.selectedDates.find(t=>t.getTime()===u.getTime())||e._selectDate(u,!0),u.setDate(u.getDate()-1);else e._selectDate(g,!0);e.$.hiddenInput.value=e.selectedDates.toString(),e._refreshFooter(),e.isInitialized&&(e.$.fireEvent("change",{value:e.selectedDates}),e._updateTargetValue()),e._refreshTitle()}}_setDisplayMode(u,g,e){const t=this;if(t.$nextMonthsContainer.removeClass("smart-calendar-date-view-container"),arguments.length!==0&&t.hasAnimation)if(t._animationStarted&&(t.displayMode=u,t._animateNavigationCompleted(),t.displayMode=g),u==="month"&&g==="year"||u==="year"&&g==="decade")t.displayMode=u,t._showDateView(e?void 0:t.displayMode);else if(u==="month"&&g==="decade")t._showDateView(t.displayMode="year");else{let n;t.displayModeView==="list"?(n=t.$.listViewContainer.querySelector("li.active"),t.$.animationPanel.style.transformOrigin=n.offsetLeft+n.offsetWidth/2+"px "+(n.offsetTop>0?n.offsetTop-n.offsetHeight/2:n.offsetTop+n.offsetHeight/2)+"px"):(t.$.dateViewContainer.style.order=1,t.$.nextMonthsContainer.style.order=3,n=t._focusedCell,t.$.animationPanel.style.transformOrigin=n.offsetLeft+n.offsetWidth/2+"px "+(n.offsetTop+n.offsetHeight/2)+"px"),t._animateView(1,n)}else{if(t.calendarMode==="classic")return void(t.displayMode="month");if(t.displayMode!=="month"&&(t.$monthsContainer.addClass("smart-hidden"),t.$dateViewContainer.hasClass("smart-hidden")&&t.$dateViewContainer.removeClass("smart-hidden")),!t.isCompleted&&t.displayMode==="month")return;t._setDisplayModeContent()}}_setDisplayModeContent(u,g){const e=this;let t=u&&u.toString()!=="Invalid Date"?u:e.selectedDates.length>0?e.selectedDates[e.selectedDates.length-1]:new Date;t.setTime(Math.min(Math.max(t.getTime(),e.min.getTime()),e.max.getTime())),t.setHours(0,0,0,0);const n=e._prepareView(t);if(!n)return;let a;g?(e.$.nextMonthsContainer.innerHTML=e.$.dateViewContainer.innerHTML,a=e.$.nextMonthsContainer):a=e.$.dateViewContainer;const i=a.children;let r;for(let o=0;o<i.length;o++){const d=i[o];d.innerHTML=n.viewContent[o],d.value=n.dates[o],e.displayMode==="year"?(d.value.getFullYear()<e.min.getFullYear()||d.value.getFullYear()===e.min.getFullYear()&&d.value.getMonth()<e.min.getMonth()||d.value.getFullYear()>e.max.getFullYear()||d.value.getFullYear()===e.max.getFullYear()&&d.value.getMonth()>e.max.getMonth()?e._setCellState(d,"otherMonth",!0):e._setCellState(d,"otherMonth",!1),t.getFullYear()===d.value.getFullYear()&&t.getMonth()===d.value.getMonth()&&(r=d)):e.displayMode==="decade"&&(o===0||o===i.length-1||d.value.getFullYear()<e.min.getFullYear()||d.value.getFullYear()>e.max.getFullYear()?e._setCellState(d,"otherMonth",!0):e._setCellState(d,"otherMonth",!1),t.getFullYear()===d.value.getFullYear()&&(r=d)),e._setCellState(d,"hover",!1),e._setCellState(d,"focus",!1)}if(r.otherMonth){for(let o=0;o<i.length;o++)if(!i[o].otherMonth){r=i[o];break}}e._mobileScrolling||(e._focusedCell&&e._setCellState(e._focusedCell,"focus",!1),e._focusedCell=r,e._focusCell(e._focusedCell),e._refreshHeaderTitle(),e._refreshHeaderElements(),e.$.fireEvent("displayModeChange"),e._isInteractiveNavigation?e._isInteractiveNavigation=void 0:(e._setCellState(r,"focus",!0),setTimeout(function(){e.unfocusable||(e.$.body.focus(),e._focusCell(e._focusedCell))},0)))}_prepareView(u){const g=this,e=g.$.listViewContainer;let t,n,a=[],i=[];function r(o,d,f){let p=new Date(o,d+1,0),v=p.getDate();return f>v?p.setDate(v):p.setDate(f),p}if(g.displayMode==="month")return g.$nextMonthsContainer.hasClass("smart-date-view-container")&&g.$nextMonthsContainer.removeClass("smart-date-view-container"),e&&e.classList.add("smart-hidden"),g.$dateViewContainer.hasClass("smart-visibility-hidden")&&g.$dateViewContainer.removeClass("smart-visibility-hidden"),g._isDateInView(u)||g._handleMonths(u),g.$header.hasClass("smart-hidden")&&g.$header.removeClass("smart-hidden"),g.$body.hasClass("smart-calendar-list-view")&&g.$body.removeClass("smart-calendar-list-view"),g.$dateContainer.addClass("smart-calendar-selected"),g.$yearContainer.removeClass("smart-calendar-selected"),g.$dateViewContainer.addClass("smart-hidden"),g.$monthsContainer.removeClass("smart-hidden"),g._refreshHeaderTitle(),g.$.body.setAttribute("tabindex",g.tabIndex>0?g.tabIndex:0),g._refreshHeaderElements(),g.unfocusable||g.$.body.focus(),g._focusCell(g._getCellByDate(u)),void g.$.fireEvent("displayModeChange");if(g.displayModeView==="list")return g._setDisplayModeListContent(u),void g.$.fireEvent("displayModeChange");if(g.$header.hasClass("smart-hidden")&&g.$header.removeClass("smart-hidden"),g.$dateViewContainer.hasClass("smart-visibility-hidden")&&g.$dateViewContainer.removeClass("smart-visibility-hidden"),e&&e.classList.add("smart-hidden"),g.$.body.setAttribute("tabindex",g.tabIndex>0?g.tabIndex:0),g.displayMode==="year"){let o=new Date;for(let d=0;d<12;d++)o=r(o.getFullYear(),d,o.getDate()),a.push(o.toLocaleDateString(g.locale,{month:"short"})),i.push(r(u.getFullYear(),d,u.getDate()))}else{t=u?u.getFullYear():g._viewDates[0].getFullYear(),n=t%10,n!==0&&(t-=n),t-=1;for(let o=0;o<12;o++)a.push(t+""),i.push(new Date(t,u.getMonth(),u.getDate())),++t}return{viewContent:a,dates:i}}_setDisplayModeListContent(u){const g=this;let e=[];function t(n,a,i){let r=new Date(n,a+1,0),o=r.getDate();return i>o?r.setDate(o):r.setDate(i),r}if(g.$dateViewContainer.addClass("smart-visibility-hidden"),g.displayMode==="year"){let n=new Date;for(let a=0;a<12;a++)n=t(n.getFullYear(),a,n.getDate()),e.push({label:n.toLocaleDateString(g.locale,{month:"short"}),value:t(u.getFullYear(),a,u.getDate()).toDateString()});g.$yearContainer.removeClass("smart-calendar-selected"),g.$dateContainer.addClass("smart-calendar-selected")}else{let n=g.min.getFullYear(),a=g.max.getFullYear();a=Math.min(g.max.getFullYear(),u.getFullYear()+10),n=Math.max(g.min.getFullYear(),a-10);for(let i=n;i<a;i++)e.push({label:i.toString(),value:new Date(i,u.getMonth(),u.getDate()).toDateString()});g.$yearContainer.addClass("smart-calendar-selected"),g.$dateContainer.removeClass("smart-calendar-selected")}g._prepareListViewer(e,u.toDateString()),g._refreshHeaderTitle(),g._refreshHeaderElements(),g.unfocusable||g.focus()}_prepareListViewer(u=[],g){const e=this,t=e.$.body;let n=e.$.listViewContainer;n||(e.$.listViewContainer=n=document.createElement("smart-scroll-viewer"),n.classList.add("smart-input-drop-down-menu","smart-calendar-list-view"),n.ensureVisible=e._listViewerEnsureVisible.bind(e),n._handleKeyStrokes=e._listViewerKeyStrokesHandler.bind(e),n._setActiveDescendant=e._listViewerSetActiveDescendant.bind(e));let a=n.querySelector("ul");a||(a=document.createElement("ul"),a.onclick=e._listViewContainerItemClickHandler.bind(e),n.appendChild(a)),t.contains(n)&&t.removeChild(n),a.innerHTML="";for(let i=0;i<u.length;i++){const r=u[i],o=r.label,d=r.value,f=document.createElement("li"),p=document.createElement("a");g===d?(f.setAttribute("aria-selected",!0),f.classList.add("active"),g=f):f.setAttribute("aria-selected",!1),f.id=n.id+"Item"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),f.setAttribute("value",d),f.setAttribute("role","option"),f.setAttribute("aria-label",o),p.innerHTML=o,p.setAttribute("aria-hidden",!0),f.appendChild(p),a.appendChild(f)}n.classList.remove("smart-hidden"),t.classList.add("smart-calendar-list-view"),t.removeAttribute("tabindex"),t.insertBefore(n,e.$.animationPanel),n.refresh(),n.ensureVisible()}_listViewerEnsureVisible(){const u=this.$.listViewContainer,g=u.querySelector(".active");if(!g)return;const e=Array.from(u.querySelectorAll("li"));g.offsetTop+g.offsetHeight>=u.scrollTop+u.offsetHeight&&(u.scrollTop=g.offsetTop+g.offsetHeight),(g.offsetTop<=u.scrollTop||g.offsetTop>=u.scrollTop+u.offsetHeight)&&(u.scrollTop=g.offsetTop),e.indexOf(g)===0?u.scrollTop=0:e.indexOf(g)===e.length-1&&(u.scrollTop=u.scrollHeight)}_listViewerKeyStrokesHandler(u){if(["ArrowUp","ArrowDown"].indexOf(u)<0)return;event.preventDefault();const g=this.$.listViewContainer,e=g.querySelector(".active");if(!e){const n=g.querySelector("li");return n.classList.add("active"),void g._setActiveDescendant(n)}const t=e[u==="ArrowDown"?"nextElementSibling":"previousElementSibling"];t&&(e.classList.remove("active"),t.classList.add("active"),g._setActiveDescendant(t),g.ensureVisible())}_listViewerSetActiveDescendant(u){const g=this.$.listViewContainer;u?g.setAttribute("aria-activedescendant",u.id):g.removeAttribute("aria-activedescendant")}_listViewContainerItemClickHandler(u){const g=this,e=u.target.closest("li");e&&g.displayModeView==="list"&&g.displayMode!=="month"&&g._displayModeHandler(e)}_isDateInView(u){const g=this;if(!u)return!1;for(let e=0;e<g._viewDates.length;e++)if(u.getFullYear()===g._viewDates[e].getFullYear()&&u.getMonth()===g._viewDates[e].getMonth()){let t=g._getCellByDate(u,g._animationStarted?g.$.nextMonthsContainer:void 0);return t?!(t.otherMonth||!t.offsetHeight||t.classList.contains("smart-visibility-hidden")):void 0}return!1}_keyDownHandler(u){const g=this;if(g.disabled||g.readonly)return;const e=(g.shadowRoot||g.getRootNode()).activeElement||document.activeElement;switch(e){case g.$.yearElement:u.key==="Escape"&&g._refreshHeaderElements();break;case g.$.dateElement:if(g.calendarMode==="default"&&u.key===" "||u.key==="Enter")return u.preventDefault(),g._isInteractiveNavigation=!0,void g._showDateView();g._focusedCell||g._focusCell(),u.key.indexOf("Arrow")>-1&&g.$.dateElement===e&&!g.unfocusable&&g.$.body.focus(),g._navigateDays(u);break;case g.$.body:u.key===" "&&u.preventDefault(),g._navigateDays(u);break;case g.$.yearContainer:if(u.key!==" "&&u.key!=="Enter"||g.displayMode==="decade"||(u.preventDefault(),g._isInteractiveNavigation=!0,g._showDateView("year")),u.key.indexOf("Arrow")>-1){if(u.preventDefault(),g._focusedCell||g._focusCell(),g.displayMode!=="month"&&g.displayModeView==="list")return g.unfocusable||g.focus(),void g.$.listViewContainer._handleKeyStrokes(u.key);g._navigateDays(u)}break;case g.$.dateContainer:if(u.key!==" "&&u.key!=="Enter"||g.displayMode==="month"||(u.preventDefault(),g._displayModeHandler(g.displayModeView==="list"?g.$.listViewContainer.querySelector("li.active"):g._focusedCell,"month")),u.key.indexOf("Arrow")>-1){if(g._focusedCell||g._focusCell(),g.displayMode!=="month"&&g.displayModeView==="list")return g.unfocusable||g.focus(),void g.$.listViewContainer._handleKeyStrokes(u.key);g._navigateDays(u)}break;default:if(g.displayMode!=="month"&&g.displayModeView==="list")return["Arrow","End","Home","Page"].indexOf(u.key)&&u.preventDefault(),u.key===" "||u.key==="Enter"||u.ctrlKey&&(u.key==="ArrowUp"||u.key==="ArrowDown")?void g._navigateDays(u):void g.$.listViewContainer._handleKeyStrokes(u.key);u.key.indexOf("Arrow")>-1&&(g._focusedCell||g._focusCell(),g._navigateDays(u))}}_showDateView(u){const g=this;switch(u=u||g.displayMode){case"month":u="year";break;case"year":u="decade"}if(g.displayMode===u||g.$.fireEvent("displayModeChanging",{oldDisplayMode:g.displayMode,newDisplayMode:u}).defaultPrevented)return;let e;if(g.displayMode=u,g.displayModeView==="list"&&g.displayMode!=="month"){g._setDisplayModeListContent(g._focusedCell?g._focusedCell.value:g._viewDates[0]);const t=g.$.listViewContainer;t.classList.remove("smart-hidden"),e=t.querySelector("li.active"),e.offsetHeight?g.$.animationPanel.style.transformOrigin=e.offsetLeft+e.offsetWidth/2+"px "+(e.offsetTop>0?e.offsetTop-e.offsetHeight/2:e.offsetTop+e.offsetHeight/2)+"px":g.$.animationPanel.style.transformOrigin=t.offsetLeft+t.offsetWidth/2+"px "+(e.offsetTop>0?e.offsetTop-e.offsetHeight/2:t.offsetTop+t.offsetHeight/2)+"px"}else g._focusedCell||g._focusCell(),e=g._focusedCell,g.$.animationPanel.style.transformOrigin=e.offsetLeft+e.offsetWidth/2+"px "+(e.offsetTop+e.offsetHeight/2)+"px";g.$monthsContainer.addClass("smart-hidden"),g.$dateViewContainer.hasClass("smart-hidden")&&g.$dateViewContainer.removeClass("smart-hidden"),g.displayMode==="decade"&&(g.$yearContainer.addClass("smart-calendar-selected"),g.$dateContainer.removeClass("smart-calendar-selected")),g.hasAnimation?g._animateView(-1,e):g._setDisplayModeContent(g._focusedCell?g._focusedCell.value:g._viewDates[0])}_keyUpHandler(u){const g=this;g.disabled||g.readonly||g.selectionMode!=="default"&&g.selectionMode!=="range"||u.key!=="Shift"&&u.key!=="Control"||(g._keysPressed[u.key]=!1)}_handleTooltip(){const u=this,g=u.tooltip;let e=u.$.tooltip;g?(e||(e=document.createElement("smart-tooltip"),e.tooltipTemplate=u.tooltipTemplate,e.arrow=u.tooltipArrow,e.arrowDirection=u.tooltipArrowDirection,e.offset=u.tooltipOffset,e.position=u.tooltipPosition,e.delay=u.tooltipDelay,e.rightToLeft=u.rightToLeft,e.openMode="manual",u.$.tooltip=e),e.parentElement||u.$.calendarContainer.appendChild(e)):e&&e.remove()}_mouseEventsHandler(u){const g=this;if(g.disabled||g.readonly)return;const e=g.$.tooltip;if(u.type==="mouseenter")return void g.$.setAttributeValue("hover",!0);if(u.type==="mouseleave"){if(g.$.setAttributeValue("hover",!1),g._newRangeSelectionStarted&&g.selectionMode==="range"){const i=g.$.monthsContainer.children;for(let r=0;r<i.length;r++)g._getMonthCells(i[r]).map(o=>{g._setCellState(o,"hover",!1)})}return void(g.tooltip&&e&&e.close())}const t=g.shadowRoot||g.isInShadowDOM?u.composedPath()[0]:u.target;if(!t.closest(".smart-calendar-week"))return void(g.tooltip&&e&&(clearTimeout(g._tooltipAutoCloseTimeout),e[e.contains(t)?"open":"close"]()));const n=t.closest(".smart-calendar-cell");if(!n)return;if(Smart.Utilities.Core.isMobile||g._handleCalendarCellHover(u,n),!g.tooltip&&e)return void e.close();const a=n.hasAttribute("important");if(clearTimeout(g._tooltipAutoCloseTimeout),a&&e&&u.type==="mouseover")return e.selector=n,void(e.selector!==n?e.close():(g.tooltipTemplate||(e.innerHTML=e.innerHTML.trim().length===0?"Important day!":e.innerHTML),e.open(),g.$.fireEvent("open",{target:e,value:new Date(n.value)})));g._tooltipAutoCloseTimeout=setTimeout((function(){!e||u.type!=="mouseout"&&n&&a||e.close(),clearTimeout(g._tooltipAutoCloseTimeout)}).bind(g),g.tooltipDelay)}_popupEventHandler(u){const g=this,e=g.$.tooltip;if(u.stopPropagation(),u.target!==g.$.monthElement)if(u.target===e){if(u.type==="close"){const t=e.selector;g.$.fireEvent("close",{target:e,value:t?new Date(t.value):null})}}else g.$.fireEvent(u.type,{target:u.target})}_moveHandler(u){const g=this;if(!Smart.Utilities.Core.isMobile||!g._dragStartDetails||g.displayModeView==="list"&&g.displayMode!=="month")return;u.originalEvent.preventDefault(),u.preventDefault(),u.stopPropagation();const e={x:Math.round(u.pageX),y:Math.round(u.pageY)};let t,n,a;if(t=g.scrollButtonsNavigationMode==="portrait"?e.y>g._dragStartDetails.y?-1*g.months:1*g.months:e.x<g._dragStartDetails.x?1*g.months:-1*g.months,g._previousIteration&&t===g._previousIteration.step)n=g._previousIteration.date;else if(g.weeks!==6&&g.weeks!==0&&g.displayMode==="month"){let r,o;g._focusedCell||g._focusCell();const d=[].slice.call(g._focusedCell.closest(".smart-calendar-weeks").children).filter(f=>!f.classList.contains("smart-hidden"));if(d.length){let f;!g.rightToLeft&&t<0||g.rightToLeft&&t>0?(f=d[0].querySelectorAll(".smart-calendar-cell"),o=g.rightToLeft?f[f.length-1]:f[0]):(f=d[d.length-1].querySelectorAll(".smart-calendar-cell"),o=g.rightToLeft?f[0]:f[f.length-1]),r=new Date(o.value),r.setDate(r.getDate()+t*(g.rightToLeft?-1:1)),n=r}else n=g._getNextDate(t*(g.rightToLeft?-1:1))}else n=g._getNextDate(t*(g.rightToLeft?-1:1));if(!n)return;if(!g._dragStartDetails.navigationDate&&g.$.fireEvent("navigationChanging",{value:new Date(n),type:g.displayMode}).defaultPrevented)return g._cancelAnimation(),void(g._dragStartDetails=void 0);if(g._dragStartDetails.step=t,g._dragStartDetails.navigationDate=new Date(n),!g.hasAnimation)return;if(g._previousIteration={step:t,date:n},g._mobileScrolling=!0,g.displayMode!=="month")g.$nextMonthsContainer.addClass("smart-calendar-date-view-container"),a=g.$.dateViewContainer,g.$.nextMonthsContainer.children[0].value instanceof Date&&g.$.nextMonthsContainer.children[1].value.getFullYear()===n.getFullYear()||g._setDisplayModeContent(n,g.$.nextMonthsContainer);else if(g.$nextMonthsContainer.hasClass("smart-calendar-date-view-container")&&g.$nextMonthsContainer.removeClass("smart-calendar-date-view-container"),a=g.$.monthsContainer,!g.$.nextMonthsContainer.children[0]._date||g.$.nextMonthsContainer.children[0]._date.getTime()!==n.getTime()){let r=g.$.nextMonthsContainer.children;for(let o=0;o<r.length;o++)n.setMonth(g._dragStartDetails.navigationDate.getMonth()+o*(g.rightToLeft?-1:1)),g._setMonth(new Date(n),r[o],!0)}g.weeks!==6&&g.weeks!==0&&g.displayMode==="month"&&g._updateWeeksVisibility(t*(g.rightToLeft?-1:1),g._getCellByDate(n,g.$.nextMonthsContainer)),delete g._mobileScrolling,t<0?(a.style.order=3,g.$.nextMonthsContainer.style.order=1,g.$.body[g._animationSettings.scrollSize]=g.$.body[g._animationSettings.scrollMax]):(a.style.order=1,g.$.nextMonthsContainer.style.order=3,g.$.body[g._animationSettings.scrollSize]=0);const i=g.scrollButtonsNavigationMode==="portrait"?"y":"x";Math.abs(g._dragStartDetails[i]-e[i])>5&&(g.$.body[g._animationSettings.scrollSize]+=2*-(e[i]-g._dragStartDetails[i]))}_getNextDate(u){const g=this;let e;if(g.displayMode!=="month"){let t;const n=g._focusedCell&&g._focusedCell.value.getFullYear();if(g.displayModeView==="list")e=new Date(g.$.listViewContainer.querySelector("li").getAttribute("value"));else{let i=g._animationStarted?g.$.nextMonthsContainer:g.$.dateViewContainer;e=new Date(g.displayMode==="year"?i.children[0].value:i.children[1].value)}t=g.displayMode==="year"?1:u!==0?10:1,e.setFullYear(e.getFullYear()+(u>0?t:-t)),e.getTime()<g.min.getTime()&&(e=g.min),e.getTime()>g.max.getTime()&&(e=g.max);const a=g.displayMode!=="month"&&g.displayModeView==="list";if(e.getFullYear()<g.min.getFullYear()||e.getFullYear()>g.max.getFullYear()||!a&&n===e.getFullYear())return}else{let t=g._viewDates[0];if(e=new Date(t),e.setDate(1),e.setMonth(e.getMonth()+u),e.setTime(Math.min(Math.max(e.getTime(),g.min.getTime()),g.max.getTime())),t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear())return}return e}_navigateDays(u){const g=this;let e=u.key==="ArrowUp"||u.key==="ArrowDown"?7:1,t=u.key==="ArrowUp"||u.key==="ArrowLeft"||u.key==="PageUp"?-1:1;switch(u.key){case"ArrowUp":case"ArrowLeft":case"ArrowDown":case"ArrowRight":if(!g._handleArrowKeys(u,e,t))return;break;case" ":case"Enter":{if(g.displayMode!=="month")return void g._displayModeHandler(g.displayModeView==="list"?g.$.listViewContainer.querySelector("li.active"):g._focusedCell);const n=g._focusedCell;if(g.selectionMode==="oneExtended"&&n)return g._clearSelection(!0),void g._selectDate(n.value,g._selectedCells.indexOf(n.value)>-1);break}case"Control":case"Shift":return g.selectionMode==="default"&&(g._keysPressed[u.key]=!0),void(g.selectionMode==="range"&&(g._keysPressed[u.key]=u.key==="Control"));case"Home":case"End":{u.preventDefault();let n,a=function(i){if(u.key==="Home"){for(let r=0;r<i.length;r++)if(!i[r].otherMonth&&(!i[r].disabled||!i[r].restricted)&&i[r].offsetHeight)return i[r]}else for(let r=i.length-1;r>=0;r--)if(!i[r].otherMonth&&(!i[r].disabled||!i[r].restricted)&&i[r].offsetHeight)return i[r]};if(n=g.displayMode!=="month"?a(g.$.dateViewContainer.children):a(g._getMonthCells(g._focusedCell.closest(".smart-calendar-month"),g.rightToLeft)),!n||(g._focusCell(n),g.displayMode!=="month"))return;break}case"PageUp":case"PageDown":if(!g._handlePageUpDownKeys(u,t))return;break;default:return}g.selectionMode!=="oneExtended"&&g._focusedCell&&g._handleDateSelection(g._focusedCell)}_handleArrowKeys(u,g,e){const t=this;let n;if(t.displayMode!=="month"||t._animationStarted||t.unfocusable||t.$.body.focus(),t._focusedCell||t._focusCell(t._getCellByDate(new Date)),u.altKey)return;if(u.ctrlKey){if(u.key==="ArrowDown"||u.key==="ArrowUp"){if(t.calendarMode==="classic")return;let r;switch(t.displayMode){case"month":r=u.key==="ArrowDown"?"month":"year";break;case"year":r=u.key==="ArrowDown"?"month":"decade";break;case"decade":r=u.key==="ArrowDown"?"year":"decade"}if(r!==t.displayMode){const o=t.displayMode;t.displayMode=r,t._setDisplayMode(o,r,o==="month"),t._keysPressed&&delete t._keysPressed.Control}}return}if(u.preventDefault(),!t.rightToLeft||u.key!=="ArrowLeft"&&u.key!=="ArrowRight"||(e*=-1),t.displayMode!=="month"&&t.displayModeView!=="list"){const r=t._animationStarted?t.$.nextMonthsContainer.children:t.$.dateViewContainer.children;if(g=u.key==="ArrowUp"||u.key==="ArrowDown"?4:1,t.displayMode==="year"){const o=t._focusedCell.value.getMonth()+e*g;let d=new Date(t._focusedCell.value.getFullYear(),o+1,0);t._focusedCell.value.getDate()<=d.getDate()&&(d=t._focusedCell.value),n=new Date(t._focusedCell.value.getFullYear(),o,d.getDate())}else n=new Date(t._focusedCell.value.getFullYear()+e*g,t._focusedCell.value.getMonth(),t._focusedCell.value.getDate());if(t.displayMode==="year"){if(n.getFullYear()<t.min.getFullYear()||n.getFullYear()===t.min.getFullYear()&&n.getMonth()<t.min.getMonth()||n.getFullYear()>t.max.getFullYear()||n.getFullYear()===t.max.getFullYear()&&n.getMonth()>t.max.getMonth())return;n.getTime()>r[r.length-1].value.getTime()?t.navigate(1):n.getTime()<r[0].value.getTime()&&t.navigate(-1)}else{if(n.getFullYear()<t.min.getFullYear()||n.getFullYear()>t.max.getFullYear())return;if(n.getFullYear()<r[1].value.getFullYear()||n.getFullYear()>r[10].value.getFullYear()){let o=t._focusedCell;t.navigate(e),u.key!=="ArrowUp"&&u.key!=="ArrowDown"||(o===r[3]||o===r[4]||o===r[7]||o===r[8]?n.setFullYear(n.getFullYear()+2*e):n.setFullYear(n.getFullYear()-2*e))}}return void t._focusCell(t._getCellByDate(n,t._animationStarted?t.$.nextMonthsContainer:void 0))}if(!t._focusedCell)return;const a=t.restrictedDates.map(Number);for(n=new Date(t._focusedCell.value.getFullYear(),t._focusedCell.value.getMonth(),t._focusedCell.value.getDate()+e*g,0,0,0,0);a.indexOf(n.getTime())>-1;)n.setDate(n.getDate()+e);if(n.getTime()<t.min.getTime()||n.getTime()>t.max.getTime())return;t._isDateInView(n)||t.navigate(e*t.months);let i=t._getCellByDate(n,t._animationStarted?t.$.nextMonthsContainer:void 0);return t._focusCell(i),t._updateWeeksVisibility(e),!(["zeroOrMany","oneOrMany","none","many","week","range"].indexOf(t.selectionMode)>-1)||void 0}_handlePageUpDownKeys(u,g){const e=this;let t;if(u.preventDefault(),e.displayMode!=="month"){if(t=e._focusedCell,!e.navigate(g))return;for(;t&&t.classList.contains("smart-visibility-hidden");)t=t.previousElementSibling===null?t.nextElementSibling:t.previousElementSibling;return e._focusCell(t),void(e.hasAnimation&&e.displayMode==="decade"&&e._focusedCell.value.setFullYear(e._focusedCell.value.getFullYear()+10*g))}t=new Date(e._focusedCell.value.getFullYear(),e._focusedCell.value.getMonth()+g,1,0,0,0,0);let n=new Date(t.getFullYear(),t.getMonth()+1,0).getDate();return e._focusedCell.value.getDate()>n?t.setDate(n):t.setDate(e._focusedCell.value.getDate()),e._isDateInView(t)||e.navigate(t),e._animationStarted?e._focusCell(e._getCellByDate(t,e.$.nextMonthsContainer)):e._focusCell(e._getCellByDate(t)),!0}_selectDate(u,g,e){const t=this;if(t._viewDates===void 0||t.selectionMode==="none")return;let n,a=t.selectedDates.slice(0),i=t._getCellByDate(u,t._animationStarted?t.$.nextMonthsContainer:void 0);i&&t._selectCell(i),(u=new Date(u)).setHours(0,0,0,0),n=a.map(Number).indexOf(u.getTime()),t.restrictedDates.map(Number).indexOf(u.getTime())>-1||u.getTime()<t.min.getTime()||u.getTime()>t.max.getTime()||(n>-1?a.splice(n,1):a.push(u),e||(t.selectedDates=a),t._refreshFooter(),t.$.hiddenInput.value=t.selectedDates.toString(),!g&&t.isInitialized&&(t.$.fireEvent("change",{value:[u]}),t._updateTargetValue()),t._refreshTitle())}_selectCell(u){const g=this;if(!u||g.restrictedDates.map(Number).indexOf(u.value.getTime())>-1||g.disableAutoNavigation&&u.otherMonth===!1||u.value.getTime()<g.min.getTime()||u.value.getTime()>g.max.getTime())return;const e=g._selectedCells.indexOf(u);e>-1?(g._setCellState(u,"selected",!1),g._selectedCells.splice(e,1)):(g._setCellState(u,"selected",!0),g._selectedCells.push(u)),g._focusCell(u)}_refreshDayOfWeekTitles(){const u=this;let g,e=[],t=new Date;function n(o){let d;return u.dayNameFormat==="firstTwoLetters"?(d=new Intl.DateTimeFormat(u.locale,{weekday:"long"}).format(o),d=d.charCodeAt(0)===8206?d.substring(1,3):d.substring(0,2)):d=new Intl.DateTimeFormat(u.locale,{weekday:u.dayNameFormat}).format(o),d}for(let o=1;o<8;o++)t.setDate(o),g={number:t.getDay(),name:n(t)},e.push(g);e.sort((o,d)=>o.number>d.number?1:-1);const a=u.$.monthsContainer.children;let i,r;for(let o=0;o<a.length;o++)if(i=a[o].getElementsByClassName("smart-calendar-week-titles")[0].children,r=u.firstDayOfWeek>6?0:u.firstDayOfWeek,u.rightToLeft)for(let d=i.length-1;d>=1;d--)i[d].textContent=e[r++].name,r=r>6?0:r;else for(let d=1;d<i.length;d++)i[d].textContent=e[r++].name,r=r>6?0:r;if(u.hasAnimation){const o=u.$.monthsContainer.getElementsByClassName("smart-calendar-week-titles")[0].innerHTML,d=u.$.nextMonthsContainer.getElementsByClassName("smart-calendar-week-titles");for(let f=0;f<d.length;f++)d[f].innerHTML=o}}_refreshCalendarMode(){const u=this;if(!u.headerTemplate)if(u._refreshMonthNames(),u.calendarMode==="default"){u.$classicHeaderDate.addClass("smart-hidden"),u.$defaultHeaderDate.removeClass("smart-hidden");const g=u._viewDates.slice(0).sort((i,r)=>i.getTime()-r.getTime()),e=g[0],t=g[g.length-1];e.setDate(2);let n=u.monthNameFormat;n==="firstTwoLetters"&&(n="long");let a=e.toLocaleDateString(u.locale,{year:u.yearFormat,month:n});u.months>1&&(t.setDate(2),a+=" - "+t.toLocaleDateString(u.locale,{year:u.yearFormat,month:n})),u.$.defaultHeaderDate.innerHTML=a,u.unfocusable||u.$.dateElement.setAttribute("tabindex",u.tabIndex>0?u.tabIndex:0)}else u.$defaultHeaderDate.addClass("smart-hidden"),u.$classicHeaderDate.removeClass("smart-hidden"),u.$.dateElement.removeAttribute("tabindex")}_refreshFooter(){const u=this;if(!(u.viewSections.indexOf("footer")<0||u.$.footer.offsetHeight===0))if(u.footerTemplate){if(typeof u.footerTemplate=="function")return;let e=u._layoutTemplates.filter(n=>n.selector===u.$.footer)[0],t=document.importNode(e.template.content,!0);if(e.bindings.length>0){let n=t.childNodes[e.bindings[0].childNodeIndex];e.selector.childNodes[e.bindings[0].childNodeIndex].innerHTML=n.innerHTML.replace(e.bindings[0].bindingString,g())}}else u.$.selectedDatesRange.innerHTML=g();function g(){if(u.selectedDates.length===0)return"";if(u.selectedDates.length===1)return u.selectedDates[0].toLocaleDateString(u.locale,{year:u.yearFormat,weekday:"short",month:"short",day:"numeric"});{let e=u.selectedDates.slice(0).sort((t,n)=>t.getTime()-n.getTime());return e[0].toLocaleDateString(u.locale,{year:u.yearFormat,weekday:"short",month:"short",day:"numeric"})+" - "+e[e.length-1].toLocaleDateString(u.locale,{year:u.yearFormat,weekday:"short",month:"short",day:"numeric"})}}}_refreshImportantDates(){const u=this;if(u.displayMode==="month"){u._clearImportantDates();for(let g=0;g<u.importantDates.length;g++)u._setImportantDate(u.importantDates[g])}}_clearImportantDates(){const u=this,g=u.$.monthsContainer.children;for(let e=0;e<g.length;e++)u._getMonthCells(g[e]).map(t=>{u._setCellState(t,"important",!1)})}_setImportantDate(u,g){const e=this,t=e._getCellByDate(u);g||(g=t),g&&(e._setCellState(g,"important",!0),e._applyImportantDateTemplate(g))}_applyImportantDateTemplate(u){const g=this;if(!g._importantDatesTemplate)return typeof g.importantDatesTemplate=="function"?void g.importantDatesTemplate(u,{value:u.value}):void(u.innerHTML=u.value.getDate()+"");let e=document.importNode(g._importantDatesTemplate.content,!0);if(g._bindingDetails&&g._bindingDetails.length>0){let t=e.childNodes[g._bindingDetails[0].childNodeIndex];t.innerHTML=t.innerHTML.replace(g._bindingDetails[0].bindingString,u.value.getDate())}u.innerHTML="";for(let t=0;t<e.childNodes.length;t++)e.childNodes[t].outerHTML&&(u.innerHTML+=e.childNodes[t].outerHTML)}_setMonth(u,g,e){const t=this,n=t._getDays(u,t.selectedDates),a=t._getDays(u,t.importantDates),i=t._getDays(u,t.restrictedDates);u.setDate(1),g||(g=t.$.month),g._date=new Date(u),e||((!t._viewDates||t._viewDates.length>=t.months)&&(t._viewDates=[]),t._viewDates.push(new Date(u)));let r=((u=new Date(u)).getDay()-t.firstDayOfWeek+7)%7;u.setDate(0);let o=u.getDate();if(u.setDate(32),u.setDate(1),u.setDate(32),t._selectedCells)for(let d=0;d<t._selectedCells.length;d++)t._selectedCells[d].closest(".smart-calendar-month")===g&&t._setCellState(t._selectedCells[d],"selected",!1);t._setMonthContent(u,g,{previusMonthDays:o,firstDayOfWeek:r,selectedDates:n,importantDates:a,restrictedDates:i})}_setMonthContent(u,g,e){const t=this,n=32-u.getDate(),a=t._getMonthCells(g,t.rightToLeft),i=g._date.getMonth(),r=g._date.getFullYear(),o=new Date;let d,f=1,p=1;o.setHours(0,0,0,0),a.map(v=>{t._setCellState(v,"restricted",!1),t._setCellState(v,"selected",!1),t._setCellState(v,"otherMonth",!1),t._setCellState(v,"focus",!1),t._setCellState(v,"important",!1),t._setCellState(v,"today",!1),t._setCellState(v,"disabled",!1),t._setCellState(v,"hover",!1)});for(let v=0;v<a.length;v++){const w=a[v];v===e.firstDayOfWeek&&p<=n?(w.className="smart-calendar-cell",w.value=new Date(r,i,p),w.innerHTML=w.value.getDate().toString(),e.restrictedDates.indexOf(p)>-1||w.value.getTime()<t.min.getTime()||w.value.getTime()>t.max.getTime()?t._setCellState(w,"restricted",!0):e.selectedDates.indexOf(p)>-1&&(t._setCellState(w,"selected",!0),t._selectedCells.indexOf(w)<0&&t._selectedCells.push(w)),e.importantDates.indexOf(p)>-1&&(t._setImportantDate(w.value,w),e.importantDates.splice(e.importantDates.indexOf(p),1)),w.value.getTime()===o.getTime()&&t._setCellState(w,"today",!0),e.firstDayOfWeek++,p++):(p===1?(w.value=new Date(r,i-1,++e.previusMonthDays-e.firstDayOfWeek),d=!!(w.value.getTime()<t.min.getTime()||g.previousElementSibling)):(w.value=new Date(r,i+1,f++),d=!!(w.value.getTime()>t.max.getTime()||g.nextElementSibling)),w.innerHTML=w.value.getDate().toString(),t._setCellState(w,"otherMonth",!0),d?w.classList.add("smart-visibility-hidden"):w.classList.remove("smart-visibility-hidden"))}t.months>1&&(g.firstElementChild.innerHTML=t.dateFormatFunction?t.dateFormatFunction(g._date):t._monthsNames[i]+" "+g._date.toLocaleDateString(t.locale,{year:t.yearFormat})),t._setMonthWeekNumbers(g)}_refreshMonthNames(){const u=this;let g,e=new Date;function t(n){let a=u.monthNameFormat;a==="firstTwoLetters"&&(a="long");let i=new Intl.DateTimeFormat(u.locale,{month:a}).format(n);return u.monthNameFormat==="firstTwoLetters"&&(i=i.charCodeAt(0)===8206?i.substring(0,2):i.substring(1,3)),i}e.setDate(1),u._monthsNames=[];for(let n=0;n<12;n++)e.setMonth(n),g=t(e),u._monthsNames.push(g);if(u.calendarMode==="classic"&&u.$.monthElement){let n=u.$.monthsContainer.children;if(u.$.monthElement.dataSource&&(u._changeEventFired=1),u.shadowRoot?u._setMonthElementPropertyInShadowDOM("dataSource",u._monthsNames):u.$.monthElement.dataSource=u._monthsNames,u._viewDates){for(let a=0;a<n.length;a++)n[a].firstElementChild.textContent=u._monthsNames[n[a]._date.getMonth()]+" "+n[a]._date.getFullYear();u._changeEventFired=1,u.shadowRoot?u._setMonthElementPropertyInShadowDOM("selectedIndex",u._viewDates.map(a=>a.getMonth())[0]):u.$.monthElement.selectedIndex=u._viewDates.map(a=>a.getMonth())[0]}}}_setMonthWeekNumbers(u){const g=this,e=function(n){for(let a=1;a<n.children.length;a++)if(!n.children[a].classList.contains("smart-visibility-hidden"))return!0};let t=u.getElementsByClassName("smart-calendar-week");t=[].slice.call(t);for(let n=0;n<t.length;n++){if(!e(t[n])){t[n].children[0].innerHTML="";continue}const a=t[n].children[1],i=a.otherMonth?a.value.getTime()>u._date.getTime()?1:-1:0;t[n].children[0].innerHTML=g._getWeekNumber(new Date(u._date.getFullYear(),u._date.getMonth()+i,a.value.getDate()))}}_setRestrictedDates(u){const g=this,e=g.$.monthsContainer.children;for(let t=0;t<e.length;t++)g._getMonthCells(e[t]).map(n=>{g._setCellState(n,"restricted",!1)});if(g._viewDates){const t=function(n){for(let a=0;a<g._viewDates.length;a++)if(g._viewDates[a].getFullYear()===n.getFullYear()&&g._viewDates[a].getMonth()===n.getMonth())return!0};for(let n=0;n<u.length;n++)if(t(u[n])){const a=g._getCellByDate(u[n]);g._setCellState(a,"restricted",!0)}}}_setScrollButtonsNavigationMode(){const u=this;u.scrollButtonsNavigationMode!=="landscape"?(u.$.previousMonthButton&&(u.$.previousMonthButton.$.button.firstElementChild.className="smart-arrow-down smart-arrow"),u.$.nextMonthButton&&(u.$.nextMonthButton.$.button.firstElementChild.className="smart-arrow-up smart-arrow")):(u.$.previousMonthButton&&(u.$.previousMonthButton.$.button.firstElementChild.className="smart-arrow-left smart-arrow"),u.$.nextMonthButton&&(u.$.nextMonthButton.$.button.firstElementChild.className="smart-arrow-right smart-arrow")),u._applyAnimationSettings(!0)}_refreshTitle(){const u=this;let g=u.selectedDates.length>0?u.selectedDates[u.selectedDates.length-1]:new Date;if(u.titleTemplate){if(typeof u.titleTemplate=="function")return;let e=u._layoutTemplates.filter(n=>n.selector===u.$.title)[0],t=document.importNode(e.template.content,!0);if(e.bindings.length>0){let n=t.childNodes[e.bindings[0].childNodeIndex];return g=g.toLocaleDateString(u.locale,{year:u.yearFormat,weekday:"short",month:"short",day:"numeric"}),void(e.selector.childNodes[e.bindings[0].childNodeIndex].innerHTML=n.innerHTML.replace(e.bindings[0].bindingString,g))}}u.$.title.children[0].innerHTML=g.toLocaleDateString(u.locale,{year:u.yearFormat}),u.$.title.children[1].innerHTML=u.view==="landscape"?g.toLocaleDateString(u.locale,{weekday:"short"})+",</br>"+g.toLocaleDateString(u.locale,{month:"short",day:"numeric"}):g.toLocaleDateString(u.locale,{weekday:"short"})+", "+g.toLocaleDateString(u.locale,{month:"short",day:"numeric"})}_setWeeksVisibility(u){const g=this,e=u.children;let t;function n(a){(function(i){for(let r=1;r<i.children.length;r++)if(!i.children[r].classList.contains("smart-visibility-hidden"))return!1;return!0})(a)||t>=g.weeks?a.classList.add("smart-hidden"):t<g.weeks&&(a.classList.remove("smart-hidden"),t++)}for(let a=0;a<e.length;a++){let i=e[a].getElementsByClassName("smart-calendar-week");i=[].slice.call(i);let r=g._selectedCells.filter(o=>o.closest(".smart-calendar-month")===e[a]);if(g.weeks!==6)if(t=0,r.length>0){let o=r[r.length-1],d=i.indexOf(o.parentElement);for(let f=d;f<i.length;f++)n(i[f]);for(let f=d-1;f>=0;f--)n(i[f])}else for(let o=0;o<i.length;o++)n(i[o]);else i.map(o=>o.classList.remove("smart-hidden"))}}_refreshHeaderElements(){const u=this,g=document.activeElement.closest("smart-calendar")===u,e=u._animationStarted?u.$.nextMonthsContainer:u.$.dateViewContainer;let t,n,a=u._viewDates[u._viewDates.length-1],i=u._viewDates.map(r=>r.getFullYear());if(u.displayMode==="month"||u.displayModeView!=="list"){if(u.calendarMode==="classic"&&u.$.monthElement&&u.$.monthElement instanceof HTMLDivElement){const r=document.createElement("smart-input");r.setAttribute("smart-id","monthElement"),r.classList.add("smart-calendar-month-element"),r.dropDownPosition="bottom",r.selectionMode="one",r.disabled=u.disabled,r.rightToLeft=u.rightToLeft,r.theme=u.theme,r.dropDownWidth=u.dropDownWidth,r.dropDownHeight=u.dropDownHeight,r.readonly=!0,r.dropDownButtonPosition="right";const o=u.$.monthElement;u.$.monthElement.parentNode.insertBefore(r,u.$.monthElement),u.$.monthElement=r,o.remove()}if(u.$.previousMonthButton&&!u.disabled&&(u.displayMode!=="month"&&u.$.dateViewContainer.children[0].value?n=u.displayMode==="year"?e.children[0].value.getFullYear()-1:e.children[1].value.getFullYear()-1:u._viewDates[0].getMonth()-1<0?(t=11,n=u._viewDates[0].getFullYear()-1):(t=u._viewDates[0].getMonth()-1,n=u._viewDates[0].getFullYear()),u.$.previousMonthButton.disabled=n<u.min.getFullYear()||n===u.min.getFullYear()&&t<u.min.getMonth(),u.$.previousMonthButton.disabled&&g&&u.$.body.focus()),u.$.nextMonthButton&&!u.disabled&&(u.displayMode!=="month"&&u.$.dateViewContainer.children[0].value?n=u.displayMode==="year"?e.children[0].value.getFullYear()+1:e.children[1].value.getFullYear()+11:a.getMonth()+1>11?(t=0,n=a.getFullYear()+1):(t=a.getMonth()+1,n=a.getFullYear()),u.$.nextMonthButton.disabled=n>u.max.getFullYear()||n===u.max.getFullYear()&&t>u.max.getMonth(),u.$.nextMonthButton.disabled&&g&&u.$.body.focus()),u.calendarMode==="classic"&&u.$.monthElement){let r=[...u._monthsNames];if(i.indexOf(u.min.getFullYear())>-1)for(let d=0;d<u.min.getMonth();d++)r[d]="";if(i.indexOf(u.max.getFullYear())>-1)for(let d=u.max.getMonth()+1;d<r.length;d++)r[d]="";r=r.filter(d=>d!=="");const o=Math.max(0,u.$.monthElement.selectedIndex);u.$.monthElement.dataSource=r,u._changeEventFired=u.$.monthElement.selectedIndex!==0,u.shadowRoot?u._setMonthElementPropertyInShadowDOM("selectedIndex",u._viewDates[0].getMonth()):u.$.monthElement.selectedIndex=o,u._changeEventFired=0}u.$.previousYearButton&&!u.disabled&&(n=u._viewDates[0].getFullYear()-1,u.$.previousYearButton.disabled=n<u.min.getFullYear(),u.$.previousYearButton.disabled&&g&&u.$.body.focus()),u.$.nextYearButton&&!u.disabled&&(n=a.getFullYear()+1,u.$.nextYearButton.disabled=n>u.max.getFullYear(),u.$.nextYearButton.disabled&&g&&u.$.body.focus()),u.$.yearElement&&(u.$.yearElement.value=i[0],u.$.yearElement.disabled=a.getFullYear()+1>u.max.getFullYear()&&u._viewDates[0].getFullYear()-1<u.min.getFullYear())}}_setMonthElementPropertyInShadowDOM(u,g){const e=this.$.monthElement,t=e.context;e.context=document,this.$.monthElement[u]=g,e.context=t}_refreshHeaderTitle(){const u=this;let g;function e(){if(u.displayMode!=="month"){if(u.displayModeView==="list"){const d=u.$.listViewContainer;if(!d)return;const f=d.querySelectorAll("li");if(!f.length)return"";let p;d.querySelector("li.active")&&(p=d.querySelector("li.active").getAttribute("value")),g=u.displayMode==="year"?new Date(p||f[0].getAttribute("value")).getFullYear():new Date(f[0].getAttribute("value")).getFullYear()+" - "+new Date(f[f.length-1].getAttribute("value")).getFullYear()}else if(u.$.dateViewContainer.children[0].value){let d=u._animationStarted?u.$.nextMonthsContainer.children:u.$.dateViewContainer.children;g=u.displayMode==="year"?d[0].value.getFullYear():d[1].value.getFullYear()+" - "+d[d.length-2].value.getFullYear()}if(g)return g}const a=u._viewDates.slice(0).sort((d,f)=>d.getTime()-f.getTime()),i=a[0],r=a[a.length-1];i.setDate(2);let o=u.monthNameFormat;return o==="firstTwoLetters"&&(o="long"),g=i.toLocaleDateString(u.locale,{year:u.yearFormat,month:o}),u.months>1&&(r.setDate(2),g+=" - "+r.toLocaleDateString(u.locale,{year:u.yearFormat,month:o})),g}if(u.calendarMode==="default"&&(u.$.defaultHeaderDate.innerHTML=e()),typeof u.headerTemplate=="function"||!u._layoutTemplates)return;let t=u._layoutTemplates.filter(a=>a.selector===u.$.header)[0];if(!t)return;let n=document.importNode(t.template.content,!0);if(t.bindings.length>0){const a=n.childNodes[t.bindings[0].childNodeIndex];(u.shadowRoot?u:t.selector).childNodes[t.bindings[0].childNodeIndex].innerHTML=a.innerHTML.replace(t.bindings[0].bindingString,u.dateFormatFunction?u.dateFormatFunction(u._viewDates):e())}}_updateWeeksVisibility(u,g){const e=this;let t=(g||e._focusedCell).parentElement;function n(){for(let f=r;f<i.length;f++)if(i[f].classList.contains("smart-hidden")&&!o(i[f])&&(i[f].classList.remove("smart-hidden"),d++,d===e.weeks))return!0}function a(){for(let f=r;f>=0;--f)if(i[f].classList.contains("smart-hidden")&&!o(i[f])&&(i[f].classList.remove("smart-hidden"),d++,d===e.weeks))return!0}if(!g&&!t.classList.contains("smart-hidden"))return;const i=[].slice.call(t.parentElement.children),r=i.indexOf(t),o=function(f){for(let p=1;p<f.children.length;p++)if(!f.children[p].classList.contains("smart-visibility-hidden"))return!1;return!0};let d=0;if(i.map(f=>f.classList.add("smart-hidden")),u>0){if(n())return;a()}else{if(a())return;n()}}_getValidDates(u){let g=[];function e(t){if(t instanceof Date)return t;if(Smart.Utilities.DateTime&&t instanceof Smart.Utilities.DateTime)return t.toDate();if(typeof t=="string"){if(t.trim()==="new Date()"||t.trim()==="new Smart.Utilities.DateTime()")return new Date;let n=/(\d+[,-.\/]{1}\s*\d+[,-.\/]{1}\s*\d+)/;const a=()=>(t=t.replace(/[,-.\/]/g,",").split(",")).length>2?t=new Date(parseInt(t[0]),parseInt(t[1])-1,parseInt(t[2])):new Date;return n.test(t)&&(t=n.exec(t)[0].replace(/[,-.\/]/g,",").split(","))?new Date(parseInt(t[0]),parseInt(t[1])-1,parseInt(t[2])):a()}}if(u===void 0)return null;if(Array.isArray(u))for(let t=0;t<u.length;t++)g.push(e(u[t]));else g.push(e(u));return g=g.filter(t=>t&&t.toDateString()!=="Invalid Date"),g.map(t=>t.setHours(0,0,0,0)),g}_getValidDate(u){const g=this._getValidDates(u);return g.length>0?g[0]:null}_validateSelectedDates(u){const g=this;let e=[];u||(u=g.selectedDates);let t=u.slice(0),n=function(a){for(let i=0;i<g.restrictedDates.length;i++)if(g.restrictedDates[i].getTime()===a.getTime())return!0};g.selectedDates=t.filter(function(a){if(a.getTime()>=g.min.getTime()&&a.getTime()<=g.max.getTime()&&!n(a))return!0;e.push(a)}),g._viewDates&&(e.map(a=>g._selectDate(a)),g._focusCell())}_validateMinMax(u,g,e){const t=this;switch(u){case"min":g=t._getValidDate(t[u]),t.min=g||e||t.properties.min.defaultValue;break;case"max":g=t._getValidDate(t[u]),t.max=g||e||t.properties.max.defaultValue;break;default:g=t._getValidDate(t.min),t.min=g||e||t.properties.min.defaultValue,g=t._getValidDate(t.max),t.max=g||e||t.properties.max.defaultValue}t.min=t.min.getTime()>t.max.getTime()?t.max:t.min,t.min.setHours(0,0,0,0),t.max.setHours(0,0,0,0);let n,a=t.$.monthsContainer.children;if(t._viewDates){if(t._viewDates[0].getTime()>t.max.getTime()||t._viewDates[0].getTime()<t.min.getTime())return void t._handleMonths();for(let i=0;i<a.length;i++){n=t._getMonthCells(a[i]);for(let r=0;r<n.length;r++){const o=n[r];if(o.value.getTime()>=t.min.getTime()&&o.value.getTime()<=t.max.getTime())t._setCellState(o,"restricted",!1),o.value.getMonth()===a[i]._date.getMonth()?o.classList.remove("smart-visibility-hidden"):t.hideOtherMonthDays||(t._setCellState(o,"otherMonth",!0),o.classList.remove("smart-visibility-hidden")),t.displayMode!=="month"&&t._setCellState(o,"otherMonth",!1);else{if(o.otherMonth){if(o.classList.contains("smart-visibility-hidden")){t._setCellState(o,"restricted",!1);continue}}else t._setCellState(o,"restricted",!0);t.displayMode!=="month"&&(o.classList.remove("smart-visibility-hidden"),t._setCellState(o,"otherMonth",!0))}}}}}_setCellState(u,g,e){u[g]=e;const t=Smart.Utilities.Core.toDash(g);e?(u.setAttribute(t,""),g==="selected"?u.setAttribute("aria-selected",!0):g==="today"?u.setAttribute("aria-current","date"):g==="restricted"?u.removeAttribute("aria-selected"):g==="disabled"&&(u.removeAttribute("aria-selected"),u.setAttribute("aria-disabled",!0))):(u.removeAttribute(t),g==="selected"?this.selectionMode==="none"||u.restricted||u.disabled?u.removeAttribute("aria-selected"):u.setAttribute("aria-selected",!1):g==="today"?u.removeAttribute("aria-current"):g!=="restricted"||u.disabled?g==="disabled"&&(u.removeAttribute("aria-disabled"),u.restricted||u.setAttribute("aria-selected",!1)):u.setAttribute("aria-selected",!1))}_validateTemplate(u,g){if(g===null||!g||typeof g=="function")return;const e=this;if("content"in document.createElement("template")){if(typeof g=="string"&&(g=document.getElementById(g)),g!==null&&"content"in g)return g;e.error(e.localize("invalidTemplate",{elementType:e.nodeName.toLowerCase(),property:u}))}else e.error(e.localize("htmlTemplateNotSuported",{elementType:e.nodeName.toLowerCase()}))}_weeksDownHandler(u,g){const e=this,t=g.value;let n;if(e.$.body.contains(g))if(g.otherMonth&&(n=g.value.getTime()>g.closest(".smart-calendar-month")._date.getTime()?1:-1),t&&e.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(g,u.pageX,u.pageY),n){if(e._isDateInView(t))return;e.disableAutoNavigation||e.navigate(n*e.months)}else(g=e._getCellByDate(t))&&(g.disabled||g.restricted)||e._handleDateSelection(g)}_firstDayOfWeekValidator(u,g){return Math.min(Math.max(0,isNaN(g)?6:g),6)}_weeksValidator(u,g){return Math.min(Math.max(1,isNaN(g)?6:g),6)}_monthsValidator(u,g){return Math.min(Math.max(1,isNaN(g)?1:g),12)}})},2052:()=>{(()=>{const u=-1*new Date().getTimezoneOffset(),g=[{id:"Local",offset:u,offsetHours:u/60,displayName:"",supportsDaylightSavingTime:!1},{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}],e=[0,31,59,90,120,151,181,212,243,273,304,334,365],t=[0,31,60,91,121,152,182,213,244,274,305,335,366];Smart.Utilities.Assign("TimeSpan",class{constructor(){const n=this;if(n.ticksPerMillisecond=1e4,n.millisecondsPerTick=1e-4,n.ticksPerSecond=1e7,n.secondsPerTick=1e-7,n.ticksPerMinute=6e8,n.minutesPerTick=16666666666666667e-25,n.ticksPerHour=36e9,n.hoursPerTick=27777777777777777e-27,n.ticksPerDay=864e9,n.daysPerTick=11574074074074074e-28,n.millisPerSecond=1e3,n.millisPerMinute=6e4,n.millisPerHour=36e5,n.millisPerDay=864e5,n._ticks=0,arguments.length===1){if(isNaN(arguments[0]))throw new Error("Argument must be a number.");n._ticks=arguments[0]}else if(arguments.length===3)n._ticks=n.timeToMS(arguments[0],arguments[1],arguments[2],0);else if(arguments.length===4){const a=1e3*(3600*arguments[0]*24+3600*arguments[1]+60*arguments[2]+arguments[3])+0;n._ticks=a*n.ticksPerMillisecond}else if(arguments.length===5){const a=1e3*(3600*arguments[0]*24+3600*arguments[1]+60*arguments[2]+arguments[3])+arguments[4];n._ticks=a*n.ticksPerMillisecond}}ticks(){return this._ticks}days(){return parseInt(this._ticks/this.ticksPerDay)}timeToMS(n,a,i,r){return parseInt((3600*n+60*a+i+r/1e3)*this.ticksPerSecond)}hours(){return parseInt(this._ticks/this.ticksPerHour)%24}milliseconds(){return parseInt(this._ticks/this.ticksPerMillisecond)%1e3}minutes(){return parseInt(this._ticks/this.ticksPerMinute)%60}seconds(){return parseInt(this._ticks/this.ticksPerSecond)%60}totalDays(){return parseInt(this._ticks*this.daysPerTick)}totalHours(){return parseInt(this._ticks*this.hoursPerTick)}totalMilliseconds(){const n=this._ticks*this.millisecondsPerTick;return parseInt(n)}totalMinutes(){return parseInt(this._ticks*this.minutesPerTick)}totalSeconds(){return parseInt(this._ticks*this.secondsPerTick)}add(n){const a=this._ticks+n._ticks;return new Smart.Utilities.TimeSpan(a)}subtract(n){const a=this._ticks-n._ticks;return new Smart.Utilities.TimeSpan(a)}duration(){const n=this;return n._ticks>=0?new Smart.Utilities.TimeSpan(n._ticks):new Smart.Utilities.TimeSpan(-n._ticks)}equals(n){return this._ticks===n._ticks}valueOf(){return this._ticks}compare(n,a){return n._ticks>a._ticks?1:n._ticks<a._ticks?-1:0}interval(n,a){const i=n*a+(n>=0?.5:-.5);return new Smart.Utilities.TimeSpan(i*this.ticksPerMillisecond)}fromDays(n){return this.interval(n,this.millisPerDay)}fromHours(n){return this.interval(n,this.millisPerHour)}fromMilliseconds(n){return this.interval(n,1)}fromMinutes(n){return this.interval(n,this.millisPerMinute)}fromSeconds(n){return this.interval(n,this.millisPerSecond)}fromTicks(n){return new Smart.Utilities.TimeSpan(n)}toString(){return this.totalMilliseconds().toString()}negate(){return new Smart.Utilities.TimeSpan(-this._ticks)}}),Smart.Utilities.Assign("DateTime",class{constructor(){function n(r){const o=a.regexISOString.exec(r);i=new Smart.Utilities.DateTime(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]),parseFloat(o[4]),parseFloat(o[5]),parseFloat(o[6]),parseFloat(o[7]),0,0,0,0,0,0,0,"UTC")}const a=this;let i;if(a.ticksPerMillisecond=1e4,a.millisecondsPerTick=1e-4,a.ticksPerSecond=1e7,a.secondsPerTick=1e-7,a.ticksPerMinute=6e8,a.minutesPerTick=16666666666666667e-25,a.ticksPerHour=36e9,a.hoursPerTick=27777777777777777e-27,a.ticksPerDay=864e9,a.daysPerTick=11574074074074074e-28,a.millisPerSecond=1e3,a.millisPerMinute=6e4,a.millisPerHour=36e5,a.millisPerDay=864e5,a.daysPerYear=365,a.daysPer4Years=1461,a.daysPer100Years=36524,a.daysPer400Years=146097,a.daysTo1601=584388,a.daysTo1899=693593,a.daysTo10000=3652059,a.minTicks=0,a.maxTicks=3155378976e9,a.maxMillis=3155378976e5,a.datePartYear=0,a.datePartDayOfYear=1,a.datePartMonth=2,a.datePartDay=3,a.daysToMonth365=e,a.daysToMonth366=t,a.minValue=new Date(0),a.maxValue=new Date(3155378976e9),a.ticksMask=4611686018427388e3,a.flagsMask=0xc000000000000000,a.localMask=9223372036854776e3,a.ticksCeiling=4611686018427388e3,a.kindUnspecified=0,a.kindUtc=4611686018427388e3,a.kindLocal=9223372036854776e3,a.kindLocalAmbiguousDst=0xc000000000000000,a.kindShift=62,a.regexTrim=/^\s+|\s+$/g,a.regexInfinity=/^[+-]?infinity$/i,a.regexHex=/^0x[a-f0-9]+$/i,a.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,a.regexISOString=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3})Z$/,a.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",FP:"yyyy-MM-dd HH:mm:ss:fff:uu:nn:pp:ee:aa:xx:oo",FPA:"yyyy/MM/dd HH:mm:ss:fffuunnppeeaaxxoo",FPA2:"yyyy-MM-dd HH:mm:ss:fffuunnppeeaaxxoo",FT:"HH:mm:ss:fff:uu:nn:pp:ee:aa:xx:oo",PP:"yyyy-MM-dd HH:mm:ss:fff:uu:nn:pp",PT:"HH:mm:ss:fff:uu:nn:pp"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},a.dateData=0,a.timeZone=null,a.timeZones=g,a._codeToUnit={u:"_microsecond",uu:"_microsecond",n:"_nanosecond",nn:"_nanosecond",p:"_picosecond",pp:"_picosecond",e:"_femtosecond",ee:"_femtosecond",a:"_attosecond",aa:"_attosecond",x:"_zeptosecond",xx:"_zeptosecond",o:"_yoctosecond",oo:"_yoctosecond"},a._smallUnits=["_microsecond","_nanosecond","_picosecond","_femtosecond","_attosecond","_zeptosecond","_yoctosecond"],a._microsecond=0,a._nanosecond=0,a._picosecond=0,a._femtosecond=0,a._attosecond=0,a._zeptosecond=0,a._yoctosecond=0,arguments.length===0){const r=new Date;a.dateData=a.dateToMS(r.getFullYear(),r.getMonth()+1,r.getDate())+a.timeToMS(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())}else if(arguments.length===1)if(arguments[0]===void 0&&(arguments[0]="todayDate"),typeof arguments[0]=="number"&&isFinite(arguments[0])||typeof arguments[0]!="string")if(typeof arguments[0]=="number")a.dateData=arguments[0];else if(arguments[0]instanceof Date){const r=arguments[0];a.dateData=a.dateToMS(r.getFullYear(),r.getMonth()+1,r.getDate())+a.timeToMS(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())}else a.dateData=arguments[0];else{let r;arguments[0]==="today"?r=new Date:arguments[0]==="todayDate"?(r=new Date,r.setHours(0,0,0,0)):a.regexISOString.test(arguments[0])?n(arguments[0]):r=a.tryparseDate(arguments[0]),r&&(a.dateData=a.dateToMS(r.getFullYear(),r.getMonth()+1,r.getDate())+a.timeToMS(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()))}else if(arguments.length===2){if(arguments[0]===void 0&&(arguments[0]="todayDate"),typeof arguments[0]=="number"&&isFinite(arguments[0])||typeof arguments[0]!="string")if(typeof arguments[0]=="number")a.dateData=arguments[0];else if(arguments[0]instanceof Date){const r=arguments[0];a.dateData=a.dateToMS(r.getFullYear(),r.getMonth()+1,r.getDate())+a.timeToMS(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())}else a.dateData=arguments[0];else{let r;arguments[0]==="today"?r=new Date:arguments[0]==="todayDate"?(r=new Date,r.setHours(0,0,0,0)):a.regexISOString.test(arguments[0])?n(arguments[0]):r=a.tryparseDate(arguments[0]),r&&(a.dateData=a.dateToMS(r.getFullYear(),r.getMonth()+1,r.getDate())+a.timeToMS(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()))}a.validateTimeZone(arguments[1])}else if(arguments.length>2)if(typeof arguments[0]=="string"){const r=a.tryparseDate(arguments[0],arguments[2],arguments[1]);a.dateData=a.dateToMS(r.getFullYear(),r.getMonth()+1,r.getDate())+a.timeToMS(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())}else{let r=arguments[0],o=arguments[1]-1,d=arguments[2],f=arguments[3]||0,p=arguments[4]||0,v=arguments[5]||0,w=arguments[6]||0,C=arguments[7]||0,x=arguments[8]||0,L=arguments[9]||0,A=arguments[10]||0,k=arguments[11]||0,B=arguments[12]||0,H=arguments[13]||0;r>=2100&&(r=2100),o>=12?o=11:o<0&&(o=0),d>31?d=a.daysInMonth(r,1+o):d<0&&(d=0),f>23?f=23:f<0&&(f=0),p>59?p=59:p<0&&(p=0),v>59?v=59:v<0&&(v=0);const V=new Date(r,o,d,f,p,v,w);r<1970&&V.setFullYear(r),a.dateData=a.dateToMS(V.getFullYear(),V.getMonth()+1,V.getDate())+a.timeToMS(V.getHours(),V.getMinutes(),V.getSeconds(),V.getMilliseconds()),a._microsecond=C,a._nanosecond=x,a._picosecond=L,a._femtosecond=A,a._attosecond=k,a._zeptosecond=B,a._yoctosecond=H,arguments[14]&&a.validateTimeZone(arguments[14])}if(a.timeZone||a.validateTimeZone("Local"),i){const r=i.toTimeZone(a.timeZone);a.dateData=r.dateData}}static isValidDate(n){const a=this.validateDate(n);return!(!a||a&&!a.dateData)}static validateDate(n,a,i){if(n instanceof Smart.Utilities.DateTime)return n;if(n instanceof Date)return new Smart.Utilities.DateTime(n);try{if(typeof n=="string"&&i)return this.parseDateString(n,a,i);if(new RegExp(/^\d{1,2}\/\d{1,2}\/\d{4}(, \d{1,2}:\d{2}:\d{1,2} [A|P]M)?$/).test(n)){const r=new Date(n);if(!isNaN(r.getTime()))return new Smart.Utilities.DateTime(r)}if(typeof n=="string")return this.parseDateString(n,a,i);if(typeof n=="number")return new Smart.Utilities.DateTime(new Date(n))}catch{}return a}static parseDateString(n,a,i){const r=new Date(n);if(!isNaN(r.getTime()))return n&&typeof n=="string"&&i?new Smart.Utilities.DateTime(n,i,null):new Smart.Utilities.DateTime(r);const o=n.indexOf("Date("),d=n.indexOf("DateTime("),f=n.lastIndexOf(")");let p=n;if(o===-1&&d===-1||f===-1){const v=new Smart.Utilities.DateTime,w=v.parseDate(n,i);if(w)return p=new Smart.Utilities.DateTime(w),v.copySmallTimePartValues(p),p}else{if(p=o!==-1?n.slice(o+5,f):n.slice(d+9,f),p=p.replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,""),p.trim()==="")return new Smart.Utilities.DateTime;if(new RegExp(/(^(\d+)(\s*,\s*\d+)+(\s*,\s*[a-zA-Z ]+)?$)/g).test(p))return p=p.split(","),p.map(function(v,w){isNaN(p[w])?p[w]=v.trim():p[w]=parseInt(v)}),o!==-1&&p[1]++,p.unshift(null),p=new(Function.prototype.bind.apply(Smart.Utilities.DateTime,p)),p}if(p.trim()==="")return a;if(!isNaN(p))return p=new Date(parseInt(p,10)),new Smart.Utilities.DateTime(p);try{const v=p.split(",");v.length===2?(v[1]=v[1].trim(),v.unshift(null),p=new(Function.prototype.bind.apply(Smart.Utilities.DateTime,v))):p=new Smart.Utilities.DateTime(p)}catch{p=a}return p}static fromFullTimeStamp(n){n=n.toString();const a=new Smart.Utilities.DateTime(parseFloat(n.slice(0,n.length-21)));let i=n.slice(n.length-21),r=0;for(;i.length>0;)a[a._smallUnits[r]]=parseInt(i.slice(0,3),10),i=i.slice(3),r++;return a}static getConstructorParameters(n){return[n.year(),n.month(),n.day(),n.hour(),n.minute(),n.second(),n.millisecond(),n._microsecond,n._nanosecond,n._picosecond,n._femtosecond,n._attosecond,n._zeptosecond,n._yoctosecond,n.timeZone]}static detectDisplayMode(n,a,i){if(n.calendar.patterns[a])return["d","D","M","Y","d1","d2"].indexOf(a)!==-1?"calendar":["t","T","FT","PT"].indexOf(a)!==-1?"timePicker":"default";const r=["d","M","y"],o=["h","H","m","s","t","f","u","n","p","e","a","x","o"],d=i.groups;let f=!1,p=!1;for(let v=0;v<d.length;v++){const w=d[v].charAt(0);if(r.indexOf(w)!==-1?f=!0:o.indexOf(w)!==-1&&(p=!0),f&&p)break}return f===p?"default":f?"calendar":"timePicker"}static getLocalizedNames(n){const a={names:[],namesAbbr:[],namesShort:[]},i={names:[],namesAbbr:[]};if(this[n])return this[n];for(let r=23;r<30;r++){const o=new Date(2017,6,r),d=o.toLocaleString(n,{weekday:"long"});a.names.push(d),a.namesAbbr.push(o.toLocaleString(n,{weekday:"short"})),a.namesShort.push(d.substring(0,2))}for(let r=0;r<12;r++){const o=new Date(2017,r,1).toLocaleString(n,{month:"long"});i.names.push(o),i.namesAbbr.push(o.substring(0,3))}return i.names.push(""),i.namesAbbr.push(""),this[n]={days:a,months:i},this[n]}internalMS(){return this.dateData}getDatePart(n){const a=this,i=a.internalMS();let r=parseInt(i/a.millisPerDay);const o=parseInt(r/a.daysPer400Years);r-=o*a.daysPer400Years;let d=parseInt(r/a.daysPer100Years);d===4&&(d=3),r-=d*a.daysPer100Years;const f=parseInt(r/a.daysPer4Years);r-=f*a.daysPer4Years;let p=parseInt(r/a.daysPerYear);if(p===4&&(p=3),n===a.datePartYear)return parseInt(400*o+100*d+4*f+p+1);if(r-=p*a.daysPerYear,n===a.datePartDayOfYear)return parseInt(r+1);const v=p===3&&(f!==24||d===3)?a.daysToMonth366:a.daysToMonth365;let w=r>>6;for(;r>=v[w];)w++;return n===a.datePartMonth?parseInt(w):parseInt(r-v[w-1]+1)}dayOfWeek(){const n=this.dateData;return parseInt(n/this.millisPerDay+1)%7}dayOfYear(){return this.getDatePart(this.datePartDayOfYear)}weekOfYear(n){const a=this.toDate(),i=n||this.calendar.firstDay,r=new Date(a.getFullYear(),0,1),o=Math.floor((a.getTime()-r.getTime()-6e4*(a.getTimezoneOffset()-r.getTimezoneOffset()))/864e5)+1;let d,f=r.getDay()-i;if(f=f>=0?f:f+7,f<4){if(d=Math.floor((o+f-1)/7)+1,d>52){let p=new Date(a.getFullYear()+1,0,1).getDay()-i;p=p>=0?p:p+7,d=p<4?1:53}}else d=Math.floor((o+f-1)/7);return d}subtract(n){const a=this;return new Smart.Utilities.TimeSpan(a.dateData*a.ticksPerMillisecond-n.dateData*a.ticksPerMillisecond)}dateToMS(n,a,i){const r=this;if(n>=1&&n<=9999&&a>=1&&a<=12){n=parseInt(n);const o=r.isLeapYear(n)?r.daysToMonth366:r.daysToMonth365;if(i>=1&&i<=o[a]-o[a-1]){const d=n-1;return(365*d+parseInt(d/4)-parseInt(d/100)+parseInt(d/400)+o[a-1]+i-1)*r.millisPerDay}}}isLeapYear(n){if(n<1||n>9999)throw new Error("Year out of Range");return n%4==0&&(n%100!=0||n%400==0)}timeToMS(n,a,i,r){const o=this;if(n>=0&&n<24&&a>=0&&a<60&&i>=0&&i<60){const d=parseInt(3600*n+60*a+i);return r>0&&r<1e3?d*o.millisPerSecond+r:d*o.millisPerSecond}}daysInMonth(n,a){if(a<1||a>12)throw new Error("Month out of Range");const i=this,r=i.isLeapYear(n)?i.daysToMonth366:i.daysToMonth365;return r[a]-r[a-1]}arrayIndexOf(n,a){return n.indexOf(a)}startsWith(n,a){return n.indexOf(a)===0}endsWith(n,a){return n.substr(n.length-a.length)===a}trim(n){return(n+"").replace(this.regexTrim,"")}expandFormat(n,a){a=a||"F";let i,r=n.patterns,o=a.length;if(r[a])return r[a];if(o===1){if(i=r[a],!i)throw"Invalid date format string '"+a+"'.";a=i}else o===2&&a.charAt(0)==="%"&&(a=a.charAt(1));return a}getEra(n,a){if(!a||typeof n=="string")return 0;let i,r=n.getTime();for(let o=0,d=a.length;o<d;o++)if(i=a[o].start,i===null||r>=i)return o;return 0}toUpper(n){return n.split(" ").join(" ").toUpperCase()}toUpperArray(n){const a=[];for(let i=0,r=n.length;i<r;i++)a[i]=this.toUpper(n[i]);return a}getEraYear(n,a,i,r){let o=n.getFullYear();return!r&&a.eras&&(o-=typeof i=="number"?i:a.eras[i].offset),o}getDayIndex(n,a,i){const r=this,o=n.days;let d,f=n._upperDays;return f||(n._upperDays=f=[r.toUpperArray(o.names),r.toUpperArray(o.namesAbbr),r.toUpperArray(o.namesShort)]),a=a.toUpperCase(),i?(d=r.arrayIndexOf(f[1],a),d===-1&&(d=r.arrayIndexOf(f[2],a))):d=r.arrayIndexOf(f[0],a),d}getMonthIndex(n,a,i){const r=this;let o=n.months,d=n.monthsGenitive||n.months,f=n._upperMonths,p=n._upperMonthsGen;f||(n._upperMonths=f=[r.toUpperArray(o.names),r.toUpperArray(o.namesAbbr)],n._upperMonthsGen=p=[r.toUpperArray(d.names),r.toUpperArray(d.namesAbbr)]),a=r.toUpper(a);let v=r.arrayIndexOf(i?f[1]:f[0],a);return v<0&&(v=r.arrayIndexOf(i?p[1]:p[0],a)),v}appendPreOrPostMatch(n,a){let i=0,r=!1;for(let o=0,d=n.length;o<d;o++){const f=n.charAt(o);switch(f){case"'":r?a.push("'"):i++,r=!1;break;case"\\":r&&a.push("\\"),r=!r;break;default:a.push(f),r=!1}}return i}getTokenRegExp(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyyy|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|uu|u|nn|n|pp|p|ee|e|aa|a|xx|x|oo|o|i{1,24}|zzz|zz|z|gg|g/g}static ParseDate(n,a){return new Smart.Utilities.DateTime().tryparseDate(n,null,a)}tryparseDate(n,a,i){const r=this;if(a==null&&(a=r.calendar),i!==void 0){if(Array.isArray(i))for(let v=0;v<i.length;v++){const w=r.parseDate(n,i[v],a);if(w)return w}const p=r.parseDate(n,i,a);if(p)return p}if(n==="")return null;if(n==null||n.substring||(n=n.toString()),n!=null&&n.substring(0,6)==="/Date("){const p=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/;let v=new Date(+n.replace(/\/Date\((\d+)\)\//,"$1"));if(v==="Invalid Date"){const w=n.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/);v=null,w&&(v=new Date(1*w[1]+36e5*w[2]+6e4*w[3]))}if(v==null||v==="Invalid Date"||isNaN(v)){const w=p.exec(n);if(w){const C=new Date(parseInt(w[1]));if(w[2]){let x=parseInt(w[3]);w[2]==="-"&&(x=-x);const L=C.getUTCMinutes();C.setUTCMinutes(L-x)}if(!isNaN(C.valueOf()))return C}}return v}const o={smartdate:"yyyy-MM-dd HH:mm:ss",d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",d4:"MM.dd.yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",custom3:"yyyy-MM-ddTHH:mm:ss.fff+HH:mm",custom4:"yyyy-MM-ddTHH:mm:ss.fff-HH:mm",custom5:"yyyy-MM-ddTHH:mm:ss.ffffff+HH:mm",custom6:"yyyy-MM-ddTHH:mm:ss.ffffff-HH:mm",custom7:"yyyy-MM-ddTHH:mm:ss.fffffff+HH:mm",custom8:"yyyy-MM-ddTHH:mm:ss.fffffff-HH:mm",iso:"yyyy-MM-ddTHH:mm:ssZ",iso2:"yyyy-MM-ddTHH:mm.fffZ",iso_date1:"yyyy-MM-dd",iso_date2:"yyyy-MM-dd",iso_date3:"yyyy-ddd",iso_date4:"yyyy-MM-dd HH:mm",iso_date5:"yyyy-MM-dd HH:mm Z",iso_date6:"yyyy-MMM-dd",iso_date7:"yyyy-MM",iso_date8:"yyyy-MMM",iso_date9:"yyyy-MMMM",iso_date10:"yyyy-MMMM-dd",iso_time1:"HH:mm:ss.tttt",iso_time2:"HH:mm:ss",iso_time3:"HH:mm",iso_time4:"HH",iso_time5:"yyyyyy-MM-dd",iso_time6:"yyyyyy-MM-dd",iso_time7:"dd/MM/yyyy HH:mm",iso_time8:"dd.MM.yyyy HH:mm",iso_time9:"dd-MM-yyyy HH:mm",iso_time10:"MM.dd.yyyy HH:mm",iso_time11:"MM-dd-yyyy HH:mm",iso_time12:"dd/MM/yyyy",iso_time13:"MM.dd.yyyy h:mm tt",iso_time14:"MM-dd-yyyy h:mm tt",iso_time15:"MM/dd/yyyy h:mm tt"};for(let p in o){const v=r.parseDate(n,o[p],a);if(v)return v}const d=a.patterns;for(let p in d){const v=r.parseDate(n,d[p],a);if(v){if(p==="ISO"){const w=r.parseDate(n,d.ISO2,a);if(w)return w}return v}}let f;if(typeof n=="string"){const p=[":","/","-"," ",","];let v="",w=n=function(L,A,k){return k.replace(new RegExp(L,"g"),A)}(", ",",",n=r.trim(n));n.indexOf(":")>=0?(v=n.substring(n.indexOf(":")-2),v=r.trim(v),w=n.substring(0,n.indexOf(":")-2)):n.toUpperCase().indexOf("AM")>=0?(v=n.substring(n.toUpperCase().indexOf("AM")-2),v=r.trim(v),w=n.substring(0,n.toUpperCase().indexOf("AM")-2)):n.toUpperCase().indexOf("PM")>=0&&(v=n.substring(n.toUpperCase().indexOf("PM")-2),v=r.trim(v),w=n.substring(0,n.toUpperCase().indexOf("PM")-2));let C=new Date,x=!1;if(w){for(let z=0;z<p.length;z++)if(w.indexOf(p[z])>=0){f=w.split(p[z]);break}if(!f)return null;let L=new Array,A=new Array,k=new Array,B=null,H=null;for(let z=0;z<f.length;z++){const N=f[z],F=r.parseDate(N,"d",a)||r.parseDate(N,"dd",a)||r.parseDate(N,"ddd",a)||r.parseDate(N,"dddd",a);if(F&&(L.push(F.getDate()),N.length>2)){B=z;break}}for(let z=0;z<f.length;z++){const N=f[z],F=r.parseDate(N,"M",a)||r.parseDate(N,"MM",a)||r.parseDate(N,"MMM",a)||r.parseDate(N,"MMMM",a);if(F){if(B!=null&&B===z)continue;if(A.push(F.getMonth()),N.length>2){H=z;break}}}for(let z=0;z<f.length;z++){const N=f[z],F=r.parseDate(N,"yyyy",a);if(F){if(B!=null&&B===z||H!=null&&H===z)continue;k.push(F.getFullYear())}}const V=new Array;for(let z=L.length-1;z>=0;z--)for(let N=0;N<A.length;N++)for(let F=0;F<k.length;F++){const q=new Date(k[F],A[N],L[z]);k[F]<1970&&q.setFullYear(k[F]),isNaN(q.getTime())||V.push(q)}V.length>0&&(C=V[0],x=!0)}if(v){const L=v.indexOf(":")>=0?v.split(":"):v,A=r.parseDate(v,"h:mm tt",a)||r.parseDate(v,"HH:mm:ss.fff",a)||r.parseDate(v,"HH:mm:ss.ff",a)||r.parseDate(v,"h:mm:ss tt",a)||r.parseDate(v,"HH:mm:ss.tttt",a)||r.parseDate(v,"HH:mm:ss",a)||r.parseDate(v,"HH:mm",a)||r.parseDate(v,"HH",a);let k=0,B=0,H=0,V=0;A&&!isNaN(A.getTime())?(k=A.getHours(),B=A.getMinutes(),H=A.getSeconds(),V=A.getMilliseconds()):(L.length===1&&(k=parseInt(L[0])),L.length===2&&(k=parseInt(L[0]),B=parseInt(L[1])),L.length===3&&(k=parseInt(L[0]),B=parseInt(L[1]),L[2].indexOf(".")>=0?(H=parseInt(L[2].toString().split(".")[0]),V=parseInt(L[2].toString().split(".")[1])):H=parseInt(L[2])),L.length===4&&(k=parseInt(L[0]),B=parseInt(L[1]),H=parseInt(L[2]),V=parseInt(L[3]))),!C||isNaN(k)||isNaN(B)||isNaN(H)||isNaN(V)||(C.setHours(k,B,H,V),x=!0)}if(x)return C}if(n!=null){f=[":","/","-"];let p=!0;for(let v=0;v<f.length;v++)n.indexOf(f[v])!==-1&&(p=!1);if(p){const v=new Number(n);if(!isNaN(v))return new Date(v)}}return null}getParseRegExp(n,a){const i=this;let r=n._parseRegExp;if(r){const L=r[a];if(L)return L}else n._parseRegExp=r={};let o,d=i.expandFormat(n,a).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),f=["^"],p=[],v=0,w=0,C=i.getTokenRegExp();for(;(o=C.exec(d))!==null;){const L=d.slice(v,o.index);if(v=C.lastIndex,w+=i.appendPreOrPostMatch(L,f),w%2){f.push(o[0]);continue}let A,k=o[0],B=k.length;switch(k){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":A="(\\D+)";break;case"tt":case"t":A="(\\D*)";break;case"yyyyy":A="(\\d{1,4})";break;case"yyyy":A="(\\d{"+B+"})";break;case"fff":case"ff":case"f":A="(\\d{1,"+B+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":A="(\\d\\d?)";break;case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":A="(\\d{1,3})";break;case"zzz":A="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":A="([+-]?\\d\\d?)";break;case"/":A="/";break;default:if(!/i{1,24}/.test(k))throw"Invalid date format pattern '"+k+"'.";A="(\\d{"+k.length+"})"}A&&f.push(A),k!=="/"&&p.push(o[0])}i.appendPreOrPostMatch(d.slice(v),f),f.push("$");const x={regExp:f.join("").replace(/\s+/g,"\\s+"),groups:p};return r[a]=x}outOfRange(n,a,i){return n<a||n>i}expandYear(n,a){const i=this,r=new Date,o=i.getEra(r);if(a<100){let d=n.twoDigitYearMax;d=typeof d=="string"?new Date().getFullYear()%100+parseInt(d,10):d;const f=i.getEraYear(r,n,o);(a+=f-f%100)>d&&(a-=100)}return a}padZeros(n,a){let i,r=n+"";return a>1&&r.length<a?(i=["0","00","000"][a-2]+r,i.substr(i.length-a,a)):(i=r,i)}parseDate(n,a,i){const r=this;i==null&&(i=r.calendar),n=r.trim(n);const o=i,d=r.getParseRegExp(o,a),f=new RegExp(d.regExp).exec(n);if(f===null)return null;let p,v=d.groups,w=null,C=null,x=null,L=null,A=null,k=0,B=0,H=0,V=0,z=null,N=!1;for(let X=0,ae=v.length;X<ae;X++){const Q=f[X+1];if(Q){const ie=v[X],te=ie.length,E=parseInt(Q,10);switch(ie){case"dd":case"d":if(L=E,r.outOfRange(L,1,31))return null;break;case"MMM":case"MMMM":case"MMMMM":case"MMMMMM":case"MMMMMMM":case"MMMMMMMM":if(x=r.getMonthIndex(o,Q,te===3),r.outOfRange(x,0,11))return null;break;case"M":case"MM":if(x=E-1,r.outOfRange(x,0,11))return null;break;case"y":case"yy":case"yyyy":if(C=te<4?r.expandYear(o,E):E,r.outOfRange(C,0,9999))return null;break;case"h":case"hh":if(k=E,k===12&&(k=0),r.outOfRange(k,0,11))return null;break;case"H":case"HH":if(k=E,r.outOfRange(k,0,23))return null;break;case"m":case"mm":if(B=E,r.outOfRange(B,0,59))return null;break;case"s":case"ss":if(H=E,r.outOfRange(H,0,59))return null;break;case"tt":case"t":if(N=o.PM&&(Q===o.PM[0]||Q===o.PM[1]||Q===o.PM[2]),!N&&(!o.AM||Q!==o.AM[0]&&Q!==o.AM[1]&&Q!==o.AM[2]))return null;break;case"f":case"ff":case"fff":if(V=E*Math.pow(10,3-te),r.outOfRange(V,0,999))return null;break;case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":if(r.outOfRange(E,0,1e3))return null;r[r._codeToUnit[ie]]=E;break;case"ddd":case"dddd":if(A=r.getDayIndex(o,Q,te===3),r.outOfRange(A,0,6))return null;break;case"zzz":{const l=Q.split(/:/);if(l.length!==2||(p=parseInt(l[0],10),r.outOfRange(p,-12,13)))return null;const m=parseInt(l[1],10);if(r.outOfRange(m,0,59))return null;z=60*p+(r.startsWith(Q,"-")?-m:m);break}case"z":case"zz":if(p=E,r.outOfRange(p,-12,13))return null;z=60*p;break;case"g":case"gg":{let l=Q;if(!l||!o.eras)return null;l=this.trim(l.toLowerCase());for(let m=0,c=o.eras.length;m<c;m++)if(l===o.eras[m].nathat.toLowerCase()){w=m;break}if(w===null)return null;break}default:{let l=Q;l.length%3==1?l+="00":l.length%3==2&&(l+="0"),V=parseInt(l.slice(0,3),10),l=l.slice(3);let m=0;for(;l.length>0;)r[r._smallUnits[m]]=parseInt(l.slice(0,3),10),l=l.slice(3),m++}}}}let F,q=new Date,Y=o.convert;if(F=q.getFullYear(),C===null?C=F:o.eras&&(C+=o.eras[w||0].offset),x===null&&(x=0),L===null&&(L=1),Y){if(q=Y.toGregorian(C,x,L),q===null)return null}else if(q.setFullYear(C,x,L),q.getDate()!==L||A!==null&&q.getDay()!==A)return null;if(N&&k<12&&(k+=12),q.setHours(k,B,H,V),z!==null){const X=q.getMinutes()-(z+q.getTimezoneOffset());q.setHours(q.getHours()+parseInt(X/60,10),X%60)}return q}toString(n,a){const i=this;n===void 0&&(n="yyyy-MM-dd HH:mm:ss");const r=i.dateData.toString()+i.getFractionsOfSecondStamp()+n+(i.timeZone||"");if(Smart.Utilities.DateTime.cache&&Smart.Utilities.DateTime.cache[r]&&i.showTodayDateAsString!==!1)return Smart.Utilities.DateTime.cache[r];const o=i.toDate();if(a==null&&(a=i.calendar),typeof o=="string")return o;if(!n||!n.length||n==="i"){let A;return A=i.formatDate(o,a.patterns.F,a),A}const d=a.eras,f=n==="s";n=i.expandFormat(a,n);const p=[];let v,w=0,C=i.getTokenRegExp();function x(A,k){if(A.getMonth!==void 0)switch(k){case 0:return A.getFullYear();case 1:return A.getMonth();case 2:return A.getDate()}}for(;;){const A=C.lastIndex,k=C.exec(n),B=n.slice(A,k?k.index:n.length);if(w+=i.appendPreOrPostMatch(B,p),!k)break;if(w%2){p.push(k[0]);continue}const H=k[0],V=H.length;let z;if(/i{1,24}/.test(H))p.push(i.getFirstNDigitsOfPrecision(H.length));else switch(H){case"ddd":case"dddd":{const N=V===3?a.days.namesAbbr:a.days.names;p.push(N[o.getDay()]);break}case"d":case"dd":p.push(i.padZeros(x(o,2),V));break;case"MMM":case"MMMM":z=x(o,1),p.push(a.months[V===3?"namesAbbr":"names"][z]);break;case"M":case"MM":p.push(i.padZeros(x(o,1)+1,V));break;case"y":case"yy":case"yyyy":z=i.getEraYear(o,a,i.getEra(o,d),f),V<4&&(z%=100),p.push(i.padZeros(z,V));break;case"h":case"hh":v=o.getHours()%12,v===0&&(v=12),p.push(i.padZeros(v,V));break;case"H":case"HH":p.push(i.padZeros(o.getHours(),V));break;case"m":case"mm":p.push(i.padZeros(o.getMinutes(),V));break;case"s":case"ss":p.push(i.padZeros(o.getSeconds(),V));break;case"t":case"tt":z=o.getHours()<12?a.AM?a.AM[0]:" ":a.PM?a.PM[0]:" ",p.push(V===1?z.charAt(0):z);break;case"f":case"ff":case"fff":p.push(i.padZeros(o.getMilliseconds(),3).substr(0,V));break;case"u":case"n":case"p":case"e":case"a":case"x":case"o":p.push(i[i._codeToUnit[H]]);break;case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":p.push(i.padZeros(i[i._codeToUnit[H]],3));break;case"z":case"zz":p.push((i.timeZoneOffsetHours>=0?"+":"-")+i.padZeros(Math.floor(Math.abs(i.timeZoneOffsetHours)),V));break;case"zzz":p.push((i.timeZoneOffsetHours>=0?"+":"-")+i.padZeros(Math.floor(Math.abs(i.timeZoneOffsetHours)),2)+":"+i.padZeros(60*Math.abs(i.timeZoneOffsetHours%1),2));break;case"g":case"gg":a.eras&&p.push(a.eras[i.getEra(o,d)].name);break;case"/":p.push(a["/"]);break;default:throw"Invalid date format pattern '"+H+"'."}}let L=p.join("");if(Smart.Utilities.DateTime.cache||(Smart.Utilities.DateTime.cache=new Array),i._today||(i._today=new Date),i.calendar&&i.calendar.today&&n.indexOf(":")===-1&&o.getFullYear()===i._today.getFullYear()&&o.getDate()===i._today.getDate()&&o.getMonth()===i._today.getMonth()){if(i.showTodayDateAsString===!1)return Smart.Utilities.DateTime.cache[r]=L,L;L=i.calendar.today}return Smart.Utilities.DateTime.cache[r]=L,L}getFractionsOfSecondStamp(){const n=this;return n._microsecond.toString()+n._nanosecond+n._picosecond+n._femtosecond+n._attosecond+n._zeptosecond+n._yoctosecond}getFirstNDigitsOfPrecision(n,a){const i=this;return(""+(a!==!0?i.padZeros(i.millisecond(),3):"")+i.padZeros(i._microsecond,3)+i.padZeros(i._nanosecond,3)+i.padZeros(i._picosecond,3)+i.padZeros(i._femtosecond,3)+i.padZeros(i._attosecond,3)+i.padZeros(i._zeptosecond,3)+i.padZeros(i._yoctosecond,3)).slice(0,n)}copySmallTimePartValues(n){const a=this;n._microsecond=a._microsecond,n._nanosecond=a._nanosecond,n._picosecond=a._picosecond,n._femtosecond=a._femtosecond,n._attosecond=a._attosecond,n._zeptosecond=a._zeptosecond,n._yoctosecond=a._yoctosecond}add(n,a,i){const r=this,o=r.internalMS();if(a===void 0){if(i===!1)return r.dateData=o+parseInt(n._ticks/r.ticksPerMillisecond),r;const p=new Smart.Utilities.DateTime(o+parseInt(n._ticks/r.ticksPerMillisecond));return r.copyTimeZone(p),r.copySmallTimePartValues(p),p}const d=n*a;if(d<=-r.maxMillis||d>=r.maxMillis)throw new Error("Out of Range");if(i===!1)return r.dateData=o+d,r;const f=new Smart.Utilities.DateTime(o+d);return r.copyTimeZone(f),r.copySmallTimePartValues(f),f}addDays(n,a){return this.add(n,this.millisPerDay,a)}clone(){const n=this,a=new Smart.Utilities.DateTime(n.dateData);return n.copyTimeZone(a),n.copySmallTimePartValues(a),a}clearTime(){const n=this,a=n.month(),i=n.year(),r=n.day(),o=new Smart.Utilities.DateTime(i,a,r,0,0,0,0);return n.copyTimeZone(o),o}addHours(n,a){return this.add(n,this.millisPerHour,a)}addDeciseconds(n,a){return this.add(100*n,1,a)}addCentiseconds(n,a){return this.add(10*n,1,a)}addMilliseconds(n,a){return this.add(n,1,a)}addMinutes(n,a){return this.add(n,this.millisPerMinute,a)}addMonths(n,a){const i=this;if(n<-12e4||n>12e4)throw new Error("Invalid Months Value");let r=parseInt(i.getDatePart(i.datePartYear)),o=parseInt(i.getDatePart(i.datePartMonth)),d=parseInt(i.getDatePart(i.datePartDay));if(n%12==0)r+=n/12;else{const v=o-1+n;v>=0?(o=v%12+1,r+=v/12):(o=12+(v+1)%12,r+=(v-11)/12),r=parseInt(r)}if(r<1||r>9999)throw new Error("Year out of range");const f=i.daysInMonth(r,o);if(d>f&&(d=f),a===!1)return i.dateData=i.dateToMS(r,o,d)+i.internalMS()%i.millisPerDay,i;const p=new Smart.Utilities.DateTime(i.dateToMS(r,o,d)+i.internalMS()%i.millisPerDay);return i.copyTimeZone(p),i.copySmallTimePartValues(p),p}addSeconds(n,a){return this.add(n,this.millisPerSecond,a)}addYears(n,a){return this.addMonths(12*n,a)}addMicroseconds(n,a){if(n===0)return;const i=this;let r,o;n<0&&i.hour()===0&&i.minute()===0&&i.second()===0&&i.millisecond()===0&&i._microsecond===0&&(r=parseInt(n/1e3,10)-1,o=1e3+n%1e3);const d=1e3*i.timeToMS(i.hour(),i.minute(),i.second(),i.millisecond())+i._microsecond,f=d+n;let p;if(r===void 0&&(r=parseInt(f/1e3,10)-parseInt(d/1e3,10)),o===void 0&&(o=parseInt(f%1e3,10)),r!==0&&(p=i.addMilliseconds(r,a)),a!==!1)return p||(p=i.clone()),p._microsecond=o,p;i._microsecond=o}addFractionsOfSecond(n,a,i,r,o){if(n===0)return;const d=this,f=1e3*d[r]+d[i],p=n+f;let v,w=parseInt(p/1e3,10)-parseInt(f/1e3,10),C=parseInt(p%1e3,10);if(n<0&&p<0&&C<0&&(w--,C=1e3+C),w!==0&&(v=d[o](w,a)),a!==!1)return v||(v=d.clone()),v[i]=C,v;d[i]=C}addNanoseconds(n,a){return this.addFractionsOfSecond(n,a,"_nanosecond","_microsecond","addMicroseconds")}addPicoseconds(n,a){return this.addFractionsOfSecond(n,a,"_picosecond","_nanosecond","addNanoseconds")}addFemtoseconds(n,a){return this.addFractionsOfSecond(n,a,"_femtosecond","_picosecond","addPicoseconds")}addAttoseconds(n,a){return this.addFractionsOfSecond(n,a,"_attosecond","_femtosecond","addFemtoseconds")}addZeptoseconds(n,a){return this.addFractionsOfSecond(n,a,"_zeptosecond","_attosecond","addAttoseconds")}addYoctoseconds(n,a){return this.addFractionsOfSecond(n,a,"_yoctosecond","_zeptosecond","addZeptoseconds")}getTimeZoneOffset(){const n=new Date,a=new Date(n.getFullYear(),0,1),i=new Date(n.getFullYear(),6,1),r=n.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),i.getTimezoneOffset());return{offset:-n.getTimezoneOffset()/60,dst:+r}}isInDaylightSavingTime(){const n=new Date,a=new Date(n.getFullYear(),0,1),i=new Date(n.getFullYear(),6,1);return this.date().getTimezoneOffset()<Math.max(a.getTimezoneOffset(),i.getTimezoneOffset())}supportsDaylightSavingTime(){const n=new Date,a=new Date(n.getFullYear(),0,1),i=new Date(n.getFullYear(),6,1);return a.getTimezoneOffset()!==i.getTimezoneOffset()}date(){const n=this,a=n.month(),i=n.year(),r=n.day(),o=new Smart.Utilities.DateTime(i,a,r);return n.copyTimeZone(o),o}isWeekend(){return this.dayOfWeek()===0||this.dayOfWeek()===6}toDate(n){const a=this,i=a.month(),r=a.year(),o=a.day(),d=a.hour(),f=a.minute(),p=a.second(),v=a.millisecond();let w=new Date(r,i-1,o);if(r<1970&&w.setFullYear(r),w.setHours(d,f,p,v),n){const C=a.timeZones.filter(function(x){return x.id===n});if(C.length){let x=C[0].offset;const L=w.getTime();let A=60*w.getTimezoneOffset()*1e3;if(a.timeZone){const k=a.timeZones.filter(function(B){return B.id===a.timeZone});k.length&&(A=60*-k[0].offset*1e3)}w=new Date(L+A+6e4*x)}}return w}toTimeZone(n){const a=this;let i=n;if(i==null&&(i="Local"),a.timeZone===i)return a.clone();const r=a.timeZones.filter(function(f){return f.id===i});if(r.length===0)return a.clone();const o=this.toDate(i),d=new Smart.Utilities.DateTime(o);return d.timeZone=i,d.timeZoneOffset=r[0].offset,d.timeZoneOffsetHours=r[0].offsetHours,a.copySmallTimePartValues(d),d}day(){return this.getDatePart(this.datePartDay)}month(){return this.getDatePart(this.datePartMonth)}year(){return this.getDatePart(this.datePartYear)}millisecond(){return parseInt(this.internalMS()%1e3)}hour(){return parseInt(Math.floor(this.internalMS()/this.millisPerHour)%24)}minute(){return parseInt(this.internalMS()/this.millisPerMinute%60)}second(){return parseInt(this.internalMS()/this.millisPerSecond%60)}microsecond(){return this._microsecond}nanosecond(){return this._nanosecond}picosecond(){return this._picosecond}femtosecond(){return this._femtosecond}attosecond(){return this._attosecond}zeptosecond(){return this._zeptosecond}yoctosecond(){return this._yoctosecond}valueOf(){return this.dateData}equals(n){const a=this;return a.dateData===n.dateData&&a._microsecond===n._microsecond&&a._nanosecond===n._nanosecond&&a._picosecond===n._picosecond&&a._femtosecond===n._femtosecond&&a._attosecond===n._attosecond&&a._zeptosecond===n._zeptosecond&&a._yoctosecond===n._yoctosecond}equalDateParts(n){const a=this;return a.year()===n.year()&&a.month()===n.month()&&a.day()===n.day()}compare(n){const a=this;if(a.equals(n))return 0;const i=["dateData","_microsecond","_nanosecond","_picosecond","_femtosecond","_attosecond","_zeptosecond","_yoctosecond"];for(let r=0;r<i.length;r++){const o=i[r];if(a[o]>n[o])return 1;if(a[o]<n[o])return-1}return 0}toDateString(){return this.toDate().toDateString()}toLocaleDateString(){return this.toDate().toLocaleDateString(this.calendar.locale)}toLocaleString(){return this.toDate().toLocaleString(this.calendar.locale)}toLocaleTimeString(){return this.toDate().toLocaleTimeString(this.calendar.locale)}validateTimeZone(n){const a=this;if(typeof n!="string")return;const i=a.timeZones.filter(function(r){return r.id===n});i.length!==0&&(a.timeZone=n,a.timeZoneOffset=i[0].offset,a.timeZoneOffsetHours=i[0].offsetHours)}copyTimeZone(n){const a=this;n.timeZone=a.timeZone,n.timeZoneOffset=a.timeZoneOffset,n.timeZoneOffsetHours=a.timeZoneOffsetHours}getTimeStamp(){return new Smart.Utilities.BigNumber(this.dateData.toString()+this.getFirstNDigitsOfPrecision(void 0,!0))}})})()},6321:()=>{(function(){if(typeof window===void 0)return;const u="21.0.0",g=[];let e="Smart";if(window[e]&&window[e].Version){if(window[e].Version===u)return;if(window[e].Version!==u)e+=u;else{let E=2;for(;window[e];)e+=E.toString(),E++}}const t=navigator.userAgent.indexOf("Edge")>-1&&navigator.appVersion.indexOf("Edge")>-1;document.elementsFromPoint||(document.elementsFromPoint=document.msElementsFromPoint);class n{static isBoolean(l){return typeof l=="boolean"}static isFunction(l){return!!(l&&l.constructor&&l.call&&l.apply)}static isArray(l){return Array.isArray(l)}static isObject(l){return l&&(typeof l=="object"||this.isFunction(l))||!1}static isDate(l){return l instanceof Date}static isString(l){return typeof l=="string"}static isNumber(l){return typeof l=="number"}static getType(l){const m=this,c=["Boolean","Number","String","Function","Array","Date","Object"].find(y=>{if(m["is"+y](l))return y});return c?c.toLowerCase():void 0}}class a{static animate(l,m,c,y){const b=l;if(!b||b instanceof HTMLElement==0)return;if(b.getElementsByClassName("smart-ripple").length===0){const ee=document.createElement("span");ee.classList.add("smart-ripple"),ee.setAttribute("role","presentation");let de=!0,me=null;if(window[e].EnableShadowDOM&&b.enableShadowDOM&&b.isInShadowDOM!==!0){for(let ge=0;ge<b.shadowRoot.host.shadowRoot.children.length;ge++)b.shadowRoot.host.shadowRoot.children[ge].tagName.toLowerCase()!=="link"&&(me=b.shadowRoot.host.shadowRoot.children[ge]);b.shadowRoot.host.shadowRoot.querySelector(".smart-ripple")&&(de=!1)}else me=b.firstElementChild;de&&(me&&!me.noRipple&&me.offsetHeight>0?me.appendChild(ee):b.appendChild(ee))}let S=null;if(S=window[e].EnableShadowDOM&&b.shadowRoot?b.shadowRoot.host.shadowRoot.querySelector(".smart-ripple"):b.getElementsByClassName("smart-ripple")[0],!S)return;S.innerHTML="",S.classList.remove("smart-animate"),S.style.height=S.style.width=Math.max(b.offsetHeight,b.offsetWidth)+"px";const D=window.getComputedStyle(S.parentElement),M=parseInt(D.borderLeftWidth)||0,$=parseInt(D.borderTopWidth)||0,P=b.getBoundingClientRect(),G=m-(P.left+window.pageXOffset)-S.offsetWidth/2-M,Z=c-(P.top+window.pageYOffset)-S.offsetHeight/2-$;S.style.left=G+"px",S.style.top=Z+"px",S.classList.add("smart-animate"),S.addEventListener("animationend",function ee(){S.parentElement&&S.parentElement.removeChild(S),y&&y(),S.removeEventListener("animationend",ee),S.removeEventListener("animationcancel",ee)}),S.addEventListener("animationcancel",function ee(){S.parentElement&&S.parentElement.removeChild(S),y&&y(),S.removeEventListener("animationcancel",ee),S.removeEventListener("animationend",ee)})}}class i{static easeInQuad(l,m,c,y){return c*(l/=y)*l+m}static easeOutQuad(l,m,c,y){return-c*(l/=y)*(l-2)+m}static easeInOutQuad(l,m,c,y){return(l/=y/2)<1?c/2*l*l+m:-c/2*(--l*(l-2)-1)+m}static easeInCubic(l,m,c,y){return c*(l/=y)*l*l+m}static easeOutCubic(l,m,c,y){return c*((l=l/y-1)*l*l+1)+m}static easeInOutCubic(l,m,c,y){return(l/=y/2)<1?c/2*l*l*l+m:c/2*((l-=2)*l*l+2)+m}static easeInQuart(l,m,c,y){return c*(l/=y)*l*l*l+m}static easeOutQuart(l,m,c,y){return-c*((l=l/y-1)*l*l*l-1)+m}static easeInOutQuart(l,m,c,y){return(l/=y/2)<1?c/2*l*l*l*l+m:-c/2*((l-=2)*l*l*l-2)+m}static easeInQuint(l,m,c,y){return c*(l/=y)*l*l*l*l+m}static easeOutQuint(l,m,c,y){return c*((l=l/y-1)*l*l*l*l+1)+m}static easeInOutQuint(l,m,c,y){return(l/=y/2)<1?c/2*l*l*l*l*l+m:c/2*((l-=2)*l*l*l*l+2)+m}static easeInSine(l,m,c,y){return-c*Math.cos(l/y*(Math.PI/2))+c+m}static easeOutSine(l,m,c,y){return c*Math.sin(l/y*(Math.PI/2))+m}static easeInOutSine(l,m,c,y){return-c/2*(Math.cos(Math.PI*l/y)-1)+m}static easeInExpo(l,m,c,y){return l===0?m:c*Math.pow(2,10*(l/y-1))+m}static easeOutExpo(l,m,c,y){return l===y?m+c:c*(1-Math.pow(2,-10*l/y))+m}static easeInOutExpo(l,m,c,y){return l===0?m:l===y?m+c:(l/=y/2)<1?c/2*Math.pow(2,10*(l-1))+m:c/2*(2-Math.pow(2,-10*--l))+m}static easeInCirc(l,m,c,y){return-c*(Math.sqrt(1-(l/=y)*l)-1)+m}static easeOutCirc(l,m,c,y){return c*Math.sqrt(1-(l=l/y-1)*l)+m}static easeInOutCirc(l,m,c,y){return(l/=y/2)<1?-c/2*(Math.sqrt(1-l*l)-1)+m:c/2*(Math.sqrt(1-(l-=2)*l)+1)+m}static easeInElastic(l,m,c,y){let b=1.70158,S=0,D=c;return l===0?m:(l/=y)==1?m+c:(S||(S=.3*y),D<Math.abs(c)?(D=c,b=S/4):b=S/(2*Math.PI)*Math.asin(c/D),-D*Math.pow(2,10*(l-=1))*Math.sin((l*y-b)*(2*Math.PI)/S)+m)}static easeOutElastic(l,m,c,y){let b=1.70158,S=0,D=c;return l===0?m:(l/=y)==1?m+c:(S||(S=.3*y),D<Math.abs(c)?(D=c,b=S/4):b=S/(2*Math.PI)*Math.asin(c/D),D*Math.pow(2,-10*l)*Math.sin((l*y-b)*(2*Math.PI)/S)+c+m)}static easeInOutElastic(l,m,c,y){let b=1.70158,S=0,D=c;return l===0?m:(l/=y/2)==2?m+c:(S||(S=y*.44999999999999996),D<Math.abs(c)?(D=c,b=S/4):b=S/(2*Math.PI)*Math.asin(c/D),l<1?D*Math.pow(2,10*(l-=1))*Math.sin((l*y-b)*(2*Math.PI)/S)*-.5+m:D*Math.pow(2,-10*(l-=1))*Math.sin((l*y-b)*(2*Math.PI)/S)*.5+c+m)}static easeInBack(l,m,c,y,b){return b===void 0&&(b=1.70158),c*(l/=y)*l*((b+1)*l-b)+m}static easeOutBack(l,m,c,y,b){return b===void 0&&(b=1.70158),c*((l=l/y-1)*l*((b+1)*l+b)+1)+m}static easeInOutBack(l,m,c,y,b){return b===void 0&&(b=1.70158),(l/=y/2)<1?c/2*(l*l*((1+(b*=1.525))*l-b))+m:c/2*((l-=2)*l*((1+(b*=1.525))*l+b)+2)+m}static easeInBounce(l,m,c,y){return c-this.easeOutBounce(y-l,0,c,y)+m}static easeOutBounce(l,m,c,y){return(l/=y)<.36363636363636365?c*(7.5625*l*l)+m:l<.7272727272727273?c*(7.5625*(l-=.5454545454545454)*l+.75)+m:l<.9090909090909091?c*(7.5625*(l-=.8181818181818182)*l+.9375)+m:c*(7.5625*(l-=.9545454545454546)*l+.984375)+m}static easeInOutBounce(l,m,c,y){return l<y/2?.5*this.easeInBounce(2*l,0,c,y)+m:.5*this.easeOutBounce(2*l-y,0,c,y)+.5*c+m}}class r{static get isMobile(){return/(iphone|ipod|ipad|android|iemobile|blackberry|bada)/.test(window.navigator.userAgent.toLowerCase())||["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}static get Browser(){let l;const m=function(y){let b=y.indexOf(l);if(b===-1)return;const S=y.indexOf("rv:");return parseFloat(l==="Trident"&&S!==-1?y.substring(S+3):y.substring(b+l.length+1))};let c={};return c[function(){const y=[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"IE"},{string:navigator.userAgent,subString:"Trident",identity:"IE"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}];for(let b=0;b<y.length;b++){let S=y[b].string;if(l=y[b].subString,S.indexOf(y[b].subString)!==-1)return y[b].identity}return"Other"}()]=!0,c.version=m(navigator.userAgent)||m(navigator.appVersion)||"Unknown",c}static toCamelCase(l){return l.replace(/-([a-z])/g,function(m){return m[1].toUpperCase()})}static toDash(l){return l.split(/(?=[A-Z])/).join("-").toLowerCase()}static unescapeHTML(l){return new DOMParser().parseFromString(l,"text/html").documentElement.textContent}static escapeHTML(l){const m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(l).replace(/[&<>"'`=\/]/g,c=>m[c])}static sanitizeHTML(l){if(l&&(l.indexOf("onclick")>=0||l.indexOf("onload")>=0||l.indexOf("onerror")>=0))return this.escapeHTML(l);const m=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig");return String(l).replace(m,c=>this.escapeHTML(c))}static createGUID(){function l(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return l()+l()+"-"+l()+"-"+l()+"-"+l()+"-"+l()+l()+l()}static getScriptLocation(){return window[e].BaseUrl!=="./"?window[e].BaseUrl:function(){if(document.currentScript){let b=document.currentScript.src,S=b.lastIndexOf("/");return b=b.substring(0,S),b}const l=new Error;let m="(",c=")";if(Smart.Utilities.Core.Browser.Safari&&(m="@",c=`
`),l.fileName)return l.fileName.replace("/smart.element.js","");let y=l.stack.split(m);return y=y[1],y=y.split(c)[0],y=y.split(":"),y.splice(-2,2),y=y.join(":"),y.replace("/smart.element.js","")}()}static CSSVariablesSupport(){return window.CSS&&window.CSS.supports&&window.CSS.supports("(--fake-var: 0)")}static assign(l,m){const c=b=>b&&typeof b=="object"&&!Array.isArray(b)&&b!==null;let y=Object.assign({},l);return c(l)&&c(m)&&Object.keys(m).forEach(b=>{c(m[b])?b in l?y[b]=this.assign(l[b],m[b]):Object.assign(y,{[b]:m[b]}):Object.assign(y,{[b]:m[b]})}),y}static html(l,m){const c=this;let y="",b=l.childNodes;if(!m){for(let S,D=0,M=b.length;D<M&&(S=b[D]);D++){const $=["strong"];if(S instanceof HTMLElement||S.tagName&&$.indexOf(S.tagName.toLowerCase())>=0){const P=S.tagName.toLowerCase(),G=S.attributes;let Z="<"+P;for(let ee,de=0;ee=G[de];de++)Z+=" "+ee.name+'="'+ee.value.replace(/[&\u00A0"]/g,A.Core.escapeHTML)+'"';Z+=">",["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"][P]&&(y+=Z),y=y+Z+c.html(S)+"</"+P+">"}else{if(S.nodeType===8)continue;y+=S.textContent.replace(/[&\u00A0<>]/g,A.Core.escapeHTML)}}return y}{const S=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;l.innerHTML=m.replace(S,"<$1></$2>")}}}let o=[];class d{static watch(l){switch(l.nodeName.toLowerCase()){case"smart-grid":case"smart-kanban":case"smart-table":case"smart-pivot-table":case"smart-scheduler":case"smart-tabs":case"smart-card-view":case"smart-list-box":case"smart-combo-box":case"smart-drop-down-list":case"smart-calendar":case"smart-gauge":case"smart-numeric-text-box":case"smart-menu":case"smart-tree":o.push(l);break;default:return}d.start()}static start(){d.isStarted||(d.isStarted=!0,d.interval&&clearInterval(d.interval),o.length===0||document.hidden?d.isStarted=!1:d.interval=setInterval(function(){d.observe()},100))}static stop(){d.isStarted=!1,d.interval&&clearInterval(d.interval)}static observeElement(l){const m=l;if(window.Smart.Mode==="test"||document.hidden)return void(d.interval&&clearInterval(d.interval));let c=l._computedStyle||m.hasStyleObserver!=="resize"?document.defaultView.getComputedStyle(m,null):{},y=!0,b=m.hasStyleObserver!=="resize"?["paddingLeft","paddingRight","paddingTop","paddingBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","display","visibility","font-size","font-family","font-style","font-weight","max-height","min-height","max-width","min-width","overflow","overflow-x","overflow-y"]:[];if(l.styleProperties&&(b=b.concat(l.styleProperties)),l.observableStyleProperties&&(b=l.observableStyleProperties),!m._styleInfo){m._styleInfo=[];for(let D=0;D<b.length;D++){const M=b[D],$=M.startsWith("--")?c.getPropertyValue(M):c[M];m._styleInfo[M]=$}return}if(l.isHidden||c.display!=="none"&&(l.offsetWidth!==0&&l.offsetHeight!==0||(l.isHidden=!0)),l.isHidden){if(l.visibilityChangedHandler(),l.isHidden)return;y=!1}let S=[];for(let D=0;D<b.length;D++){const M=b[D],$=M.startsWith("--")?c.getPropertyValue(M):c[M];m._styleInfo[M]!==$&&(S[M]={oldValue:m._styleInfo[M],value:$},S.length++),m._styleInfo[M]=$}S.length>0&&(m.$.fireEvent("styleChanged",{styleProperties:S},{bubbles:!1,cancelable:!0}),S.display&&y&&m.$.fireEvent("resize",m,{bubbles:!1,cancelable:!0}))}static observe(){for(let l=0;l<o.length;l++){const m=o[l];this.observeElement(m)}}static unwatch(l){d.stop();const m=o.indexOf(l);m!==-1&&o.splice(m,1),d.start()}}let f=[];const p=[],v=["resize","down","up","move","tap","taphold","swipeleft","swiperight","swipetop","swipebottom"];class w{constructor(l){const m=this;m.target=l,m.$target=new x(l),m.$document=l.$document?l.$document:new x(document),m.id=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase();let c={handlers:{},boundEventTypes:[],listen:m.listen.bind(m),unlisten:m.unlisten.bind(m)};return m.tapHoldDelay=750,m.swipeMin=10,m.swipeMax=5e3,m.swipeDelay=1e3,m.tapHoldDelay=750,m.inputEventProperties=["clientX","clientY","pageX","pageY","screenX","screenY"],v.forEach(y=>{c[y]=b=>{c.handlers[y]=b},m[y]=b=>{if(!c.handlers[b.type]){if((b.type==="mousemove"||b.type==="pointermove"||b.type==="touchmove")&&c.handlers.move){const S=m.createEvent(b,"move");c.handlers.move(S)}return!0}return c.handlers[b.type](b)}}),m.listen(),m.handlers=c.handlers,c}listen(l){const m=this;if(l==="resize"&&m.target!==document&&m.target!==window&&m.target.hasResizeObserver!==!1){if(Smart.Utilities.Core.Browser.Firefox){if(!m.target.resizeObserver){let c,y,b,S=!1,D=m.target.offsetWidth,M=m.target.offsetHeight;const $=new ResizeObserver(()=>{if(!S)return void(S=!0);const P=new CustomEvent("resize",{bubbles:!1,cancelable:!0});y=m.target.offsetWidth,b=m.target.offsetHeight,c=y!==D||b!==M,m.target.requiresLayout&&(c=!0),c&&(m.resize(P),m.target.requiresLayout=!1,D=y,M=b)});$.observe(m.target),m.target.resizeObserver=$}}else if(!m.target.resizeTrigger){const c=document.createElement("div");c.className="smart-resize-trigger-container",c.innerHTML='<div class="smart-resize-trigger-container"><div class="smart-resize-trigger"></div></div><div class="smart-resize-trigger-container"><div class="smart-resize-trigger-shrink"></div></div>',c.setAttribute("aria-hidden",!0),window[e].EnableShadowDOM&&m.target.shadowRoot?m.target.shadowRoot.appendChild(c):m.target.appendChild(c),m.target.resizeTrigger=c;const y=c.childNodes[0],b=y.childNodes[0],S=c.childNodes[1],D=function(){b.style.width="100000px",b.style.height="100000px",y.scrollLeft=1e5,y.scrollTop=1e5,S.scrollLeft=1e5,S.scrollTop=1e5};let M,$,P,G,Z=m.target.offsetWidth,ee=m.target.offsetHeight;if(Z===0||ee===0){const de=function(){D(),m.target.removeEventListener("resize",de)};m.target.addEventListener("resize",de),D()}else D();m.target.resizeHandler=function(){$||($=requestAnimationFrame(function(){if($=0,P=m.target.offsetWidth,G=m.target.offsetHeight,M=P!==Z||G!==ee,m.target.requiresLayout&&(M=!0),!M)return;Z=P,ee=G;const de=new CustomEvent("resize",{bubbles:!1,cancelable:!0});m.resize(de),m.target.requiresLayout=!1})),D()},y.addEventListener("scroll",m.target.resizeHandler),S.addEventListener("scroll",m.target.resizeHandler)}}m.isListening||(m.isListening=!0,m.isPressed=!1,m.isReleased=!1,m.isInBounds=!1,window.PointerEvent?(m.$target.listen("pointerdown.inputEvents"+m.id,m.pointerDown.bind(m)),m.$target.listen("pointerup.inputEvents"+m.id,m.pointerUp.bind(m)),m.$target.listen("pointermove.inputEvents"+m.id,m.pointerMove.bind(m)),m.$target.listen("pointercancel.inputEvents"+m.id,m.pointerCancel.bind(m))):("ontouchstart"in window&&(m.$target.listen("touchmove.inputEvents"+m.id,m.touchMove.bind(m)),m.$target.listen("touchstart.inputEvents"+m.id,m.touchStart.bind(m)),m.$target.listen("touchend.inputEvents"+m.id,m.touchEnd.bind(m)),m.$target.listen("touchcancel.inputEvents"+m.id,m.touchCancel.bind(m))),m.$target.listen("mousedown.inputEvents"+m.id,m.mouseDown.bind(m)),m.$target.listen("mouseup.inputEvents"+m.id,m.mouseUp.bind(m)),m.$target.listen("mousemove.inputEvents"+m.id,m.mouseMove.bind(m)),m.$target.listen("mouseleave.inputEvents"+m.id,m.mouseLeave.bind(m))),m.target._handleDocumentUp||(m.target._handleDocumentUp=m.handleDocumentUp.bind(m),m.target._handleDocumentUpId=m.id,m.$document.listen("mouseup.inputEvents"+m.target._handleDocumentUpId,m.target._handleDocumentUp)))}unlisten(l){const m=this;if(m.isListening=!1,window.PointerEvent?(m.$target.unlisten("pointerdown.inputEvents"+m.id),m.$target.unlisten("pointerup.inputEvents"+m.id),m.$target.unlisten("pointermove.inputEvents"+m.id),m.$target.unlisten("pointercancel.inputEvents"+m.id)):("ontouchstart"in window&&(m.$target.unlisten("touchstart.inputEvents"+m.id),m.$target.unlisten("touchmove.inputEvents"+m.id),m.$target.unlisten("touchend.inputEvents"+m.id),m.$target.unlisten("touchcancel.inputEvents"+m.id)),m.$target.unlisten("mousedown.inputEvents"+m.id),m.$target.unlisten("mouseup.inputEvents"+m.id),m.$target.unlisten("mousemove.inputEvents"+m.id),m.$target.unlisten("mouseleave.inputEvents"+m.id)),m.target._handleDocumentUp&&(m.$document.unlisten("mouseup.inputEvents"+m.target._handleDocumentUpId,m.target._handleDocumentUp),delete m.target._handleDocumentUp,delete m.target._handleDocumentUpId),l==="resize"){if(Smart.Utilities.Core.Browser.Firefox)m.target.resizeObserver&&(m.target.resizeObserver.unobserve(m.target),delete m.target.resizeObserver);else if(m.target.resizeTrigger){const c=m.target.resizeTrigger,y=c.childNodes[0],b=c.childNodes[1];y.removeEventListener("scroll",m.target.resizeHandler),b.removeEventListener("scroll",m.target.resizeHandler),m.target.resizeHandler=null,c.parentNode.removeChild(c),delete m.target.resizeTrigger}}}handleDocumentUp(l){const m=this;m.isPressed=!1,m.isReleased=!1,m.resetSwipe(l)}createEvent(l,m){const c=this,y=l.touches,b=l.changedTouches,S=y&&y.length?y[0]:b&&b.length?b[0]:void 0,D=new CustomEvent(m,{bubbles:!0,cancelable:!0,composed:c.$target.element.getRootNode().host!==void 0});if(D.originalEvent=l,S){for(let M=0;M<c.inputEventProperties.length;M++){const $=c.inputEventProperties[M];D[$]=S[$]}return D}for(let M in l)M in D||(D[M]=l[M]);return D}fireTap(l){const m=this;if(clearTimeout(this.tapHoldTimeout),!this.tapHoldFired&&this.isInBounds){const c=m.createEvent(l,"tap");m.tap(c)}}initTap(l){const m=this;m.isInBounds=!0,m.tapHoldFired=!1,m.tapHoldTimeout=setTimeout(function(){if(m.isInBounds){m.tapHoldFired=!0;const c=m.createEvent(l,"taphold");m.taphold(c)}},m.tapHoldDelay)}pointerDown(l){return this.handleDown(l)}mouseDown(l){const m=this;if(!(m.isPressed||m.touchStartTime&&new Date-m.touchStartTime<500))return m.handleDown(l)}touchStart(l){const m=this;return m.touchStartTime=new Date,m.isTouchMoved=!0,m.handleDown(l)}mouseUp(l){const m=this;if(!(m.isReleased||m.touchEndTime&&new Date-m.touchEndTime<500))return m.handleUp(l)}handleDown(l){const m=this;m.isReleased=!1,m.isPressed=!0;const c=m.createEvent(l,"down");return(m.handlers.tap||m.handlers.taphold)&&m.initTap(c),(m.handlers.swipeleft||m.handlers.swiperight||m.handlers.swipetop||m.handlers.swipebottom)&&m.initSwipe(c),m.down(c)}handleUp(l){const m=this;m.isReleased=!0,m.isPressed=!1;const c=m.createEvent(l,"up"),y=m.up(c);return(m.handlers.tap||m.handlers.taphold)&&m.fireTap(c),m.resetSwipe(c),y}handleMove(l){const m=this;let c=m.move(l);return m.isPressed&&(m._maxSwipeVerticalDistance=Math.max(m._maxSwipeVerticalDistance,Math.abs(m._startY-l.pageY)),m._maxSwipeHorizontalDistance=Math.max(m._maxSwipeHorizontalDistance,Math.abs(m._startX-l.pageX)),c=m.handleSwipeEvents(l)),c}touchEnd(l){return this.touchEndTime=new Date,this.handleUp(l)}pointerUp(l){return this.handleUp(l)}pointerCancel(l){this.pointerUp(l)}touchCancel(l){this.touchEnd(l)}mouseLeave(){this.isInBounds=!1}mouseMove(l){if(!this.isTouchMoved)return this.handleMove(l)}pointerMove(l){return this.handleMove(l)}touchMove(l){const m=this,c=l.touches,y=l.changedTouches,b=c&&c.length?c[0]:y&&y.length?y[0]:void 0;for(let S=0;S<m.inputEventProperties.length;S++){const D=m.inputEventProperties[S];l[D]===void 0&&(l[D]=b[D])}return m.isTouchMoved=!0,m.handleMove(l)}handleSwipeEvents(l){const m=this;let c=!0;return(m.handlers.swipetop||m.handlers.swipebottom)&&(c=this.handleVerticalSwipeEvents(l)),c===!1||(m.handlers.swipeleft||m.handlers.swiperight)&&(c=this.handleHorizontalSwipeEvents(l)),c}handleVerticalSwipeEvents(l){let m,c;return m=l.pageY,c=m-this._startY,this.swiped(l,c,"vertical")}handleHorizontalSwipeEvents(l){let m,c;return m=l.pageX,c=m-this._startX,this.swiped(l,c,"horizontal")}swiped(l,m,c){const y=this;if(c=c||0,Math.abs(m)>=y.swipeMin&&!y._swipeEvent&&!y._swipeLocked){let b=m<0?"swipeleft":"swiperight";if(c==="horizontal"?y._swipeEvent=y.createEvent(l,b):(b=m<0?"swipetop":"swipebottom",y._swipeEvent=y.createEvent(l,m<0?"swipetop":"swipebottom")),y[b]&&(y[b](this._swipeEvent),Math.abs(m)<=this.swipeMax))return l.stopImmediatePropagation(),!1}return!0}resetSwipe(){this._swipeEvent=null,clearTimeout(this._swipeTimeout)}initSwipe(l){const m=this;m._maxSwipeVerticalDistance=0,m._maxSwipeHorizontalDistance=0,m._startX=l.pageX,m._startY=l.pageY,m._swipeLocked=!1,m._swipeEvent=null,m._swipeTimeout=setTimeout(function(){m._swipeLocked=!0},m.swipeDelay)}}class C{get scrollWidth(){const l=this;return l.horizontalScrollBar?l.horizontalScrollBar.max:-1}set scrollWidth(l){const m=this;l<0&&(l=0),m.horizontalScrollBar&&(m.horizontalScrollBar.max=l)}get scrollHeight(){const l=this;return l.verticalScrollBar?l.verticalScrollBar.max:-1}set scrollHeight(l){const m=this;l<0&&(l=0),m.verticalScrollBar&&(m.verticalScrollBar.max=l)}get scrollLeft(){const l=this;return l.horizontalScrollBar?l.horizontalScrollBar.value:-1}set scrollLeft(l){const m=this;l<0&&(l=0),m.horizontalScrollBar&&(m.horizontalScrollBar.value=l)}get scrollTop(){const l=this;return l.verticalScrollBar?l.verticalScrollBar.value:-1}set scrollTop(l){const m=this;l<0&&(l=0),m.verticalScrollBar&&(m.verticalScrollBar.value=l)}get vScrollBar(){return this.verticalScrollBar}get hScrollBar(){return this.horizontalScrollBar}constructor(l,m,c){const y=this;y.container=l,y.horizontalScrollBar=m,y.verticalScrollBar=c,y.disableSwipeScroll=!1,y.listen()}listen(){const l=this,m=r.isMobile,c=l.horizontalScrollBar,y=l.verticalScrollBar;let b,S,D,M,$,P,G,Z;l.inputEvents=new w(l.container);const ee=function(xe){return{amplitude:0,delta:0,initialValue:0,min:0,max:xe.max,previousValue:0,pointerPosition:0,targetValue:0,scrollBar:xe,value:0,velocity:0}},de=ee(c),me=ee(y),ge=function(){const xe=l.container.touchVelocityCoefficient||50;P=Date.now(),G=P-M,M=P;const Ve=function(ye){ye.delta=ye.value-ye.previousValue,ye.previousValue=ye.value;let je=xe*ye.delta/(1+G);ye.velocity=.8*je+.2*ye.velocity};Ve(me),Ve(de)},we=function(xe){return Z.value=xe>Z.max?Z.max:xe<Z.min?Z.min:xe,Z.scrollBar.value=Z.value,xe>Z.max?"max":xe<Z.min?"min":"value"};function Me(){let xe,Ve;Z.amplitude&&(l.container.$.fireEvent("kineticScroll"),xe=Date.now()-M,Ve=-Z.amplitude*Math.exp(-xe/500),Ve>5||Ve<-5?(we(Z.targetValue+Ve),cancelAnimationFrame(S),S=0,S=requestAnimationFrame(Me)):we(Z.targetValue))}let ke;l.inputEvents.down(function(xe){if(!m)return;const Ve=xe.originalEvent.target,ye=Ve&&Ve.closest?Ve.closest("smart-scroll-bar"):void 0;if(ye===l.horizontalScrollBar||ye===l.verticalScrollBar)return;D=!0,b=!1;const je=function(Le,et){Le.amplitude=0,Le.pointerPosition=et,Le.previousValue=Le.value,Le.value=Le.scrollBar.value,Le.initialValue=Le.value,Le.max=Le.scrollBar.max};je(me,xe.clientY),je(de,xe.clientX),M=Date.now(),clearInterval($),$=setInterval(ge,500)}),l.inputEvents.up(function(){if(!D)return!0;if(clearInterval($),l.disableSwipeScroll)return void(D=!1);const xe=function(Ve){Z=Ve,Ve.amplitude=.8*Ve.velocity,Ve.targetValue=Math.round(Ve.value+Ve.amplitude),M=Date.now(),cancelAnimationFrame(S),S=requestAnimationFrame(Me),Ve.velocity=0};me.velocity>10||me.velocity<-10?xe(me):(de.velocity>10||de.velocity<-10)&&xe(de),D=!1}),l.inputEvents.move(function(xe){if(!D)return!0;if(l.disableSwipeScroll||(b&&(xe.originalEvent.preventDefault(),xe.originalEvent.stopPropagation()),de.visible=l.scrollWidth>0,me.visible=l.scrollHeight>0,!D||!de.visible&&!me.visible))return;const Ve=l.container.touchScrollRatio,ye=l.container;let je,Le;Ve&&(typeof Ve=="number"?(je=-Ve,Le=-Ve):typeof Ve=="function"&&(je=Ve(me.max,ye.offsetHeight),Le=Ve(de.max,ye.offsetWidth))),me.ratio=je||-me.max/ye.offsetHeight,me.delta=(xe.clientY-me.pointerPosition)*me.ratio,de.ratio=Le||-de.max/ye.offsetWidth,de.delta=(xe.clientX-de.pointerPosition)*de.ratio;let et="value";const Ye=function(Ne,mt,Be){return Ne.delta>5||Ne.delta<-5?(Z=Ne,et=Ne.initialValue+Ne.delta>Z.max?"max":Ne.initialValue+Ne.delta<Z.min?"min":"value",et==="min"&&Ne.initialValue===0||et==="max"&&Ne.initialValue===Ne.max||!Ne.visible||(l.container.$.fireEvent("kineticScroll"),we(Ne.initialValue+Ne.delta),ge(),Be.originalEvent.preventDefault(),Be.originalEvent.stopPropagation(),b=!0,!1)):null};let ut=Ye(me,xe.clientY,xe);if(ut!==null)return ut;{let Ne=Ye(de,xe.clientX,xe);if(Ne!==null)return Ne}}),l.scrollTo=function(xe,Ve){const ye=Ve===!1?de:me;let je=!1;M||(M=Date.now()),ke||(ke=Date.now()),Math.abs(Date.now()-ke)>375?M=Date.now():je=!0,ke=Date.now(),ye.value=ye.scrollBar.value,ye.delta=xe-ye.value,ye.max=ye.scrollBar.max,xe<=ye.min&&(xe=ye.min),xe>=ye.max&&(xe=ye.max),ye.targetValue=xe;const Le=xe;let et=ye.value;ye.velocity=100*ye.delta/(1+ye.max),ye.from=et;const Ye=function(Ne){return ye.value=Ne>ye.max?ye.max:Ne<ye.min?ye.min:Ne,ye.scrollBar.value=ye.value,Ne>ye.max?"max":Ne<ye.min?"min":"value"},ut=function(){let Ne,mt=Date.now()-ke,Be=Math.min(1e3,Date.now()-M),Ke=ye.velocity*Math.exp(Be/175);if(je)(Ke<0&&ye.value<=xe||Ke>0&&ye.value>=xe)&&(Ke=0),(ye.value+Ke<=ye.min||ye.value+Ke>=ye.max)&&(Ke=0),Ke>.5||Ke<-.5?(Ye(ye.value+Ke),cancelAnimationFrame(S),S=0,S=requestAnimationFrame(ut)):Ye(ye.targetValue);else{if(mt>=175)return cancelAnimationFrame(S),l.container.$.fireEvent("kineticScroll"),void(S=0);Ne=A.Animation.Easings.easeInSine(mt,et,Le-et,175),Ye(Ne),cancelAnimationFrame(S),S=0,S=requestAnimationFrame(ut)}};cancelAnimationFrame(S),S=requestAnimationFrame(ut)},l.inputEvents.listen()}unlisten(){const l=this;l.inputEvents&&l.inputEvents.unlisten(),delete l.inputEvents}}class x{constructor(l){this.events={},this.handlers={},this.element=l}hasClass(l){const m=this,c=l.split(" ");for(let y=0;y<c.length;y++)if(!m.element.classList.contains(c[y]))return!1;return!0}addClass(l){const m=this;if(m.hasClass(l))return;const c=l.split(" ");for(let y=0;y<c.length;y++)m.element.classList.add(c[y]);m.isNativeElement||d.observeElement(m.element)}removeClass(l){const m=this;if(arguments.length===0)return void m.element.removeAttribute("class");const c=l.split(" ");for(let y=0;y<c.length;y++)m.element.classList.remove(c[y]);m.element.className===""&&m.element.removeAttribute("class"),m.isNativeElement||d.observeElement(m.element)}get isCustomElement(){const l=this;return!!l.element.tagName.startsWith(e)||l.element instanceof window[e].BaseElement==1||l.element.tagName!=="DIV"&&l.element.tagName!=="SPAN"&&l.element.tagName!=="BUTTON"&&l.element.tagName!=="INPUT"&&l.element.tagName!=="UL"&&l.element.tagName!=="LI"&&document.createElement(l.element.nodeName)instanceof window[e].BaseElement==1}get isNativeElement(){return!this.isCustomElement}dispatch(l){const m=this,c=m.events[l.type];let y=!1;if(c.length>1)for(let b=0;b<c.length;b++){const S=c[b];if(S.namespace&&S.namespace.indexOf("_")>=0){y=!0;break}}y&&c.sort(function(b,S){let D=b.namespace,M=S.namespace;return D=D.indexOf("_")===-1?0:parseInt(D.substring(D.indexOf("_")+1)),M=M.indexOf("_")===-1?0:parseInt(M.substring(M.indexOf("_")+1)),D<M?-1:D>M?1:0});for(let b=0;b<c.length;b++){const S=c[b];if(l.namespace=S.namespace,l.context=S.context,l.defaultPrevented)break;const D=S.handler.apply(m.element,[l]);if(D!==void 0&&(l.result=D,D===!1)){l.preventDefault(),l.stopPropagation();break}}return l.result}fireEvent(l,m,c){const y=this;c||(c={bubbles:!0,cancelable:!0,composed:y.element.getRootNode().host!==null}),c.detail=m||{};const b=new CustomEvent(l,c);if(b.originalStopPropagation=b.stopPropagation,b.stopPropagation=function(){return b.isPropagationStopped=!0,b.originalStopPropagation()},y.dispatchEvent(b),window[e].isVue){const S=A.Core.toDash(l);if(S!==l){const D=new CustomEvent(S,c);D.originalStopPropagation=b.stopPropagation,D.stopPropagation=function(){return D.isPropagationStopped=!0,D.originalStopPropagation()},y.dispatchEvent(D)}}return b}get isPassiveSupported(){const l=this;if(l.supportsPassive!==void 0)return l.supportsPassive;l.supportsPassive=!1;try{let m=Object.defineProperty({},"passive",{get:function(){l.supportsPassive=!0}});window.addEventListener("testPassive",null,m),window.removeEventListener("testPassive",null,m)}catch{}return l.supportsPassive}dispatchEvent(l){const m=this,c=l.type,y=m.element.context,b=c.substring(0,1).toUpperCase()+c.substring(1);m.element.context=document,m.element["on"+b]?m.element["on"+b](l):m.element["on"+c.toLowerCase()]?m.element["on"+c.toLowerCase()](l):m.element.dispatchEvent(l),m.element.context=y}listen(l,m){const c=this,y=l.split("."),b=y.slice(1).join("."),S=y[0];c.events[S]||(c.events[S]=[]);const D={type:S,handler:m,context:c.element,namespace:b};v.indexOf(S)>=0&&(c.inputEvents||(c.inputEvents=new w(c.element)),c.inputEvents[S](function(M){c.dispatchEvent(M)}),c.inputEvents.boundEventTypes.push(S),c.inputEvents.listen(S)),c.events[S].length===0&&(c.handlers[S]=c.dispatch.bind(c),S==="wheel"?c.element.addEventListener("wheel",c.handlers[S],!!c.isPassiveSupported&&{passive:!1}):S==="touchmove"||S==="touchstart"||S==="touchend"?c.element.addEventListener(S,c.handlers[S],!!c.isPassiveSupported&&{passive:!1}):c.element.addEventListener(S,c.handlers[S],!1)),c.events[S].push(D)}unlisten(l){const m=this,c=l.split("."),y=c.slice(1).join("."),b=c[0];let S=m.events[b];if(m.inputEvents&&m.inputEvents.boundEventTypes.indexOf(b)>=0&&(m.inputEvents.boundEventTypes.splice(m.inputEvents.boundEventTypes.indexOf(b),1),m.inputEvents.boundEventTypes.length===0&&m.inputEvents.unlisten(b)),S){for(let D=0;D<S.length;D++){if(y!==""){let M=S.findIndex($=>$.namespace===y);S.splice(M,1);break}S=[]}S.length===0&&(m.element.removeEventListener(b,m.handlers[b]),m.events[b]=[],delete m.handlers[b])}}getAttributeValue(l,m){const c=this,y=c.element.getAttribute(l);if(c.isNativeElement)return c.deserialize(y,m);const b=c.element.propertyByAttributeName[l];return b.deserialize===void 0?c.deserialize(y,m,b.nullable):c.element[b.deserialize](y)}setAttributeValue(l,m,c){const y=this;let b,S=!1;if(y.isNativeElement){if(b=y.serialize(m,c),c==="boolean"&&["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(l)>=0)return void(m?y.element.setAttribute(l,""):y.element.removeAttribute(l))}else{const D=y.element.propertyByAttributeName[l];S=!D||D.nullable,b=D&&D.serialize?y.element[D.serialize](m):y.serialize(m,c,S)}c!=="array"&&c!=="object"||b!=="[]"&&b!=="{}"?b===void 0?(y.element.removeAttribute(l),y.element.shadowRoot&&y.element.$.root&&y.element.$.root.removeAttribute(l)):(y.element.setAttribute(l,b),y.element.shadowRoot&&y.element.$.root&&y.element.$.root.setAttribute(l,b)):y.element.removeAttribute(l)}serialize(l,m,c){if(m===void 0&&(m=A.Types.getType(l)),l!==void 0&&(c||l!==null)){if(c&&l===null)return"null";if(m==="string")return l;if(m==="boolean"||m==="bool"){if(l===!0||l==="true"||l===1||l==="1")return"";if(l===!1||l==="false"||l===0||l==="0")return}return m==="array"?JSON.stringify(l):["string","number","int","integer","float","date","any","function"].indexOf(m)>=0?l.toString():m==="object"?JSON.stringify(l):void 0}}deserialize(l,m,c){const y=l==="null";if(l!==void 0&&(!y||c)){if(y&&c)return null;if(m==="boolean"||m==="bool")return l!==null;if(m==="number"||m==="float")return l==="NaN"?NaN:l==="Infinity"?1/0:l==="-Infinity"?-1/0:parseFloat(l);if(m==="int"||m==="integer")return l==="NaN"?NaN:l==="Infinity"?1/0:l==="-Infinity"?-1/0:parseInt(l);if(m==="string"||m==="any")return l;if(m==="date")return new Date(l);if(m==="function"){if(typeof window[l]=="function")return window[l]}else if(m==="array"||m==="object")try{const b=JSON.parse(l);if(b)return b}catch{if(window[l]&&typeof window[l]=="object")return window[l];if(m==="object"&&l.indexOf("{")>=0){let S=(l=l.replace(/{/gi,"").replace(/}/gi,"").replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim()).trim().split(","),D={};for(let M=0;M<S.length;M++){const $=S[M].split(":")[0].trim(),P=S[M].split(":")[1].trim();D[$]=P}return D}if(m==="array"&&l.indexOf("[")>=0){if(l.indexOf("{")>=0){let S=l.replace(/{/gi,"").replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim();S=S.split("},");for(let D=0;D<S.length;D++){let M={},$=S[D].trim().split(",");for(let P=0;P<$.length;P++){const G=$[P].split(":")[0].trim(),Z=$[P].split(":")[1].trim();M[G]=Z}S[D]=M}return S}return l.replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim().split(",")}}}}}class L{static get Ripple(){return a}static get Easings(){return i}}class A{static get Types(){return n}static get Core(){return r}static get Animation(){return L}static get Scroll(){return C}static get InputEvents(){return w}static Extend(l){return new x(l)}static Assign(l,m){if(l.indexOf(".")>=0){const c=l.split(".");return A[c[0]]||(A[c[0]]={}),void(A[c[0]][c[1]]=m)}A[l]=m}}const k=A.Extend(document);let B=null;document.addEventListener("click",()=>{d.start(),B&&clearTimeout(B),B=setTimeout(()=>{d.stop()},1e4)}),document.addEventListener("mouseenter",()=>{d.start()}),document.addEventListener("mouseleave",()=>{d.stop()});class H{}H.cache={};class V extends HTMLElement{static get properties(){return{animation:{value:"advanced",type:"string",allowedValues:["none","simple","advanced"]},unfocusable:{value:!1,type:"boolean"},disabled:{value:!1,type:"boolean"},dataContext:{value:null,reflectToAttribute:!1,type:"any"},debugMode:{value:!0,type:"boolean",reflectToAttribute:!1},unlockKey:{value:"",type:"string",reflectToAttribute:!1},locale:{value:"en",type:"string",reflectToAttribute:!1},localizeFormatFunction:{value:null,type:"any",reflectToAttribute:!1},messages:{value:{en:{propertyUnknownName:"Invalid property name: '{{name}}'!",propertyUnknownType:"'{{name}}' property is with undefined 'type' member!",propertyInvalidValue:"Invalid '{{name}}' property value! Actual value: '{{actualValue}}', Expected value: '{{value}}'!",propertyInvalidValueType:"Invalid '{{name}}' property value type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",methodInvalidValueType:"Invalid '{{name}}' method argument value type! Actual type: '{{actualType}}', Expected type: '{{type}}' for argument with index: '{{argumentIndex}}'!",methodInvalidArgumentsCount:"Invalid '{{name}}' method arguments count! Actual arguments count: '{{actualArgumentsCount}}', Expected at least: '{{argumentsCount}}' argument(s)!",methodInvalidReturnType:"Invalid '{{name}}' method return type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",elementNotInDOM:"Element does not exist in DOM! Please, add the element to the DOM, before invoking a method.",moduleUndefined:"Module is undefined.",missingReference:"{{elementType}}: Missing reference to '{{files}}'.",htmlTemplateNotSuported:"{{elementType}}: Web Browser doesn't support HTMLTemplate elements.",invalidTemplate:"{{elementType}}: '{{property}}' property accepts a string that must match the id of an HTMLTemplate element from the DOM."}},reflectToAttribute:!1,inherit:!0,type:"object"},props:{value:null,reflectToAttribute:!1,isHierarchicalProperty:!0,type:"any"},readonly:{value:!1,type:"boolean"},renderMode:{value:"auto",type:"string",reflectToAttribute:!1,allowedValues:["auto","manual"]},rightToLeft:{value:!1,type:"boolean"},rethrowError:{value:!0,type:"boolean",reflectToAttribute:!1},theme:{value:window[e].Theme,type:"string"},visibility:{value:"visible",allowedValues:["visible","collapsed","hidden"],type:"string"},wait:{value:!1,type:"boolean"}}}getBindings(l,m){const c=this;let y=0,b={},S=(D=>{if(D instanceof HTMLElement)return c.parseAttributes(D);{let M=c.parseProperty(D.data?D.data.trim():null,"textContent",D);if(M)return c&&D.parentNode===c.$.content&&(M.value=c.$.html!==""?c.$.html:void 0,c.innerHTML=""),{textContent:M}}})(l);S&&(b.data=S),m||(b.mapping=[],m=b),l.getAttribute&&(b.nodeId=l.getAttribute("smart-id"),m&&S&&(m.mapping[b.nodeId]=S)),b.node=l,l.firstChild&&(b.children={});for(let D=l.firstChild;D;D=D.nextSibling)b.children[y++]=c.getBindings(D,m);return b}_addRemovePropertyBinding(l,m,c,y,b){if(!l||!m||!c)return;const S=this,D=S.bindings,M=c.getAttribute("smart-id"),$=l.indexOf("{{")>=0;let P=!1;(l=l.replace("{{","").replace("}}","").replace("[[","").replace("]]","")).indexOf("!")>=0&&(l=l.replace("!",""),P=!0);const G=S._properties[l],Z={name:l,reflectToAttribute:G.reflectToAttribute,twoWay:$,type:G.type,not:P};if(b&&!y){const de={},me={name:l,targetPropertyName:m,reflectToAttribute:G.reflectToAttribute,twoWay:$,type:G.type,not:P};de[l]=me,D.mapping[M]=de}const ee=function(de){for(let me in de){const ge=de[me];if(ge.nodeId===M){ge.data||(ge.data={}),y?(ge.data[m]=null,delete ge.data[m]):ge.data[m]=Z;break}if(ge.children)ee(ge.children);else if(ge.node&&ge.node.children&&ge.node===c.parentElement){const we=ge.node;if(!we.firstChild)continue;ge.children={};let Me=0;for(let ke=we.firstChild;ke;ke=ke.nextSibling)ge.children[Me++]=S.getBindings(ke);ee(ge.children)}}};ee(D.children),y?delete S.boundProperties[l]:S.boundProperties[l]=!0,S.updateBoundNodes(l)}addPropertyBinding(l,m,c,y){this._addRemovePropertyBinding(l,m,c,!1,y)}removePropertyBinding(l,m,c,y){this._addRemovePropertyBinding(l,m,c,!0,y)}parseAttributes(l){const m=this;let c;for(let y=0;y<l.attributes.length;y++){const b=l.attributes[y],S=b.name,D=b.value;H.cache["toCamelCase"+S]||(H.cache["toCamelCase"+S]=A.Core.toCamelCase(S));const M=H.cache["toCamelCase"+S];if(S.indexOf("(")>=0){let P=S.substring(1,S.length-1);if(m&&!m.dataContext){m.templateListeners[l.getAttribute("smart-id")+"."+P]=D,l.removeAttribute(S);continue}{c||(c={});const G=D.substring(0,D.indexOf("("));c[M]={isEvent:!0,name:P,value:G};continue}}let $=m.parseProperty(D,S,l);$&&(c||(c={}),c[M]=$)}return c}parseProperty(l,m){if(!l||!l.length)return;const c=this;let y,b=l.length,S=0,D=0,M=0,$=!0;for(;D<b;){S=l.indexOf("{{",D);let Z=l.indexOf("[[",D),ee="}}";if(Z>=0&&(S<0||Z<S)&&(S=Z,$=!1,ee="]]"),M=S<0?-1:l.indexOf(ee,S+2),M<0)return;y=y||{};let de=l.slice(S+2,M).trim();y.name=de,D=M+2}const P=y.name,G=c?c._properties[P]:null;return y.twoWay=$,y.ready=!1,c&&(P.indexOf("::")>=0?c.boundProperties[P.substring(0,P.indexOf("::"))]=!0:c.boundProperties[P]=!0),G?(y.type=G.type,y.reflectToAttribute=G.reflectToAttribute):(["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(m)>=0?y.type="boolean":y.type="string",y.reflectToAttribute=!0),y}updateTextNodes(){const l=this;l.updateTextNode(l.shadowRoot||l,l.bindings,l)}updateTextNode(l,m,c){const y=this;if(!m)return;let b=0;for(let S=l.firstChild;S&&m.children;S=S.nextSibling)y.updateTextNode(S,m.children[b++],c);if(m&&m.data)for(let S in m.data){const D=m.data[S],M=D.name;S==="textContent"&&D.twoWay&&!D.updating&&D.value!==void 0&&(c[M]=D.value)}}updateBoundProperty(l,m){if(m.updating)return;const c=this;m.updating=!0,c[l]=m.value,m.updating=!1}updateBoundNodes(l){const m=this;if(m.updateBoundNode(m.shadowRoot||m,m.bindings,m,l),m.detachedChildren.length>0)for(let c=0;c<m.detachedChildren.length;c++){const y=m.detachedChildren[c],b=y.getAttribute("smart-id"),S=function(M){if(M.nodeId===b)return M;for(let $ in M.children){const P=M.children[$];if((P.getAttribute?P.getAttribute("smart-id"):"")===b)return M;if(P.children){const G=S(P);if(G)return G}}return null},D=S(m.bindings);if(D)m.updateBoundNode(y,D,m,l,!0);else if(y.getAttribute&&m.bindings.mapping){const M=m,$=m.bindings;if($)for(let P in $.mapping){const G=M.querySelector('[smart-id="'+P+'"]');if(G){const Z=$.mapping[P];m.updateBoundData(G,Z,M,l)}}}}}updateBoundMappedNodes(){const l=this,m=l.bindings,c=l;if(m.mapping)for(let y in m.mapping){let b=c.querySelector('[smart-id="'+y+'"]');if(c.shadowRoot&&(b=c.querySelector('[id="'+y+'"]'),b||(b=c.shadowRoot.querySelector('[id="'+y+'"]')||c.shadowRoot.querySelector('[smart-id="'+y+'"]'))),b){const S=m.mapping[y];l.updateBoundData(b,S,c)}else if(c.getAttribute("aria-controls")){let S=document.getElementById(c.getAttribute("aria-controls"));if(!S&&c.shadowRoot&&(S=c.shadowRoot.getElementById(c.getAttribute("aria-controls"))),b=S.querySelector('[smart-id="'+y+'"]'),b){const D=m.mapping[y];l.updateBoundData(b,D,c)}}}}updateBoundNode(l,m,c,y,b){const S=this;if(!m)return;let D=0;if(b){if(b&&!m.data)for(let $=l.firstChild;$&&m.children;$=$.nextSibling)if($.getAttribute){const P=$.getAttribute("smart-id"),G=function(){for(let Z in m.children)if(m.children[Z].nodeId===P)return m.children[Z]}();S.updateBoundNode($,G,c,y),D++}else S.updateBoundNode($,m.children[D++],c,y,b)}else for(let $=l.firstChild;$&&m.children;$=$.nextSibling)if($.getAttribute){const P=$.getAttribute("smart-id"),G=function(){for(let Z in m.children)if(m.children[Z].nodeId===P)return m.children[Z]}();S.updateBoundNode($,G,c,y),D++}else S.updateBoundNode($,m.children[D++],c,y);if(!m||!m.data)return;const M=m.data;S.updateBoundData(l,M,c,y)}updateBoundData(l,m,c,y){const b=this;for(let S in m){const D=m[S];let M=D.name;if(!D.updating&&(M.indexOf("::")>=0&&(M=M.substring(0,M.indexOf("::"))),y===void 0||y===M)){if(M.indexOf("(")>=0){let $=M.substring(M.indexOf("("));const P=M.substring(0,M.indexOf("("));if($=$.substring(1,$.length-1),$=$.replace(/ /gi,""),$=$.split(","),$.length>0&&$[0]!==""){let G=[];for(let Z=0;Z<$.length;Z++)G.push(c[$[Z]]);D.value=c[P].apply(c,G)}else D.value=c[P]();D.type=typeof D.value}else D.value=c[M];if(M==="innerHTML"){if(l[S].toString().trim()!==c[M].toString().trim()){if(window.smartBlazor&&l[S].indexOf("<!--")>=0){(D.ready||c._properties[M].defaultValue!==D.value)&&(l[S]=D.value.toString());continue}(D.ready||c._properties[M].defaultValue!==D.value)&&(l[S]=D.value.toString().trim())}}else D.not?(l[S]=!D.value,D.targetPropertyName&&(l[D.targetPropertyName]=!D.value)):(l[S]=D.value,D.targetPropertyName&&(l[D.targetPropertyName]=D.value));if(l.$&&l.$.isNativeElement){H.cache["toDash"+S]||(H.cache["toDash"+S]=A.Core.toDash(S));const $=H.cache["toDash"+S],P=l.$.getAttributeValue($,D.type);!D.reflectToAttribute||P===D.value&&D.ready||l.$.setAttributeValue($,D.value,D.type),D.reflectToAttribute||l.$.setAttributeValue($,null,D.type)}if(!D.ready){if(l.$&&l.$.isCustomElement){H.cache["toDash"+S]||(H.cache["toDash"+S]=A.Core.toDash(S));const $=H.cache["toDash"+S];l._properties||(l._beforeCreatedProperties=l._properties=l.propertyByAttributeName=[]),l._properties[S]||(l._properties[S]={attributeName:$},l._beforeCreatedProperties&&(l._beforeCreatedProperties[S]=l._properties[S]),l.propertyByAttributeName[$]=l._properties[S]);const P=l._properties[S];P.isUpdating=!0,D.reflectToAttribute&&(D.not?l.$.setAttributeValue(P.attributeName,!D.value,D.type):l.$.setAttributeValue(P.attributeName,D.value,D.type)),D.reflectToAttribute||l.$.setAttributeValue(P.attributeName,null,D.type),P.isUpdating=!1}if(D.twoWay){const $=function(P){if(D.value=P,l.$&&l.$.isNativeElement){H.cache["toDash"+S]||(H.cache["toDash"+S]=A.Core.toDash(S));const G=H.cache["toDash"+S],Z=l.$.getAttributeValue(G,D.type);D.reflectToAttribute&&Z!==D.value&&l.$.setAttributeValue(G,D.value,D.type),D.reflectToAttribute||l.$.setAttributeValue(G,null,D.type)}};if(D.name.indexOf("::")>=0){const P=D.name.indexOf("::"),G=D.name.substring(P+2);b["$"+l.getAttribute("smart-id")].listen(G,function(){$(l[S]);const Z=D.name.substring(0,D.name.indexOf("::"));b.updateBoundProperty(Z,D)})}if(l.$&&l.$.isCustomElement){l._properties[S]&&(l._properties[S].notify=!0),H.cache["toDash"+S]||(H.cache["toDash"+S]=A.Core.toDash(S));const P=H.cache["toDash"+S];b["$"+l.getAttribute("smart-id")].listen(P+"-changed",function(G){let Z=G.detail;$(Z.value);const ee=b.context;G.context!==document&&(b.context=b),b.updateBoundProperty(D.name,D),b.context=ee})}}}D.ready=!0}}}static clearCache(){this.cache={}}addMessages(l,m){Object.assign(this.messages[l],m)}localize(l,m){const c=this;if(!c.messages||!c.messages[c.locale])return;let y=c.messages[c.locale][l];if(y==="")return"";if(!y){const S=c.messages.en;if(S){let D=S[l];if(D){for(let M in m){let $=m[M];D=D.replace(new RegExp("{{"+M+"}}","g"),$)}return D}return l}}const b=y;for(let S in m){let D=m[S];y=y.replace(new RegExp("{{"+S+"}}","g"),D)}if(c.localizeFormatFunction){const S=c.localizeFormatFunction(b,y,m,l);if(S!==void 0)return S}return y}static get requires(){return{}}static get listeners(){return{"theme-changed":function(l){this.theme=l.detail.newValue}}}static get methods(){return{}}get classNamesMap(){return{animation:"smart-animate",rippleAnimation:"smart-ripple"}}get hasAnimation(){return this.animation!=="none"}get hasRippleAnimation(){return this.animation!=="none"&&this.animation==="advanced"}static get modules(){return window[e].Modules}get properties(){const l=this;return l._properties||(l._properties=[]),l._properties}get parents(){const l=this;let m=[],c=l.parentNode;for(;c&&c.nodeType!==9;)c instanceof HTMLElement==1&&m.push(c),c=c.parentNode;const y=l.getRootNode();if(y.host){const b=S=>{let D=[S],M=S.parentNode;for(;M&&M.nodeType!==9;)M instanceof HTMLElement==1&&D.push(M),M=M.parentNode;return D};m=m.concat(b(y.host))}return window[e].EnableShadowDOM&&l.isInShadowDOM&&l.shadowParent&&(m=m.concat(l.shadowParent.parents)),m}log(l){this._logger("log",l)}warn(l){this._logger("warn",l)}error(l){this._logger("error",l)}_logger(l,m){if(this.debugMode){const c=m instanceof Error?m.message:m.toString();console[l](c)}if(this.rethrowError&&l==="error")throw m}get focused(){return this.contains(document.activeElement)}template(){return"<div></div>"}registered(){const l=this;l.onRegistered&&l.onRegistered()}created(){const l=this;l.isReady=!1,l._initElement(l),l._setModuleState("created"),l.onCreated&&l.onCreated()}completed(){const l=this;l.isCompleted=!0,l._onCompleted&&l._onCompleted(),l.onCompleted&&l.onCompleted()}whenReady(l){const m=this;m.isCompleted?l():(m.whenReadyCallbacks||(m.whenReadyCallbacks=[]),m.whenReadyCallbacks.push(l))}whenRendered(l){const m=this;m.isRendered?l():(m.whenRenderedCallbacks||(m.whenRenderedCallbacks=[]),m.whenRenderedCallbacks.push(l))}addThemeClass(){const l=this;l.theme!==""&&l.classList.add("smart-"+l.theme)}addDefaultClass(){const l=this;l.classList.add(e.toLowerCase()+"-element"),l.classList.add(l.nodeName.toLowerCase())}_renderShadowRoot(){const l=this;if(l.shadowRoot){l.$.root.classList.add(l.nodeName.toLowerCase());for(let m=0;m<l.attributes.length;m++){const c=l.attributes[m];c.name==="class"||c.name==="id"||c.name==="style"||c.name==="tabindex"||c.name.indexOf("aria")>=0||l.$.root.setAttribute(c.name,c.value)}for(let m=0;m<l.classList.length;m++){const c=l.classList[m];c!=="smart-element-init"&&c!=="smart-element"&&c!=="smart-hidden"&&c!=="smart-visibility-hidden"&&l.$.root.classList.add(c)}}}render(){const l=this;if(!l.isRendered&&(l.isRendered=!0,l.isRendering=!1,l.context=document,l._renderShadowRoot(),l.whenRenderedCallbacks)){for(let m=0;m<l.whenRenderedCallbacks.length;m++)l.whenRenderedCallbacks[m]();l.whenRenderedCallbacks=[]}l.onRender&&l.onRender(),l.disabled&&l.setAttribute("aria-disabled",!0),l.readonly&&["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(l.getAttribute("role"))!==-1&&l.setAttribute("aria-readonly",!0)}ready(){const l=this;if(l._setId(),l.addThemeClass(),l.addDefaultClass(),l.visibility==="collapsed"?l.classList.add("smart-hidden"):l.visibility==="hidden"&&l.classList.add("smart-visibility-hidden"),l.dataContext&&l.applyDataContext(),l.onReady&&l.onReady(),l.shadowRoot&&Smart(l._selector)){if(Smart(l._selector).styleUrls){const m=Smart(l._selector).styleUrls;for(let c=0;c<m.length;c++)l.importStyle(m[c])}if(Smart(l._selector).styles){const m=document.createElement("style");m.innerHTML=Smart(l._selector).styles,l.shadowRoot.insertBefore(m,l.shadowRoot.firstChild)}}Smart(l._selector)&&Smart(l._selector).ready&&Smart(l._selector).ready()}_setId(){const l=this;if(!l.id){const m=l.elementName;l.id=m.slice(0,1).toLowerCase()+m.slice(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}}checkLicense(){const l=this;if(window[e].License==="Evaluation"&&window.location.hostname.indexOf("htmlelements")===-1&&window[e].License!=="8414516F-15A2-4D84-A7AF-A9A72400DB02"){if(l.unlockKey==="8414516F-15A2-4D84-A7AF-A9A72400DB02")return;if(document.body.hasAttribute("smart-license")&&document.body.getAttribute("smart-license")==="8414516F-15A2-4D84-A7AF-A9A72400DB02")return void(window[e].License="8414516F-15A2-4D84-A7AF-A9A72400DB02");l.logWatermark(),l.logLicense(),window[e].License="8414516F-15A2-4D84-A7AF-A9A72400DB02"}}logWatermark(){const l=document.createElement("a");l.href="https://www.htmlelements.com/",l.innerHTML="https://www.htmlelements.com/",l.style.position="absolute",l.style.right="5px",l.style.bottom="5px",l.style.color="#fff",l.style.padding="20px",l.style.borderRadius="5px",l.style.background="#0C3D78",l.style.cursor="pointer",l.style.zIndex="999999",l.style.display="block",l.style.fontSize="24px",l.style.textDecoration="none",l.style.fontWeight="bold",l.style.opacity=0,l.style.transition="opacity .35s ease-in-out",l.id="watermark",document.getElementById("watermark")||setTimeout(()=>{document.getElementById("watermark")||(document.body.appendChild(l),setTimeout(()=>{l.style.opacity=1}),setTimeout(()=>{l.style.opacity=0,setTimeout(()=>{l.parentNode.removeChild(l)},350)},6e3))},1e3)}logLicense(){console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("*jQWidgets License Key Not Found."),console.log("*This is an EVALUATION only Version, it is NOT Licensed for software projects intended for PRODUCTION."),console.log("*if you want to hide this message, please send an email to: sales@jqwidgets.com for a license."),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************")}get _selector(){const l=this;return l.id?"#"+l.id:l.classList.length>0?"."+l.classList[0]:""}applyDataContext(l){const m=this;let c=typeof m.dataContext=="string"?window[m.dataContext]||document[m.dataContext]:m.dataContext;if(l&&(c=l,m.dataContext=l),c){if(!c._uid){c._uid=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),c._properties=[];for(let y in c){const b=c[y];typeof b!="function"&&y!=="_properties"&&y!=="_uid"&&(c._properties[y]=b,Object.defineProperty(c,y,{configurable:!1,enumerable:!0,get:()=>c._properties[y],set(S){const D=c._properties[y];c._properties[y]=S;let M=[];M[y]={oldValue:D,value:S},M.length++,m.updatingDataContext=!0,k.fireEvent("dataContextPropertyChanged",{dataContext:c,properties:M},{bubbles:!1,cancelable:!0}),m.updatingDataContext=!1}}))}}if(m.dataContextProperties=m.parseAttributes(m),m.dataContextPropertiesMap={},m.dataContextListeners={},m.dataContextProperties){m.updatingDataContext=!0;for(let y in m.dataContextProperties){const b=m.dataContextProperties[y],S=b.name;if(b.propertyName=y,m.dataContextPropertiesMap[S]=y,H.cache["toDash"+y]||(H.cache["toDash"+y]=A.Core.toDash(S)),b.isEvent){const D=b.value;m.dataContextListeners[S]&&m.removeEventListener(S,m.dataContextListeners[S]),m.dataContextListeners[S]=function(M){c[D](M)},m.addEventListener(S,m.dataContextListeners[S])}if(S.indexOf(".")>=0){const D=S.split(".");let M=c[D[0]];for(let $=1;$<D.length;$++)M=M[D[$]];M!==void 0&&(m[y]=M)}else m[y]=c[S]}m.dataContextPropertyChangedHandler=function(y){const b=y.detail.properties;if(y.detail.dataContext===(typeof m.dataContext=="string"?window[m.dataContext]||document[m.dataContext]:m.dataContext))for(let S in b){const D=m.dataContextPropertiesMap[S],M=m.context;D&&(m.context=document,m[D]=b[S].value,m.context=M)}},k.listen("dataContextPropertyChanged",m.dataContextPropertyChangedHandler),m.updatingDataContext=!1}else m.dataContextProperties=null}else{m.dataContextProperties=null;const y=function(){(typeof m.dataContext=="string"?window[m.dataContext]||document[m.dataContext]:m.dataContext)&&(m.applyDataContext(),window.removeEventListener("load",y))};window.addEventListener("load",y)}}updateDataContextProperty(l){const m=this,c=typeof m.dataContext=="string"?window[m.dataContext]||document[m.dataContext]:m.dataContext,y=m.dataContextProperties[l];if(!m.updatingDataContext&&y.twoWay){const b=y.name;if(b.indexOf(".")>=0){const S=b.split(".");let D=c[S[0]];for(let M=1;M<S.length;M++)D=D[S[M]];D!==void 0&&(D=m[l],f[c._uid]&&(f[c._uid][l]=D))}else c[b]=m[l],f[c._uid]&&(f[c._uid][l]=c[b])}}static get version(){return window[e].Version}initProperties(){const l=this;if(Smart(l._selector)&&Smart(l._selector).properties&&(l._initProperties=Smart(l._selector).properties),l.hasAttribute("props")&&!l.props?l._initProperties=window[l.getAttribute("props")]:l.props&&(l._initProperties=l.props),l._initProperties){const m=Object.keys(l._initProperties);for(let c=0;c<m.length;c++){const y=m[c],b=l._initProperties[y];if(b!=null){if(b.constructor===Smart.ObservableArray||b instanceof Smart.ObservableArray){l[y]=b.toArray();continue}if(b.constructor===Smart.DataAdapter||b.constructor.name==="smartDataAdapter"||typeof b=="object"&&Smart.DataAdapter&&b instanceof Smart.DataAdapter||b instanceof Smart.Observable||b.constructor===Smart.Observable||typeof b!="object"||A.Types.isArray(b)||b instanceof Date){if(l[y]===void 0&&["onReady","onAttached","onDetached","onCreated","onCompleted"].indexOf(y)===-1){const S=l.localize("propertyUnknownName",{name:y});l.log(S)}l[y]=b;continue}}if(y!=="messages")if(y!=="dataSourceMap"&&y!=="rowCSSRules")if(y!=="keys"){if(b&&typeof b=="object"){const S=function(D,M){const $=Object.keys(D);for(let P=0;P<$.length;P++){const G=$[P],Z=D[G],ee=l._properties[M+"_"+G];if(ee&&ee.value===null){if(l[M+"_"+G]===void 0){const de=l.localize("propertyUnknownName",{name:M+"_"+G});l.log(de)}l[M+"_"+G]=Z}else if(typeof Z=="object"&&!A.Types.isArray(Z)&&Z&&Z.constructor!==Date)S(Z,M+"_"+G);else{if(l[M+"_"+G]===void 0){const de=l.localize("propertyUnknownName",{name:M+"_"+G});l.log(de)}l[M+"_"+G]=Z}}};S(b,y)}}else l[y]=b;else l[y]=b;else l[y]=Object.assign(l[y],b)}}}setProperties(l){const m=this,c=Object.keys(l);for(let y=0;y<c.length;y++){const b=c[y],S=l[b];if(S.constructor===Smart.ObservableArray||S instanceof Smart.ObservableArray)m[b]=S.toArray();else if(S.constructor===Smart.DataAdapter||S.constructor.name==="smartDataAdapter"||typeof S=="object"&&Smart.DataAdapter&&S instanceof Smart.DataAdapter||S instanceof Smart.Observable||S.constructor===Smart.Observable||typeof S!="object"||A.Types.isArray(S)||S instanceof Date){if(m[b]===void 0&&["onReady","onAttached","onDetached","onCreated","onCompleted"].indexOf(b)===-1)continue;const D=m._properties[b];D.type==="int"||D.type==="number"&&typeof subPropertyValue=="string"?D.type==="int"?m[b]=parseInt(S):m[b]=parseFloat(S):m[b]=S}else if(b!=="messages"&&b!=="dataSourceMap"){if(typeof S=="object"){const D=function(M,$){const P=Object.keys(M);for(let G=0;G<P.length;G++){const Z=P[G],ee=M[Z],de=m._properties[$+"_"+Z];if(de&&de.value===null){if(m[$+"_"+Z]===void 0)continue;const me=m._properties[$+"_"+Z];me.type==="int"||me.type==="number"&&typeof ee=="string"?me.type==="int"?m[$+"_"+Z]=parseInt(ee):m[$+"_"+Z]=parseFloat(ee):m[$+"_"+Z]=ee}else if(typeof ee=="object"&&!A.Types.isArray(ee)&&ee&&ee.constructor!==Date)D(ee,$+"_"+Z);else{if(m[$+"_"+Z]===void 0)continue;const me=m._properties[$+"_"+Z];me.type==="int"||me.type==="number"&&typeof ee=="string"?me.type==="int"?m[$+"_"+Z]=parseInt(ee):m[$+"_"+Z]=parseFloat(ee):m[$+"_"+Z]=ee}}};D(S,b)}}else m[b]=S}}setup(){const l=this;if(l.context=this,l.isReady&&!l.isCompleted)return;if(l.isReady)return l._setModuleState("attached"),l.isAttached=!0,l.attached(),l._handleListeners("listen"),void(l.context=document);l.ownerElement&&l.ownerElement.detachedChildren.indexOf(l)>=0&&l.ownerElement.detachedChildren.splice(l.ownerElement.detachedChildren.indexOf(l),1),l.isReady=!0,l.methods=l.getStaticMember("methods"),l.initProperties(),r.isMobile&&l.classList.add("smart-mobile");for(let y=0;y<l.attributes.length;y+=1){const b=l.propertyByAttributeName[l.attributes[y].name];if(!b)continue;let S=l.$.getAttributeValue(b.attributeName,b.type);const D=S?S.toString():"";if(!(D.indexOf("{{")>=0||D.indexOf("[[")>=0||b.type!=="object"&&b.type!=="array"&&(l.attributes[y].value.indexOf("{{")>=0||l.attributes[y].value.indexOf("[[")>=0)||S===void 0||b.value===S)){const M=A.Types.getType(S),$=l.attributes[y].value;if((b.type==="any"||b.type==="object")&&""+l[b.name]===S||b.type==="array"&&l[b.name]&&JSON.stringify(l[b.name])===S)continue;if(M==="number"&&isNaN(S)&&$!=="NaN"&&$!=="Infinity"&&$!=="-Infinity"){const P=l.localize("propertyInvalidValueType",{name:b.name,actualType:"string",type:b.type});l.log(P)}b.isUpdatingFromAttribute=!0,l[b.name]=S,b.isUpdatingFromAttribute=!1}}for(let y in l._properties){const b=l._properties[y];if(y==="innerHTML"&&b.value===b.defaultValue&&(b.value=b.defaultValue=A.Core.html(l)),b.type!=="boolean"&&b.type!=="bool"||l.getAttribute(b.attributeName)==="false"&&(b.isUpdating=!0,l.setAttribute(b.attributeName,""),b.isUpdating=!1),b.defaultReflectToAttribute&&b.reflectToAttribute){if(b.defaultReflectToAttribute&&b.defaultReflectToAttributeConditions){let S=!0;for(let D=0;D<b.defaultReflectToAttributeConditions.length;D++){const M=b.defaultReflectToAttributeConditions[D];let $,P;for(let G in M)$=G,P=M[G];l._properties[$]&&l._properties[$].value!==P&&(S=!1)}if(!S)continue}b.isUpdating=!0,l.$.setAttributeValue(b.attributeName,b.value,b.type),b.isUpdating=!1}}const m=[];if(l.children.length>0)for(let y=0;y<l.children.length;y++){const b=l.children[y];A.Extend(b).isCustomElement&&m.push(b)}l.applyTemplate(),l.complete=function(){if(!l.templateBindingsReady){const b=S=>{S.templateBindingsReady||(S.templateBindingsReady=!0,S.updateTextNodes(),S.updateBoundNodes())};if(l.ownerElement){let S=l.ownerElement,D=[];for(;S;)D.push(S),S=S.ownerElement;for(let M=D.length-1;M>=0;M--)b(D[M]);b(l)}else b(l)}const y=()=>{if(l._setModuleState("ready"),l.ready(),l.renderMode!=="auto"||l.isRendered||l.render(),l.isAttached=!0,l._setModuleState("attached"),l.attached(),l._handleListeners("listen"),l.isHidden||l.offsetWidth!==0&&l.offsetHeight!==0||(l.isHidden=!0),l.completed(),l.isRendered&&(l.context=document),l.whenReadyCallbacks){for(let b=0;b<l.whenReadyCallbacks.length;b++)l.whenReadyCallbacks[b]();l.whenReadyCallbacks=[]}};if(l.wait)l.classList.add("smart-visibility-hidden");else if(l.classList.contains("smart-async"))requestAnimationFrame(()=>{y()});else{const b=l.shadowParent;l.shadowParent=null;const S=l.parents;if(l.shadowParent=b,S.length===0)return;const D=()=>{let M=l.ownerElement,$=[];for(;M;)$.push(M),M=M.ownerElement;for(let P=$.length-1;P>=0;P--)$[P].updateBoundMappedNodes()};l.ownerElement&&S[S.length-1].nodeName!=="HTML"?l.getRootNode().host?y():l.ownerElement&&l.ownerElement.parents[l.ownerElement.parents.length-1].nodeName==="HTML"?(D(),y()):l.checkIsInDomInterval=setInterval(()=>{const M=l.parents;M[M.length-1].nodeName==="HTML"&&(clearInterval(l.checkIsInDomInterval),D(),y())},100):y()}};let c=[].slice.call(l.querySelectorAll("[smart-id]")).concat(m);if(window[e].EnableShadowDOM&&l.isInShadowDOM!==!0&&(c=[].slice.call(l.shadowRoot.querySelectorAll("[smart-id]")).concat(m)),c.length===0)l.complete();else{l._completeListeners=0;for(let y=0;y<c.length;y++){const b=c[y];if(A.Extend(b).isCustomElement){const S=(function(){l._completeListeners--,l._completeListeners===0&&(l.complete(),delete l._completeListeners)}).bind(l);b.isCompleted||b.isUtilityElement||b.wait===!0||(l._completeListeners++,b._onCompleted||(b.completeHandlers=[],b._onCompleted=function(){for(let D=0;D<b.completeHandlers.length;D++)b.completeHandlers[D]()}),b.completeHandlers.push(S))}}l._completeListeners===0&&l.complete()}}visibilityChangedHandler(){const l=this;l.isReady&&requestAnimationFrame(()=>{l.offsetWidth===0||l.offsetHeight===0?l.isHidden=!0:(l.isHidden=!1,l.$.fireEvent("resize",l,{bubbles:!1,cancelable:!0}))})}attributeChangedCallback(l,m,c){const y=this,b=y.propertyByAttributeName[l];if(l!=="class"&&l!=="style"||y.visibilityChangedHandler(),b||y.attributeChanged(l,m,c),y.onAttributeChanged&&y.onAttributeChanged(l,m,c),!b||b&&b.isUpdating)return;let S=y.$.getAttributeValue(b.attributeName,b.type);c!==void 0&&y[b.name]!==S&&(b.isUpdatingFromAttribute=!0,y[b.name]=S!==void 0?S:y._properties[b.name].defaultValue,b.isUpdatingFromAttribute=!1)}attributeChanged(l,m,c){}set hasStyleObserver(l){const m=this;m._hasStyleObserver===void 0&&(m._hasStyleObserver=l),l?d.watch(m):d.unwatch(m)}get hasStyleObserver(){const l=this;return l._hasStyleObserver===void 0||l._hasStyleObserver}attached(){const l=this;l.hasStyleObserver&&d.watch(l),l.onAttached&&l.onAttached(),Smart(l._selector)&&Smart(l._selector).attached&&Smart(l._selector).attached()}detached(){const l=this;l.hasStyleObserver&&d.unwatch(l),l._setModuleState("detached"),l.isAttached=!1,l.ownerElement&&l.ownerElement.detachedChildren.indexOf(l)===-1&&l.ownerElement.detachedChildren.push(l),l._handleListeners("unlisten"),l.onDetached&&l.onDetached(),Smart(l._selector)&&Smart(l._selector).detached&&Smart(l._selector).detached(),p&&p[l._selector]&&delete p[l._selector]}propertyChangedHandler(l,m,c){const y=this;m!==c&&(l==="theme"&&(m!==""&&y.classList.remove("smart-"+m),c!==""&&y.classList.add("smart-"+c)),l==="visibility"?(m==="collapsed"?y.classList.remove("smart-hidden"):m==="hidden"&&y.classList.remove("smart-visibility-hidden"),c==="collapsed"?y.classList.add("smart-hidden"):c==="hidden"&&y.classList.add("smart-visibility-hidden")):(l==="disabled"||l==="readonly")&&y._ariaPropertyChangedHandler(l,c),y.propertyChanged&&y.propertyChanged(l,m,c))}_ariaPropertyChangedHandler(l,m){const c=this;l==="readonly"&&["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(c.getAttribute("role"))===-1||(m?c.setAttribute("aria-"+l,!0):c.removeAttribute("aria-"+l))}_handleListeners(l){const m=this,c=m.tagName.toLowerCase(),y=b=>{for(let S in b){const D=S.split(".");let M=D[0],$=m.$;if(D[1])if(M=D[1],$=m["$"+D[0]],D[0]==="document"){let Z=m.smartId;Z===""&&(Z=A.Core.toCamelCase(c)),M=M+"."+Z}else m.smartId&&(M=M+"."+m.smartId+"_"+m.parents.length);else m.smartId&&(M=M+"."+m.smartId);const P=b[S],G=function(Z){const ee=m.context;m.context=m,m[P]&&m[P].apply(m,[Z]),m.context=ee};$&&$[l](M,G)}};y(m.getStaticMember("listeners")),y(m.templateListeners),Smart(m._selector)&&Smart(m._selector).properties&&y(Smart(m._selector).listeners)}parseTemplate(){const l=this,m=l.template(),c=document.createDocumentFragment();if(g[l.nodeName]&&!t)return g[l.nodeName].cloneNode(!0);if(m==="")return null;let y=document.createElement("div");c.appendChild(y),y.innerHTML=m;let b=y.childNodes;y.parentNode.removeChild(y);for(let S=0;S<b.length;S++)c.appendChild(b[S]);return g[l.nodeName]=c,t?c:c.cloneNode(!0)}applyTemplate(){const l=this,m=l.parseTemplate();if(!m||!m.hasChildNodes)return;const c=m.childNodes[0],y=(D,M)=>{l["$"+D]=M.$=A.Extend(M),l.$[D]=M,M.ownerElement=l};let b=c;if(c.getElementsByTagName("content").length>0){let D=c.getElementsByTagName("content")[0];b=D.parentNode,b.removeChild(D)}else{const D=m.querySelectorAll("[inner-h-t-m-l]");D&&D.length>0&&(b=D[0])}l.$.template=c.nodeName.toLowerCase()==="template"?c:c.querySelector("template");let S=m.querySelectorAll("[id]");S.length===0&&(S=m.querySelectorAll("*")),y("root",c),y("content",b),l.$.html=l.innerHTML.toString().trim();for(let D=0;D<S.length;D+=1){let M=S[D];M.id===""&&(M.id="child"+D),y(M.id,M),M.setAttribute("smart-id",M.id),l.shadowRoot?M.shadowParent=l:M.removeAttribute("id")}for(l.hasTemplateBindings!==!1?l.bindings=l.getBindings(m):l.bindings=[],l.$root.addClass("smart-container");l.childNodes.length;)b.appendChild(l.firstChild);if(l.appendTemplate(m),l.$.template){const D=document.createElement("div");D.classList.add("smart-template-container"),l.$.templateContainer=D,l.$.template.parentNode.insertBefore(D,l.$.template),l.refreshTemplate()}}refreshTemplate(){const l=this;if(!l.$.templateContainer)return;l.templateDetached(l.$.templateContainer);const m=l.$.template.content.cloneNode(!0);l.templateBindings=l.getBindings(m),l.templateProperties=[];let c=document.createDocumentFragment();const y=function(b,S,D){for(let M in b){const $=b[M],P=$.node.cloneNode();S.appendChild(P);let G=[],Z=!1;if($.data)for(let ee in $.data){const de=$.data[ee],me=de.name;if(l.templateProperties[me]=!0,P.removeAttribute(A.Core.toDash(ee)),ee==="*items")G=l[me],Z=!0;else if(me.indexOf("item.")>=0&&D!==void 0)de.value=D[me.substring(5)],P[ee]=de.value;else if(me.indexOf("item")>=0&&D!==void 0)de.value=D,P[ee]=de.value;else if(ee==="*if")if(me.indexOf("(")>=0){let ge,we=me.substring(me.indexOf("("));const Me=me.substring(0,me.indexOf("("));if(we=we.substring(1,we.length-1),we=we.replace(/ /gi,""),we=we.split(","),we.length>0&&we[0]!==""){let ke=[];for(let xe=0;xe<we.length;xe++)ke.push(l[we[xe]]);ge=l[Me].apply(l,ke)}else ge=l[Me]();ge===!1&&S.removeChild(P)}else l[me]||S.removeChild(P);else l.updateBoundNode(P,$,l,me)}if(G.length>0||Z){for(let ee=0;ee<G.length;ee++)$.children&&y($.children,P,G[ee]);if(typeof G=="number")for(let ee=0;ee<G;ee++)$.children&&y($.children,P,ee)}else $.children&&y($.children,P,D)}};y(l.templateBindings.children,c),l.$.templateContainer.innerHTML="",l.$.templateContainer.appendChild(c),l.templateAttached(l.$.templateContainer)}templateAttached(){}templateDetached(){}appendTemplate(l){this.appendChild(l)}defineElementModules(){const l=this,m=l.constructor.prototype;if(m.elementName==="BaseElement"){m.modules=l.constructor.modules;const c=m.modules;for(let y=0;y<c.length;y+=1)l.addModule(c[y])}else{const c=m.modules;if(!c)return;for(let y=0;y<c.length;y+=1){const b=c[y],S=b.prototype;l.defineElementMethods(S.methodNames,S),l.defineElementProperties(b.properties)}}}watch(l,m){const c=this;c._watch=l!==null&&m!==null?{properties:l,propertyChangedCallback:m}:null}unwatch(){this._watch=null}set(l,m,c){const y=this,b=y.context;y.context=c===!0?document:y,y[l]=m,y.context=b}get(l){return this[l]}_setModuleState(l,m){const c=this,y="is"+l.substring(0,1).toUpperCase()+l.substring(1),b="on"+l.substring(0,1).toUpperCase()+l.substring(1);for(let S=0;S<c.modulesList.length;S++){const D=c.modulesList[S];D[y]=!0,D[l]&&D[l](m),D[b]&&D[b](m)}}addModule(l,m){const c=this;if(!l)return;const y=c.modules.slice(0),b=l.prototype,S=Object.getPrototypeOf(l);if(S.name&&S.name!==l.name&&c.addModule(S),!l.moduleName&&l.name&&(l.moduleName=l.name),y.findIndex(D=>l.moduleName===D.moduleName)===-1&&y.push(l),c.defineModule(l),c.defineElementMethods(b.methodNames,b),c.defineElementProperties(l.properties),c.constructor.prototype.modules=y,m)for(let D in Smart.Elements.tagNames){const M=Smart.Elements.tagNames[D];let $=Object.getPrototypeOf(M),P=[];for(;$!==HTMLElement;)P.push($.prototype),$=Object.getPrototypeOf($);P.indexOf(c)>=0&&M!==c&&M.prototype.addModule(l)}}defineModule(l){if(l.isDefined)return;l.prototype._initModule=function(b){this.ownerElement=b};const m=l.properties||{},c=Object.keys(m),y=Object.getOwnPropertyNames(l.prototype);l.prototype.methodNames=y;for(let b=0;b<c.length;b+=1){const S=c[b],D=m[S];Object.defineProperty(l.prototype,S,{configurable:!1,enumerable:!0,get(){return this.ownerElement?this.ownerElement[S]:D.value},set(M){this.ownerElement[S]=M}})}l.isDefined=!0}getStaticMember(l,m){const c=window[e][this.elementName],y=c[l];m||(m="");let b=m==="array"?[]:m==="string"?"":{},S=Object.getPrototypeOf(c),D=[];for(;S[l];)D.push(S[l]),S=Object.getPrototypeOf(S);for(let M=D.length-1;M>=0;M--)if(m==="array")for(let $=0;$<D[M].length;$++)b.indexOf(D[M][$])===-1&&b.push(D[M][$]);else m==="string"?b.indexOf(D[M])===-1&&(b+=D[M]):b=A.Core.assign(b,D[M]);if(m==="array"){for(let M=0;M<y.length;M++)b.indexOf(y[M])===-1&&b.push(y[M]);return b}return m==="string"?(b.indexOf(y)===-1&&(b+=y),b):A.Core.assign(b,y)}defineElementHierarchicalProperties(l,m){const c=this,y=[];(function(b){const S=Object.keys(b);for(let D=0;D<S.length;D++){const M=S[D];if(M==="messages"||M==="keys")continue;const $=b[M],P=Object.keys($),G=P.indexOf("value")>=0&&P.indexOf("type")>=0&&typeof $.value=="object";if($.type==="propertyObject"||G){const Z=function(ee,de){if(!ee.value)return;const me=Object.keys(ee.value);for(let ge=0;ge<me.length;ge++){const we=me[ge],Me=ee.value[we],ke=de+"_"+we;if(typeof Me!="object"||Me===null)break;const xe=Object.keys(Me);if(!(xe.indexOf("value")>=0&&xe.indexOf("type")>=0))break;if(ee.type!=="array"&&(ee.isHierarchicalProperty=!0),Me.parentPropertyName=de,m){const Ve=m._properties[ke];if(ee.value.hasOwnProperty(we)){if(Ve.isDefined)continue;delete ee.value[we]}Ve.isDefined=!0,Object.defineProperty(ee.value,we,{configurable:!1,enumerable:!0,get:()=>m._properties[ke].value,set(ye){m.updateProperty(m,m._properties[ke],ye)}})}y[ke]||(y[ke]=Me,y.length++),(Me.type==="propertyObject"||typeof Me.value=="object"&&Me.type!=="array")&&Z(m?m._properties[ke]:Me,ke)}};Z($,M)}}})(l),y.length>0&&!m&&c.defineElementProperties(y)}defineElement(){const l=this,m=l.constructor.prototype,c=l.getStaticMember("properties"),y=Object.getOwnPropertyNames(m);m.extendedProperties={},m.boundProperties={},m.templateListeners={},l.defineElementModules(),l.defineElementMethods(y,m),l.defineElementProperties(c),l.defineElementHierarchicalProperties(l.extendedProperties),m._initElement=function(){const b=this,S=m.extendedProperties,D=Object.keys(S),M=b.modules;b.$=A.Extend(b),b.$document=k,b.smartId=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),b.isCreated||(b.modulesList=[],b._properties=[],b._beforeCreatedProperties&&(b._properties=b._beforeCreatedProperties,delete b._beforeCreatedProperties),b.detachedChildren=[],b.propertyByAttributeName=[]);for(let P=0;P<M.length;P+=1){let G=new M[P];G._initModule(b),b.modulesList.push(G)}const $=[];for(let P=0;P<D.length;P+=1){const G=D[P],Z=S[G];let ee=Z.value;if(b._properties[G]){if(b._properties[G].notify!==void 0)continue;delete b._properties[G]}if(q&&G==="innerHTML"&&delete b[G],window.navigator.userAgent.indexOf("PhantomJS")===-1&&b.hasOwnProperty(G))if(Z.isHierarchicalProperty&&b[G]){const me=b[G];$.push({name:G,value:me}),ee=Z.value,delete b[G]}else ee=b[G],delete b[G];if(Z.type==="array"&&ee!=null&&(ee=ee.slice(0)),Z.type==="object"&&ee!=null&&(ee=Array.isArray(ee)?ee.slice(0):Object.assign({},ee)),b._properties[G]={name:G,notify:Z.notify,allowedValues:Z.allowedValues,type:Z.type,nullable:Z.nullable,reflectToAttribute:Z.reflectToAttribute,defaultReflectToAttribute:Z.defaultReflectToAttribute,defaultReflectToAttributeConditions:Z.defaultReflectToAttributeConditions,value:ee,readOnly:Z.readOnly,defaultValue:ee,attributeName:Z.attributeName,observer:Z.observer,inherit:Z.inherit,extend:Z.extend,validator:Z.validator},b.propertyByAttributeName[Z.attributeName]=b._properties[G],!Z.hasOwnProperty("type")){const me=b.localize("propertyUnknownType",{name:G});b.log(me)}if(Z.type==="any"||Z.type==="propertyObject")continue;const de=A.Types.getType(ee);if(ee!=null&&Z.type!==de&&!Z.validator){if(Z.type==="object"&&de==="array"||de==="number"&&["integer","int","float"].findIndex(ge=>ge===Z.type)>=0)continue;const me=b.localize("propertyInvalidValueType",{name:G,actualType:de,type:Z.type});b.log(me)}}if(b.defineElementHierarchicalProperties(b._properties,b),$.length&&window[e].RenderMode!=="manual")for(let P=0;P<$.length;P++){const G=$[P];b[G.name]=G.value}b.isCreated=!0},m.registered()}defineElementMethods(l,m){const c=this.constructor.prototype,y=function(S,D){const M=Array.prototype.slice.call(arguments,2);return function(){if(!this.isReady&&D!=="localize"&&D!=="localize"&&D!=="cloneNode"&&D!=="importStyle"&&D!=="log"&&D!=="parseAttributes"){const ge=this.localize("elementNotInDOM");this.log(ge)}let P=this;for(let ge=0;ge<this.modulesList.length;ge++){let we=this.modulesList[ge];if(D in we){P=we;break}}const G=this.context,Z=M.concat(Array.prototype.slice.call(arguments));let ee=null;const de=function(ge,we){return ge===we||ge==="number"&&(we==="int"||we==="integer"||we==="float")||ge==="bool"&&we==="boolean"||ge==="boolean"&&we==="bool"||ge==="object"&&we==="any"||void 0};if(this.methods){const ge=this.methods[D];if(ge){const we=ge.split(":");ee=we[we.length-1].trim();const Me=[],ke=ge.substring(1+ge.indexOf("("),ge.lastIndexOf(")")).split(",");let xe="";for(let ye=0;ye<ke.length;ye++){const je=ke[ye];xe+=je,je.indexOf(":")>=0?(Me.push(xe),xe=""):xe+=","}let Ve=Me.length;for(let ye=0;ye<Me.length;ye++){const je=Me[ye].trim().split(":"),Le=je[0].split("=")[0].trim().indexOf("?")>=0,et=je[1].indexOf("?")>=0,Ye=je[1].replace(/\?/gi,"").trim(),ut=Ye.split("|");let Ne=je[0].split("=")[1];const mt=A.Types.getType(Z[ye]);if(Z[ye]===void 0&&Ne){switch(Ne=Ne.trim(),Ye[0]){case"date":{let Be=Ne.substring(Ne.indexOf("(")+1,Ne.lastIndexOf(")"));Be=Be.length>0?Be.split(",").map(Ke=>parseInt(Ke)):[],Ne=Be.length===0?new Date:new Date(Be[0],Be[1],Be[2]);break}case"bool":case"boolean":Ne=Ne==="true"||Ne==="1";break;case"int":case"integer":Ne=parseInt(Ne);break;case"float":case"number":Ne=parseFloat(Ne);break;case"any":case"object":Ne=Ne.indexOf("{")>=0?JSON.parse(Ne):Ne}Z.push(Ne)}else Le&&Ve--;if(Ye!==mt&&mt){let Be=!0;for(let Ke=0;Ke<ut.length;Ke++)if(de(mt,ut[Ke])){Be=!1;break}if(Be&&(Z[ye]!==null||!et)){const Ke=this.localize("methodInvalidValueType",{name:D,actualType:mt,type:Ye,argumentIndex:ye});this.log(Ke)}}if(Z.length<Ve){const Be=this.localize("methodInvalidArgumentsCount",{name:D,actualArgumentsCount:Z.length,argumentsCount:Ve});this.log(Be)}}}}this.context=this;const me=S.apply(P,Z);if(ee){const ge=A.Types.getType(me)===void 0?"void":A.Types.getType(me);if(!de(ge,ee)){const we=this.localize("methodInvalidReturnType",{name:D,actualType:ge,type:ee});this.log(we)}}return this.context=G,me}},b=["constructor","ready","created","render","attached","detached","appendChild","insertBefore","removeChild","connect","disconnectedCallback","connectedCallback","attributeChangedCallback","propertyChangedHandler","enableShadowDOM","isInShadowDOM","addPropertyBindings"];for(let S in l){let D=l[S];D&&D.startsWith&&D.startsWith("_")||b.find(M=>M===D)!==void 0||c.extendedProperties[D]||A.Types.isFunction(m[D])&&(c[D]=y(m[D],D))}}defineElementProperties(l){if(!l)return;const m=this,c=m.constructor.prototype,y=Object.keys(l),b=m.getStaticMember("properties");Object.assign(c.extendedProperties,l),m.updateProperty=function(S,D,M){const $=S;if(!D||D.readOnly)return;if(D.allowedValues){let Z=!1;for(let ee=0;ee<D.allowedValues.length;ee++)if(D.allowedValues[ee]===M){Z=!0;break}if(!Z){const ee=JSON.stringify(D.allowedValues).replace(/\[|\]/gi,"").replace(",",", ").replace(/"/gi,"'"),de="'"+M+"'",me=$.localize("propertyInvalidValue",{name:D.name,actualValue:de,value:ee});return void $.log(me)}}const P=D.name,G=$._properties[P].value;if(D.validator&&$[D.validator]){const Z=$.context;$.context=$;const ee=$[D.validator](G,M);ee!==void 0&&(M=ee),$.context=Z}if(G!==M){if($.propertyChanging){const Z=$.propertyChanging(P,G,M);if(Z===!1||Z===null)return}if(!D.hasOwnProperty("type")){const Z=$.localize("propertyUnknownType",{name:P});$.log(Z)}if(D.type!=="array"||JSON.stringify(G)!==JSON.stringify(M)){if(M!=null&&D.type!=="any"&&D.type!=="propertyObject"&&D.type!==A.Types.getType(M)&&!D.validator||M===null&&!D.nullable){let Z=!0;if(D.type==="object"&&A.Types.getType(M)==="array"&&(Z=!1),A.Types.getType(M)==="number"&&["integer","int","float"].findIndex(ee=>ee===D.type)>=0&&(Z=!1),Z){const ee=$.localize("propertyInvalidValueType",{name:P,actualType:A.Types.getType(M),type:D.type});return void $.error(ee)}}if(D.isUpdating=!0,D.isHierarchicalProperty){const Z=function(ee,de){if(!ee)return;const me=Object.keys(ee);for(let ge=0;ge<me.length;ge++){const we=me[ge],Me=ee[we];typeof Me=="object"&&!A.Types.isArray(Me)&&Me&&Me.constructor!==Date?Z(Me,de+"_"+we):$[de+"_"+we]=Me}};Z(M,P)}else $._properties[P].value=M;if(!D.isUpdatingFromAttribute&&D.reflectToAttribute&&$.$.setAttributeValue(D.attributeName,M,D.type),$.isReady&&(!$.ownerElement||$.ownerElement&&$.ownerElement.isReady)){if(P==="wait"&&(M||!G||$.isCompleted||($.classList.remove("smart-visibility-hidden"),$.ownerElement&&$.ownerElement.updateBoundMappedNodes(),$.updateBoundMappedNodes(),$.complete())),P==="renderMode")return;if($.context!==$&&!$.wait){const ee=$.context;$.context=$,$.propertyChangedHandler(P,G,M),$.context=ee,D.observer&&$[D.observer]&&($.context=$,$[D.observer](G,M),$.context=document),$._watch&&$._watch.properties.indexOf(P)>=0&&$._watch.propertyChangedCallback(P,G,M)}const Z=D.notify||$.boundProperties[P];Z&&($.$.fireEvent(D.attributeName+"-changed",{context:$.context,oldValue:G,value:$[P]}),$.boundProperties[P]&&$.updateBoundNodes(P)),Z&&$.templateProperties&&$.templateProperties[P]&&$.refreshTemplate(),$.dataContextProperties&&(P==="dataContext"?$.applyDataContext():$.dataContextProperties[P]&&$.updateDataContextProperty(P))}D.isUpdating=!1}}};for(let S=0;S<y.length;S+=1){const D=y[S],M=l[D],$=A.Core.toDash(D),P=M.type||"any",G=P.indexOf("?")>=0||P==="any";G&&P!=="any"&&(M.type=P.substring(0,P.length-1)),M.nullable=G,M.attributeName=$.toLowerCase(),M.name=D,M.reflectToAttribute=M.reflectToAttribute===void 0||M.reflectToAttribute,M.inherit&&b[D]&&(M.value=b[D].value),M.extend&&b[D]&&A.Core.assign(M.value,b[D].value),c.hasOwnProperty(D)||Object.defineProperty(c,D,{configurable:!1,enumerable:!0,get(){if(this._properties[D])return this._properties[D].value},set(Z){const ee=this;ee.updateProperty(ee,ee._properties[D],Z)}})}}}let z=[],N=[],F=[],q=!1;const Y=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);Y&&parseInt(Y[2],10)<=50&&(q=!0);class X{static register(l,m){const c=m.prototype;let y=r.toCamelCase(l).replace(/[a-z]+/,""),b=m.version||window[e].Version;if(window.customElements.get(l)&&window.customElements.get(l).version===b)return;let S=l;for(b=b.split(".");window.customElements.get(l);)l=S+"-"+b.join("."),b[2]=parseInt(b[2])+1;if(!z[l]){if(l.startsWith(e.toLowerCase()))z[l]=window[e][y]=window[e.toLowerCase()+y]=m;else{let D=l.split("-")[0];D=D.substring(0,1).toUpperCase()+D.substring(1),window[e][D]||(window[e][D]={}),z[l]=window[e][D][y]=window[D.toLowerCase()+y]=m,window[e][y]&&(y=r.toCamelCase(l)),window[e][y]=m}c.elementName=y,c.defineElement(),N[l]&&N[l](c),window.customElements.define(l,m)}}static registerElements(){const l=this;if(l.toRegister){l.isRegistering=!0;for(let m=0;m<l.toRegister.length;m++){const c=l.toRegister[m];l.register(c.tagName,c.element)}l.isRegistering=!1}}static get(l){if(z[l])return z[l]}static whenRegistered(l,m){if(!l)throw new Error("Syntax Error: Invalid tag name");const c=N[l],y=this.get(l),b=y?y.modules.length:3;try{c||y?!c&&y?(m(y.prototype),N[l]=void 0):c&&!y?N[l]=function(S){c(S),m(S)}:c&&y&&(y.proto&&(c(y.proto),m(y.proto)),N[l]=void 0):N[l]=function(S){try{m(S)}catch(D){const M=D instanceof Error?D.message:D.toString();console.log(M)}}}catch(S){const D=S instanceof Error?S.message:S.toString();console.log(D)}if(y&&b!==y.prototype.modules.length){const S=document.querySelectorAll(l);for(let D=0;D<S.length;D++){const M=S[D];M.isCreated&&M._initElement()}}}}X.lazyRegister=!1,X.tagNames=[];class ae{constructor(){const l=this;l.name="observableArray",l.observables=arguments.length<3?null:arguments[2];const m=new Proxy(l,{deleteProperty:function(c,y){return delete c[y],!0},apply:function(c,y,b){return c.apply(y,b)},get:function(c,y){return typeof(b=y)=="symbol"||typeof b=="object"&&Object.prototype.toString.call(b)==="[object Symbol]"||c[y]||isNaN(parseInt(y))?c[y]:l.getItem(parseInt(y));var b},set:function(c,y,b){return c[y]||isNaN(parseInt(y))?(c[y]=b,!0):(l.setItem(parseInt(y),b),!0)}});if(l._addArgs={eventName:"change",object:m,action:"add",index:null,removed:new Array,addedCount:1},l._removeArgs={eventName:"change",object:m,action:"remove",index:null,removed:null,addedCount:0},arguments.length>=1&&Array.isArray(arguments[0])){l._array=[];const c=arguments[0];for(let y=0,b=c.length;y<b;y++){const S=l._getItem(l._array.length,c[y]);l._array.push(S)}}else l._array=Array.apply(null,arguments);return arguments.length===2&&(l.notifyFn=arguments[1]),m}get canNotify(){const l=this;return l._canNotify===void 0&&(l._canNotify=!0),l._canNotify}set canNotify(l){this._canNotify=l}_notify(l){const m=this;m.canNotify&&m.notifyFn&&m.notifyFn(l)}notify(l){l&&(this.notifyFn=l)}toArray(){return this._array}_getItem(l,m){const c=this;return typeof m=="string"||typeof m=="number"||m===void 0?m:new Proxy(m,{deleteProperty:function(y,b){return delete y[b],!0},set:function(y,b,S){const D=y[b];return y[b]=S,!c._canNotify||y.canNotify===!1||(c.observables&&!c.observables[b]||c._notify({eventName:"change",object:c,target:y,action:"update",index:l,path:l+"."+b,oldValue:D,newValue:S,propertyName:b}),!0)}})}getItem(l){return this._array[l]}setItem(l,m){const c=this,y=c._array[l];c._array[l]=c._getItem(l,m),c._notify({eventName:"change",object:c._array,action:"update",index:l,removed:[y],addedCount:1})}get length(){return this._array.length}set length(l){const m=this;n.isNumber(l)&&m._array&&m._array.length!==l&&m.splice(l,m._array.length-l)}toString(){return this._array.toString()}toLocaleString(){return this._array.toLocaleString()}concat(){const l=this;l._addArgs.index=l._array.length;const m=l._array.concat.apply(l._array,arguments);return new Smart.ObservableArray(m)}join(l){return this._array.join(l)}pop(){const l=this;l._removeArgs.index=l._array.length-1,delete l[l._array.length-1];const m=l._array.pop();return l._removeArgs.removed=[m],l._notify(l._removeArgs),l._notifyLengthChange(),m}push(){const l=this;if(l._addArgs.index=l._array.length,arguments.length===1&&Array.isArray(arguments[0])){const m=arguments[0];for(let c=0,y=m.length;c<y;c++){const b=l._getItem(l._array.length,m[c]);l._array.push(b)}}else{const m=l._getItem(l._addArgs.index,arguments[0]);l._array.push.apply(l._array,[m])}return l._addArgs.addedCount=l._array.length-l._addArgs.index,l._notify(l._addArgs),l._notifyLengthChange(),l._array.length}_notifyLengthChange(){const l=this;if(!l.canNotify)return;const m=l._createPropertyChangeData("length",l._array.length);l._notify(m)}_createPropertyChangeData(l,m,c){return{eventName:"change",object:this,action:l,value:m,oldValue:c}}reverse(){return this._array.reverse()}shift(){const l=this,m=l._array.shift();return l._removeArgs.index=0,l._removeArgs.removed=[m],l._notify(l._removeArgs),l._notifyLengthChange(),m}slice(l,m){return this._array.slice(l,m)}sort(l){return this._array.sort(l)}splice(l,m,c){const y=this,b=y._array.length;let S;if(c&&c.length)for(let D=0;D<c.length;D++)S=y._array.splice(l+D,m,c[D]);else S=y._array.splice.apply(y._array,arguments);if(c){let D=y.canNotify;if(y.canNotify=!1,c.length)for(let M=0;M<c.length;M++)y.setItem(l+M,c[M]);else y.setItem(l,c);y.canNotify=D,y._notify({eventName:"change",object:this,action:"add",index:l,added:S,addedCount:y._array.length>b?y._array.length-b:0})}else y._notify({eventName:"change",object:this,action:"remove",index:l,removed:S,addedCount:y._array.length>b?y._array.length-b:0});return y._array.length!==b&&y._notifyLengthChange(),S}unshift(){const l=this,m=l._array.length,c=l._array.unshift.apply(l._array,arguments);return l._addArgs.index=0,l._addArgs.addedCount=c-m,l._notify(this._addArgs),l._notifyLengthChange(),c}indexOf(l,m){const c=this;for(let y=m||0,b=c._array.length;y<b;y++)if(c._array[y]===l)return y;return-1}lastIndexOf(l,m){const c=this;for(let y=m||c._array.length-1;y>=0;y--)if(c._array[y]===l)return y;return-1}find(l,m){return this._array.find(l,m)}findIndex(l,m){return this._array.findIndex(l,m)}every(l,m){return this._array.every(l,m)}some(l,m){return this._array.some(l,m)}forEach(l,m){this._array.forEach(l,m)}map(l,m){return this._array.map(l,m)}filter(l,m){return this._array.filter(l,m)}reduce(l,m){return m!==void 0?this._array.reduce(l,m):this._array.reduce(l)}reduceRight(l,m){return m!==void 0?this._array.reduceRight(l,m):this._array.reduceRight(l)}move(l,m){this.splice(m,0,this.splice(l,1)[0])}}let Q={};window[e]&&(Q=window[e]),window[e]=function(E,l){let m=E;if(E){if(E.indexOf("#")>=0||E.indexOf(".")>=0)return p[E]?p[E]:l?(p[E]=new l,function(c,y){const b=y.properties;y._properties=[];const S=function(M,$){const P=Object.keys(M);for(let G=0;G<P.length;G++){const Z=P[G],ee=M[Z];y._properties[$+Z]=ee,Array.isArray(ee)?y._properties[$+Z]=new ae(ee,function(de){const me=Z+"."+de.path,ge=de.newValue,we=document.querySelector(c);if(we){const Me=me.split(".");let ke=we;for(let xe=0;xe<Me.length;xe++)ke=ke[Me[xe]];ke=ge}}):(Object.defineProperty(M,Z,{configurable:!1,enumerable:!0,get:()=>y._properties[$+Z],set(de){y._properties[$+Z]=de}}),ee&&ee.constructor.name==="DataAdapter"||ee&&typeof ee=="object"&&Smart.DataAdapter&&ee instanceof Smart.DataAdapter||typeof ee=="object"&&ee&&Object.keys(ee).length>0&&S(ee,$+Z+"."))}};S(b,""),Object.defineProperty(y,"properties",{configurable:!1,enumerable:!0,get:()=>b});const D=document.querySelector(c);if(D&&D.isReady)for(let M in b)if(M==="properties"){const $=b[M];for(let P in $)D[P]=$[P]}else D[M]=b[M];else if(D){D.props={};for(let M in b)D.props[M]=b[M]}}(E,p[E]),p[E]):void 0;if(l){if(X.tagNames[E]=l,X.lazyRegister){X.toRegister||(X.toRegister=[]);const c=r.toCamelCase(m).replace(/[a-z]+/,"");return window[e][c]=l,void X.toRegister.push({tagName:m,element:l})}X.register(m,l)}}},window.addEventListener("load",function(){const E=window[e].Elements.tagNames;let l=[];for(let m in E){const c=E[m];let y=document.querySelectorAll("["+m+"]");for(let S=0;S<y.length;S++){const D=y[S];D instanceof HTMLDivElement&&(D.__proto__=c.prototype,D.created(),D.connectedCallback()),D.classList.add("smart-element-ready")}let b=c.name;b==="Item"&&(b="ListItem"),y=document.querySelectorAll('[is="'+e.toLocaleLowerCase()+b+'"]');for(let S=0;S<y.length;S++)l.push(y[S])}if(l.length>0){const m=c=>{let y=[],b=c.parentNode;for(;b&&b.nodeType!==9;)b instanceof HTMLElement==1&&y.push(b),b=b.parentNode;return y};l.sort(function(c,y){let b=m(c).length,S=m(y).length;return b<S?1:b>S?-1:0});for(let c=0;c<l.length;c++){const y=l[c],b=y.getAttribute("is");let S;S=b==="smartItem"?new window.smartListItem(y):new window[b](y),S.removeAttribute("is")}}});const ie=function(){if(document.readyState==="complete"&&window[e].RenderMode!=="manual"){F.sort(function(E,l){let m=E.element.parents.length,c=l.element.parents.length;return m<c?-1:m>c?1:0});for(let E=0;E<F.length;E++)window[e].RenderMode="",F[E].element.isLoading=!1,F[E].callback(),window[e].RenderMode="";F=[],document.removeEventListener("readystatechange",ie)}};Object.assign(window[e],{Elements:X,Modules:[],BaseElement:class extends V{static get observedAttributes(){let E=this,l=["external-style"];for(let m in E.prototype.extendedProperties){const c=E.prototype.extendedProperties[m];l.push(c.attributeName)}return l}static get styleUrls(){return[]}static get styles(){return""}get styleUrl(){return this._styleUrl}set styleUrl(E){this._styleUrl=E}get isInShadowDOM(){const E=this,l=E.getRootNode();return!E.hasAttribute("smart-blazor")&&l!==document&&l!==E}getShadowRootOrBody(){const E=this;return E.isInShadowDOM&&E.getRootNode().host?E.getRootNode().host.shadowRoot:document.body}get enableShadowDOM(){return window[e].EnableShadowDOM}importStyle(E,l){this._importStyle(E,l)}_importStyle(E,l){const m=this;if(!m.shadowRoot||!E)return;const c=S=>{const D=m.shadowRoot.children;for(let $=0;$<D.length;$++){const P=D[$];if(P instanceof HTMLLinkElement&&P.href===S)return l&&l(),null}const M=document.createElement("link");return M.rel="stylesheet",M.type="text/css",M.href=S,M.onload=l,M},y=(()=>{const S=m.shadowRoot.children;let D=null;for(let M=0;M<S.length;M++){const $=S[M];$ instanceof HTMLLinkElement&&(D=$)}return D})(),b=(S,D)=>{D.parentNode.insertBefore(S,D.nextSibling)};if(Array.isArray(E)){const S=document.createDocumentFragment();for(let D=0;D<E.length;D++){const M=c(E[D]);M&&S.appendChild(M)}y?b(S,y):m.shadowRoot.insertBefore(S,m.shadowRoot.firstChild)}else{const S=c(E);if(!S)return;y?b(S,y):m.shadowRoot.insertBefore(S,m.shadowRoot.firstChild)}}attributeChanged(E,l,m){E==="style-url"&&(this.styleUrl=m)}attributeChangedCallback(E,l,m){this.isReady&&super.attributeChangedCallback(E,l,m)}constructor(E,l){super();const m=this;if(E){l&&(m._initProperties=l);const c=y=>{if(typeof y=="string"?document.querySelector(y):y){const b=typeof y=="string"?document.querySelector(y):y;if(b instanceof HTMLDivElement){const S=document.createElement(m.tagName);for(let D of b.attributes)S.setAttribute(D.name,b.getAttribute(D.name));for(;b.childNodes.length;)S.appendChild(b.firstChild);return typeof y=="string"&&(S.id=y.substring(1)),S._initProperties=l,b.parentNode&&b.parentNode.replaceChild(S,b),S}if(l){const S=b.context;if(b._initProperties=l,b.isReady){b.context=b;const D={},M={};for(let $ in l)D[$]=b[$],M[$]=l[$];Object.getOwnPropertyNames(l).length>0&&(b.initProperties(),b.propertyChangedHandler(l,D,M)),b.context=S}}return b}};if(typeof E=="string"){const y=document.querySelectorAll(E),b=[];if(y.length>1){for(let S=0;S<y.length;S++){const D=c(y[S]);b.push(D)}return b}}else if(E&&E.length>0){const y=E;if(y.length>1){for(let b=0;b<y.length;b++){const S=c(y[b]);z.push(S)}return z}}return c(E)}m._styleUrl="",m.isUtilityElement||m.created()}_getRootShadowParent(){let E=this.shadowParent;for(;E;){if(!E.shadowParent)return E;E=E.shadowParent}return E||this.shadowParent}_getStyleUrl(E){let l=A.Core.getScriptLocation()+window[e].StyleBaseUrl+E;return this.shadowParent&&(l=l.replace("scoped/","")),l}_getStyleUrls(){const E=this;E.nodeName.startsWith(e);const l=E.getStaticMember("styleUrls","array"),m=[];for(let c=0;c<l.length;c++){const y=l[c],b=E._getStyleUrl(y);m.push(b)}return m}_setupShadowRoot(){const E=this;E.classList.add("smart-element-init");const l=m=>{m.$.root&&(m.$.root.classList.add(e.toLowerCase()+"-element"),m.$.root.classList.add(E.nodeName.toLowerCase())),m.setup(),m.classList.remove("smart-element-init")};if(document.adoptedStyleSheets)if(window[e].AdoptedStyleSheets)window[e].AdoptedStyleSheetsLoaded?(E.shadowRoot.adoptedStyleSheets=window[e].AdoptedStyleSheets,l(E)):(E.shadowRoot.adoptedStyleSheets=window[e].AdoptedStyleSheets,window[e].AdoptedStyleSheetsLoadedQueue||(window[e].AdoptedStyleSheetsLoadedQueue=[]),window[e].AdoptedStyleSheetsLoadedQueue.push(E));else{const m=new CSSStyleSheet;let c=A.Core.getScriptLocation()+"/styles/smart.default.css";m.replace('@import url("'+c+'")').then(()=>{if(l(E),window[e].AdoptedStyleSheetsLoaded=!0,window[e].AdoptedStyleSheetsLoadedQueue){const y=window[e].AdoptedStyleSheetsLoadedQueue;for(let b=0;b<y.length;b++){const S=y[b];l(S)}delete window[e].AdoptedStyleSheetsLoadedQueue}}).catch(y=>{console.error("Failed to load:",y)}),window[e].AdoptedStyleSheets=[m],document.adoptedStyleSheets=[m],E.shadowRoot.adoptedStyleSheets=window[e].AdoptedStyleSheets}}connect(){const E=this;window[e].EnableShadowDOM&&!E.shadowRoot&&E.isInShadowDOM!==!0&&(E.attachShadow({mode:"open"}),E.shadowRoot&&E.$.root&&(E.shadowRoot.appendChild(E.$.root),E.$.root.classList.add(E.nodeName.toLowerCase()))),E.shadowRoot||E.shadowParent?E.shadowRoot?E._setupShadowRoot():(E.shadowParent&&window[e].EnableShadowDOM,E.setup()):E.setup()}connectedCallback(){const E=this;if(E.isLoading||E.isUtilityElement)return;E.classList.add("smart-element-init");const l=function(){E.classList.remove("smart-element-init")};if(document.readyState==="complete"&&(window[e].isAngular===void 0&&(window[e].isAngular=document.body.querySelector("[ng-version]")!==null),window[e].isVue===void 0&&(window[e].isVue=document.querySelector(".vue-root")!==null),window[e].isAngular)){for(let m=0;m<E.parents.length&&!E.parents[m].nodeName.toLowerCase().startsWith(e.toLowerCase()+"-");m++)if(E.parents[m].hasAttribute("ng-version")&&!E.classList.contains("smart-angular")){window[e].RenderMode="manual";break}}if(document.readyState==="complete"&&window[e].RenderMode!=="manual"){const m=E.parents;m.length&&m[m.length-1].nodeName==="HTML"||E.getRootNode().host?(E.checkIsInDomTimer&&clearInterval(E.checkIsInDomTimer),l(),E.connect()):(E.checkIsInDomTimer&&clearInterval(E.checkIsInDomTimer),m.length>0&&(E.checkIsInDomTimer=setInterval(()=>{const c=E.parents;c.length===0&&clearInterval(E.checkIsInDomTimer),c.length>0&&c[c.length-1].nodeName==="HTML"&&(clearInterval(E.checkIsInDomTimer),l(),E.connect())},100)))}else E.isLoading=!0,F.push({element:this,callback:(function(){this.isReady||(l(),this.connect())}).bind(E)})}disconnectedCallback(){const E=this;E.isAttached?(E.shadowParent=null,E.detached()):E._resetShadowParent()}adoptedCallback(){this.setup()}appendTemplate(E){const l=this;l.shadowRoot?l.shadowRoot.appendChild(E):l.appendChild(E)}_resetShadowParent(){const E=this;if(!window[e].EnableShadowDOM||E.shadowParent===null)return;const l=[];let m=E.parentNode;for(;m&&m.nodeType!==9;){if(m instanceof HTMLElement==1)l.push(m);else if(m.nodeType===11&&m.host){m=m.host;continue}m=m.parentNode}for(let c=0;c<l.length;c++)if(l[c]===E.shadowParent)return;l.length>0&&l[l.length-1].nodeName==="HTML"&&(E.shadowParent=null)}},Utilities:A,Import:function(E,l){let m=0;const c=function(y,b){return new Promise(S=>{const D=document.createElement("script");D.src=y,D.onload=S;for(let M=0;M<document.head.children.length;M++){const $=document.head.children[M];if($.src&&$.src.toString().indexOf(b)>=0)return void S()}document.head.appendChild(D)})};return new Promise(y=>{const b=A.Core.getScriptLocation(),S=function(D){if(!E[D])return;const M=b+"/"+E[D];c(M,E[D]).then(function(){m++,m===E.length&&y(),S(D+1)})};if(l)for(let D=0;D<E.length;D++){const M=b+"/"+E[D];c(M,E[D]).then(function(){m++,m===E.length&&y()})}else S(0)})},ObservableArray:ae,Observable:class{constructor(E,l){const m=this;var c;return this.name="observable",E&&Object.assign(m,E),c=E,Object.getOwnPropertyNames(Object.getPrototypeOf(c)).forEach(y=>y==="constructor"||!!y.startsWith("_")||void(m[y]=c[y])),new Proxy(m,{deleteProperty:function(y,b){return delete y[b],!0},get:function(y,b){return y[b]},set:function(y,b,S){const D=y[b];return D===S||(y[b]=S,!(b!=="notifyFn"&&!b.startsWith("_")&&b!=="canNotify"&&(!l||l.indexOf(b)!==-1)&&m.canNotify&&(m._notify({target:y,propertyName:b,oldValue:D,newValue:S}),0)))}})}get canNotify(){const E=this;return E._canNotify===void 0&&(E._canNotify=!0),E._canNotify}set canNotify(E){this._canNotify=E}_notify(E){const l=this;if(l.canNotify&&l.notifyFn)for(let m=0;m<l.notifyFn.length;m++)l.notifyFn[m](E)}notify(E){const l=this;E&&(l.notifyFn||(l.notifyFn=[]),l.notifyFn.push(E))}},Component:class{constructor(E,l){const m=this.name;let c=null;return E?c=new window[m](E,l):(c=new window[m],c._initProperties=l),this._element=c,c}get name(){return"Component"}get element(){return this._element}},Theme:Q.Theme||"",EnableShadowDOM:Q.ShadowDom||!1,BaseUrl:"./",StyleBaseUrl:"/styles/default/",Version:u,Templates:g,RenderMode:Q.RenderMode||"auto",Render:function(){const E=()=>{window[e].RenderMode="",ie()};document.readyState==="complete"?E():(window.removeEventListener("load",E),window.addEventListener("load",E))},Data:p,Mode:Q.Mode||"production",License:Q.License||"Evaluation"});let te=window[e].Theme;window[e].RenderMode!=="manual"&&document.addEventListener("readystatechange",ie),Object.defineProperty(window[e],"Theme",{configurable:!1,enumerable:!0,get:()=>te,set(E){const l=te;te=E,k.fireEvent("theme-changed",{oldValue:l,newValue:E},{bubbles:!0,cancelable:!0})}}),window[e]("smart-base-element",window[e].BaseElement),window[e]("smart-content-element",class extends window[e].BaseElement{static get properties(){return{content:{type:"any",reflectToAttribute:!1},innerHTML:{type:"string",reflectToAttribute:!1}}}template(){return"<div inner-h-t-m-l='[[innerHTML]]'></div>"}ready(){super.ready(),this.applyContent()}refresh(){}clearContent(){const E=this;for(;E.$.content.firstChild;)E.$.content.removeChild(E.$.content.firstChild)}applyContent(){const E=this;if(E.content===void 0)return void(E.content=E.$.content);if(E.content===""||E.content===null)return void E.clearContent();if(E.content instanceof HTMLElement)return E.clearContent(),void E.$.content.appendChild(E.content);const l=document.createDocumentFragment();let m=document.createElement("div");l.appendChild(m),E.content instanceof HTMLElement?m.appendChild(E.content):m.innerHTML=E.content;let c=Array.from(m.childNodes);m.parentNode.removeChild(m);for(let y=0;y<c.length;y++)l.appendChild(c[y]);E.clearContent(),E.$.content.appendChild(l)}propertyChangedHandler(E,l,m){super.propertyChangedHandler(E,l,m);const c=this;l!==m&&(E==="innerHTML"&&(c.content=m,c.applyContent(),c.innerHTML=c.content=A.Core.html(c.$.content)),E==="content"&&c.applyContent())}}),window[e]("smart-scroll-viewer",class extends window[e].ContentElement{static get properties(){return{autoRefresh:{type:"boolean",value:!1},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},touchScrollRatio:{type:"any",value:null},touchVelocityCoefficient:{type:"number",value:50},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}static get listeners(){return{touchmove:"_touchmoveHandler",touchstart:"_touchstartHandler",wheel:"_mouseWheelHandler","document.up":"_upHandler"}}static get styleUrls(){return["smart.scrollviewer.css"]}template(){return`<div id="container" class="smart-container" role="presentation">
                        <div id="scrollViewerContainer" class="smart-scroll-viewer-container" role="presentation">
                            <div id="scrollViewerContentContainer" inner-h-t-m-l='[[innerHTML]]' class="smart-scroll-viewer-content-container" role="presentation">
                                <content></content>
                            </div>
                        </div>
                        <smart-scroll-bar id="verticalScrollBar" theme="[[theme]]"  animation="[[animation]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]" orientation="vertical"></smart-scroll-bar>
                        <smart-scroll-bar id="horizontalScrollBar" theme="[[theme]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]"></smart-scroll-bar>
                    </div>`}appendChild(E){const l=this;if(E){if(!l.isCompleted||E.classList&&E.classList.contains("smart-resize-trigger-container")){const m=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(l,m.concat(Array.prototype.slice.call(arguments)))}l.$.scrollViewerContentContainer.appendChild(E)}}removeChild(E){const l=this;if(E){if(!l.isCompleted||E.classList&&E.classList.contains("smart-resize-trigger-container")){const m=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(l,m.concat(Array.prototype.slice.call(arguments)))}l.$.scrollViewerContentContainer.removeChild(E)}}removeAll(){const E=this;E.isCompleted&&(E.$.scrollViewerContentContainer.innerHTML="")}_horizontalScrollbarHandler(E){const l=this;l.$.scrollViewerContentContainer.style.left=(l.rightToLeft?1:-1)*l.scrollLeft+"px",E.stopPropagation&&E.stopPropagation(),l.onHorizontalChange&&l.onHorizontalChange(E)}_verticalScrollbarHandler(E){const l=this;l.$.scrollViewerContentContainer.style.top=-l.scrollTop+"px",E.stopPropagation&&E.stopPropagation(),l.onVerticalChange&&l.onVerticalChange(E)}_touchmoveHandler(E){const l=this;if(l._touchmoveInside&&E.cancelable)return E.preventDefault(),void E.stopPropagation();const m=l.scrollHeight>0,c=l.scrollWidth>0,y=l._touchCoords;if(!m&&!c||!y)return;const b=E.touches[0];let S,D,M,$;l._touchCoords=[b.pageX,b.pageY],m?(S=l.scrollTop,D=l.scrollHeight,M=b.pageY,$=y[1]):(S=l.scrollLeft,D=l.scrollWidth,M=b.pageX,$=y[0]);const P=parseFloat(M.toFixed(5)),G=parseFloat($.toFixed(5));S===0&&P>=G||S===D&&P<=G||(M!==$&&(l._touchmoveInside=!0),E.cancelable&&(E.preventDefault(),E.stopPropagation()))}_touchstartHandler(E){const l=E.touches[0];this._touchCoords=[l.pageX,l.pageY]}_mouseWheelHandler(E){const l=this;if(!l.disabled&&(l.computedHorizontalScrollBarVisibility||l.computedVerticalScrollBarVisibility)){if(E.shiftKey&&l.computedHorizontalScrollBarVisibility){const m=l.scrollLeft;return m===0&&E.deltaX<0||m===l.scrollHeight&&E.deltaX>0?void 0:(E.stopPropagation(),E.preventDefault(),void(l.scrollWidth>0&&l.scrollTo(void 0,l.scrollLeft+l._getScrollCoefficient(E,l.offsetWidth))))}if(l.computedVerticalScrollBarVisibility){const m=l.scrollTop;if(m===0&&E.deltaY<0||m===l.scrollHeight&&E.deltaY>0)return;if(E.stopPropagation(),E.preventDefault(),l.scrollHeight>0){l._wheelrafId=0;const c=()=>{l.scrollTop+=E.deltaY};cancelAnimationFrame(l._wheelrafId),l._wheelrafId=0,l._wheelrafId=requestAnimationFrame(c)}}}}_overriddenHandler(){}_upHandler(){delete this._touchCoords,delete this._touchmoveInside}_getScrollCoefficient(E,l){const m=E.deltaMode,c=Math.abs(E.deltaY);let y;return m===0?y=c<33.333333333333336?c:l:m===1?y=c<1?c*33.333333333333336:l:m===2&&(y=l),E.deltaY<0?-y:y}applyContent(){super.applyContent(),this.refresh()}get computedHorizontalScrollBarVisibility(){const E=this;return E._scrollView&&E._scrollView.hScrollBar?!E._scrollView.hScrollBar.$.hasClass("smart-hidden"):null}get computedVerticalScrollBarVisibility(){const E=this;return E._scrollView&&E._scrollView.vScrollBar?!E._scrollView.vScrollBar.$.hasClass("smart-hidden"):null}scrollTo(E,l){const m=this;m._scrollView&&(E!==void 0&&m._scrollView.scrollTo(E),l!==void 0&&m._scrollView.scrollTo(l,!1))}refreshScrollBarsVisibility(){const E=this;E._scrollView&&(E._scrollView.hScrollBar.disabled=E.disabled,E._scrollView.vScrollBar.disabled=E.disabled,E.horizontalScrollBarVisibility==="disabled"&&(E._scrollView.hScrollBar.disabled=!0),E.verticalScrollBarVisibility==="disabled"&&(E._scrollView.vScrollBar.disabled=!0),E.scrollWidth>0?E._scrollView.hScrollBar.$.removeClass("smart-hidden"):E.horizontalScrollBarVisibility!=="visible"&&E._scrollView.hScrollBar.$.addClass("smart-hidden"),E.scrollHeight>0?E._scrollView.vScrollBar.$.removeClass("smart-hidden"):E.verticalScrollBarVisibility!=="visible"&&E._scrollView.vScrollBar.$.addClass("smart-hidden"),E.horizontalScrollBarVisibility==="hidden"&&E._scrollView.hScrollBar.$.addClass("smart-hidden"),E.verticalScrollBarVisibility==="hidden"&&E._scrollView.vScrollBar.$.addClass("smart-hidden"),E.horizontalScrollBarVisibility==="visible"&&E._scrollView.hScrollBar.$.removeClass("smart-hidden"),E.verticalScrollBarVisibility==="visible"&&(E._scrollView.vScrollBar.$.removeClass("smart-hidden"),E.disabled||(E._scrollView.vScrollBar.disabled=E.scrollHeight<=0)),E.computedHorizontalScrollBarVisibility&&E.computedVerticalScrollBarVisibility?(E._scrollView.hScrollBar.$.addClass("bottom-corner"),E._scrollView.vScrollBar.$.addClass("bottom-corner")):(E._scrollView.hScrollBar.$.removeClass("bottom-corner"),E._scrollView.vScrollBar.$.removeClass("bottom-corner")))}ready(){super.ready();const E=this;E.$.verticalScrollBar.onChange=l=>{l.detail=l,E._verticalScrollbarHandler(l)},E.$.horizontalScrollBar.onChange=l=>{l.detail=l,E._horizontalScrollbarHandler(l)},E.$.verticalScrollBar.setAttribute("aria-controls",E.id),E.$.horizontalScrollBar.setAttribute("aria-controls",E.id),E._customScrollView||(E._scrollView=new Smart.Utilities.Scroll(E,E.$.horizontalScrollBar,E.$.verticalScrollBar)),E.refresh()}refresh(){const E=this;function l(){const b=E.$.scrollViewerContainer.classList.contains("vscroll");E.$.scrollViewerContainer.classList.remove("vscroll");const S=E.$.scrollViewerContentContainer.offsetWidth-E.$.scrollViewerContainer.offsetWidth;return S>0&&E.horizontalScrollBarVisibility!=="hidden"||E.horizontalScrollBarVisibility==="visible"?E.$.scrollViewerContainer.classList.add("hscroll"):E.$.scrollViewerContainer.classList.remove("hscroll"),b&&E.$.scrollViewerContainer.classList.add("vscroll"),S}function m(){let b;const S=E.$.scrollViewerContainer.classList.contains("hscroll");if(E.$.scrollViewerContainer.classList.remove("hscroll"),Smart.Utilities.Core.Browser.Safari){const D=E.$.scrollViewerContentContainer.getBoundingClientRect().height,M=E.$.scrollViewerContainer.getBoundingClientRect().height;b=D&&M?parseInt(D)-parseInt(M):E.$.scrollViewerContentContainer.offsetHeight-E.$.scrollViewerContainer.offsetHeight}else b=E.$.scrollViewerContentContainer.offsetHeight-E.$.scrollViewerContainer.offsetHeight;return E.virtualScrollHeight&&(b=E.virtualScrollHeight),b>0&&E.verticalScrollBarVisibility!=="hidden"||E.verticalScrollBarVisibility==="visible"?E.$.scrollViewerContainer.classList.add("vscroll"):E.$.scrollViewerContainer.classList.remove("vscroll"),S&&E.$.scrollViewerContainer.classList.add("hscroll"),b}if(!E.$.scrollViewerContentContainer)return;E.verticalScrollBarVisibility==="hidden"&&E.$.scrollViewerContentContainer.setAttribute("disable-vertical",""),E.horizontalScrollBarVisibility==="hidden"&&E.$.scrollViewerContentContainer.setAttribute("disable-horizontal","");let c=E.scrollWidth,y=E.scrollHeight;E.scrollWidth=l(),E.scrollHeight=m(),E.scrollHeight&&y===E.scrollHeight||(E.scrollWidth=l()),E.scrollWidth&&c===E.scrollWidth||(E.scrollHeight=m()),E.computedVerticalScrollBarVisibility&&(E.scrollHeight+=E._scrollView.hScrollBar.offsetHeight),E.computedHorizontalScrollBarVisibility&&(E.scrollWidth+=E._scrollView.vScrollBar.offsetWidth),E.scrollHeight===0&&E.scrollWidth>0&&E.$.container.offsetHeight-E.$.content.offsetHeight<5&&(E.$.container.style.paddingBottom=E._scrollView.hScrollBar.offsetHeight+"px"),E.autoRefresh&&(E.$.scrollViewerContainer.scrollLeft=0,E.$.scrollViewerContainer.scrollTop=0)}attached(){const E=this;super.attached(),E._scrollView||E._customScrollView||(E._scrollView=new Smart.Utilities.Scroll(E,E.$.horizontalScrollBar,E.$.verticalScrollBar))}detached(){const E=this;super.detached(),E._scrollView&&(E._scrollView.unlisten(),delete E._scrollView)}get scrollWidth(){const E=this;return E._scrollView&&E._scrollView.hScrollBar?E._scrollView.hScrollBar.max===1&&E.horizontalScrollBarVisibility==="visible"?0:E._scrollView.hScrollBar.max:-1}set scrollWidth(E){const l=this;E<0&&(E=0),l._scrollView&&l._scrollView.hScrollBar&&(E===0&&l.horizontalScrollBarVisibility==="visible"?l._scrollView.hScrollBar.max=0:l._scrollView.hScrollBar.max=E,l.refreshScrollBarsVisibility())}get scrollHeight(){const E=this;return E._scrollView&&E._scrollView.vScrollBar?E._scrollView.vScrollBar.max===1&&E.verticalScrollBarVisibility==="visible"?0:E._scrollView.vScrollBar.max:0}set scrollHeight(E){const l=this;E<0&&(E=0),l._scrollView&&l._scrollView.vScrollBar&&(E===0&&l.verticalScrollBarVisibility==="visible"?l._scrollView.vScrollBar.max=1:l._scrollView.vScrollBar.max=E,l.refreshScrollBarsVisibility())}get scrollLeft(){const E=this;return E._scrollView&&E._scrollView.hScrollBar?E._scrollView.hScrollBar.value:0}set scrollLeft(E){const l=this;E<0&&(E=0),l._scrollView&&l._scrollView.hScrollBar&&(l._scrollView.hScrollBar.value=E)}get scrollTop(){const E=this;return E._scrollView&&E._scrollView.vScrollBar?E._scrollView.vScrollBar.value:0}set scrollTop(E){const l=this;E<0&&(E=0),l._scrollView&&l._scrollView.vScrollBar&&(l._scrollView.vScrollBar.value=E)}propertyChangedHandler(E,l,m){const c=this;super.propertyChangedHandler(E,l,m),E!=="animation"&&E!=="theme"&&c.refresh()}}),window[e].Utilities.Assign("PositionDetection",class{constructor(E,l,m,c){const y=this;if(l){const b="dropDown"+Math.floor(65536*(1+Math.random())).toString(16).substring(1);l.id=b,E.setAttribute("aria-owns",b)}y.context=E,y.dropDown=l,y.defaultParent=m,y.closeMethod=c}handleAutoPositioning(){const E=this,l=E.context;if(l.dropDownPosition!=="auto"||l.disabled||l.isHidden)return;const m=window.requestAnimationFrame;let c,y=Date.now();return c=m(function b(){l.isHidden||document.hidden||(c=m(b),l.dropDownPosition==="auto"&&!l.disabled&&(l.isInShadowDOM?document.body.contains(l.shadowParent):document.body.contains(l))||cancelAnimationFrame(c),l.isHidden&&cancelAnimationFrame(c),Date.now()-y>=200&&(E.scrollHandler(),y=Date.now()))})}checkBrowserBounds(E){const l=this.context;if(l.dropDownPosition==="auto"&&!l.disabled)switch(E){case"vertically":this.checkBrowserBoundsVertically();break;case"horizontally":this.checkBrowserBoundsHorizontally();break;default:this.checkBrowserBoundsVertically(),this.checkBrowserBoundsHorizontally()}}checkBrowserBoundsHorizontally(){const E=this.context,l=this.dropDown;let m,c=0;r.isMobile||window.innerWidth===document.documentElement.clientWidth||(c=window.innerWidth-document.documentElement.clientWidth),E._dropDownParent!==null?m=!0:l.style.left="";const y=window.innerWidth-c;let b=E.getBoundingClientRect().left;if(b<0&&(l.style.left=(m?0:Math.abs(b))+"px",b=parseFloat(l.style.left)),b+l.offsetWidth>y){let S=b-Math.abs(y-b-l.offsetWidth);m&&(S+=window.pageXOffset),l.style.left=(m?S:S-b)+"px",window.innerWidth===document.documentElement.clientWidth&&(l.style.left=parseFloat(l.style.left)+c+"px"),m&&window.innerHeight===document.documentElement.clientHeight&&this.positionDropDown(!0)}}checkBrowserBoundsVertically(E){const l=this.context,m=this.dropDown,c=l._dropDownListPosition;E||(E=l.getBoundingClientRect()),E.height!==0&&(document.documentElement.clientHeight-Math.abs(E.top+E.height+m.offsetHeight)>=0?l._dropDownListPosition="bottom":E.top-m.offsetHeight>=0?l._dropDownListPosition="top":l._dropDownListPosition="overlay-center",this.updatePositionAttribute(c,l._dropDownListPosition))}scrollHandler(){const E=this.context;if(!E.parentElement)return;const l=E.getBoundingClientRect();if(l.top===E._positionTop)return;const m=E._dropDownListPosition;this.checkBrowserBoundsVertically(l),E._dropDownListPosition!==m&&this.positionDropDown(),E._positionTop=l.top}getDropDownParent(E){const l=this.context,m=this.dropDown;let c=l.dropDownAppendTo;l._positionedParent=null,c===null?l._dropDownParent=null:c==="body"||c===document.body?l.getRootNode().host?l._dropDownParent=l.getRootNode().host.shadowRoot:l._dropDownParent=document.body:c instanceof HTMLElement?l._dropDownParent=c:typeof c=="string"?(c=document.getElementById(c),c instanceof HTMLElement?l._dropDownParent=c:(l.dropDownAppendTo=null,l._dropDownParent=null)):(l.dropDownAppendTo=null,l._dropDownParent=null);let y=l._dropDownParent;if(y!==null){for(;y&&y instanceof HTMLElement&&window.getComputedStyle(y).position==="static"&&y!==l.getShadowRootOrBody();)y=y.parentElement;y===document.body?l._positionedParent=null:l._positionedParent=y,m&&(m.setAttribute("animation",l.animation),l.theme!==""&&m.$.addClass(l.theme),E&&(l._dropDownParent.appendChild(m),m.$.addClass("smart-drop-down-repositioned")),l.detachedChildren.indexOf(m)===-1&&l.detachedChildren.push(m))}}dropDownAppendToChangedHandler(){const E=this.context,l=this.dropDown,m=E._dropDownParent;this.getDropDownParent(),E._dropDownParent!==m&&(E[this.closeMethod](),["left","top","font-size","font-family","font-style","font-weight"].forEach(c=>l.style[c]=null),E._dropDownParent===null?(this.defaultParent.appendChild(l),l.$.removeClass("smart-drop-down-repositioned")):(E._dropDownParent.appendChild(l),l.$.addClass("smart-drop-down-repositioned")))}dropDownPositionChangedHandler(){const E=this;E.dropDown.style.transition="none",E.context[E.closeMethod](),E.setDropDownPosition(),E.handleAutoPositioning()}dropDownAttached(E){const l=this.context;l._dropDownParent!==null&&(l._dropDownParent.appendChild(this.dropDown),this.handleAutoPositioning(),E&&l[E]())}dropDownDetached(){const E=this.context;E._dropDownParent!==null&&document.body.contains(this.dropDown)&&document.body.contains(E._dropDownParent)&&E._dropDownParent.removeChild(this.dropDown)}setDropDownPosition(){const E=this.context,l=E.dropDownPosition,m=E._dropDownListPosition;l==="auto"?this.checkBrowserBounds():E._dropDownListPosition=l,this.updatePositionAttribute(m,E._dropDownListPosition)}updatePositionAttribute(E,l){const m=this.context,c=this.dropDown;m.$.dropDownButton&&!m.$.dropDownButton.hasAttribute(l)&&(m.$.dropDownButton.removeAttribute(E),m.$.dropDownButton.setAttribute(l,"")),c.hasAttribute(l)||(c.style.transition="none",c.removeAttribute(E),c.setAttribute(l,""),requestAnimationFrame(function(){c.style.transition=null}))}positionDropDown(E){const l=this.context,m=this.dropDown;if(!l.opened||l._dropDownParent===null)return;const c=l.getBoundingClientRect();let y,b;if(this.customPositionDropDown){const D=this.customPositionDropDown(c);y=D.left,b=D.top}else switch(y=c.left,b=c.top,l._dropDownListPosition){case"bottom":b+=l.$.container.offsetHeight-1;break;case"center-bottom":b+=l.$.container.offsetHeight-1,y+=l.offsetWidth-m.offsetWidth/2;break;case"center-top":b-=m.offsetHeight-1,y+=l.offsetWidth-m.offsetWidth/2;break;case"top":b-=m.offsetHeight-1;break;case"overlay-bottom":break;case"overlay-center":b-=m.offsetHeight/2-l.offsetHeight/2;break;case"overlay-top":b-=m.offsetHeight-l.offsetHeight}const S=this.getDropDownOffset();m.style.top=b+S.y+"px",E||(m.style.left=y+S.x+"px")}getDropDownOffset(){const E=this.context._positionedParent;let l,m;if(E&&E.nodeName!=="#document-fragment"){const c=E.getBoundingClientRect();l=-c.left,m=-c.top}else l=window.pageXOffset,m=window.pageYOffset;return{x:l,y:m}}placeOverlay(){const E=this.context;if(!E.dropDownOverlay||E._overlay)return;const l=document.createElement("div");l.classList.add("smart-drop-down-overlay"),l.style.width=document.documentElement.scrollWidth+"px",l.style.height=document.documentElement.scrollHeight+"px",document.body.appendChild(l),E._overlay=l}removeOverlay(E){const l=this,m=l.context;m._overlay&&(m.hasAnimation&&E?requestAnimationFrame(function c(){l.dropDown.getBoundingClientRect().height>0?requestAnimationFrame(c):(document.body.removeChild(m._overlay),delete m._overlay)}):(document.body.removeChild(m._overlay),delete m._overlay))}}),window.Smart.Color=class{constructor(E){if(window.Smart._colors||(window.Smart._colors=[]),window.Smart._colors[E]){const m=window.Smart._colors[E];return this.hex=m.hex,this.r=m.r,this.g=m.g,void(this.b=m.b)}this.r=this.g=this.b=0,this.hex="";const l=this.getStandardizedColor(E);l&&(this.setHex(l.substring(1)),window.Smart._colors[E]={hex:this.hex,r:this.r,g:this.g,b:this.b})}getStandardizedColor(E){const l=document.createElement("canvas").getContext("2d");return l.fillStyle=E,l.fillStyle}getInvertedColor(){if(this.hex==="")return"transparent";const E={"#DD5347":"#F8DCDA","#8E24AA":"#F9EEFB","#D50000":"#FFD5D5","#E67C73":"#F9DBD9","#F4511E":"#FDD6C8","#F6BF26":"#FDF2D7","#0B8043":"#DAFCEA","#33B679":"#DFF7EC","#3F51B5":"#E2E6F5","#039BE5":"#E8F8FF","#7986CB":"#DCDFF1","#8C47FF":"#EADDFF","#FF36C2":"#FFDFF5","#FFCFC9":"#C9403E","#FF9EB7":"#FF2058","#FFD66D":"#AA7B00","#FFEBB6":"#C18C00","#93DF89":"#29721F","#D1F7C4":"#619414","#9DC7FF":"#003377","#D0F0FD":"#098FCA","#7D2FFF":"#1BB4F5","#ECE1FD":"#7D30F1","#FA9DE2":"#860666","#FFDAF6":"#FF1AC6","#CBCBCB":"#6B6B6B","#EDEDED":"#909090","#CDAFFF":"#4600BB"};return E["#"+this.hex.toUpperCase()]?E["#"+this.hex.toUpperCase()]:255-(.299*this.r+.587*this.g+.114*this.b)<105?"Black":"White"}hexToRgb(E){let l="00",m="00",c="00";return(E=this.validateHex(E)).length===6?(l=E.substring(0,2),m=E.substring(2,4),c=E.substring(4,6)):(E.length>4&&(l=E.substring(4,E.length),E=E.substring(0,4)),E.length>2&&(m=E.substring(2,E.length),E=E.substring(0,2)),E.length>0&&(c=E.substring(0,E.length))),{r:this.hexToInt(l),g:this.hexToInt(m),b:this.hexToInt(c)}}validateHex(E){return(E=(E=new String(E).toUpperCase()).replace(/[^A-F0-9]/g,"0")).length>6&&(E=E.substring(0,6)),E}webSafeDec(E){return E=Math.round(E/51),E*=51}hexToWebSafe(E){let l,m,c;return E.length===3?(l=E.substring(0,1),m=E.substring(1,1),c=E.substring(2,1)):(l=E.substring(0,2),m=E.substring(2,4),c=E.substring(4,6)),this.intToHex(this.webSafeDec(this.hexToInt(l)))+this.intToHex(this.webSafeDec(this.hexToInt(m)))+this.intToHex(this.webSafeDec(this.hexToInt(c)))}rgbToWebSafe(E){return{r:this.webSafeDec(E.r),g:this.webSafeDec(E.g),b:this.webSafeDec(E.b)}}rgbToHex(E){return this.intToHex(E.r)+this.intToHex(E.g)+this.intToHex(E.b)}intToHex(E){let l=parseInt(E).toString(16);return l.length===1&&(l="0"+l),l.toUpperCase()}hexToInt(E){return parseInt(E,16)}setRgb(E,l,m){let c=function(y){return y<0||y>255||isNaN(parseInt(y))?0:y};this.r=c(E),this.g=c(l),this.b=c(m),this.hex=this.rgbToHex(this)}setHex(E){this.hex=E;let l=this.hexToRgb(this.hex);this.r=l.r,this.g=l.g,this.b=l.b}}})()},8588:()=>{Smart("smart-input",class extends Smart.BaseElement{static get properties(){return{autoCompleteDelay:{value:100,type:"number"},dataSource:{type:"any",value:[],reflectToAttribute:!1},dropDownClassList:{value:[],type:"array",reflectToAttribute:!1},dropDownDataSource:{type:"any",reflectToAttribute:!1,value:[]},dropDownHeight:{type:"any",value:200},dropDownOpenMode:{allowedValues:["default","manual"],value:"default",type:"string"},dropDownAppendTo:{value:null,type:"any"},dropDownWidth:{type:"any",value:null},dropDownButtonPosition:{allowedValues:["none","left","right"],value:"none",type:"string"},dropDownOpenPosition:{allowedValues:["bottom","top","auto"],value:"bottom",type:"string"},dropDownPlaceholder:{type:"string",value:""},hint:{type:"string",value:""},inputPurpose:{type:"string",value:"off"},items:{type:"number",value:8},minLength:{type:"number",value:1},maxLength:{type:"number",value:99999999},name:{value:"",type:"string"},prefix:{value:"",type:"string",reflectToAttribute:!1},suffix:{value:"",type:"string",reflectToAttribute:!1},onAffixClick:{value:null,type:"any",reflectToAttribute:!1},opened:{value:!1,type:"boolean"},query:{type:"string",value:""},queryMode:{allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string",value:"containsIgnoreCase"},placeholder:{value:"",type:"string"},readonly:{type:"boolean",value:!1},sorted:{value:!1,type:"boolean"},sortDirection:{value:"asc",type:"string"},selectedIndex:{type:"number",value:-1},selectedValue:{type:"any",value:""},selectedValues:{value:[],type:"array"},type:{type:"string"},value:{type:"string",value:""},innerHTML:{type:"string",reflectToAttribute:!1}}}static get styleUrls(){return["smart.textbox.css"]}template(){return`<div id="inputContainer" role="presentation"><div id="optionsContainer" inner-h-t-m-l='{{innerHTML}}' class="smart-hidden"></div><span class="smart-input-prefix" id="prefix" inner-h-t-m-l='{{prefix}}'></span><input maxlength='[[maxLength]]'  class="smart-input" id='input' readonly='[[readonly]]' placeholder='[[placeholder]]' type='[[type]]' name='[[name]]' value='{{value::keyup}}' disabled='[[disabled]]' /><span class="smart-hidden smart-hint" id="span">[[hint]]</span><span id="suffix"  class="smart-input-suffix" inner-h-t-m-l='{{suffix}}'></span><div id="dropDownButton" tabindex=-1 class="smart-drop-down-button" role="button" aria-label="Toggle popup"><div id="arrow" class="arrow" aria-hidden="true"></div></div></div>`}static get listeners(){return{"input.focus":"_focusHandler","input.blur":"_blurHandler","input.keydown":"_keyDownHandler","input.keyup":"_keyUpHandler","input.keypress":"_keyPressHandler","input.paste":"_pasteHandler","prefix.click":"_prefixClick","suffix.click":"_suffixClick","dropDownButton.down":"_dropDownButtonDownHandler","inputContainer.down":"_downHandler","document.up":"_documentUpHandler"}}_prefixClick(u){const g=this;if(g.onAffixClick)if(typeof g.onAffixClick=="string"){const e=g.onAffixClick.replace("()","");window[e]&&window[e].apply(g,u)}else g.onAffixClick(u)}_suffixClick(u){const g=this;if(typeof g.onAffixClick=="string"){const e=g.onAffixClick.replace("()","");window[e]&&window[e].apply(g,u)}else g.onAffixClick(u)}get selectedIndexes(){return this.isCompleted?[this.selectedIndex]:[]}set selectedIndexes(u){if(!this.isCompleted)return;const g=this;if(u&&u[0]!==void 0){if(this.selectedIndex=u[0],this.dataSource===null)return;const e=this.dataSource[this.selectedIndex];if(!e)return;const t=this.context;this.context=this,this.$.input.dataValue=this.selectedValue=typeof e=="string"?e:e.value,this.setAttribute("data-value",this.$.input.dataValue);let n=g.dataSource;typeof n=="string"&&(n=g.$.deserialize(n,"array"));for(let a=0;a<n.length;a++){let i=n[a];typeof i!="string"&&typeof i!="number"&&(i.value===g.$.input.dataValue?i.selected=!0:i.selected=!1)}this.context=t}else{const e=this.context;this.context=this,this.$.input.dataValue=this.selectedValue="",this.setAttribute("data-value",this.$.input.dataValue),this.selectedIndex=-1;let t=g.dataSource;if(typeof t=="string"&&(t=g.$.deserialize(t,"array")),t&&Array.isArray(t))for(let n=0;n<t.length;n++){let a=t[n];typeof a!="string"&&(a.value===g.$.input.dataValue?a.selected=!0:a.selected=!1)}this.context=e}}focus(){this.$.input.focus()}select(){const u=this;u.readonly?u.$.input.focus():u.$.input.select()}_documentUpHandler(u){const g=this,e=g.shadowRoot||g.isInShadowDOM?u.originalEvent.composedPath()[0]:u.originalEvent.target;e!==g&&e!==g.$.dropDownButton&&e!==g.$.input&&e!==g.$.arrow?g.$.scrollView.contains(e.shadowParent||e)?g._isPointerDown&&(g._isPointerDown=!1,g.opened&&(g._preventLookup=!0),g.$.input.focus()):(g.opened&&(g._preventLookup=!0),g.dropDownOpenMode==="manual"||g._isPointerDown||g.close(),g._isPointerDown=!1):g._isPointerDown=!1}_focusHandler(){const u=this;u.setAttribute("focus",""),u.readonly||u.minLength!==0||u.$.input.value.length!==0||u._preventLookup?(u.$.fireEvent("focus"),delete u._preventLookup):u._lookup()}_blurHandler(){const u=this;u.opened||u.removeAttribute("focus"),u.opened||u.$.fireEvent("blur"),u._refreshSelectedIndex(),delete u._preventLookup}_pasteHandler(u){const g=this,e=g.$.input,t=e.value,n=e.selectionStart,a=e.selectionEnd;if(!u.clipboardData&&!window.clipboardData||g.disabled)return;const i=(u.clipboardData||window.clipboardData).getData("text");let r=t.slice(0,n)+i;r.length,r+=t.slice(a),g.setAttribute("data-value",r),g._refreshSelectedIndex()}_refreshSelectedIndex(){const u=this;let g=u.dataSource;if(g){let e=-1,t=null;if(u.dataSource instanceof Promise||typeof u.dataSource=="function")return;typeof g=="string"&&(g=u.$.deserialize(g,"array"));for(let n=0;n<g.length;n++){let a=g[n];if(typeof a!="number"&&typeof a!="boolean"||(a=""+a),typeof a=="string"){if(a===u.value){e=n,t=u.value;break}}else a&&(delete a.selected,a.label===u.value&&(e=n,t=a.value,a.selected=!0))}u.set("selectedIndex",e,!1),u.set("selectedValue",t,!1),u.selectedIndex===-1&&(u.$.input.dataValue=null)}}selectItem(u){const g=this;let e=g.dataSource;if(typeof e=="string"&&(e=g.$.deserialize(e,"array")),e)for(let t=0;t<e.length;t++){const n=e[t];if(g.set("selectedIndex",-1),g.set("value",""),g.$.input.dataValue=null,typeof n=="string"){if(n===u)return g.set("selectedIndex",t,!1),g.set("value",g.$.input.dataValue=u),void g.setAttribute("data-value",g.$.input.dataValue)}else if(n.value===u)return g.set("selectedIndex",t,!1),g.set("value",n.label),g.$.input.dataValue=u,void g.setAttribute("data-value",g.$.input.dataValue)}else g.set("value",g.$.input.dataValue=u),g.setAttribute("data-value",g.$.input.dataValue),g.set("selectedIndex",-1,!1)}getItem(u){const g=this;if(g.dataSource)for(let e=0;e<g.dataSource.length;e++){const t=g.dataSource[e];if(t.value===u)return t}return null}getPrevItem(){const u=this,g=u.getSelectedItem();if(u.dataSource&&g){for(let e=0;e<u.dataSource.length;e++)if(u.dataSource[e].value===g.value)return u.dataSource[e-1]}return null}getNextItem(){const u=this,g=u.getSelectedItem();if(u.dataSource&&g){for(let e=0;e<u.dataSource.length;e++)if(u.dataSource[e].value===g.value)return u.dataSource[e+1]}return null}getSelectedItem(){const u=this;return u.dataSource&&u.dataSource.length===0?{label:u.value,value:u.$.input.dataValue?u.$.input.dataValue:u.value}:{label:u.value,value:u.$.input.dataValue!==void 0?u.$.input.dataValue:u.value}}_refreshMenu(){const u=this;u.$.menu.classList.remove("scroll"),u.$.scrollView.computedVerticalScrollBarVisibility&&u.$.menu.classList.add("scroll")}_fromHTMLEntities(u){const g=this,e=g._textArea?g._textArea:document.createElement("textarea");return e.innerHTML=u,g._textArea=e,e.value}_performSelect(){const u=this,g=u.$.menu.querySelector(".active");let e="",t="";g&&(e=g.getAttribute("data-label"),e=u._fromHTMLEntities(e),t=g.dataValue);let n=u.value,a=u.$.input.dataValue;u.set("value",e),u.$.input.dataValue=t,u.setAttribute("data-value",t),g&&u.set("selectedIndex",g.index),u.set("selectedValues",[u.$.input.dataValue]),u.set("selectedValue",u.$.input.dataValue);let i=u.dataSource;if(typeof i=="string"&&(i=u.$.deserialize(i,"array")),i&&Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];typeof o!="string"&&typeof o!="number"&&(o.value===u.$.input.dataValue?o.selected=!0:o.selected=!1)}u.close(),e===n&&t===a||(u.$.fireEvent("change",{value:t,label:e,oldValue:a,oldLabel:n}),u._updateTargetValue())}_open(){const u=this;if(u.opened)return;const g=window.scrollX,e=window.scrollY;let t=u.getBoundingClientRect(),n=0,a=0;if(u.timer&&clearTimeout(u.timer),u.getRootNode()&&u.getRootNode().host)u.getRootNode().host.shadowRoot.appendChild(u.$.scrollView);else if(u.dropDownAppendTo){if(u.dropDownAppendTo==="body"||u.dropDownAppendTo===document.body)document.body.appendChild(u.$.scrollView);else if(u.dropDownAppendTo instanceof HTMLElement)u.dropDownAppendTo.appendChild(u.$.scrollView);else if(typeof dropDownAppendTo=="string"){let i=document.getElementById(u.dropDownAppendTo);i instanceof HTMLElement?i.appendChild(u.$.scrollView):document.body.appendChild(u.$.scrollView)}}else document.body.appendChild(u.$.scrollView);if(u.setAttribute("aria-owns",u.$.scrollView.id),u.readonly||u.$.input.setAttribute("aria-controls",u.$.scrollView.id),u.$.scrollView.enableShadowDOM&&!u._importedStyle&&(u.$.scrollView.importStyle(u._getStyleUrl("smart.textbox.css")),u._importedStyle=!0),getComputedStyle(document.body).position!=="static"){const i=document.body.getBoundingClientRect();n=i.left,a=i.top}if(u.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",""),u.$.scrollView.style.left=-3+t.left+g-n+"px",u.$.scrollView.classList.remove("open"),u.$.scrollView.removeAttribute("top"),u.dropDownOpenPosition==="bottom")u.$.scrollView.style.top=t.bottom+e-a+1+"px";else if(u.dropDownOpenPosition==="top")u.$.scrollView.style.top=t.top-u.$.scrollView.offsetHeight+e-a-2+"px",u.$.scrollView.setAttribute("top","");else if(u.dropDownOpenPosition==="auto"){u.$.scrollView.style.top=t.bottom+e-a+1+"px";const i=t.top-u.$.scrollView.offsetHeight+e-a-2;window.innerHeight<parseInt(u.$.scrollView.style.top)+u.$.scrollView.offsetHeight-e?i>=0&&(u.$.scrollView.style.top=i+"px",u.$.scrollView.setAttribute("top","")):u.$.scrollView.style.top=t.bottom+e-a+1+"px"}if(u.dropDownAppendTo&&u.dropDownAppendTo!=="body"){u.$.scrollView.style.position="absolute",u.$.scrollView.style.width="auto",u.$.scrollView.style.height="auto";const i=u.$.scrollView.parentNode.getBoundingClientRect();u.$.scrollView.style.top=t.bottom-i.top+"px",u.dropDownOpenPosition==="top"&&(u.$.scrollView.style.top=t.top-i.top-u.$.scrollView.offsetHeight+"px"),u.$.scrollView.style.left=-3+t.left-i.left+"px",u.dropDownHeight&&(u.$.scrollView.style.height=u.dropDownHeight),u.dropDownWidth&&(u.$.scrollView.style.width=u.dropDownWidth)}u.opening=!0,u._positionTimer&&clearInterval(u._positionTimer),u.dropDownAppendTo||(u._positionTimer=setInterval(()=>{const i=u.getBoundingClientRect();if(u.opening)u.opening=!1,t=i;else if(Math.abs(parseInt(i.top)-parseInt(t.top))>=10||Math.abs(parseInt(i.left)-parseInt(t.left))>=10){const r=window.scrollX,o=window.scrollY;return u.$.scrollView.style.left=-3+i.left+r-n+"px",void(u.dropDownOpenPosition==="bottom"?u.$.scrollView.style.top=i.bottom+o-a+1+"px":u.dropDownOpenPosition==="top"?u.$.scrollView.style.top=i.top-u.$.scrollView.offsetHeight+o-a+1+"px":u.dropDownOpenPosition==="auto"&&(u.$.scrollView.removeAttribute("top"),u.$.scrollView.style.top=i.bottom+o-a+1+"px",window.innerHeight<parseInt(u.$.scrollView.style.top)+u.$.scrollView.offsetHeight-o?(u.$.scrollView.style.top=i.top-u.$.scrollView.offsetHeight+o-a+1+"px",u.$.scrollView.setAttribute("top","")):u.$.scrollView.style.top=i.bottom+o-a+1+"px"))}},50)),u.$.scrollView.onpointerdown=function(i){u._isPointerDown=!0,i.stopPropagation(),i.preventDefault()},requestAnimationFrame(function(){const i=u.dropDownWidth;if(u.$.scrollView.refresh&&u.$.scrollView.refresh(),u._refreshMenu(),u.$.scrollView.setAttribute("open",""),u.setAttribute("open",""),u.$.dropDownButton.setAttribute("open",""),u.$.input.setAttribute("open",""),i&&typeof i=="string"&&i.indexOf("%")!==-1){const d=parseFloat(i)/100;u.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",u.offsetWidth*d+"px")}else if(i!=="auto"&&i)u.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",parseFloat(i)+"px");else if(i==="auto"){if(u.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",""),u.$.scrollView.$.scrollViewerContainer.classList.contains("vscroll")){const d=u.$.scrollView.offsetWidth+parseFloat(getComputedStyle(u.$.scrollView).getPropertyValue("--smart-scroll-bar-size"));u.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",d+"px")}}else{u.$.menu.style.width="auto";let d=u.$.menu.offsetWidth;const f=u.$.menu.querySelectorAll("li");for(let p=0;p<f.length;p++)u._maxDropDownWidth=Math.max((f[p].firstElementChild||f[p]).offsetWidth,u._maxDropDownWidth);u.$.scrollView.computedVerticalScrollBarVisibility&&(d+=u.$.scrollView.$&&u.$.scrollView.$.verticalScrollBar?u.$.scrollView.$.verticalScrollBar.offsetWidth:30),u.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",Math.max(d,u.offsetWidth-8)+"px"),u.$.menu.style.width=""}const r=parseInt(u.$.scrollView.style.left),o=u.$.scrollView.offsetWidth;r+o>document.body.offsetWidth&&(u.$.scrollView.style.left=-3+t.right+g-n-o+"px"),(u.shadowRoot||u.isInShadowDOM)&&u.$.scrollView._scrollView&&Smart.ScrollBar&&requestAnimationFrame(()=>{u.$.scrollView._scrollView&&u.$.scrollView._scrollView.vScrollBar.refresh()})}),u.$.scrollView.refresh&&u.$.scrollView.refresh(),u._refreshMenu(),u.set("opened",!0),u.setAttribute("aria-expanded",!0),u.$.fireEvent("open")}close(){const u=this;return!!u.opened&&(u.timer&&clearTimeout(u.timer),u.timer=setTimeout(function(){u.$.scrollView.parentNode&&!u.opened&&(u.$.scrollView.remove(),u.removeAttribute("aria-owns"),u.readonly||u.$.input.removeAttribute("aria-controls"))},1e3),u._positionTimer&&clearInterval(u._positionTimer),u.$.scrollView.removeAttribute("open"),u.$.dropDownButton.removeAttribute("open"),u.$.input.removeAttribute("open"),u.removeAttribute("open"),u.set("opened",!1),u.setAttribute("aria-expanded",!1),u.$.input.focus(),u.$.fireEvent("close"),!0)}refresh(){const u=this;u.$.scrollView.refresh&&u.$.scrollView.refresh(),u._getDataSourceFromOption(),u.close()}_lookup(u){const g=this;g.query=g.$.input.value;const e=g.context;if(g.context=g,g.selectedIndex=-1,g.selectedValue=null,g.context=e,g.$.input.readonly&&(g._incrementalSearchQuery||(g._incrementalSearchQuery=""),g._incrementalSearchQuery+=u.key,g._incrementalSearchTimer&&clearTimeout(g._incrementalSearchTimer),g.query=g._incrementalSearchQuery,g._incrementalSearchTimer=setTimeout(function(){g._incrementalSearchQuery=""},700)),g.query.length<g.minLength)return void g.close();const t=function(n){clearTimeout(g._autoCompleteTimeout),g._autoCompleteTimeout=setTimeout(()=>{const a=g.context;g.context=g,g._process(n),g.context=a},g.autoCompleteDelay)};typeof g.dataSource=="function"?g.dataSource(g.query,t):t(g.dataSource)}_downHandler(u){const g=this;g.readonly&&g._dropDownButtonDownHandler(u)}_dropDownButtonDownHandler(u){const g=this;return g.dropDownOpenMode!=="manual"&&(g._toggle(),g.focus()),u.preventDefault(),u.stopPropagation(),u.originalEvent.preventDefault(),u.originalEvent.stopPropagation(),g._isPointerDown=!0,!1}_toggle(){const u=this;u.opened?u.close():u.open()}open(){const u=this;function g(e){u._process(e);const t=u.$.menu.querySelector(".active");if(t){const n=u.$.input.dataValue;for(let a=0;a<u.$.menu.children.length;a++){const i=u.$.menu.children[a],r=i.getAttribute("data-label"),o=i.dataValue;if(n!==void 0&&o===n||n===void 0&&r===u.$.input.value){t.classList.remove("active"),i.classList.add("active"),u._setActiveDescendant(i),u.$.input.dataValue=o,u.setAttribute("data-value",o);break}}}u.ensureVisible(),u.$.input.focus(),setTimeout(function(){u.$.input.focus()},25)}u.dropDownDataSource&&(Array.isArray(u.dropDownDataSource)&&u.dropDownDataSource.length>0||typeof u.dropDownDataSource=="function")?(u.query="",typeof u.dropDownDataSource=="function"?u.dropDownDataSource(u.query,g):g(u.dropDownDataSource)):(u.query="",typeof u.dataSource=="function"?u.dataSource(u.query,g):g(u.dataSource))}_process(u){const g=this;typeof u=="string"&&(u=g.$.deserialize(u,"array")),g.readonly,u=u.filter(function(e){return e===""||(g.matcher?g.matcher(e):g._matcher(e))}),u=g._sorter(u),g.sorted&&(u.sort((e,t)=>e.label!==void 0?e.label.localeCompare(t.label):e.localeCompare(t)),g.sortDirection==="desc"&&u.reverse()),!u.length&&g.opened&&g.dropDownPlaceholder===""&&g.close(),u.length===0&&g.allowItemsAdd!==!0&&g.dropDownPlaceholder===""||(g.query.length>0?g.readonly?g._render(u):g._render(u.slice(0,g.items)):g._render(u),g._open(),g.$.scrollView.refresh&&g.$.scrollView.refresh(),g._refreshMenu(),g.ensureVisible())}_matcher(u){const g=this.query;switch(u===null&&(u="null"),u=""+(u=u.label||u),this.queryMode){case"startsWith":return u.startsWith(g);case"startsWithIgnoreCase":return u.toLowerCase().startsWith(g.toLowerCase());case"doesNotContain":return u.indexOf(g)<0;case"doesNotContainIgnoreCase":return u.toLowerCase().indexOf(g.toLowerCase())<0;case"contains":return u.indexOf(g)>-1;default:case"containsIgnoreCase":return~u.toLowerCase().indexOf(g.toLowerCase());case"equals":return u.localeCompare(g)===0;case"equalsIgnoreCase":return u.toLowerCase().localeCompare(g.toLowerCase())===0;case"endsWith":return u.endsWith(g);case"endsWithIgnoreCase":return u.toLowerCase().endsWith(g.toLowerCase())}}_sorter(u){const g=this;let e,t=[],n=[],a=[];if(u&&u[0]==="")return u;for(;e=u.shift();){let i=e.label||e;i=""+i,i.toLowerCase().indexOf(g.query.toLowerCase())?~i.indexOf(g.query)?n.push(e):a.push(e):t.push(e)}return t.concat(n,a)}_highlighter(u){const g=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return this.query?u.replace(new RegExp("("+g+")","ig"),function(e,t){return"<strong>"+t+"</strong>"}):u}_render(u){const g=this;let e=0,t=-1,n=null;const a=u.map(function(r){let o=r,d=r;typeof r=="object"&&(o=r.label,d=r.value!==void 0?r.value:o),o=""+o,o=o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;");const f=document.createElement("li"),p=document.createElement("a");if(p.href="javascript:void(0)",f.id=g.id+"Item"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),f.setAttribute("data-label",o),f.index=e++,f.dataValue=d,typeof d=="string"?f.setAttribute("value",d):f.setAttribute("value",JSON.stringify(d)),f.setAttribute("role","option"),f.setAttribute("aria-label",o),r.menuLabel!==void 0?(o=r.menuLabel,p.innerHTML=o):p.innerHTML=g.highlighter?g.highlighter(o):g._highlighter(o),p.setAttribute("aria-hidden",!0),r.disabled&&f.classList.add("smart-disabled"),r.visible!==void 0&&r.visible===!1&&f.classList.add("smart-hidden"),r.icon&&(p.classList.add("icon"),p.classList.add(r.icon)),r.prefix){const v=document.createElement("span");v.innerHTML=r.prefix,p.classList.add("has-prefix"),p.innerHTML=v.innerHTML+p.innerHTML}if(r.suffix){const v=document.createElement("span");v.innerHTML=r.suffix,p.classList.add("has-suffix"),p.innerHTML=p.innerHTML+v.innerHTML}if(r.dataset)for(let v in r.dataset)f.setAttribute("data-"+v,r.dataset[v]);if(r.className){const v=r.className.split(" ");for(let w=0;w<v.length;w++)f.classList.add(v[w].trim())}return g.selectedValue!==void 0&&r.value!==void 0&&g.selectedValue!==""&&g.selectedValue===r.value&&(r.selected=!0,n=r,t=f.index,f.classList.add("active")),f.appendChild(p),f});function i(){const r=g.$.menu.getElementsByClassName("active");r[0]&&r[0].classList.remove("active"),this.classList.add("active"),g._setActiveDescendant(this)}t===-1&&a.length>0&&(a[0].classList.add("active"),g._setActiveDescendant(a[0])),n&&(g.$.input.value=n.label,g.$.input.dataValue=n.value,g.setAttribute("data-value",g.$.input.dataValue)),g.$.menu.innerHTML="",a.length===0&&g.dropDownPlaceholder&&(g.$.menu.innerHTML='<div class="smart-flex smart-truncate smart-quiet" style="padding:10px; align-items: center;">'+g.dropDownPlaceholder+"</div>");for(let r=0;r<a.length;r++){const o=a[r];g.$.menu.appendChild(o),o.onmouseenter=i,o.onmouseleave=function(){this.classList.remove("active"),g._setActiveDescendant(null)},o.onclick=i}}ensureVisible(){const u=this,g=u.$.menu.querySelector(".active");g&&(g.offsetTop+g.offsetHeight>=u.$.scrollView.scrollTop+u.$.scrollView.offsetHeight&&(u.$.scrollView.scrollTop=g.offsetTop+g.offsetHeight),(g.offsetTop<=u.$.scrollView.scrollTop||g.offsetTop>=u.$.scrollView.scrollTop+u.$.scrollView.offsetHeight)&&(u.$.scrollView.scrollTop=g.offsetTop),[...u.$.menu.children].indexOf(g)===0?u.$.scrollView.scrollTop=0:[...u.$.menu.children].indexOf(g)===u.$.menu.children.length-1&&(u.$.scrollView.scrollTop=u.$.scrollView.scrollHeight))}_next(){const u=this,g=u.$.menu.querySelector(".active");if(!g){const t=u.$.menu.firstElementChild;return t.classList.add("active"),void u._setActiveDescendant(t)}g.classList.remove("active");let e=g.nextElementSibling;e||(e=u.$.menu.firstElementChild),e.classList.add("active"),u._setActiveDescendant(e),u.ensureVisible()}_prev(){const u=this,g=u.$.menu.querySelector(".active");if(!g){const t=u.$.menu.firstElementChild;return t.classList.add("active"),void u._setActiveDescendant(t)}g.classList.remove("active");let e=g.previousElementSibling;e||(e=u.$.menu.lastElementChild),e.classList.add("active"),u._setActiveDescendant(e),u.ensureVisible()}_move(u){const g=this;if(g.readonly&&!g.opened){if(u.key==="ArrowUp"){const e=g.getPrevItem();e&&g.selectItem(e.value),u.preventDefault()}if(u.key==="ArrowDown"){const e=g.getNextItem();e&&g.selectItem(e.value),u.preventDefault()}}if(g.opened){switch(u.keyCode){case 9:case 13:case 27:u.preventDefault();break;case 38:u.preventDefault(),g._prev();break;case 40:u.preventDefault(),g._next()}u.stopPropagation()}}_keyDownHandler(u){const g=this;if(g._suppressKeyPressRepeat=![40,38,9,13,27,16,17,18].includes(u.keyCode),g._oldValue=g.$.input.value,!(u.shiftKey||u.altKey||u.ctrlKey))return g.opened&&u.key==="Escape"?(g.close(),u.stopPropagation(),void u.preventDefault()):void g._move(u)}_keyPressHandler(u){this._suppressKeyPressRepeat||u.shiftKey||u.altKey||u.ctrlKey||this._move(u)}_keyUpHandler(u){const g=this;if(!(u.shiftKey||u.key==="F2"||u.key==="a"&&u.ctrlKey))switch(u.keyCode){case 40:case 38:case 16:case 17:case 18:u.keyCode===40&&u.altKey&&g.open(),u.keyCode===38&&u.altKey&&g.close();break;case 9:case 13:if(!g.opened)return;if(!g.readonly&&!g.$.menu.querySelector(".active")){const e=g.$.input.value;return g._performSelect(),g.value=g.$.input.value=e,u.stopPropagation(),void u.preventDefault()}g._performSelect(),u.stopPropagation(),u.preventDefault();break;case 27:if(!g.opened)return;g.close(),u.stopPropagation(),u.preventDefault();break;default:g._lookupTimer&&clearTimeout(g._lookupTimer),g._lookupTimer=setTimeout(()=>{if(g._lookup(u),!g.opened||u.ctrlKey||u.shiftKey||(u.stopPropagation(),u.preventDefault()),g.$.fireEvent("changing",{value:g.$.input.value,oldValue:g._oldValue}),g.dataSource&&g.dataSource.length&&typeof g.dataSource!="function")for(let e=0;e<g.dataSource.length;e++){const t=g.dataSource[e];if(typeof t=="string"){if(t===g.$.input.value){g.$.input.dataValue=g.$.input.value,g.setAttribute("data-value",g.$.input.dataValue);break}}else if(t.label!==void 0&&t.label===g.$.input.value){g.$.input.dataValue=t.value,g.setAttribute("data-value",t.value);break}}else g.$.input.dataValue=g.$.input.value,g.setAttribute("data-value",g.$.input.dataValue);g._updateTargetValue()},300)}}clearValue(){const u=this;u.$.input.value="",u.$.input.dataValue="",u.removeAttribute("data-value"),u.set("value",""),u.set("selectedIndex",-1),u.set("selectedValues",[u.$.input.dataValue]),u.set("selectedValue",u.$.input.dataValue)}propertyChangedHandler(u,g,e){super.propertyChangedHandler(u,g,e);const t=this;if(u==="innerHTML"&&(t._getDataSourceFromOption(),t._setSelection(!1)),u==="selectedValue"){let n=-1;if(t.dataSource&&Array.isArray(t.dataSource)&&t.dataSource.forEach((a,i)=>{typeof a=="string"?a===e&&(n=i):a&&a.value===e&&(n=i)}),n>=0){const a=t.context;t.context=t,t.selectedIndex=n,t.context=a}t._setSelection()}if(u==="selectedIndex"){let n=t.dataSource;if(t.selectedValue=null,n&&Array.isArray(n))for(let a=0;a<n.length;a++){let i=n[a];typeof i!="string"&&typeof i!="number"&&(i.selected=!1)}t._setSelection()}else if(u==="dataSource"){if(t.dataSource&&Array.isArray(t.dataSource)){let n=-1;if(t.dataSource.forEach((a,i)=>{a.selected&&(n=i)}),n>=0){const a=t.context;t.context=t,t.selectedIndex=n,t.context=a}}t._setSelection(!1)}else if(u==="dropDownClassList"){const n=t.$.scrollView;for(let a=0,i=g.length;a<i;a+=1)n.classList.remove(g[a]);for(let a=0,i=e.length;a<i;a+=1)n.classList.add(e[a])}else if(u==="dropDownHeight")t.dropDownHeight!=="auto"?t.$.scrollView.style.setProperty("--smart-input-drop-down-menu-height",t.dropDownHeight+"px"):t.$.scrollView.style.setProperty("--smart-input-drop-down-menu-height","auto");else if(u==="opened")t.opened=g,e?t.open():t.close();else if(u==="placeholder"){if(t.readonly){const n=t.getAttribute("aria-label");if(n&&n!==g)return;e?t.setAttribute("aria-label",e):t.removeAttribute("aria-label")}}else if(u==="selectedValues")if(e===null)t.$.input.value="",t.$.input.dataValue=e,t.setAttribute("data-value",e),t._refreshSelectedIndex();else{const n=e.join(","),a=t.value;if(t.$.input.dataValue=n,n&&n.indexOf(",")===-1){let i=-1,r=e[0];if(t.dataSource&&Array.isArray(t.dataSource)&&t.dataSource.forEach((o,d)=>{typeof o=="string"?o!==e&&o!==r||(i=d):o&&o.value===r&&(i=d)}),i>=0){const o=t.context;t.context=t,t.selectedIndex=i,t.context=o}}t._setSelection(),t.propertyChangedHandler("value",a,t.value)}else u==="value"?(t.displayMember!==t.valueMember&&typeof e!="string"?(t.set("value",e[t.displayMember]),t.$.input.dataValue=e[t.valueMember],t.setAttribute("data-value",t.$.input.dataValue)):(t.$.input.value=t.$.input.dataValue=e,t.setAttribute("data-value",e)),t._refreshSelectedIndex()):u==="readonly"?(t._setAriaRelations(),t._setInputPurpose()):u==="theme"||u==="rightToLeft"?t.$.scrollView[u]=e:u==="inputPurpose"?t._setInputPurpose():u==="inverted"?e?t.$.scrollView.setAttribute("inverted",""):t.$.scrollView.removeAttribute("inverted"):u!=="disabled"&&u!=="unfocusable"||t._setFocusable()}_updateTargetValue(){const u=this;if(u.dataset.target){const g=document.querySelector(u.dataset.target);if(g){const e=u.dataset.property,t=u.value;e&&g[e]!==void 0&&(g[e]=t)}}}detached(){super.detached(),this.close(),this.removeAttribute("focus")}_getDataSourceFromOption(){const u=this;if(u.innerHTML.indexOf("<option")>=0){u.$.optionsContainer.innerHTML=u.innerHTML.trim();const g=u.querySelectorAll("option");let e=[];for(let t=0;t<g.length;t++){const n=g[t],a=n.hasAttribute("selected")||n.hasAttribute("is-selected")&&n.getAttribute("is-selected")!=="false";let i=(""+n.textContent).trim();const r=(""+n.innerHTML).trim(),o=n.hasAttribute("value")?n.getAttribute("value"):i,d=n.hasAttribute("disabled"),f=n.hasAttribute("label")?n.getAttribute("label"):null;f&&(i=f),e.push({label:i,menuLabel:r,value:o,disabled:d,selected:a,className:n.className,dataset:n.dataset}),n.classList.add("smart-hidden")}u.dataSource=e}}render(){const u=this,g=u.dropDownClassList;if(u._getDataSourceFromOption(),u.selectedValues&&u.selectedValues.length){const a=u.selectedValues.join(",");u.value=a}u._createElement&&u._createElement();const e=u.$.scrollView;for(let a=0,i=g.length;a<i;a+=1)e.classList.add(g[a]);u.opened&&(u.opened=!1,u.open());const t=u.$.menu;t&&(t.setAttribute("role","presentation"),e.appendChild(t)),u.dropDownHeight!=="auto"?e.style.setProperty("--smart-input-drop-down-menu-height",u.dropDownHeight+"px"):e.style.setProperty("--smart-input-drop-down-menu-height","auto"),e.classList.add("smart-input-drop-down-menu");for(let a=0;a<u.classList.length;a++){const i=u.classList[a];i!=="smart-element"&&i!=="smart-input"&&e.classList.add(i+"-drop-down-menu")}e.id=u.id+"_"+u.tagName.toLowerCase()+"_menu_"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),e.ownerElement=u;let n=u.dataSource;if(typeof n=="string"&&(n=u.$.deserialize(n,"array")),n&&n.length&&Array.isArray(n)){let a=-1;if(n.forEach((i,r)=>{i.selected&&(a=r)}),a>=0){u.selectedIndex=a;const i=n[a];u.selectedValue=typeof i=="string"?n[a]:n[a].value}}u._setAriaRelations(),u._setInputPurpose(),u._setSelection(),u.isInitialized=!0,u.hasAttribute("tabindex")&&(u.readonly||(u.$.input.setAttribute("tabindex",u.getAttribute("tabindex")),u.removeAttribute("tabindex"))),super.render()}_setSelection(u){const g=this;let e=g.dataSource;if(typeof e=="string"&&(e=g.$.deserialize(e,"array")),g.selectedIndex>=0&&e&&e.length>0){let t=e[g.selectedIndex];if(typeof t!="number"&&typeof t!="boolean"||(t=""+t),typeof t=="string"){let n=g.$.input.dataValue,a=g.value;g.set("value",t),g.$.input.dataValue=t,g.$.input.setAttribute("data-value",t),g.selectedValues=[g.$.input.dataValue],g.isInitialized&&u!==!1&&(g.$.fireEvent("change",{value:g.value,label:g.label,oldValue:n,oldLabel:a}),g._updateTargetValue())}else{let n=g.$.input.dataValue,a=g.value;t&&(t.value!==void 0?(g.set("value",t.value!==void 0?t.value+"":""),g.$.input.dataValue=t.value,g.$.input.setAttribute("data-value",t.value),g.selectedValues=[g.$.input.dataValue]):t.label&&(g.selectedValues=[t.value]),t.label&&g.set("value",t.label)),g.isInitialized&&u!==!1&&(g.$.fireEvent("change",{value:g.$.input.dataValue,label:t.value,oldValue:n,oldLabel:a}),g._updateTargetValue())}}}_createElement(){const u=this,g=document.createElement("ul"),e=document.createElement("smart-scroll-viewer");e.rightToLeft=u.rightToLeft,e.theme=u.theme,e.horizontalScrollBarVisibility="hidden",u.inverted?e.setAttribute("inverted",""):e.removeAttribute("inverted"),u.$.scrollView=e,u.$.menu=g,u._setFocusable();const t=u.$.input;u.$.menu.onpointerdown=function(n){const a=n.target.closest("li"),i=u.$.menu.querySelector(".active");i&&a&&(i.classList.remove("active"),a.classList.add("active")),n.stopPropagation(),n.preventDefault(),setTimeout(()=>{u._performSelect(),a&&a.parentNode&&u.$.fireEvent("itemClick",{index:[...a.parentNode.children].indexOf(a),item:a,label:a.getAttribute("aria-label"),value:a.dataValue}),t.focus()},50)},u.$.menu.onpointerup=function(n){n.stopPropagation(),n.preventDefault(),u.$.scrollView.$.verticalScrollBar.thumbCapture&&(u.$.scrollView.$.verticalScrollBar.thumbCapture=!1)}}_setAriaRelations(){const u=this,g=u.getAttribute("aria-label");u.readonly?(u.setAttribute("role","button"),!g&&u.placeholder&&u.setAttribute("aria-label",u.placeholder),u.removeAttribute("aria-readonly"),u.$.input.removeAttribute("aria-activedescendant"),u.$.input.removeAttribute("aria-controls"),u.$.dropDownButton.setAttribute("aria-hidden",!0)):(u.setAttribute("role","combobox"),g&&g===u.placeholder&&u.removeAttribute("aria-label"),u.$.input.setAttribute("role","searchbox"),u.$.input.removeAttribute("aria-hidden",!0),u.$.dropDownButton.removeAttribute("aria-hidden")),u.setAttribute("aria-expanded",u.opened),u.setAttribute("aria-haspopup","listbox"),u.setAttribute("aria-owns",u.$.scrollView.id),u.$.scrollView.setAttribute("role","listbox")}_setActiveDescendant(u){const g=this;g.readonly||(u?g.setAttribute("aria-activedescendant",u.id):g.removeAttribute("aria-activedescendant"))}_setInputPurpose(){const u=this;u.readonly?u.$.input.removeAttribute("autocomplete"):u.$.input.setAttribute("autocomplete",u.inputPurpose)}_setFocusable(){const u=this;u.disabled||u.unfocusable?u.$.input.setAttribute("tabindex",-1):u.$.input.removeAttribute("tabindex")}})},9135:()=>{Smart("smart-scroll-bar",class extends Smart.BaseElement{static get properties(){return{clickRepeatDelay:{type:"integer",value:50},largeStep:{type:"integer",value:100},min:{type:"integer",value:0},max:{type:"integer",value:1e3},mechanicalAction:{value:"switchWhileDragging",allowedValues:["switchUntilReleased","switchWhenReleased","switchWhileDragging"],type:"string"},orientation:{type:"string",value:"horizontal",allowedValues:["horizontal","vertical"]},step:{type:"integer",value:10},showButtons:{type:"boolean",value:!0,defaultReflectToAttribute:!0},value:{type:"integer",value:0}}}static get styleUrls(){return["smart.scrollbar.css"]}template(){return`<div id="container" class="smart-container" role="presentation">
                    <div id="nearButton" class="smart-scroll-button smart-arrow-left" role="presentation" aria-hidden="true"></div>
                    <div  id="track" class="smart-track" role="presentation">
                        <div id="thumb" class="smart-thumb" role="presentation"></div>
                    </div>
                    <div id="farButton" class="smart-scroll-button smart-arrow-right" role="presentation" aria-hidden="true"></div>
            </div>`}static get listeners(){return{"nearButton.click":"_nearButtonClickHandler","nearButton.down":"_startRepeat","nearButton.up":"_stopRepeat","nearButton.pointerenter":"_updateInBoundsFlag","nearButton.pointerleave":"_updateInBoundsFlag","farButton.click":"_farButtonClickHandler","farButton.down":"_startRepeat","farButton.up":"_stopRepeat","farButton.pointerenter":"_updateInBoundsFlag","farButton.pointerleave":"_updateInBoundsFlag","track.down":"_trackDownHandler","track.click":"_trackClickHandler","track.move":"_trackMoveHandler","thumb.down":"_dragStartHandler","document.move":"_dragHandler","document.up":"_dragEndHandler",up:"_dragEndHandler","document.selectstart":"_selectStartHandler",resize:"_resizeHandler"}}_updateInBoundsFlag(u){const g=this,e=u.target;e._isPointerInBounds=!0,u.type.indexOf("leave")!==-1&&(e._isPointerInBounds=!1),("buttons"in u?u.buttons:u.which)!==1&&g._stopRepeat(u)}_startRepeat(u){const g=this;if(g.disabled)return;const e=u.target;e._initialTimer||(e._initialTimer=setTimeout(function(){e._repeatTimer=setInterval(()=>{if(e._isPointerInBounds){const t="buttons"in u?u.buttons:u.which;e.$.fireEvent("click",{buttons:t,clientX:u.clientX,clientY:u.clientY,pageX:u.pageX,pageY:u.pageY,screenX:u.screenX,screenY:u.screenY})}},g.clickRepeatDelay)},3*g.clickRepeatDelay))}_stopRepeat(u){if(this.disabled)return;const g=u.target;g._repeatTimer&&(clearInterval(g._repeatTimer),g._repeatTimer=null),g._initialTimer&&(clearTimeout(g._initialTimer),g._initialTimer=null)}_calculateThumbSize(u){const g=this,e=g.max-g.min,t=g.orientation==="horizontal"?g.$.track.offsetWidth>10:g.$.track.offsetHeight>10;let n=0;return e>=1&&t?(n=u/(e+u)*u,g.$.thumb.className.indexOf("smart-hidden")>=0&&g.$thumb.removeClass("smart-hidden")):g.$thumb.addClass("smart-hidden"),Math.max(10,Math.min(n,u))}_dragStartHandler(u){const g=this;g.disabled||(g.thumbCapture=!0,g.dragStartX=u.clientX,g.dragStartY=u.clientY,g.dragStartValue=g.value,u.stopPropagation(),u.preventDefault())}_dragHandler(u){const g=this;if(g.thumbCapture!==!0)return;g._isThumbDragged=!0;const e=(g.max-g.min)/(g.scrollBarSize-g.thumbSize),t=g.orientation==="horizontal"?(u.clientX-g.dragStartX)*e:(u.clientY-g.dragStartY)*e;let n=t;g.rightToLeft&&g.orientation==="horizontal"&&(n=-t),g._updateValue(g.dragStartValue+n),u.stopPropagation(),u.preventDefault(),u.originalEvent&&(u.originalEvent.stopPropagation(),u.originalEvent.preventDefault())}_dragEndHandler(u){const g=this;g._trackDownTimer&&(clearInterval(g._trackDownTimer),g._trackDownTimer=null),g.thumbCapture&&(g.thumbCapture=!1,g._isThumbDragged=!1,g.mechanicalAction==="switchWhenReleased"?g._updateValue(g.dragStartValue,g.value):this.mechanicalAction==="switchUntilReleased"&&g._updateValue(g.dragStartValue),u.preventDefault(),u.stopPropagation(),u.originalEvent.preventDefault(),u.originalEvent.stopPropagation())}_farButtonClickHandler(){const u=this;if(u.disabled)return;const g=u.value;u._updateValue(u.value+(u.orientation==="horizontal"&&u.rightToLeft?-1:1)*u.step),u.mechanicalAction==="switchUntilReleased"&&u._updateValue(g)}_nearButtonClickHandler(){const u=this;if(u.disabled)return;const g=u.value;u._updateValue(u.value-(u.orientation==="horizontal"&&u.rightToLeft?-1:1)*u.step),u.mechanicalAction==="switchUntilReleased"&&u._updateValue(g)}propertyChangedHandler(u,g,e){super.propertyChangedHandler(u,g,e);const t=this;switch(u){case"min":case"max":case"orientation":case"showButtons":t._layout(),u==="min"?t.setAttribute("aria-valuemin",e):u==="max"?t.setAttribute("aria-valuemax",e):u==="orientation"&&t.setAttribute("aria-orientation",e);break;case"value":t._updateValue(g,e);break;default:t._layout()}}render(){const u=this;u.setAttribute("role","scrollbar"),u.setAttribute("aria-orientation",u.orientation),u.setAttribute("aria-valuemin",u.min),u.setAttribute("aria-valuemax",u.max),u.setAttribute("aria-valuenow",u.value),u._layout(),super.render()}_resizeHandler(){this._layout()}refresh(){this._layout()}beginUpdate(){this._isUpdating=!0}endUpdate(){this._isUpdating=!1,this.refreshValue()}refreshValue(){const u=this;u._layout(),u._updateValue(u.value)}_layout(){const u=this;u._isUpdating||(u.scrollBarSize=u.orientation==="horizontal"?u.$.track.offsetWidth:u.$.track.offsetHeight,u.thumbSize=u._calculateThumbSize(u.scrollBarSize),u.orientation==="horizontal"&&u.$.thumb.style.width!==u.thumbSize+"px"?u.$.thumb.style.width=u.thumbSize+"px":u.orientation==="vertical"&&u.$.thumb.style.height!==u.thumbSize+"px"&&(u.$.thumb.style.height=u.thumbSize+"px"),u.orientation==="horizontal"?(u.$.nearButton.classList.contains("smart-arrow-up")&&u.$.nearButton.classList.remove("smart-arrow-up"),u.$.farButton.classList.contains("smart-arrow-down")&&u.$.farButton.classList.remove("smart-arrow-down"),u.$.nearButton.classList.contains("smart-arrow-left")||u.$.nearButton.classList.add("smart-arrow-left"),u.$.farButton.classList.contains("smart-arrow-right")||u.$.farButton.classList.add("smart-arrow-right")):(u.$.nearButton.classList.contains("smart-arrow-left")&&u.$.nearButton.classList.remove("smart-arrow-left"),u.$.farButton.classList.contains("smart-arrow-right")&&u.$.farButton.classList.remove("smart-arrow-right"),u.$.nearButton.classList.contains("smart-arrow-up")||u.$.nearButton.classList.add("smart-arrow-up"),u.$.farButton.classList.contains("smart-arrow-down")||u.$.farButton.classList.add("smart-arrow-down")),u._updateThumbPosition(),(u.value>u.max||u.value<u.min)&&u._updateValue(u.value,u.value>u.max?u.max:u.min))}_selectStartHandler(u){this.thumbCapture&&u.preventDefault()}_trackDownHandler(u){const g=this;u.target===g.$.track&&(g._trackDownTimer&&clearInterval(g._trackDownTimer),g.thumbCapture||(g._trackDownTimer=setInterval(function(){g._trackClickHandler(u)},g.clickRepeatDelay),u.stopPropagation(),u.preventDefault()))}_trackClickHandler(u){const g=this;if(g.disabled)return;if(g._isThumbDragged)return clearInterval(g._trackDownTimer),void(g._trackDownTimer=null);const e=g.$.thumb.getBoundingClientRect(),t=u.pageX-window.pageXOffset,n=u.pageY-window.pageYOffset,a=(g.rightToLeft?-1:1)*g.value;g.orientation==="horizontal"?t>(g._isThumbDragged?g.dragStartX:e.right)?g._updateValue(g.value+(g.rightToLeft?-1:1)*g.largeStep):t<(g._isThumbDragged?g.dragStartX:e.left)&&g._updateValue(g.value-(g.rightToLeft?-1:1)*g.largeStep):n>(g._isThumbDragged?g.dragStartY:e.bottom)?g._updateValue(g.value+g.largeStep):n<(g._isThumbDragged?g.dragStartY:e.top)&&g._updateValue(g.value-g.largeStep),g.mechanicalAction==="switchUntilReleased"&&g._updateValue(a)}_trackMoveHandler(u){u.originalEvent.type==="touchmove"&&u.originalEvent.preventDefault()}_updateValue(u,g){const e=this;if(!e._isUpdating&&(arguments.length===1&&(g=u,u=e.value),(g===void 0||isNaN(g))&&(g=e.min),g>e.max&&(g=e.max),g<e.min&&(g=e.min),e.value=g,u!==g)){if(e.setAttribute("aria-valuenow",g),e._updateThumbPosition(),e.thumbCapture&&e.mechanicalAction==="switchWhenReleased")return;if(e.onChange)return void e.onChange({value:e.value,oldValue:u,min:e.min,max:e.max,context:e});e.$.fireEvent("change",{value:e.value,oldValue:u,min:e.min,max:e.max})}}_updateThumbPosition(){const u=this,g=u.orientation==="horizontal"?u.$.track.offsetWidth:u.$.track.offsetHeight,e=u._calculateThumbSize(g),t=g-e;let n=(g-e)/(u.max-u.min)*(u.value-u.min);u.rightToLeft&&u.orientation==="horizontal"&&(n=(g-e)/(u.max-u.min)*(u.max-u.value-u.min)),n=Math.min(t,Math.max(0,n)),u.orientation==="vertical"&&u.$.thumb.style.top!==n+"px"?u.$.thumb.style.top=n+"px":u.orientation==="horizontal"&&u.$.thumb.style.left!==n+"px"&&(u.$.thumb.style.left=n+"px")}})},6693:()=>{Smart("smart-tooltip",class extends Smart.ContentElement{static get properties(){return{arrow:{value:!1,type:"boolean"},arrowDirection:{allowedValues:["bottom","top","left","right"],value:"bottom",type:"string"},align:{allowedValues:["left","center","right"],value:"center",type:"string"},delay:{value:0,type:"number"},messages:{extend:!0,value:{en:{invalidSelector:'{{elementType}}: "{{property}}" must be a String, an HTMLElement or null.',htmlTemplateNotSuported:"{{elementType}}: Browser doesn't support HTMLTemplate elements.",invalidTemplate:'{{elementType}}: "{{property}}" property accepts a string that must match the id of an HTMLTemplate element from the DOM.',invalidNode:'{{elementType}}: Invalid parameter "{{node}}" when calling {{method}}.'}},type:"object"},iframeRect:{value:null,type:"object?"},offset:{value:[],type:"array"},openMode:{allowedValues:["click","focus","hover","manual"],value:"hover",type:"string"},position:{allowedValues:["bottom","top","left","right","absolute","auto"],value:"top",type:"string"},selector:{value:null,type:"any?"},tooltipTemplate:{value:null,type:"any"},value:{value:"",type:"string",reflectToAttribute:!1},visible:{value:!1,type:"boolean"}}}static get styleUrls(){return["smart.tooltip.css"]}template(){return`<div id="container" role="presentation">
                    <div id="content" class="smart-tooltip-content" inner-h-t-m-l="[[innerHTML]]" role="presentation">
                        <content></content>
                    </div>
                </div>`}propertyChangedHandler(u,g,e){super.propertyChangedHandler(u,g,e);const t=this;let n;switch(u){case"align":t._applyPosition(e);break;case"openMode":t.close(),t._handleEventListeners(g),t._handleResize();break;case"selector":t._oldOwnerElement=t._ownerElement,t._handleSelector(e,g),t._handleEventListeners();break;case"tooltipTemplate":t._handleTemplate(g);break;case"value":t.tooltipTemplate?t._handleTemplate():t.$.content.innerHTML=t.value;break;case"visible":n=e?"open":"close",t.$.fireEvent(n,{owner:t._ownerElement},t.isInShadowDOM?{composed:!0,bubbles:!0,cancelable:!0}:void 0);break;case"position":return void t._applyPosition(g)}t._applyPosition()}ready(){super.ready()}render(){const u=this;super.render(),u.getAttribute("role")||u.setAttribute("role","tooltip"),u._isParentPositionStatic=window.getComputedStyle(u.parentElement||document.querySelector("body")).position==="static",u._handleSelector(u.selector),u.visible&&u._applyPosition(),u._handleEventListeners(),u._handleResize(),u.value=u.$.content.innerHTML=u.value?u.value:u.innerHTML,u._handleTemplate()}appendChild(u){const g=this;if(!g.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(g,e.concat(Array.prototype.slice.call(arguments)))}u?(g.$.content.appendChild(u),g._applyPosition()):g.error(g.localize("invalidNode",{elementType:g.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}close(){const u=this;if(u._isOpening&&clearTimeout(u._isOpening),!u.visible)return;const g=u.isInShadowDOM?{composed:!0,bubbles:!0,cancelable:!0}:void 0;u.$.fireEvent("closing",{owner:u._ownerElement},g).defaultPrevented||(u.$.fireEvent("close",{owner:u._ownerElement},g),u.visible=!1)}clear(){const u=this.$.content;if(u)for(;u.childNodes.length;)u.removeChild(u.firstChild)}insertBefore(u,g){const e=this;if(!e.isCompleted){const t=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(e,t.concat(Array.prototype.slice.call(arguments)))}u&&g?(e.$.content.insertBefore(u,g),e._applyPosition()):e.error(e.localize("invalidNode",{elementType:e.nodeName.toLowerCase(),method:"insertBefore",node:"newNode/referenceNode"}))}open(){const u=this;u.disabled||u.readonly||u.visible||(clearTimeout(u._isOpening),u._isOpening=setTimeout(function(){const g=u.isInShadowDOM?{composed:!0,bubbles:!0,cancelable:!0}:void 0;if(u.$.fireEvent("opening",{owner:u._ownerElement},g).defaultPrevented)return void clearTimeout(u._isOpening);u._applyPosition(),u.$.fireEvent("open",{owner:u._ownerElement},g);const e=u.context;u.context=u,u.visible=!0,u.context=e},u.delay))}removeChild(u){const g=this;if(!g.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(g,e.concat(Array.prototype.slice.call(arguments)))}u?(g.$.content.removeChild(u),g._applyPosition()):g.error(g.localize("invalidNode",{elementType:g.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}reposition(){const u=this;u.isRendered&&u._applyPosition()}toggle(){const u=this;u.visible?u.close():u.open()}_getDomElementPosition(u){let g=[],e=u.parentElement;for(;e&&e.nodeName!=="BODY";)g.push(e),e=!this.enableShadowDOM||e.parentElement?e.parentElement:e.getRootNode().host;return g}_getElementAndOwnerRelation(u){const g=this._getDomElementPosition(u||this),e=g.length;let t=null;for(let n=0;n<e;n++)if(window.getComputedStyle(g[n]).getPropertyValue("position")!=="static"){t=g[n];break}return t}_applyPosition(u){const g=this;if(!g._ownerElement||!g.parentElement)return;g._isParentPositionStatic=window.getComputedStyle(g.parentElement).position==="static";const e=g._ownerElement.getBoundingClientRect(),t=g.parentElement?g.parentElement.getBoundingClientRect():{top:0,left:0};let n,a;g.parentElement&&g.parentElement.nodeName.toUpperCase()==="BODY"?(n=e.top+window.scrollY,a=e.left+window.scrollX):(n=e.top-t.top,a=e.left-t.left);const i=g.position,r=g.iframeRect;let o,d={top:e.top,left:e.left,right:e.right,width:e.width,height:e.height,nonStaticParent:g._getElementAndOwnerRelation()};switch(r&&(d.top+=r.top,d.left+=r.left,d.right+=r.right),i){case"auto":case"bottom":case"top":case"left":case"right":{g.style.left="";const p=g["_position"+i.charAt(0).toUpperCase()+i.slice(1)](a,n,d);n=p.top,a=p.left,o=p.translate;break}case"absolute":u?(g.style.top=g.style.left="",n=a=0):(n=parseFloat(g.style.top),a=parseFloat(g.style.left))}const f=g.getAttribute("arrow-direction");o?g.$.container.style.setProperty("--smart-tooltip-arrow-translate",o+"px"):g.$.container.style.removeProperty("--smart-tooltip-arrow-translate"),n===void 0||isNaN(n)||(n+=(i==="auto"&&f==="top"?-1:1)*parseInt(g.offset[1])||0,g.style.top=n+"px"),a===void 0||isNaN(a)||(a+=(i==="auto"&&f==="left"?-1:1)*parseInt(g.offset[0])||0,g.style.left=a+"px")}_positionAuto(u,g,e){const t=this;let n,a,i=t.parentElement;for(;i;){if(getComputedStyle(i).getPropertyValue("overflow")==="hidden"){n=i;break}i=i.parentElement}if(n)a=n.getBoundingClientRect();else{const L=document.scrollingElement;let A,k;document.scrollingElement?(A=L.offsetWidth,k=L.offsetHeight):(A=window.innerWidth,k=window.innerHeight),n=document.body,a={width:A,height:k,left:0,top:0,right:A,bottom:k}}const r=parseFloat(window.getComputedStyle(t).getPropertyValue("--smart-tooltip-arrow-width"))||0;let o=t._positionTop(u,g,e),d=e.nonStaticParent,f=t.offsetWidth/2-r,p=0,v=0,w=o.left,C=a.right-(w+v+t.offsetWidth),x=Math.min(0,C);if(w<=0&&C>0&&(w=Math.min(u,w+C)),x<=0&&(x=Math.sign(x)*(Math.abs(x)+a.right-(u+e.width))),d){const L=d.getBoundingClientRect();p=L.top,v=L.left}return o.top+p>=a.top?(w<=0&&(w=u),g=o.top,{left:u=Math.max(a.left-v,w+x),top:g,translate:Math.max(-f,Math.min(f,o.left-u))}):(o=t._positionBottom(u,g,e),o.top+t.offsetHeight+p<=a.bottom?(w=o.left,w<=0&&(w=u),g=o.top,{left:u=Math.max(a.left-v,w+x),top:g,translate:Math.max(-f,Math.min(f,o.left-u))}):(o=t._positionLeft(u,g,e),g=o.top,f=t.offsetHeight/2-r,g=Math.max(a.top-p,o.top+Math.min(0,a.bottom-(o.top+p+t.offsetHeight))),o.left+v>=a.left?u=o.left:(o=t._positionRight(u,g,e),u=o.left+t.offsetWidth+v<=a.right?o.left:a.right-t.offsetWidth),{left:u,top:g,translate:Math.max(-f,Math.min(f,o.top-g))}))}_getRelativeParentOffset(u){const g=this,e=g._ownerElement;let t=g._getElementAndOwnerRelation(e),n=0,a=0;if(!u)return{left:a,top:n};for(;u&&t&&u!==t;)n+=t.offsetTop,a+=t.offsetLeft,t=g._getElementAndOwnerRelation(t);return{left:a,top:n}}_positionTop(u,g,e){const t=this,n=t._getRelativeParentOffset(e.nonStaticParent);if(t.set("arrowDirection","bottom"),e.nonStaticParent===null)return g=e.top+window.scrollY-t.offsetHeight,{left:(u=t._getAlignmentOffset(e.left,t.offsetWidth,e.width)+window.scrollX)+n.left,top:g+n.top};if(t._isParentPositionStatic){if(g=t._ownerElement.offsetTop-t.offsetHeight,u=t._getAlignmentOffset(t._ownerElement.offsetLeft,t.offsetWidth,e.width),t._ownerElement instanceof SVGElement){const a=t._ownerElement.getBoundingClientRect(),i=t._ownerElement.parentNode.getBoundingClientRect();g=a.top-i.top-t.offsetHeight/2,u=t._getAlignmentOffset(a.left,t.offsetWidth,i.left)}return{left:u+n.left,top:g+n.top}}if(t._ownerElement instanceof SVGElement&&t._ownerElement.parentElement){const a=t._ownerElement.getBoundingClientRect(),i=t._ownerElement.parentNode.getBoundingClientRect();return g=a.top-i.top-t.offsetHeight,{left:(u=t._getAlignmentOffset(a.left-i.left,t.offsetWidth,a.width))+n.left,top:g+n.top}}return g-=t.offsetHeight,{left:(u=t._getAlignmentOffset(u,t.offsetWidth,e.width))+n.left,top:g+n.top}}_positionBottom(u,g,e){const t=this,n=t._getRelativeParentOffset(e.nonStaticParent);return t.set("arrowDirection","top"),e.nonStaticParent===null?(g=e.top+window.scrollY+e.height,{left:(u=t._getAlignmentOffset(e.left,t.offsetWidth,e.width)+window.scrollX)+n.left,top:g+n.top}):t._isParentPositionStatic?(g=t._ownerElement.offsetTop+e.height,{left:(u=t._getAlignmentOffset(t._ownerElement.offsetLeft,t.offsetWidth,e.width))+n.left,top:g+n.top}):(g+=e.height,{left:(u=t._getAlignmentOffset(u,t.offsetWidth,e.width))+n.left,top:g+n.top})}_getAlignmentOffset(u,g,e){switch(this.align){case"left":return u;case"right":return u-g+e;default:return u-g/2+e/2}}_positionLeft(u,g,e){const t=this,n=t._getRelativeParentOffset(e.nonStaticParent);return t.set("arrowDirection","right"),e.nonStaticParent===null?(g=e.top+window.scrollY+e.height/2-t.$.content.offsetHeight/2,{left:(u=e.left+window.scrollX-t.offsetWidth)+n.left,top:g+n.top}):t._isParentPositionStatic?(g=t._ownerElement.offsetTop+e.height/2-t.$.content.offsetHeight/2,{left:(u=t._ownerElement.offsetLeft-t.offsetWidth)+n.left,top:g+n.top}):(g=g+e.height/2-t.$.content.offsetHeight/2,{left:(u-=t.offsetWidth)+n.left,top:g+n.top})}_positionRight(u,g,e){const t=this,n=t._getRelativeParentOffset(e.nonStaticParent);return t.set("arrowDirection","left"),e.nonStaticParent===null?(g=e.top+window.scrollY+e.height/2-t.$.content.offsetHeight/2,{left:(u=e.left+window.scrollX+e.width)+n.left,top:g+n.top}):t._isParentPositionStatic?(g=t._ownerElement.offsetTop+e.height/2-t.$.content.offsetHeight/2,{left:(u=t._ownerElement.offsetLeft+e.width)+n.left,top:g+n.top}):(g=g+e.height/2-t.$.content.offsetHeight/2,{left:(u+=e.width)+n.left,top:g+n.top})}_eventsHandler(u){const g=this;g.disabled||g.readonly||(u.type!=="click"?u.type==="mouseenter"||u.type==="focus"?this.open():this.close():g.visible?this.close():this.open())}_handleEventListeners(u){const g=this;if(g._oldOwnerElement&&g.openMode!=="manual"){let e=g._oldOwnerElement.getAttribute("aria-describedby");e&&g.getAttribute("role")==="tooltip"&&(e===g.id?g._oldOwnerElement.removeAttribute("aria-describedby"):(e=e.replace(" "+g.id,""),e=e.replace(g.id+" ",""),g._oldOwnerElement.setAttribute("aria-describedby",e))),g._oldOwnerElement.$.unlisten("mouseenter.tooltip"),g._oldOwnerElement.$.unlisten("mouseleave.tooltip"),g._oldOwnerElement.$.unlisten("focus.tooltip"),g._oldOwnerElement.$.unlisten("blur.tooltip"),g._oldOwnerElement.$.unlisten("click.tooltip"),g._oldOwnerElement=null}if(g._ownerElement){if(u)switch(u){case"hover":g._ownerElement.$.unlisten("mouseenter.tooltip"),g._ownerElement.$.unlisten("mouseleave.tooltip");break;case"focus":g._ownerElement.$.unlisten("focus.tooltip"),g._ownerElement.$.unlisten("blur.tooltip");break;case"click":g._ownerElement.$.unlisten("click.tooltip")}if(g.openMode!=="manual")switch(g._ownerElement instanceof Smart.BaseElement||(g._ownerElement.$=Smart.Utilities.Extend(g._ownerElement)),g.openMode){case"hover":g._ownerElement.$.listen("mouseenter.tooltip",g._eventsHandler.bind(g)),g._ownerElement.$.listen("mouseleave.tooltip",g._eventsHandler.bind(g));break;case"focus":g._ownerElement.$.listen("focus.tooltip",g._eventsHandler.bind(g)),g._ownerElement.$.listen("blur.tooltip",g._eventsHandler.bind(g));break;case"click":g._ownerElement.$.listen("click.tooltip",g._eventsHandler.bind(g))}}}_handleResize(){const u=this;function g(){u._applyPosition()}u.openMode==="click"?window.addEventListener("resize",g):window.removeEventListener("resize",g)}_handleSelector(u,g){const e=this;if(g&&g.removeAttribute&&g.removeAttribute("aria-describedby"),typeof u=="string")e._ownerElement=u.length>0?document.getElementById(u):void 0;else if(u&&u.nodeType===Node.ELEMENT_NODE)e._ownerElement=u;else{if(u===null)return void(e._ownerElement=void 0);e.error(e.localize("invalidSelector",{elementType:e.nodeName.toLowerCase(),property:"selector"}))}if(!e._ownerElement||e.getAttribute("role")!=="tooltip"||!e.value)return;const t=e._ownerElement?e._ownerElement.getAttribute("aria-describedby"):null;t?t.indexOf(e.id)<0&&e._ownerElement.setAttribute("aria-describedby",t+" "+e.id):e._ownerElement.setAttribute("aria-describedby",e.id)}_handleTemplate(u){const g=this;let e=g.tooltipTemplate;if(u&&(g.$.content.innerHTML=g.value?g.value:""),e===null||!e)return;if(typeof g.tooltipTemplate=="function")return void g.tooltipTemplate(g.$.content,{value:g.value});if(!("content"in document.createElement("template")))return void g.error(g.localize("htmlTemplateNotSuported",{elementType:g.nodeName.toLowerCase()}));if(e=document.getElementById(e),e===null||!("content"in e))return void g.error(g.localize("invalidTemplate",{elementType:g.nodeName.toLowerCase(),property:"template"}));const t=e.content,n=t.childNodes.length,a=/{{\w+}}/g;let i,r=[];for(let v=0;v<n;v++)for(i=a.exec(t.childNodes[v].innerHTML);i;)r.push({childNodeIndex:v,bindingString:i[0]}),i=a.exec(t.childNodes[v].innerHTML);const o=r.length;let d,f,p=document.importNode(e.content,!0);for(let v=0;v<o;v++){d=p.childNodes[r[v].childNodeIndex],f=r.length;for(let w=0;w<f;w++)d.innerHTML=d.innerHTML.replace(r[v].bindingString,g.value)}g.$.content.innerHTML="";for(let v=0;v<p.childNodes.length;v++)p.childNodes[v].outerHTML&&(g.$.content.innerHTML+=p.childNodes[v].outerHTML)}}),function(){const u=()=>{const g=document.querySelectorAll('[data-toggle="tooltip"');if(g.length>0)for(let e=0;e<g.length;e++){if(!g[e].hasAttribute("data-title"))continue;const t=document.createElement("smart-tooltip");t.selector=g[e],t.innerHTML=g[e].getAttribute("data-title"),document.body.appendChild(t),g[e].hasAttribute("data-placement")&&(t.position=g[e].getAttribute("data-placement"))}};document.readyState==="complete"?u():(window.removeEventListener("load",u),window.addEventListener("load",u))}()}},j={};function ne(u){var g=j[u];if(g!==void 0)return g.exports;var e=j[u]={exports:{}};return We[u](e,e.exports,ne),e.exports}ne.n=u=>{var g=u&&u.__esModule?()=>u.default:()=>u;return ne.d(g,{a:g}),g},ne.d=(u,g)=>{for(var e in g)ne.o(g,e)&&!ne.o(u,e)&&Object.defineProperty(u,e,{enumerable:!0,get:g[e]})},ne.o=(u,g)=>Object.prototype.hasOwnProperty.call(u,g),(()=>{ne(6321),ne(9135),ne(2612),ne(8588),ne(2052),ne(6693),ne(5810);class u extends Smart.Component{get name(){return"smartCalendar"}}})()})()}()),bm}Wp();typeof window<"u"&&(window.Smart?window.Smart.RenderMode="manual":window.Smart={RenderMode:"manual"});let Am;typeof window<"u"&&(Am=window.Smart);class qp extends Jt.Component{constructor(j){super(j),this.componentRef=Jt.createRef()}get id(){return this._id||(this._id="Calendar"+Math.floor((1+Math.random())*65536).toString(16).substring(1)),this._id}get animation(){return this.nativeElement?this.nativeElement.animation:void 0}set animation(j){this.nativeElement&&(this.nativeElement.animation=j)}get animationSettings(){return this.nativeElement?this.nativeElement.animationSettings:void 0}set animationSettings(j){this.nativeElement&&(this.nativeElement.animationSettings=j)}get calendarMode(){return this.nativeElement?this.nativeElement.calendarMode:void 0}set calendarMode(j){this.nativeElement&&(this.nativeElement.calendarMode=j)}get dayNameFormat(){return this.nativeElement?this.nativeElement.dayNameFormat:void 0}set dayNameFormat(j){this.nativeElement&&(this.nativeElement.dayNameFormat=j)}get dateFormatFunction(){return this.nativeElement?this.nativeElement.dateFormatFunction:void 0}set dateFormatFunction(j){this.nativeElement&&(this.nativeElement.dateFormatFunction=j)}get disabled(){return this.nativeElement?this.nativeElement.disabled:void 0}set disabled(j){this.nativeElement&&(this.nativeElement.disabled=j)}get disableAutoNavigation(){return this.nativeElement?this.nativeElement.disableAutoNavigation:void 0}set disableAutoNavigation(j){this.nativeElement&&(this.nativeElement.disableAutoNavigation=j)}get disableMouseWheel(){return this.nativeElement?this.nativeElement.disableMouseWheel:void 0}set disableMouseWheel(j){this.nativeElement&&(this.nativeElement.disableMouseWheel=j)}get displayMode(){return this.nativeElement?this.nativeElement.displayMode:void 0}set displayMode(j){this.nativeElement&&(this.nativeElement.displayMode=j)}get displayModeView(){return this.nativeElement?this.nativeElement.displayModeView:void 0}set displayModeView(j){this.nativeElement&&(this.nativeElement.displayModeView=j)}get dropDownHeight(){return this.nativeElement?this.nativeElement.dropDownHeight:void 0}set dropDownHeight(j){this.nativeElement&&(this.nativeElement.dropDownHeight=j)}get dropDownWidth(){return this.nativeElement?this.nativeElement.dropDownWidth:void 0}set dropDownWidth(j){this.nativeElement&&(this.nativeElement.dropDownWidth=j)}get firstDayOfWeek(){return this.nativeElement?this.nativeElement.firstDayOfWeek:void 0}set firstDayOfWeek(j){this.nativeElement&&(this.nativeElement.firstDayOfWeek=j)}get footerTemplate(){return this.nativeElement?this.nativeElement.footerTemplate:void 0}set footerTemplate(j){this.nativeElement&&(this.nativeElement.footerTemplate=j)}get headerTemplate(){return this.nativeElement?this.nativeElement.headerTemplate:void 0}set headerTemplate(j){this.nativeElement&&(this.nativeElement.headerTemplate=j)}get hideDayNames(){return this.nativeElement?this.nativeElement.hideDayNames:void 0}set hideDayNames(j){this.nativeElement&&(this.nativeElement.hideDayNames=j)}get hideOtherMonthDays(){return this.nativeElement?this.nativeElement.hideOtherMonthDays:void 0}set hideOtherMonthDays(j){this.nativeElement&&(this.nativeElement.hideOtherMonthDays=j)}get hideTooltipArrow(){return this.nativeElement?this.nativeElement.hideTooltipArrow:void 0}set hideTooltipArrow(j){this.nativeElement&&(this.nativeElement.hideTooltipArrow=j)}get importantDates(){return this.nativeElement?this.nativeElement.importantDates:void 0}set importantDates(j){this.nativeElement&&(this.nativeElement.importantDates=j)}get importantDatesTemplate(){return this.nativeElement?this.nativeElement.importantDatesTemplate:void 0}set importantDatesTemplate(j){this.nativeElement&&(this.nativeElement.importantDatesTemplate=j)}get unlockKey(){return this.nativeElement?this.nativeElement.unlockKey:void 0}set unlockKey(j){this.nativeElement&&(this.nativeElement.unlockKey=j)}get locale(){return this.nativeElement?this.nativeElement.locale:void 0}set locale(j){this.nativeElement&&(this.nativeElement.locale=j)}get localizeFormatFunction(){return this.nativeElement?this.nativeElement.localizeFormatFunction:void 0}set localizeFormatFunction(j){this.nativeElement&&(this.nativeElement.localizeFormatFunction=j)}get max(){return this.nativeElement?this.nativeElement.max:void 0}set max(j){this.nativeElement&&(this.nativeElement.max=j)}get messages(){return this.nativeElement?this.nativeElement.messages:void 0}set messages(j){this.nativeElement&&(this.nativeElement.messages=j)}get min(){return this.nativeElement?this.nativeElement.min:void 0}set min(j){this.nativeElement&&(this.nativeElement.min=j)}get months(){return this.nativeElement?this.nativeElement.months:void 0}set months(j){this.nativeElement&&(this.nativeElement.months=j)}get monthNameFormat(){return this.nativeElement?this.nativeElement.monthNameFormat:void 0}set monthNameFormat(j){this.nativeElement&&(this.nativeElement.monthNameFormat=j)}get name(){return this.nativeElement?this.nativeElement.name:void 0}set name(j){this.nativeElement&&(this.nativeElement.name=j)}get readonly(){return this.nativeElement?this.nativeElement.readonly:void 0}set readonly(j){this.nativeElement&&(this.nativeElement.readonly=j)}get restrictedDates(){return this.nativeElement?this.nativeElement.restrictedDates:void 0}set restrictedDates(j){this.nativeElement&&(this.nativeElement.restrictedDates=j)}get rightToLeft(){return this.nativeElement?this.nativeElement.rightToLeft:void 0}set rightToLeft(j){this.nativeElement&&(this.nativeElement.rightToLeft=j)}get scrollButtonsNavigationMode(){return this.nativeElement?this.nativeElement.scrollButtonsNavigationMode:void 0}set scrollButtonsNavigationMode(j){this.nativeElement&&(this.nativeElement.scrollButtonsNavigationMode=j)}get scrollButtonsPosition(){return this.nativeElement?this.nativeElement.scrollButtonsPosition:void 0}set scrollButtonsPosition(j){this.nativeElement&&(this.nativeElement.scrollButtonsPosition=j)}get selectedDates(){return this.nativeElement?this.nativeElement.selectedDates:void 0}set selectedDates(j){this.nativeElement&&(this.nativeElement.selectedDates=j)}get selectionMode(){return this.nativeElement?this.nativeElement.selectionMode:void 0}set selectionMode(j){this.nativeElement&&(this.nativeElement.selectionMode=j)}get spinButtonsDelay(){return this.nativeElement?this.nativeElement.spinButtonsDelay:void 0}set spinButtonsDelay(j){this.nativeElement&&(this.nativeElement.spinButtonsDelay=j)}get spinButtonsInitialDelay(){return this.nativeElement?this.nativeElement.spinButtonsInitialDelay:void 0}set spinButtonsInitialDelay(j){this.nativeElement&&(this.nativeElement.spinButtonsInitialDelay=j)}get theme(){return this.nativeElement?this.nativeElement.theme:void 0}set theme(j){this.nativeElement&&(this.nativeElement.theme=j)}get titleTemplate(){return this.nativeElement?this.nativeElement.titleTemplate:void 0}set titleTemplate(j){this.nativeElement&&(this.nativeElement.titleTemplate=j)}get tooltip(){return this.nativeElement?this.nativeElement.tooltip:void 0}set tooltip(j){this.nativeElement&&(this.nativeElement.tooltip=j)}get tooltipArrow(){return this.nativeElement?this.nativeElement.tooltipArrow:void 0}set tooltipArrow(j){this.nativeElement&&(this.nativeElement.tooltipArrow=j)}get tooltipDelay(){return this.nativeElement?this.nativeElement.tooltipDelay:void 0}set tooltipDelay(j){this.nativeElement&&(this.nativeElement.tooltipDelay=j)}get tooltipOffset(){return this.nativeElement?this.nativeElement.tooltipOffset:void 0}set tooltipOffset(j){this.nativeElement&&(this.nativeElement.tooltipOffset=j)}get tooltipPosition(){return this.nativeElement?this.nativeElement.tooltipPosition:void 0}set tooltipPosition(j){this.nativeElement&&(this.nativeElement.tooltipPosition=j)}get tooltipTemplate(){return this.nativeElement?this.nativeElement.tooltipTemplate:void 0}set tooltipTemplate(j){this.nativeElement&&(this.nativeElement.tooltipTemplate=j)}get unfocusable(){return this.nativeElement?this.nativeElement.unfocusable:void 0}set unfocusable(j){this.nativeElement&&(this.nativeElement.unfocusable=j)}get view(){return this.nativeElement?this.nativeElement.view:void 0}set view(j){this.nativeElement&&(this.nativeElement.view=j)}get viewSections(){return this.nativeElement?this.nativeElement.viewSections:void 0}set viewSections(j){this.nativeElement&&(this.nativeElement.viewSections=j)}get weekNumbers(){return this.nativeElement?this.nativeElement.weekNumbers:void 0}set weekNumbers(j){this.nativeElement&&(this.nativeElement.weekNumbers=j)}get weeks(){return this.nativeElement?this.nativeElement.weeks:void 0}set weeks(j){this.nativeElement&&(this.nativeElement.weeks=j)}get yearFormat(){return this.nativeElement?this.nativeElement.yearFormat:void 0}set yearFormat(j){this.nativeElement&&(this.nativeElement.yearFormat=j)}get properties(){return["animation","animationSettings","calendarMode","dayNameFormat","dateFormatFunction","disabled","disableAutoNavigation","disableMouseWheel","displayMode","displayModeView","dropDownHeight","dropDownWidth","firstDayOfWeek","footerTemplate","headerTemplate","hideDayNames","hideOtherMonthDays","hideTooltipArrow","importantDates","importantDatesTemplate","unlockKey","locale","localizeFormatFunction","max","messages","min","months","monthNameFormat","name","readonly","restrictedDates","rightToLeft","scrollButtonsNavigationMode","scrollButtonsPosition","selectedDates","selectionMode","spinButtonsDelay","spinButtonsInitialDelay","theme","titleTemplate","tooltip","tooltipArrow","tooltipDelay","tooltipOffset","tooltipPosition","tooltipTemplate","unfocusable","view","viewSections","weekNumbers","weeks","yearFormat"]}get eventListeners(){return["onChange","onDisplayModeChanging","onDisplayModeChange","onNavigationChanging","onNavigationChange","onOpen","onClose","onCreate","onReady"]}clearSelection(){this.nativeElement.isRendered?this.nativeElement.clearSelection():this.nativeElement.whenRendered(()=>{this.nativeElement.clearSelection()})}navigate(j){return this.nativeElement.navigate(j)}select(j){this.nativeElement.isRendered?this.nativeElement.select(j):this.nativeElement.whenRendered(()=>{this.nativeElement.select(j)})}today(){return this.nativeElement.today()}componentDidRender(j){const ne=this,u={},g={};let e=null;const t=n=>{const a=new WeakSet;return JSON.stringify(n,(i,r)=>{if(r!==null&&typeof r=="object"){if(a.has(r))return;a.add(r)}return r})};for(let n in ne.props)if(n!=="children"){if(n==="style"){e=ne.props[n];continue}if(n.startsWith("on")&&ne.properties.indexOf(n)===-1){g[n]=ne.props[n];continue}u[n]=ne.props[n]}j&&(ne.nativeElement=this.componentRef.current,ne.nativeElement&&!ne.nativeElement.isCompleted&&(ne.nativeElement.reactStateProps=JSON.parse(t(u)))),j&&ne.nativeElement&&ne.nativeElement.isCompleted;for(let n in u){if(n==="class"||n==="className"){const a=u[n].trim().split(" ");if(ne.nativeElement._classNames){const i=ne.nativeElement._classNames;for(let r in i)ne.nativeElement.classList.contains(i[r])&&i[r]!==""&&ne.nativeElement.classList.remove(i[r])}ne.nativeElement._classNames=a;for(let i in a)!ne.nativeElement.classList.contains(a[i])&&a[i]!==""&&ne.nativeElement.classList.add(a[i]);continue}if(u[n]!==ne.nativeElement[n]){const a=r=>r.replace(/-([a-z])/g,function(o){return o[1].toUpperCase()});(n==="hover"||n==="active"||n==="focus"||n==="selected")&&ne.nativeElement.setAttribute(n,"");const i=a(n);if(ne.nativeElement[i]===void 0&&ne.nativeElement.setAttribute(n,u[n]),u[n]!==void 0){if(typeof u[n]=="object"&&ne.nativeElement.reactStateProps&&!j&&t(u[n])===t(ne.nativeElement.reactStateProps[i]))continue;ne.nativeElement[i]=u[n]}}}for(let n in g)ne[n]=g[n],ne.nativeElement[n.toLowerCase()]=g[n];if(j&&(Am.Render(),ne.onCreate&&ne.onCreate(),ne.nativeElement.whenRendered(()=>{ne.onReady&&ne.onReady()})),e)for(let n in e)ne.nativeElement.style[n]=e[n]}componentDidMount(){this.componentDidRender(!0)}componentDidUpdate(){this.componentDidRender(!1)}componentWillUnmount(){const j=this;if(j.nativeElement){j.nativeElement.whenRenderedCallbacks=[];for(let ne=0;ne<j.eventListeners.length;ne++){const u=j.eventListeners[ne];j.nativeElement.removeEventListener(u.substring(2).toLowerCase(),j[u])}}}render(){return Jt.createElement("smart-calendar",{ref:this.componentRef,suppressHydrationWarning:!0},this.props.children)}}var Vs={exports:{}},wm;function Gp(){return wm||(wm=1,function(We,j){(function(){typeof document>"u"||((()=>{var ne={5453:function(e){(function(t,n){e.exports=n()})(typeof self<"u"?self:this,function(){return a={},t.m=n=[function(i,r,o){o.d(r,"f",function(){return f}),o.d(r,"e",function(){return p}),o.d(r,"g",function(){return v}),o.d(r,"d",function(){return w}),o.d(r,"k",function(){return C}),o.d(r,"l",function(){return x}),o.d(r,"n",function(){return L}),o.d(r,"i",function(){return A}),o.d(r,"m",function(){return k}),o.d(r,"j",function(){return B}),o.d(r,"a",function(){return H}),o.d(r,"b",function(){return V}),o.d(r,"h",function(){return z}),o.d(r,"c",function(){return N});var d=o(2),f=function(F){return F!=null},p=function(F){return typeof F=="number"},v=function(F){return 0<=d.a.indexOf(F)},w=Array.isArray,C=function(F,q){q===void 0&&(q=F),arguments.length===1&&(q=F,F=0);for(var Y=[],X=F;X<q;X++)Y.push(X);return Y},x=function(F,q){var Y=0,X=[];if(w(F))for(;Y<q;Y++)X[Y]=[].concat(F);else for(;Y<q;Y++)X[Y]=F;return X},L=function(F){return w(F)?F:[F]};function A(F,q,Y){Y===void 0&&(Y=" ");var X=String(F);return q>>=0,X.length>q?String(X):((q-=X.length)>Y.length&&(Y+=x(Y,q/Y.length)),Y.slice(0,q)+String(X))}var k=function(F,q,Y){var X=F.split(q);return Y?X.slice(0,Y).concat([X.slice(Y).join(q)]):X},B=function(F,q){var Y=F%q;return Y*q<0?Y+q:Y},H=function(F,q){return{div:Math.floor(F/q),mod:B(F,q)}},V=function(F){return!f(F)||F.length===0},z=function(F){return!V(F)},N=function(F,q){return z(F)&&F.indexOf(q)!==-1}},function(i,r,o){o.r(r);var d,f,p=o(0);(f=d=d||{}).MONTH_DAYS=[31,28,31,30,31,30,31,31,30,31,30,31],f.ONE_DAY=864e5,f.MAXYEAR=9999,f.ORDINAL_BASE=new Date(Date.UTC(1970,0,1)),f.PY_WEEKDAYS=[6,0,1,2,3,4,5],f.getYearDay=function(R){var K=new Date(R.getUTCFullYear(),R.getUTCMonth(),R.getUTCDate());return Math.ceil((K.valueOf()-new Date(R.getUTCFullYear(),0,1).valueOf())/f.ONE_DAY)+1},f.isLeapYear=function(R){return R%4==0&&R%100!=0||R%400==0},f.isDate=function(R){return R instanceof Date},f.isValidDate=function(R){return f.isDate(R)&&!isNaN(R.getTime())},f.tzOffset=function(R){return 60*R.getTimezoneOffset()*1e3},f.daysBetween=function(R,K){var oe=R.getTime()-f.tzOffset(R)-(K.getTime()-f.tzOffset(K));return Math.round(oe/f.ONE_DAY)},f.toOrdinal=function(R){return f.daysBetween(R,f.ORDINAL_BASE)},f.fromOrdinal=function(R){return new Date(f.ORDINAL_BASE.getTime()+R*f.ONE_DAY)},f.getMonthDays=function(R){var K=R.getUTCMonth();return K===1&&f.isLeapYear(R.getUTCFullYear())?29:f.MONTH_DAYS[K]},f.getWeekday=function(R){return f.PY_WEEKDAYS[R.getUTCDay()]},f.monthRange=function(R,K){var oe=new Date(Date.UTC(R,K,1));return[f.getWeekday(oe),f.getMonthDays(oe)]},f.combine=function(R,K){return K=K||R,new Date(Date.UTC(R.getUTCFullYear(),R.getUTCMonth(),R.getUTCDate(),K.getHours(),K.getMinutes(),K.getSeconds(),K.getMilliseconds()))},f.clone=function(R){return new Date(R.getTime())},f.cloneDates=function(R){for(var K=[],oe=0;oe<R.length;oe++)K.push(f.clone(R[oe]));return K},f.sort=function(R){R.sort(function(K,oe){return K.getTime()-oe.getTime()})},f.timeToUntilString=function(R,K){K===void 0&&(K=!0);var oe=new Date(R);return[Object(p.i)(oe.getUTCFullYear().toString(),4,"0"),Object(p.i)(oe.getUTCMonth()+1,2,"0"),Object(p.i)(oe.getUTCDate(),2,"0"),"T",Object(p.i)(oe.getUTCHours(),2,"0"),Object(p.i)(oe.getUTCMinutes(),2,"0"),Object(p.i)(oe.getUTCSeconds(),2,"0"),K?"Z":""].join("")},f.untilStringToDate=function(R){var K=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/.exec(R);if(!K)throw new Error("Invalid UNTIL value: "+R);return new Date(Date.UTC(parseInt(K[1],10),parseInt(K[2],10)-1,parseInt(K[3],10),parseInt(K[5],10)||0,parseInt(K[6],10)||0,parseInt(K[7],10)||0))};var v=d;function w(R,K){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=R,this.args=K,R==="between"?(this.maxDate=K.inc?K.before:new Date(K.before.getTime()-1),this.minDate=K.inc?K.after:new Date(K.after.getTime()+1)):R==="before"?this.maxDate=K.inc?K.dt:new Date(K.dt.getTime()-1):R==="after"&&(this.minDate=K.inc?K.dt:new Date(K.dt.getTime()+1))}var C=(w.prototype.accept=function(R){++this.total;var K=this.minDate&&R<this.minDate,oe=this.maxDate&&R>this.maxDate;if(this.method==="between"){if(K)return!0;if(oe)return!1}else if(this.method==="before"){if(oe)return!1}else if(this.method==="after")return!!K||(this.add(R),!1);return this.add(R)},w.prototype.add=function(R){return this._result.push(R),!0},w.prototype.getValue=function(){var R=this._result;switch(this.method){case"all":case"between":return R;case"before":case"after":default:return R.length?R[R.length-1]:null}},w.prototype.clone=function(){return new w(this.method,this.args)},w),x=function(R,K){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,ce){oe.__proto__=ce}||function(oe,ce){for(var re in ce)ce.hasOwnProperty(re)&&(oe[re]=ce[re])})(R,K)};/*! *****************************************************************************
		Copyright (c) Microsoft Corporation. All rights reserved.
		Licensed under the Apache License, Version 2.0 (the "License"); you may not use
		this file except in compliance with the License. You may obtain a copy of the
		License at http://www.apache.org/licenses/LICENSE-2.0

		THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
		KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
		WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
		MERCHANTABLITY OR NON-INFRINGEMENT.

		See the Apache Version 2.0 License for specific language governing permissions
		and limitations under the License.
		***************************************************************************** */function L(R,K){function oe(){this.constructor=R}x(R,K),R.prototype=K===null?Object.create(K):(oe.prototype=K.prototype,new oe)}var A,k=function(){return(k=Object.assign||function(R){for(var K,oe=1,ce=arguments.length;oe<ce;oe++)for(var re in K=arguments[oe])Object.prototype.hasOwnProperty.call(K,re)&&(R[re]=K[re]);return R}).apply(this,arguments)};function B(){for(var R=0,K=0,oe=arguments.length;K<oe;K++)R+=arguments[K].length;var ce=Array(R),re=0;for(K=0;K<oe;K++)for(var pe=arguments[K],fe=0,Se=pe.length;fe<Se;fe++,re++)ce[re]=pe[fe];return ce}function H(R,K,oe){var ce=A.call(this,R,K)||this;return ce.iterator=oe,ce}var V,z,N=(L(H,A=C),H.prototype.add=function(R){return!!this.iterator(R,this._result.length)&&(this._result.push(R),!0)},H);function F(R){return R<V.HOURLY}(z=V=V||{})[z.YEARLY=0]="YEARLY",z[z.MONTHLY=1]="MONTHLY",z[z.WEEKLY=2]="WEEKLY",z[z.DAILY=3]="DAILY",z[z.HOURLY=4]="HOURLY",z[z.MINUTELY=5]="MINUTELY",z[z.SECONDLY=6]="SECONDLY";var q=o(2),Y=(X.prototype.getHours=function(){return this.hour},X.prototype.getMinutes=function(){return this.minute},X.prototype.getSeconds=function(){return this.second},X.prototype.getMilliseconds=function(){return this.millisecond},X.prototype.getTime=function(){return 1e3*(60*this.hour*60+60*this.minute+this.second)+this.millisecond},X);function X(R,K,oe,ce){this.hour=R,this.minute=K,this.second=oe,this.millisecond=ce||0}var ae,Q=(L(ie,ae=Y),ie.fromDate=function(R){return new this(R.getUTCFullYear(),R.getUTCMonth()+1,R.getUTCDate(),R.getUTCHours(),R.getUTCMinutes(),R.getUTCSeconds(),R.valueOf()%1e3)},ie.prototype.getWeekday=function(){return d.getWeekday(new Date(this.getTime()))},ie.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},ie.prototype.getDay=function(){return this.day},ie.prototype.getMonth=function(){return this.month},ie.prototype.getYear=function(){return this.year},ie.prototype.addYears=function(R){this.year+=R},ie.prototype.addMonths=function(R){if(this.month+=R,12<this.month){var K=Math.floor(this.month/12),oe=Object(p.j)(this.month,12);this.month=oe,this.year+=K,this.month===0&&(this.month=12,--this.year)}},ie.prototype.addWeekly=function(R,K){K>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-K))+7*R:this.day+=-(this.getWeekday()-K)+7*R,this.fixDay()},ie.prototype.addDaily=function(R){this.day+=R,this.fixDay()},ie.prototype.addHours=function(R,K,oe){for(K&&(this.hour+=Math.floor((23-this.hour)/R)*R);;){this.hour+=R;var ce=Object(p.a)(this.hour,24),re=ce.div,pe=ce.mod;if(re&&(this.hour=pe,this.addDaily(re)),Object(p.b)(oe)||Object(p.c)(oe,this.hour))break}},ie.prototype.addMinutes=function(R,K,oe,ce){for(K&&(this.minute+=Math.floor((1439-(60*this.hour+this.minute))/R)*R);;){this.minute+=R;var re=Object(p.a)(this.minute,60),pe=re.div,fe=re.mod;if(pe&&(this.minute=fe,this.addHours(pe,!1,oe)),(Object(p.b)(oe)||Object(p.c)(oe,this.hour))&&(Object(p.b)(ce)||Object(p.c)(ce,this.minute)))break}},ie.prototype.addSeconds=function(R,K,oe,ce,re){for(K&&(this.second+=Math.floor((86399-(3600*this.hour+60*this.minute+this.second))/R)*R);;){this.second+=R;var pe=Object(p.a)(this.second,60),fe=pe.div,Se=pe.mod;if(fe&&(this.second=Se,this.addMinutes(fe,!1,oe,ce)),(Object(p.b)(oe)||Object(p.c)(oe,this.hour))&&(Object(p.b)(ce)||Object(p.c)(ce,this.minute))&&(Object(p.b)(re)||Object(p.c)(re,this.second)))break}},ie.prototype.fixDay=function(){if(!(this.day<=28)){var R=d.monthRange(this.year,this.month-1)[1];if(!(this.day<=R))for(;this.day>R;){if(this.day-=R,++this.month,this.month===13&&(this.month=1,++this.year,this.year>d.MAXYEAR))return;R=d.monthRange(this.year,this.month-1)[1]}}},ie.prototype.add=function(R,K){var oe=R.freq,ce=R.interval,re=R.wkst,pe=R.byhour,fe=R.byminute,Se=R.bysecond;switch(oe){case V.YEARLY:return this.addYears(ce);case V.MONTHLY:return this.addMonths(ce);case V.WEEKLY:return this.addWeekly(ce,re);case V.DAILY:return this.addDaily(ce);case V.HOURLY:return this.addHours(ce,K,pe);case V.MINUTELY:return this.addMinutes(ce,K,pe,fe);case V.SECONDLY:return this.addSeconds(ce,K,pe,fe,Se)}},ie);function ie(R,K,oe,ce,re,pe,fe){var Se=ae.call(this,ce,re,pe,fe)||this;return Se.year=R,Se.month=K,Se.day=oe,Se}function te(R){for(var K=[],oe=0,ce=Object.keys(R);oe<ce.length;oe++){var re=ce[oe];Object(p.c)(Wn,re)||K.push(re),v.isDate(R[re])&&!v.isValidDate(R[re])&&K.push(re)}if(K.length)throw new Error("Invalid options: "+K.join(", "));return k({},R)}function E(R){var K=R.split(`
`).map(m).filter(function(oe){return oe!==null});return k(k({},K[0]),K[1])}function l(R){var K={},oe=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(R);if(!oe)return K;oe[0];var ce=oe[1],re=oe[2];return ce&&(K.tzid=ce),K.dtstart=v.untilStringToDate(re),K}function m(R){if(!(R=R.replace(/^\s+|\s+$/,"")).length)return null;var K=/^([A-Z]+?)[:;]/.exec(R.toUpperCase());if(!K)return c(R);K[0];var oe=K[1];switch(oe.toUpperCase()){case"RRULE":case"EXRULE":return c(R);case"DTSTART":return l(R);default:throw new Error("Unsupported RFC prop "+oe+" in "+R)}}function c(R){var K=l(R.replace(/^RRULE:/i,""));return R.replace(/^(?:RRULE|EXRULE):/i,"").split(";").forEach(function(oe){var ce,re=oe.split("="),pe=re[0],fe=re[1];switch(pe.toUpperCase()){case"FREQ":K.freq=V[fe.toUpperCase()];break;case"WKST":K.wkst=Ge[fe.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var Se=(ce=fe).indexOf(",")===-1?y(ce):ce.split(",").map(y),ve=pe.toLowerCase();K[ve]=Se;break;case"BYWEEKDAY":case"BYDAY":K.byweekday=fe.split(",").map(function(Ce){if(Ce.length===2)return Ge[Ce];var Fe=Ce.match(/^([+-]?\d{1,2})([A-Z]{2})$/),Ie=Number(Fe[1]),$e=Fe[2],Re=Ge[$e].weekday;return new q.b(Re,Ie)});break;case"DTSTART":case"TZID":var be=l(R);K.tzid=be.tzid,K.dtstart=be.dtstart;break;case"UNTIL":K.until=v.untilStringToDate(fe);break;case"BYEASTER":K.byeaster=Number(fe);break;default:throw new Error("Unknown RRULE property '"+pe+"'")}}),K}function y(R){return/^[+-]?\d+$/.test(R)?Number(R):R}var b=function(){throw new TypeError},S=(Object.defineProperty(D.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!0,configurable:!0}),D.prototype.toString=function(){var R=v.timeToUntilString(this.date.getTime(),this.isUTC);return this.isUTC?":"+R:";TZID="+this.tzid+":"+R},D.prototype.getTime=function(){return this.date.getTime()},D.prototype.rezonedDate=function(){if(this.isUTC)return this.date;try{return b(this.date).setZone(this.tzid,{keepLocalTime:!0}).toJSDate()}catch(R){return R instanceof TypeError&&console.error("Using TZID without Luxon available is unsupported. Returned times are in UTC, not the requested time zone"),this.date}},D);function D(R,K){this.date=R,this.tzid=K}function M(R){for(var K=[],oe="",ce=Object.keys(R),re=Object.keys(Hn),pe=0;pe<ce.length;pe++)if(ce[pe]!=="tzid"&&Object(p.c)(re,ce[pe])){var fe=ce[pe].toUpperCase(),Se=R[ce[pe]],ve="";if(Object(p.f)(Se)&&(!Object(p.d)(Se)||Se.length)){switch(fe){case"FREQ":ve=yt.FREQUENCIES[R.freq];break;case"WKST":ve=Object(p.e)(Se)?new q.b(Se).toString():Se.toString();break;case"BYWEEKDAY":fe="BYDAY",ve=Object(p.n)(Se).map(function($e){return $e instanceof q.b?$e:Object(p.d)($e)?new q.b($e[0],$e[1]):new q.b($e)}).toString();break;case"DTSTART":oe=$(Se,R.tzid);break;case"UNTIL":ve=v.timeToUntilString(Se,!R.tzid);break;default:if(Object(p.d)(Se)){for(var be=[],Ce=0;Ce<Se.length;Ce++)be[Ce]=String(Se[Ce]);ve=be.toString()}else ve=String(Se)}ve&&K.push([fe,ve])}}var Fe=K.map(function($e){return $e[0]+"="+$e[1].toString()}).join(";"),Ie="";return Fe!==""&&(Ie="RRULE:"+Fe),[oe,Ie].filter(function($e){return!!$e}).join(`
`)}function $(R,K){return R?"DTSTART"+new S(new Date(R),K).toString():""}var P=(G.prototype._cacheAdd=function(R,K,oe){K=K&&(K instanceof Date?v.clone(K):v.cloneDates(K)),R==="all"?this.all=K:(oe._value=K,this[R].push(oe))},G.prototype._cacheGet=function(R,K){function oe(be){for(var Ce=0;Ce<re.length;Ce++){var Fe=re[Ce];if(String(K[Fe])!==String(be[Fe]))return!0}return!1}var ce=!1,re=K?Object.keys(K):[],pe=this[R];if(R==="all")ce=this.all;else if(Object(p.d)(pe))for(var fe=0;fe<pe.length;fe++){var Se=pe[fe];if(!re.length||!oe(Se)){ce=Se._value;break}}if(!ce&&this.all){var ve=new C(R,K);for(fe=0;fe<this.all.length&&ve.accept(this.all[fe]);fe++);ce=ve.getValue(),this._cacheAdd(R,ce,K)}return Object(p.d)(ce)?v.cloneDates(ce):ce instanceof Date?v.clone(ce):ce},G);function G(){this.all=!1,this.before=[],this.after=[],this.between=[]}var Z=B(Object(p.l)(1,31),Object(p.l)(2,28),Object(p.l)(3,31),Object(p.l)(4,30),Object(p.l)(5,31),Object(p.l)(6,30),Object(p.l)(7,31),Object(p.l)(8,31),Object(p.l)(9,30),Object(p.l)(10,31),Object(p.l)(11,30),Object(p.l)(12,31),Object(p.l)(1,7)),ee=B(Object(p.l)(1,31),Object(p.l)(2,29),Object(p.l)(3,31),Object(p.l)(4,30),Object(p.l)(5,31),Object(p.l)(6,30),Object(p.l)(7,31),Object(p.l)(8,31),Object(p.l)(9,30),Object(p.l)(10,31),Object(p.l)(11,30),Object(p.l)(12,31),Object(p.l)(1,7)),de=Object(p.k)(1,29),me=Object(p.k)(1,30),ge=Object(p.k)(1,31),we=Object(p.k)(1,32),Me=B(we,me,we,ge,we,ge,we,we,ge,we,ge,we,we.slice(0,7)),ke=B(we,de,we,ge,we,ge,we,we,ge,we,ge,we,we.slice(0,7)),xe=Object(p.k)(-28,0),Ve=Object(p.k)(-29,0),ye=Object(p.k)(-30,0),je=Object(p.k)(-31,0),Le=B(je,Ve,je,ye,je,ye,je,je,ye,je,ye,je,je.slice(0,7)),et=B(je,xe,je,ye,je,ye,je,je,ye,je,ye,je,je.slice(0,7)),Ye=[0,31,60,91,121,152,182,213,244,274,305,335,366],ut=[0,31,59,90,120,151,181,212,243,273,304,334,365],Ne=function(){for(var R=[],K=0;K<55;K++)R=R.concat(Object(p.k)(7));return R}();function mt(R,K){var oe,ce,re,pe,fe,Se,ve=new Date(Date.UTC(R,0,1)),be=v.isLeapYear(R)?366:365,Ce=v.isLeapYear(R+1)?366:365,Fe=v.toOrdinal(ve),Ie=v.getWeekday(ve),$e=k(k({yearlen:be,nextyearlen:Ce,yearordinal:Fe,yearweekday:Ie},(oe=R,ce=v.isLeapYear(oe)?366:365,re=new Date(Date.UTC(oe,0,1)),pe=v.getWeekday(re),ce!=365?{mmask:ee,mdaymask:Me,nmdaymask:Le,wdaymask:Ne.slice(pe),mrange:Ye}:{mmask:Z,mdaymask:ke,nmdaymask:et,wdaymask:Ne.slice(pe),mrange:ut})),{wnomask:null});if(Object(p.b)(K.byweekno))return $e;$e.wnomask=Object(p.l)(0,7+be);var Re=fe=Object(p.j)(7-Ie+K.wkst,7);Se=4<=Re?(Re=0,$e.yearlen+Object(p.j)(Ie-K.wkst,7)):be-Re;for(var Ze=Math.floor(Se/7),Pe=Object(p.j)(Se,7),Xe=Math.floor(Ze+Pe/4),nt=0;nt<K.byweekno.length;nt++){var rt=K.byweekno[nt];if(rt<0&&(rt+=Xe+1),0<rt&&rt<=Xe){var Je=void 0;1<rt?(Je=Re+7*(rt-1),Re!==fe&&(Je-=7-fe)):Je=Re;for(var ht=0;ht<7&&($e.wnomask[Je]=1,Je++,$e.wdaymask[Je]!==K.wkst);ht++);}}if(Object(p.c)(K.byweekno,1)&&(Je=Re+7*Xe,Re!==fe&&(Je-=7-fe),Je<be))for(nt=0;nt<7&&(Je+=$e.wnomask[Je]=1,$e.wdaymask[Je]!==K.wkst);nt++);if(Re){var lt=void 0;if(Object(p.c)(K.byweekno,-1))lt=-1;else{var At=v.getWeekday(new Date(Date.UTC(R-1,0,1))),en=Object(p.j)(7-At.valueOf()+K.wkst,7),qt=v.isLeapYear(R-1)?366:365,on=void 0;on=4<=en?(en=0,qt+Object(p.j)(At-K.wkst,7)):be-Re,lt=Math.floor(52+Object(p.j)(on,7)/4)}if(Object(p.c)(K.byweekno,lt))for(Je=0;Je<Re;Je++)$e.wnomask[Je]=1}return $e}function Be(R){this.options=R}var Ke=(Be.prototype.rebuild=function(R,K){var oe=this.options;if(R!==this.lastyear&&(this.yearinfo=mt(R,oe)),Object(p.h)(oe.bynweekday)&&(K!==this.lastmonth||R!==this.lastyear)){var ce=this.yearinfo,re=ce.yearlen,pe=ce.mrange,fe=ce.wdaymask;this.monthinfo=function(Se,ve,be,Ce,Fe,Ie){var $e={lastyear:Se,lastmonth:ve,nwdaymask:[]},Re=[];if(Ie.freq===yt.YEARLY)if(Object(p.b)(Ie.bymonth))Re=[[0,be]];else for(var Ze=0;Ze<Ie.bymonth.length;Ze++)ve=Ie.bymonth[Ze],Re.push(Ce.slice(ve-1,ve+1));else Ie.freq===yt.MONTHLY&&(Re=[Ce.slice(ve-1,ve+1)]);if(Object(p.b)(Re))return $e;for($e.nwdaymask=Object(p.l)(0,be),Ze=0;Ze<Re.length;Ze++)for(var Pe=Re[Ze],Xe=Pe[0],nt=Pe[1]-1,rt=0;rt<Ie.bynweekday.length;rt++){var Je=void 0,ht=Ie.bynweekday[rt],lt=ht[0],At=ht[1];At<0?(Je=nt+7*(At+1),Je-=Object(p.j)(Fe[Je]-lt,7)):(Je=Xe+7*(At-1),Je+=Object(p.j)(7-Fe[Je]+lt,7)),Xe<=Je&&Je<=nt&&($e.nwdaymask[Je]=1)}return $e}(R,K,re,pe,fe,oe)}Object(p.f)(oe.byeaster)&&(this.eastermask=function(Se,ve){ve===void 0&&(ve=0);var be=Se%19,Ce=Math.floor(Se/100),Fe=Se%100,Ie=Math.floor(Ce/4),$e=Ce%4,Re=Math.floor((Ce+8)/25),Ze=Math.floor((Ce-Re+1)/3),Pe=Math.floor(19*be+Ce-Ie-Ze+15)%30,Xe=Math.floor(Fe/4),nt=Fe%4,rt=Math.floor(32+2*$e+2*Xe-Pe-nt)%7,Je=Math.floor((be+11*Pe+22*rt)/451),ht=Math.floor((Pe+rt-7*Je+114)/31),lt=(Pe+rt-7*Je+114)%31+1,At=Date.UTC(Se,ht-1,lt+ve),en=Date.UTC(Se,0,1);return[Math.ceil((At-en)/864e5)]}(R,oe.byeaster))},Object.defineProperty(Be.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(Be.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!0,configurable:!0}),Be.prototype.ydayset=function(){return[Object(p.k)(this.yearlen),0,this.yearlen]},Be.prototype.mdayset=function(R,K,oe){for(var ce=this.mrange[K-1],re=this.mrange[K],pe=Object(p.l)(null,this.yearlen),fe=ce;fe<re;fe++)pe[fe]=fe;return[pe,ce,re]},Be.prototype.wdayset=function(R,K,oe){for(var ce=Object(p.l)(null,this.yearlen+7),re=v.toOrdinal(new Date(Date.UTC(R,K-1,oe)))-this.yearordinal,pe=re,fe=0;fe<7&&(ce[re]=re,++re,this.wdaymask[re]!==this.options.wkst);fe++);return[ce,pe,re]},Be.prototype.ddayset=function(R,K,oe){var ce=Object(p.l)(null,this.yearlen),re=v.toOrdinal(new Date(Date.UTC(R,K-1,oe)))-this.yearordinal;return ce[re]=re,[ce,re,1+re]},Be.prototype.htimeset=function(R,K,oe,ce){var re=this,pe=[];return this.options.byminute.forEach(function(fe){pe=pe.concat(re.mtimeset(R,fe,oe,ce))}),v.sort(pe),pe},Be.prototype.mtimeset=function(R,K,oe,ce){var re=this.options.bysecond.map(function(pe){return new Y(R,K,pe,ce)});return v.sort(re),re},Be.prototype.stimeset=function(R,K,oe,ce){return[new Y(R,K,oe,ce)]},Be.prototype.getdayset=function(R){switch(R){case V.YEARLY:return this.ydayset.bind(this);case V.MONTHLY:return this.mdayset.bind(this);case V.WEEKLY:return this.wdayset.bind(this);case V.DAILY:default:return this.ddayset.bind(this)}},Be.prototype.gettimeset=function(R){switch(R){case V.HOURLY:return this.htimeset.bind(this);case V.MINUTELY:return this.mtimeset.bind(this);case V.SECONDLY:return this.stimeset.bind(this)}},Be);function Ht(R,K,oe,ce,re,pe){for(var fe=[],Se=0;Se<R.length;Se++){var ve=void 0,be=void 0,Ce=R[Se];be=Ce<0?(ve=Math.floor(Ce/K.length),Object(p.j)(Ce,K.length)):(ve=Math.floor((Ce-1)/K.length),Object(p.j)(Ce-1,K.length));for(var Fe=[],Ie=oe;Ie<ce;Ie++){var $e=pe[Ie];Object(p.f)($e)&&Fe.push($e)}var Re=void 0;Re=ve<0?Fe.slice(ve)[0]:Fe[ve];var Ze=K[be],Pe=v.fromOrdinal(re.yearordinal+Re),Xe=v.combine(Pe,Ze);Object(p.c)(fe,Xe)||fe.push(Xe)}return v.sort(fe),fe}function ft(R,K){var oe=K.dtstart,ce=K.freq,re=K.interval,pe=K.until,fe=K.bysetpos,Se=K.count;if(Se===0||re===0)return Tt(R);var ve=Q.fromDate(oe),be=new Ke(K);be.rebuild(ve.year,ve.month);for(var Ce=function(en,qt,on){var Bt=on.freq,Bn=on.byhour,Gt=on.byminute,jt=on.bysecond;return F(Bt)?function(_n){var $a=_n.dtstart.getTime()%1e3;if(!F(_n.freq))return[];var Ha=[];return _n.byhour.forEach(function(Dr){_n.byminute.forEach(function(Qa){_n.bysecond.forEach(function(Ao){Ha.push(new Y(Dr,Qa,Ao,$a))})})}),Ha}(on):Bt>=yt.HOURLY&&Object(p.h)(Bn)&&!Object(p.c)(Bn,qt.hour)||Bt>=yt.MINUTELY&&Object(p.h)(Gt)&&!Object(p.c)(Gt,qt.minute)||Bt>=yt.SECONDLY&&Object(p.h)(jt)&&!Object(p.c)(jt,qt.second)?[]:en.gettimeset(Bt)(qt.hour,qt.minute,qt.second,qt.millisecond)}(be,ve,K);;){var Fe=be.getdayset(ce)(ve.year,ve.month,ve.day),Ie=Fe[0],$e=Fe[1],Re=Fe[2],Ze=ka(Ie,$e,Re,be,K);if(Object(p.h)(fe))for(var Pe=Ht(fe,Ce,$e,Re,be,Ie),Xe=0;Xe<Pe.length;Xe++){var nt=Pe[Xe];if(pe&&pe<nt)return Tt(R);if(oe<=nt){var rt=St(nt,K);if(!R.accept(rt)||Se&&!--Se)return Tt(R)}}else for(Xe=$e;Xe<Re;Xe++){var Je=Ie[Xe];if(Object(p.f)(Je))for(var ht=v.fromOrdinal(be.yearordinal+Je),lt=0;lt<Ce.length;lt++){var At=Ce[lt];if(nt=v.combine(ht,At),pe&&pe<nt||oe<=nt&&(rt=St(nt,K),!R.accept(rt)||Se&&!--Se))return Tt(R)}}if(K.interval===0||(ve.add(K,Ze),ve.year>v.MAXYEAR))return Tt(R);F(ce)||(Ce=be.gettimeset(ce)(ve.hour,ve.minute,ve.second,0)),be.rebuild(ve.year,ve.month)}}function St(R,K){return new S(R,K.tzid).rezonedDate()}function Tt(R){return R.getValue()}function ka(R,K,oe,ce,re){for(var pe,fe,Se,ve,be,Ce,Fe,Ie,$e,Re,Ze=!1,Pe=K;Pe<oe;Pe++){var Xe=R[Pe];pe=ce,fe=Xe,ve=(Se=re).bymonth,be=Se.byweekno,Ce=Se.byweekday,Fe=Se.byeaster,Ie=Se.bymonthday,$e=Se.bynmonthday,Re=Se.byyearday,(Ze=Object(p.h)(ve)&&!Object(p.c)(ve,pe.mmask[fe])||Object(p.h)(be)&&!pe.wnomask[fe]||Object(p.h)(Ce)&&!Object(p.c)(Ce,pe.wdaymask[fe])||Object(p.h)(pe.nwdaymask)&&!pe.nwdaymask[fe]||Fe!==null&&!Object(p.c)(pe.eastermask,fe)||(Object(p.h)(Ie)||Object(p.h)($e))&&!Object(p.c)(Ie,pe.mdaymask[fe])&&!Object(p.c)($e,pe.nmdaymask[fe])||Object(p.h)(Re)&&(fe<pe.yearlen&&!Object(p.c)(Re,fe+1)&&!Object(p.c)(Re,-pe.yearlen+fe)||fe>=pe.yearlen&&!Object(p.c)(Re,fe+1-pe.yearlen)&&!Object(p.c)(Re,-pe.nextyearlen+fe-pe.yearlen)))&&(R[Xe]=null)}return Ze}var qe=function(){return qe._nlp||(qe._nlp=o(3)),qe._nlp},Ge={MO:new q.b(0),TU:new q.b(1),WE:new q.b(2),TH:new q.b(3),FR:new q.b(4),SA:new q.b(5),SU:new q.b(6)},Hn={freq:V.YEARLY,dtstart:null,interval:1,wkst:Ge.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},Wn=Object.keys(Hn);function st(R,K){R===void 0&&(R={}),K===void 0&&(K=!1),this._cache=K?null:new P,this.origOptions=te(R);var oe=function(ce){var re=k(k({},Hn),te(ce));if(Object(p.f)(re.byeaster)&&(re.freq=yt.YEARLY),!Object(p.f)(re.freq)||!yt.FREQUENCIES[re.freq])throw new Error("Invalid frequency: "+re.freq+" "+ce.freq);if(re.dtstart||(re.dtstart=new Date(new Date().setMilliseconds(0))),Object(p.f)(re.wkst)?Object(p.e)(re.wkst)||(re.wkst=re.wkst.weekday):re.wkst=yt.MO.weekday,Object(p.f)(re.bysetpos)){Object(p.e)(re.bysetpos)&&(re.bysetpos=[re.bysetpos]);for(var pe=0;pe<re.bysetpos.length;pe++)if((ve=re.bysetpos[pe])===0||!(-366<=ve&&ve<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}if(!(re.byweekno||Object(p.h)(re.byweekno)||Object(p.h)(re.byyearday)||re.bymonthday||Object(p.h)(re.bymonthday)||Object(p.f)(re.byweekday)||Object(p.f)(re.byeaster)))switch(re.freq){case yt.YEARLY:re.bymonth||(re.bymonth=re.dtstart.getUTCMonth()+1),re.bymonthday=re.dtstart.getUTCDate();break;case yt.MONTHLY:re.bymonthday=re.dtstart.getUTCDate();break;case yt.WEEKLY:re.byweekday=[v.getWeekday(re.dtstart)]}if(Object(p.f)(re.bymonth)&&!Object(p.d)(re.bymonth)&&(re.bymonth=[re.bymonth]),Object(p.f)(re.byyearday)&&!Object(p.d)(re.byyearday)&&Object(p.e)(re.byyearday)&&(re.byyearday=[re.byyearday]),Object(p.f)(re.bymonthday))if(Object(p.d)(re.bymonthday)){var fe=[],Se=[];for(pe=0;pe<re.bymonthday.length;pe++){var ve;0<(ve=re.bymonthday[pe])?fe.push(ve):ve<0&&Se.push(ve)}re.bymonthday=fe,re.bynmonthday=Se}else re.bymonthday<0?(re.bynmonthday=[re.bymonthday],re.bymonthday=[]):(re.bynmonthday=[],re.bymonthday=[re.bymonthday]);else re.bymonthday=[],re.bynmonthday=[];if(Object(p.f)(re.byweekno)&&!Object(p.d)(re.byweekno)&&(re.byweekno=[re.byweekno]),Object(p.f)(re.byweekday))if(Object(p.e)(re.byweekday))re.byweekday=[re.byweekday],re.bynweekday=null;else if(Object(p.g)(re.byweekday))re.byweekday=[q.b.fromStr(re.byweekday).weekday],re.bynweekday=null;else if(re.byweekday instanceof q.b)!re.byweekday.n||re.freq>yt.MONTHLY?(re.byweekday=[re.byweekday.weekday],re.bynweekday=null):(re.bynweekday=[[re.byweekday.weekday,re.byweekday.n]],re.byweekday=null);else{var be=[],Ce=[];for(pe=0;pe<re.byweekday.length;pe++){var Fe=re.byweekday[pe];Object(p.e)(Fe)?be.push(Fe):Object(p.g)(Fe)?be.push(q.b.fromStr(Fe).weekday):!Fe.n||re.freq>yt.MONTHLY?be.push(Fe.weekday):Ce.push([Fe.weekday,Fe.n])}re.byweekday=Object(p.h)(be)?be:null,re.bynweekday=Object(p.h)(Ce)?Ce:null}else re.bynweekday=null;return Object(p.f)(re.byhour)?Object(p.e)(re.byhour)&&(re.byhour=[re.byhour]):re.byhour=re.freq<yt.HOURLY?[re.dtstart.getUTCHours()]:null,Object(p.f)(re.byminute)?Object(p.e)(re.byminute)&&(re.byminute=[re.byminute]):re.byminute=re.freq<yt.MINUTELY?[re.dtstart.getUTCMinutes()]:null,Object(p.f)(re.bysecond)?Object(p.e)(re.bysecond)&&(re.bysecond=[re.bysecond]):re.bysecond=re.freq<yt.SECONDLY?[re.dtstart.getUTCSeconds()]:null,{parsedOptions:re}}(R).parsedOptions;this.options=oe}var yt=(st.parseText=function(R,K){return qe().parseText(R,K)},st.fromText=function(R,K){return qe().fromText(R,K)},st.fromString=function(R){return new st(st.parseString(R)||void 0)},st.prototype._iter=function(R){return ft(R,this.options)},st.prototype._cacheGet=function(R,K){return!!this._cache&&this._cache._cacheGet(R,K)},st.prototype._cacheAdd=function(R,K,oe){if(this._cache)return this._cache._cacheAdd(R,K,oe)},st.prototype.all=function(R){if(R)return this._iter(new N("all",{},R));var K=this._cacheGet("all");return K===!1&&(K=this._iter(new C("all",{})),this._cacheAdd("all",K)),K},st.prototype.between=function(R,K,oe,ce){if(oe===void 0&&(oe=!1),!v.isValidDate(R)||!v.isValidDate(K))throw new Error("Invalid date passed in to RRule.between");var re={before:K,after:R,inc:oe};if(ce)return this._iter(new N("between",re,ce));var pe=this._cacheGet("between",re);return pe===!1&&(pe=this._iter(new C("between",re)),this._cacheAdd("between",pe,re)),pe},st.prototype.before=function(R,K){if(K===void 0&&(K=!1),!v.isValidDate(R))throw new Error("Invalid date passed in to RRule.before");var oe={dt:R,inc:K},ce=this._cacheGet("before",oe);return ce===!1&&(ce=this._iter(new C("before",oe)),this._cacheAdd("before",ce,oe)),ce},st.prototype.after=function(R,K){if(K===void 0&&(K=!1),!v.isValidDate(R))throw new Error("Invalid date passed in to RRule.after");var oe={dt:R,inc:K},ce=this._cacheGet("after",oe);return ce===!1&&(ce=this._iter(new C("after",oe)),this._cacheAdd("after",ce,oe)),ce},st.prototype.count=function(){return this.all().length},st.prototype.toString=function(){return M(this.origOptions)},st.prototype.toText=function(R,K,oe){return qe().toText(this,R,K,oe)},st.prototype.isFullyConvertibleToText=function(){return qe().isFullyConvertible(this)},st.prototype.clone=function(){return new st(this.origOptions)},st.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],st.YEARLY=V.YEARLY,st.MONTHLY=V.MONTHLY,st.WEEKLY=V.WEEKLY,st.DAILY=V.DAILY,st.HOURLY=V.HOURLY,st.MINUTELY=V.MINUTELY,st.SECONDLY=V.SECONDLY,st.MO=Ge.MO,st.TU=Ge.TU,st.WE=Ge.WE,st.TH=Ge.TH,st.FR=Ge.FR,st.SA=Ge.SA,st.SU=Ge.SU,st.parseString=E,st.optionsToString=M,st),dn,rn={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function bn(R,K){var oe=[],ce=[],re=[],pe=[],fe=l(R),Se=fe.dtstart,ve=fe.tzid;return function(be,Ce){if(Ce===void 0&&(Ce=!1),!(be=be&&be.trim()))throw new Error("Invalid empty string");if(!Ce)return be.split(/\s/);for(var Fe=be.split(`
`),Ie=0;Ie<Fe.length;){var $e=Fe[Ie]=Fe[Ie].replace(/\s+$/g,"");$e?0<Ie&&$e[0]===" "?(Fe[Ie-1]+=$e.slice(1),Fe.splice(Ie,1)):Ie+=1:Fe.splice(Ie,1)}return Fe}(R,K.unfold).forEach(function(be){if(be){var Ce=function(Pe){var Xe=function(ht){if(ht.indexOf(":")===-1)return{name:"RRULE",value:ht};var lt=Object(p.m)(ht,":",1),At=lt[0],en=lt[1];return{name:At,value:en}}(Pe),nt=Xe.name,rt=Xe.value,Je=nt.split(";");if(!Je)throw new Error("empty property name");return{name:Je[0].toUpperCase(),parms:Je.slice(1),value:rt}}(be),Fe=Ce.name,Ie=Ce.parms,$e=Ce.value;switch(Fe.toUpperCase()){case"RRULE":if(Ie.length)throw new Error("unsupported RRULE parm: "+Ie.join(","));oe.push(E(be));break;case"RDATE":var Re=/RDATE(?:;TZID=([^:=]+))?/i.exec(be),Ze=(Re[0],Re[1]);Ze&&!ve&&(ve=Ze),ce=ce.concat(Ln($e,Ie));break;case"EXRULE":if(Ie.length)throw new Error("unsupported EXRULE parm: "+Ie.join(","));re.push(E($e));break;case"EXDATE":pe=pe.concat(Ln($e,Ie));break;case"DTSTART":break;default:throw new Error("unsupported property: "+Fe)}}}),{dtstart:Se,tzid:ve,rrulevals:oe,rdatevals:ce,exrulevals:re,exdatevals:pe}}function dt(R,K){return K===void 0&&(K={}),function(oe,ce){var re=bn(oe,ce),pe=re.rrulevals,fe=re.rdatevals,Se=re.exrulevals,ve=re.exdatevals,be=re.dtstart,Ce=re.tzid,Fe=ce.cache===!1;if(ce.compatible&&(ce.forceset=!0,ce.unfold=!0),ce.forceset||1<pe.length||fe.length||Se.length||ve.length){var Ie=new U(Fe);return Ie.dtstart(be),Ie.tzid(Ce||void 0),pe.forEach(function(Re){Ie.rrule(new yt(On(Re,be,Ce),Fe))}),fe.forEach(function(Re){Ie.rdate(Re)}),Se.forEach(function(Re){Ie.exrule(new yt(On(Re,be,Ce),Fe))}),ve.forEach(function(Re){Ie.exdate(Re)}),ce.compatible&&ce.dtstart&&Ie.rdate(be),Ie}var $e=pe[0]||{};return new yt(On($e,$e.dtstart||ce.dtstart||be,$e.tzid||ce.tzid||Ce),Fe)}(R,function(oe){var ce=[],re=Object.keys(oe),pe=Object.keys(rn);if(re.forEach(function(fe){Object(p.c)(pe,fe)||ce.push(fe)}),ce.length)throw new Error("Invalid options: "+ce.join(", "));return k(k({},rn),oe)}(K))}function On(R,K,oe){return k(k({},R),{dtstart:K,tzid:oe})}function Ln(R,K){return K.forEach(function(oe){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(oe))throw new Error("unsupported RDATE/EXDATE parm: "+oe)}),R.split(",").map(function(oe){return v.untilStringToDate(oe)})}function Nn(R){var K=this;return function(oe){if(oe!==void 0&&(K["_"+R]=oe),K["_"+R]!==void 0)return K["_"+R];for(var ce=0;ce<K._rrule.length;ce++){var re=K._rrule[ce].origOptions[R];if(re)return re}}}function Ot(R){R===void 0&&(R=!1);var K=dn.call(this,{},R)||this;return K.dtstart=Nn.apply(K,["dtstart"]),K.tzid=Nn.apply(K,["tzid"]),K._rrule=[],K._rdate=[],K._exrule=[],K._exdate=[],K}var U=(L(Ot,dn=yt),Ot.prototype._iter=function(R){return function(K,oe,ce,re,pe,fe){var Se={},ve=K.accept;function be($e,Re){ce.forEach(function(Ze){Ze.between($e,Re,!0).forEach(function(Pe){Se[Number(Pe)]=!0})})}pe.forEach(function($e){var Re=new S($e,fe).rezonedDate();Se[Number(Re)]=!0}),K.accept=function($e){var Re=Number($e);return isNaN(Re)?ve.call(this,$e):!(!Se[Re]&&(be(new Date(Re-1),new Date(Re+1)),!Se[Re]))||(Se[Re]=!0,ve.call(this,$e))},K.method==="between"&&(be(K.args.after,K.args.before),K.accept=function($e){var Re=Number($e);return!!Se[Re]||(Se[Re]=!0,ve.call(this,$e))});for(var Ce=0;Ce<re.length;Ce++){var Fe=new S(re[Ce],fe).rezonedDate();if(!K.accept(new Date(Fe.getTime())))break}oe.forEach(function($e){ft(K,$e.options)});var Ie=K._result;switch(v.sort(Ie),K.method){case"all":case"between":return Ie;case"before":return Ie.length&&Ie[Ie.length-1]||null;case"after":default:return Ie.length&&Ie[0]||null}}(R,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},Ot.prototype.rrule=function(R){W(R,this._rrule)},Ot.prototype.exrule=function(R){W(R,this._exrule)},Ot.prototype.rdate=function(R){se(R,this._rdate)},Ot.prototype.exdate=function(R){se(R,this._exdate)},Ot.prototype.rrules=function(){return this._rrule.map(function(R){return dt(R.toString())})},Ot.prototype.exrules=function(){return this._exrule.map(function(R){return dt(R.toString())})},Ot.prototype.rdates=function(){return this._rdate.map(function(R){return new Date(R.getTime())})},Ot.prototype.exdates=function(){return this._exdate.map(function(R){return new Date(R.getTime())})},Ot.prototype.valueOf=function(){var R=[];return!this._rrule.length&&this._dtstart&&(R=R.concat(M({dtstart:this._dtstart}))),this._rrule.forEach(function(K){R=R.concat(K.toString().split(`
`))}),this._exrule.forEach(function(K){R=R.concat(K.toString().split(`
`).map(function(oe){return oe.replace(/^RRULE:/,"EXRULE:")}).filter(function(oe){return!/^DTSTART/.test(oe)}))}),this._rdate.length&&R.push(ue("RDATE",this._rdate,this.tzid())),this._exdate.length&&R.push(ue("EXDATE",this._exdate,this.tzid())),R},Ot.prototype.toString=function(){return this.valueOf().join(`
`)},Ot.prototype.clone=function(){var R=new Ot(!!this._cache);return this._rrule.forEach(function(K){return R.rrule(K.clone())}),this._exrule.forEach(function(K){return R.exrule(K.clone())}),this._rdate.forEach(function(K){return R.rdate(new Date(K.getTime()))}),this._exdate.forEach(function(K){return R.exdate(new Date(K.getTime()))}),R},Ot);function W(R,K){if(!(R instanceof yt))throw new TypeError(String(R)+" is not RRule instance");Object(p.c)(K.map(String),String(R))||K.push(R)}function se(R,K){if(!(R instanceof Date))throw new TypeError(String(R)+" is not Date instance");Object(p.c)(K.map(Number),Number(R))||(K.push(R),v.sort(K))}function ue(R,K,oe){var ce=!oe||oe.toUpperCase()==="UTC";return(ce?R+":":R+";TZID="+oe+":")+K.map(function(re){return v.timeToUntilString(re.valueOf(),ce)}).join(",")}o.d(r,"rrulestr",function(){return dt}),o.d(r,"Frequency",function(){return V}),o.d(r,"Weekday",function(){return q.b}),o.d(r,"RRule",function(){return yt}),o.d(r,"RRuleSet",function(){return U});/*!
 * rrule.js - Library for working with recurrence rules for calendar dates.
 * https://github.com/jakubroztocil/rrule
 *
 * Copyright 2010, Jakub Roztocil and Lars Schoning
 * Licenced under the BSD licence.
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 * Based on:
 * python-dateutil - Extensions to the standard Python datetime module.
 * Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
 * Copyright (c) 2012 - Tomi Pieviläinen <tomi.pievilainen@iki.fi>
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 */r.default=yt},function(i,r,o){o.d(r,"a",function(){return d}),o.d(r,"b",function(){return f});var d=["MO","TU","WE","TH","FR","SA","SU"],f=(p.fromStr=function(v){return new p(d.indexOf(v))},p.prototype.nth=function(v){return this.n===v?this:new p(this.weekday,v)},p.prototype.equals=function(v){return this.weekday===v.weekday&&this.n===v.n},p.prototype.toString=function(){var v=d[this.weekday];return this.n&&(v=(0<this.n?"+":"")+String(this.n)+v),v},p.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},p);function p(v,w){if(w===0)throw new Error("Can't create weekday with n == 0");this.weekday=v,this.n=w}},function(i,r,o){o.r(r);function d(F,q){return F.indexOf(q)!==-1}function f(F){return F.toString()}function p(F,q,Y){return q+" "+Y+", "+F}var v={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},w=o(1),C=o(0);function x(F,q,Y,X){if(q===void 0&&(q=f),Y===void 0&&(Y=v),X===void 0&&(X=p),this.text=[],this.language=Y||v,this.gettext=q,this.dateFormatter=X,this.rrule=F,this.options=F.options,this.origOptions=F.origOptions,this.origOptions.bymonthday){var ae=[].concat(this.options.bymonthday),Q=[].concat(this.options.bynmonthday);ae.sort(function(l,m){return l-m}),Q.sort(function(l,m){return m-l}),this.bymonthday=ae.concat(Q),this.bymonthday.length||(this.bymonthday=null)}if(Object(C.f)(this.origOptions.byweekday)){var ie=Object(C.d)(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],te=String(ie);this.byweekday={allWeeks:ie.filter(function(l){return!l.n}),someWeeks:ie.filter(function(l){return!!l.n}),isWeekdays:te.indexOf("MO")!==-1&&te.indexOf("TU")!==-1&&te.indexOf("WE")!==-1&&te.indexOf("TH")!==-1&&te.indexOf("FR")!==-1&&te.indexOf("SA")===-1&&te.indexOf("SU")===-1,isEveryDay:te.indexOf("MO")!==-1&&te.indexOf("TU")!==-1&&te.indexOf("WE")!==-1&&te.indexOf("TH")!==-1&&te.indexOf("FR")!==-1&&te.indexOf("SA")!==-1&&te.indexOf("SU")!==-1};var E=function(l,m){return l.weekday-m.weekday};this.byweekday.allWeeks.sort(E),this.byweekday.someWeeks.sort(E),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}var L=(x.isFullyConvertible=function(F){if(!(F.options.freq in x.IMPLEMENTED)||F.origOptions.until&&F.origOptions.count)return!1;for(var q in F.origOptions){if(d(["dtstart","wkst","freq"],q))return!0;if(!d(x.IMPLEMENTED[F.options.freq],q))return!1}return!0},x.prototype.isFullyConvertible=function(){return x.isFullyConvertible(this.rrule)},x.prototype.toString=function(){var F=this.gettext;if(!(this.options.freq in x.IMPLEMENTED))return F("RRule error: Unable to fully convert this rrule to text");if(this.text=[F("every")],this[w.default.FREQUENCIES[this.options.freq]](),this.options.until){this.add(F("until"));var q=this.options.until;this.add(this.dateFormatter(q.getUTCFullYear(),this.language.monthNames[q.getUTCMonth()],q.getUTCDate()))}else this.options.count&&this.add(F("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?F("times"):F("time"));return this.isFullyConvertible()||this.add(F("(~ approximate)")),this.text.join("")},x.prototype.HOURLY=function(){var F=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?F("hours"):F("hour"))},x.prototype.MINUTELY=function(){var F=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?F("minutes"):F("minute"))},x.prototype.DAILY=function(){var F=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?F("weekdays"):F("weekday")):this.add(this.plural(this.options.interval)?F("days"):F("day")),this.origOptions.bymonth&&(this.add(F("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},x.prototype.WEEKLY=function(){var F=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?F("weeks"):F("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?F("weekdays"):F("weekday")):this.add(F("on")).add(F("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?F("days"):F("day")):(this.options.interval===1&&this.add(F("week")),this.origOptions.bymonth&&(this.add(F("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},x.prototype.MONTHLY=function(){var F=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(F("months")),this.plural(this.options.interval)&&this.add(F("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?F("months"):F("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(F("on")).add(F("weekdays")):this.byweekday&&this._byweekday()},x.prototype.YEARLY=function(){var F=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(F("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?F("years"):F("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(F("on the")).add(this.list(this.options.byyearday,this.nth,F("and"))).add(F("day")),this.options.byweekno&&this.add(F("in")).add(this.plural(this.options.byweekno.length)?F("weeks"):F("week")).add(this.list(this.options.byweekno,void 0,F("and")))},x.prototype._bymonthday=function(){var F=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(F("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,F("or"))).add(F("the")).add(this.list(this.bymonthday,this.nth,F("or"))):this.add(F("on the")).add(this.list(this.bymonthday,this.nth,F("and")))},x.prototype._byweekday=function(){var F=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(F("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(F("and")),this.add(F("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,F("and"))))},x.prototype._byhour=function(){var F=this.gettext;this.add(F("at")).add(this.list(this.origOptions.byhour,void 0,F("and")))},x.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},x.prototype.nth=function(F){var q,Y;F=parseInt(F.toString(),10);var X=this.gettext;if(F===-1)return X("last");switch(Y=Math.abs(F)){case 1:case 21:case 31:q=Y+X("st");break;case 2:case 22:q=Y+X("nd");break;case 3:case 23:q=Y+X("rd");break;default:q=Y+X("th")}return F<0?q+" "+X("last"):q},x.prototype.monthtext=function(F){return this.language.monthNames[F-1]},x.prototype.weekdaytext=function(F){var q=Object(C.e)(F)?(F+1)%7:F.getJsWeekday();return(F.n?this.nth(F.n)+" ":"")+this.language.dayNames[q]},x.prototype.plural=function(F){return F%100!=1},x.prototype.add=function(F){return this.text.push(" "),this.text.push(F),this},x.prototype.list=function(F,q,Y,X){function ae(ie){return q&&q.call(Q,ie)}X===void 0&&(X=","),Object(C.d)(F)||(F=[F]),q=q||function(ie){return ie.toString()};var Q=this;return Y?function(ie,te,E){for(var l="",m=0;m<ie.length;m++)m!==0&&(m===ie.length-1?l+=" "+E+" ":l+=te+" "),l+=ie[m];return l}(F.map(ae),X,Y):F.map(ae).join(X+" ")},x),A=(k.prototype.start=function(F){return this.text=F,this.done=!1,this.nextSymbol()},k.prototype.isDone=function(){return this.done&&this.symbol===null},k.prototype.nextSymbol=function(){var F,q;this.symbol=null,this.value=null;do{if(this.done)return!1;for(var Y in F=null,this.rules){var X=this.rules[Y].exec(this.text);X&&(F===null||X[0].length>F[0].length)&&(F=X,q=Y)}if(F!=null&&(this.text=this.text.substr(F[0].length),this.text===""&&(this.done=!0)),F==null)return this.done=!0,this.symbol=null,void(this.value=null)}while(q==="SKIP");return this.symbol=q,this.value=F,!0},k.prototype.accept=function(F){if(this.symbol!==F)return!1;if(this.value){var q=this.value;return this.nextSymbol(),q}return this.nextSymbol(),!0},k.prototype.acceptNumber=function(){return this.accept("number")},k.prototype.expect=function(F){if(this.accept(F))return!0;throw new Error("expected "+F+" but found "+this.symbol)},k);function k(F){this.done=!0,this.rules=F}function B(F,q){q===void 0&&(q=v);var Y={},X=new A(q.tokens);return X.start(F)?(function(){X.expect("every");var l=X.acceptNumber();if(l&&(Y.interval=parseInt(l[0],10)),X.isDone())throw new Error("Unexpected end");switch(X.symbol){case"day(s)":Y.freq=w.default.DAILY,X.nextSymbol()&&(function(){if(X.accept("at"))do{var b=X.acceptNumber();if(!b)throw new Error("Unexpected symbol "+X.symbol+", expected hour");for(Y.byhour=[parseInt(b[0],10)];X.accept("comma");){if(!(b=X.acceptNumber()))throw new Error("Unexpected symbol "+X.symbol+"; expected hour");Y.byhour.push(parseInt(b[0],10))}}while(X.accept("comma")||X.accept("at"))}(),E());break;case"weekday(s)":Y.freq=w.default.WEEKLY,Y.byweekday=[w.default.MO,w.default.TU,w.default.WE,w.default.TH,w.default.FR],X.nextSymbol(),E();break;case"week(s)":Y.freq=w.default.WEEKLY,X.nextSymbol()&&(ae(),E());break;case"hour(s)":Y.freq=w.default.HOURLY,X.nextSymbol()&&(ae(),E());break;case"minute(s)":Y.freq=w.default.MINUTELY,X.nextSymbol()&&(ae(),E());break;case"month(s)":Y.freq=w.default.MONTHLY,X.nextSymbol()&&(ae(),E());break;case"year(s)":Y.freq=w.default.YEARLY,X.nextSymbol()&&(ae(),E());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":Y.freq=w.default.WEEKLY;var m=X.symbol.substr(0,2).toUpperCase();if(Y.byweekday=[w.default[m]],!X.nextSymbol())return;for(;X.accept("comma");){if(X.isDone())throw new Error("Unexpected end");var c=ie();if(!c)throw new Error("Unexpected symbol "+X.symbol+", expected weekday");Y.byweekday.push(w.default[c]),X.nextSymbol()}(function(){X.accept("on"),X.accept("the");var b=te();if(b)for(Y.bymonthday=[b],X.nextSymbol();X.accept("comma");){if(!(b=te()))throw new Error("Unexpected symbol "+X.symbol+"; expected monthday");Y.bymonthday.push(b),X.nextSymbol()}})(),E();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(Y.freq=w.default.YEARLY,Y.bymonth=[Q()],!X.nextSymbol())return;for(;X.accept("comma");){if(X.isDone())throw new Error("Unexpected end");var y=Q();if(!y)throw new Error("Unexpected symbol "+X.symbol+", expected month");Y.bymonth.push(y),X.nextSymbol()}ae(),E();break;default:throw new Error("Unknown symbol")}}(),Y):null;function ae(){var l=X.accept("on"),m=X.accept("the");if(l||m)do{var c=te(),y=ie(),b=Q();if(c)y?(X.nextSymbol(),Y.byweekday||(Y.byweekday=[]),Y.byweekday.push(w.default[y].nth(c))):(Y.bymonthday||(Y.bymonthday=[]),Y.bymonthday.push(c),X.accept("day(s)"));else if(y)X.nextSymbol(),Y.byweekday||(Y.byweekday=[]),Y.byweekday.push(w.default[y]);else if(X.symbol==="weekday(s)")X.nextSymbol(),Y.byweekday||(Y.byweekday=[w.default.MO,w.default.TU,w.default.WE,w.default.TH,w.default.FR]);else if(X.symbol==="week(s)"){X.nextSymbol();var S=X.acceptNumber();if(!S)throw new Error("Unexpected symbol "+X.symbol+", expected week number");for(Y.byweekno=[parseInt(S[0],10)];X.accept("comma");){if(!(S=X.acceptNumber()))throw new Error("Unexpected symbol "+X.symbol+"; expected monthday");Y.byweekno.push(parseInt(S[0],10))}}else{if(!b)return;X.nextSymbol(),Y.bymonth||(Y.bymonth=[]),Y.bymonth.push(b)}}while(X.accept("comma")||X.accept("the")||X.accept("on"))}function Q(){switch(X.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function ie(){switch(X.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return X.symbol.substr(0,2).toUpperCase();default:return!1}}function te(){switch(X.symbol){case"last":return X.nextSymbol(),-1;case"first":return X.nextSymbol(),1;case"second":return X.nextSymbol(),X.accept("last")?-2:2;case"third":return X.nextSymbol(),X.accept("last")?-3:3;case"nth":var l=parseInt(X.value[1],10);if(l<-366||366<l)throw new Error("Nth out of range: "+l);return X.nextSymbol(),X.accept("last")?-l:l;default:return!1}}function E(){if(X.symbol==="until"){var l=Date.parse(X.text);if(!l)throw new Error("Cannot parse until date:"+X.text);Y.until=new Date(l)}else X.accept("for")&&(Y.count=parseInt(X.value[0],10),X.expect("number"))}}o.d(r,"fromText",function(){return H}),o.d(r,"isFullyConvertible",function(){return N}),o.d(r,"toText",function(){return z}),o.d(r,"parseText",function(){return B});/*!
* rrule.js - Library for working with recurrence rules for calendar dates.
* https://github.com/jakubroztocil/rrule
*
* Copyright 2010, Jakub Roztocil and Lars Schoning
* Licenced under the BSD licence.
* https://github.com/jakubroztocil/rrule/blob/master/LICENCE
*
*/var H=function(F,q){return q===void 0&&(q=v),new w.default(B(F,q)||void 0)},V=["count","until","interval","byweekday","bymonthday","bymonth"];L.IMPLEMENTED=[],L.IMPLEMENTED[w.default.HOURLY]=V,L.IMPLEMENTED[w.default.MINUTELY]=V,L.IMPLEMENTED[w.default.DAILY]=["byhour"].concat(V),L.IMPLEMENTED[w.default.WEEKLY]=V,L.IMPLEMENTED[w.default.MONTHLY]=V,L.IMPLEMENTED[w.default.YEARLY]=["byweekno","byyearday"].concat(V);var z=function(F,q,Y,X){return new L(F,q,Y,X).toString()},N=L.isFullyConvertible}],t.c=a,t.d=function(i,r,o){t.o(i,r)||Object.defineProperty(i,r,{enumerable:!0,get:o})},t.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},t.t=function(i,r){if(1&r&&(i=t(i)),8&r||4&r&&typeof i=="object"&&i&&i.__esModule)return i;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:i}),2&r&&typeof i!="string")for(var d in i)t.d(o,d,(function(f){return i[f]}).bind(null,d));return o},t.n=function(i){var r=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(r,"a",r),r},t.o=function(i,r){return Object.prototype.hasOwnProperty.call(i,r)},t.p="",t(t.s=1);function t(i){if(a[i])return a[i].exports;var r=a[i]={i,l:!1,exports:{}};return n[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n,a})},2612:()=>{Smart("smart-button",class extends Smart.ContentElement{static get properties(){return{value:{type:"string"},name:{type:"string"},type:{value:"button",type:"string"},clickMode:{allowedValues:["hover","press","release","pressAndRelease"],type:"string",value:"release"}}}static get styleUrls(){return["smart.button.css"]}template(){return`<button class="smart-button smart-unselectable" inner-h-t-m-l='[[innerHTML]]' id='button' type='[[type]]' name='[[name]]' value='[[value]]' disabled='[[disabled]]' role="presentation"></button>`}refresh(){}static get listeners(){return{"button.down":"_downHandler","button.mouseenter":"_mouseEnterHandler","button.mouseleave":"_mouseLeaveHandler","button.touchend":"_touchEndHandler","button.click":"_clickHandler","button.up":"_upHandler",up:"_upHandler","button.focus":"_focusHandler","button.blur":"_blurHandler"}}focus(){const e=this;e.$.button?e.$.button.focus():HTMLElement.prototype.focus.call(e)}blur(){const e=this;e.$.button?e.$.button.blur():HTMLElement.prototype.blur.call(e)}_upHandler(e){const t=this;if(e.stopPropagation(),t.$.setAttributeValue("active",!1),t.dataset.target){const n=document.querySelector(t.dataset.target);let a=t.dataset.toggle,i=t.dataset.arguments;const r="smart-window".toLowerCase();if(n&&n.nodeName.toLowerCase()===r&&a==="modal"&&(a="openModal"),a==="tab"||a==="pill"||a==="list"){const o=this.closest(".nav, .list-group"),d='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',f=!o||o.nodeName!=="UL"&&o.nodeName!=="OL"?o.children(".active"):o.querySelectorAll("li > .active");if(o){const p=o.querySelectorAll(d);for(let w=0;w<p.length;w++)p[w].classList.remove("primary");for(let w=0;w<f.length;w++)f[w].classList.remove("active");let v=t.parentNode;for(;v;){if(v.nodeName==="LI"){v.classList.add("active");break}v=v.parentNode}t.classList.add("primary")}return n.parentNode.querySelectorAll(".active").forEach(p=>{p.classList.remove("active"),p.classList.add("smart-hidden")}),n.classList.add("active"),void n.classList.remove("smart-hidden")}a&&n&&!n[a]&&a==="collapse"&&(setTimeout(()=>{n.classList.contains("smart-hidden")?n.classList.remove("smart-hidden"):n.classList.add("smart-hidden")}),e.originalEvent.preventDefault()),a&&n&&!n[a]&&a==="dropdown"?(setTimeout(()=>{n.opened=!n.opened}),e.originalEvent.preventDefault()):a&&n&&n[a]&&(setTimeout(()=>{i?n[a](i):n[a]()},50),e.originalEvent.preventDefault())}}_focusHandler(){this.$.setAttributeValue("focus",!0),this.$.fireEvent("focus")}_blurHandler(){this.$.setAttributeValue("focus",!1),this.$.fireEvent("blur")}_clickHandler(e){const t=this;(t.clickMode!=="release"&&t.clickMode!=="pressAndRelease"||t.readonly)&&(e.preventDefault(),e.stopPropagation())}_downHandler(e){const t=this;if(!(t.disabled||(t.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),t.$.setAttributeValue("active",!0),t.clickMode!=="press"&&t.clickMode!=="pressAndRelease"||t.readonly))){if(t.hasAttribute("smart-blazor"))return void t.$.dispatchEvent(new Event("click"));const n="buttons"in e?e.buttons:e.which;t.$.fireEvent("click",{buttons:n,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}}_mouseEnterHandler(e){const t=this;if(!t.readonly&&(t.$button.setAttributeValue("hover",!0),t.$.setAttributeValue("hover",!0),t.clickMode==="hover")){const n="buttons"in e?e.buttons:e.which;if(t.hasAttribute("smart-blazor"))return void t.$.dispatchEvent(new Event("click"));t.$.fireEvent("click",{buttons:n,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}}_touchEndHandler(){const e=this;setTimeout(function(){e.$button.setAttributeValue("hover",!1),e.$.setAttributeValue("hover",!1)},300)}_mouseLeaveHandler(){this.$button.setAttributeValue("hover",!1),this.$.setAttributeValue("hover",!1)}propertyChangedHandler(e,t,n){super.propertyChangedHandler(e,t,n);const a=this;e==="disabled"?(a._setFocusable(),a.$button&&a.$button.setAttributeValue("hover",!1),a.$.setAttributeValue("hover",!1),a instanceof Smart.RepeatButton&&a._stopRepeat()):e==="unfocusable"&&a._setFocusable()}_setFocusable(){const e=this,t=e.$.button?e.$.button:e;if(e.disabled||e.unfocusable)return t.removeAttribute("tabindex"),void(t.tabIndex=-1);t.tabIndex=e.tabIndex>0?e.tabIndex:0}ready(){const e=this;super.ready(),e.setAttribute("role","button"),e._setFocusable(),e.enableShadowDOM&&e.$.hiddenInput&&e.appendChild(e.$.hiddenInput)}}),Smart("smart-repeat-button",class extends Smart.Button{static get properties(){return{delay:{value:50,type:"number"},initialDelay:{value:150,type:"number"}}}static get listeners(){return{"button.down":"_startRepeat","button.mouseenter":"_overriddenHandler","button.mouseleave":"_overriddenHandler","button.pointerenter":"_updateInBoundsFlag","button.pointerleave":"_updateInBoundsFlag","button.touchmove":"_touchmoveHandler","document.up":"_stopRepeat"}}_clickHandler(e){const t=this;(t.clickMode!=="release"||t.preventDefaultClick||t.readonly||t.disabled)&&(e.preventDefault(),e.stopPropagation(),t.preventDefaultClick=!1)}_updateInBoundsFlag(e){const t=this;e.type.indexOf("leave")!==-1?(t._isPointerInBounds=!1,t.$button.setAttributeValue("hover",!1),t.$.setAttributeValue("hover",!1)):(t._isPointerInBounds=!0,t.$button.setAttributeValue("hover",!0),t.$.setAttributeValue("hover",!0)),("buttons"in e?e.buttons:e.which)!==1&&t._stopRepeat(e)}_startRepeat(e){const t=this;t.setAttribute("active",""),t._initialTimer||t.readonly||(t._initialTimer=setTimeout(function(){t._repeatTimer=setInterval(()=>{if(t._isPointerInBounds){if(t.hasAttribute("smart-blazor"))return t.$.dispatchEvent(new Event("click")),void(t.preventDefaultClick=!0);const n="buttons"in e?e.buttons:e.which;t.$.fireEvent("click",{buttons:n,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY}),t.preventDefaultClick=!0}},t.delay)},t.initialDelay))}_stopRepeat(e){const t=this;t.readonly||e&&(e.type==="pointercancel"||e.originalEvent&&e.originalEvent.type==="pointercancel")||(t.$.setAttributeValue("active",!1),t._repeatTimer&&(clearInterval(t._repeatTimer),t._repeatTimer=null),t._initialTimer&&(clearTimeout(t._initialTimer),t._initialTimer=null))}_touchmoveHandler(e){this.preventDefaultClick&&e.cancelable&&(e.preventDefault(),e.stopPropagation())}_overriddenHandler(){}}),Smart("smart-toggle-button",class extends Smart.Button{static get properties(){return{checked:{value:!1,type:"boolean?"},falseContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminate:{value:!1,type:"boolean"},trueContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateTemplate:{value:null,type:"any"},trueTemplate:{value:null,type:"any"},falseTemplate:{value:null,type:"any"},type:{value:"toggle",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}static get listeners(){return{keydown:"_keyHandler",keyup:"_keyHandler",dragstart:"_dragStartHandler","button.click":"_buttonClickHandler","button.mouseenter":"_buttonMouseEnterHandler","button.mouseleave":"_buttonMouseLeaveHandler","document.up":"_documentUpHandler"}}ready(){super.ready(),this._setAriaState(),this._updateGroupValue()}_setAriaState(){const e=this,t=e.checked;t!==null?e.setAttribute("aria-pressed",t):e.setAttribute("aria-pressed","mixed")}_buttonClickHandler(){}_buttonMouseLeaveHandler(){this.removeAttribute("hover")}_buttonMouseEnterHandler(){const e=this;e.setAttribute("hover",""),e.disabled||e.readonly||e.clickMode!=="hover"||(e._changeCheckState("pointer"),e.focus(),e._updateHidenInputNameAndValue())}_documentUpHandler(e){const t=this;t._pressed&&(t._pressed=!1,t.disabled||t.readonly||t.clickMode==="press"||e.originalEvent.type==="pointercancel"||(t._changeCheckState("pointer"),t.focus(),t._updateHidenInputNameAndValue()))}_downHandler(e){const t=this;t.disabled||t.readonly||(t.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),t._pressed=!0,t.clickMode!=="press"&&t.clickMode!=="pressAndRelease"||(t._changeCheckState("pointer"),t.hasAttribute("smart-blazor")?t.$.dispatchEvent(new Event("click")):t.$.fireEvent("click"),t._updateHidenInputNameAndValue()),t.clickMode==="press"&&(e.preventDefault(),e.stopPropagation()))}_dragStartHandler(e){e.preventDefault()}_keyHandler(e){const t=this;if(t.disabled!==!0&&!t.readonly&&e.keyCode===32){if(e.type==="keydown")return void e.preventDefault();if(t.switchMode==="none")return;t._changeCheckState("keyboard"),t._updateHidenInputNameAndValue()}}_updateGroupValue(){const e=this;if(e.dataset.target){const t=document.querySelector(e.dataset.target);if(t){const n=document.querySelectorAll('[data-target="'+e.dataset.target+'"]'),a=[];if(e.checked){const i=e.dataset.property,r=e.dataset.value;if(i&&t[i]!==void 0){let o=r;o==="true"&&(o=!0),o==="false"&&(o=!1),t[i]=o}}for(let i=0;i<n.length;i++){const r=n[i];r.checked&&(r.name?(a.push(r.name),e.id&&r.setAttribute("data-id",e.id)):e.id&&a.push(e.id))}t.value=a.toString(),e._targetDispatchTimer&&clearTimeout(e._targetDispatchTimer),e._targetDispatchTimer=setTimeout(()=>{t.dispatchEvent(new Event("change"))},100)}}}_changeCheckState(e){const t=this;let n=null;t.checked===null?t.checked=!0:(n=t.checked,t.checked=!t.checked),t._handleTextSelection(),t.$.fireEvent("change",{value:t.checked,oldValue:n,changeType:e}),t.checked?t.$.fireEvent("checkValue",{changeType:e}):t.$.fireEvent("uncheckValue",{changeType:e}),t._updateGroupValue(),t._setAriaState()}_handleTextSelection(){const e=this;e.$.addClass("smart-unselectable"),e.timer&&clearTimeout(e.timer),e.timer=setTimeout(()=>e.$.removeClass("smart-unselectable"),500)}propertyChangedHandler(e,t,n){super.propertyChangedHandler(e,t,n);const a=this;if(e==="checked")return a.$.fireEvent("change",{value:n,oldValue:t,changeType:"api"}),void a._setAriaState();switch(e){case"trueTemplate":a._handleTemplate(!0);break;case"falseTemplate":a._handleTemplate(!1);break;case"indeterminateTemplate":a._handleTemplate()}}_htmlBindOnInitialization(){const e=this;e._bindContentProperty("trueContent","smart-true-content"),e._bindContentProperty("falseContent","smart-false-content"),e._bindContentProperty("indeterminateContent","smart-indeterminate-content")}_bindContentProperty(e,t){const n=this;if(!n.$[e+"Container"])return;let a=document.createElement("div");a.innerHTML=n.innerHTML;let i,r=a.getElementsByClassName(t);if(r.length>0)for(let o=0;o<r.length;o++)i=r[o];n[e]===""&&(n[e]=i===void 0?"":i.outerHTML),n.$[e+"Container"].innerHTML=n[e]}_updateContentProperties(){const e=this;function t(n){e.$[n+"Container"]&&(e[n]=e.$[n+"Container"].innerHTML)}t("trueContent"),t("falseContent"),t("indeterminateContent")}_updateHidenInputValue(){const e=this;if(!e.$.hiddenInput)return;let t;t=e.checked===null?"null":e.checked===!1?"off":e.value||"on",e.$.hiddenInput.setAttribute("value",t)}_updateHidenInputName(){const e=this;if(!e.$.hiddenInput)return;let t=e.checked===!1?"":e.name||"";e.$.hiddenInput.setAttribute("name",t)}_updateHidenInputNameAndValue(){this._updateHidenInputName(),this._updateHidenInputValue()}_handleTemplate(e,t){const n=this;let a,i,r;if(e===!0?(a=n.trueTemplate,i=n.$.trueContentContainer,r=n.trueContent):e===!1?(a=n.falseTemplate,i=n.$.falseContentContainer,r=n.falseContent):(a=n.indeterminateTemplate,i=n.$.indeterminateContentContainer,r=n.indeterminateContent),t&&(i.innerHTML=r||""),a===null||!a)return;if(typeof a=="function")return void a(i,{value:r});if(!("content"in document.createElement("template")))return void n.error(n.localize("htmlTemplateNotSuported",{elementType:n.nodeName.toLowerCase()}));if(a=document.getElementById(a),a===null||!("content"in a))return void n.error(n.localize("invalidTemplate",{elementType:n.nodeName.toLowerCase(),property:"template"}));const o=a.content,d=o.childNodes.length,f=/{{\w+}}/g;let p,v=[];for(let A=0;A<d;A++)for(p=f.exec(o.childNodes[A].innerHTML);p;)v.push({childNodeIndex:A,bindingString:p[0]}),p=f.exec(o.childNodes[A].innerHTML);const w=v.length;let C,x,L=document.importNode(a.content,!0);for(let A=0;A<w;A++){C=L.childNodes[v[A].childNodeIndex],x=v.length;for(let k=0;k<x;k++)C.innerHTML=C.innerHTML.replace(v[A].bindingString,r)}i.innerHTML="";for(let A=0;A<L.childNodes.length;A++)L.childNodes[A].outerHTML&&(i.innerHTML+=L.childNodes[A].outerHTML)}})},6867:()=>{Smart("smart-button-group",class extends Smart.ContentElement{static get properties(){return{dataSource:{type:"any",value:[],reflectToAttribute:!1},name:{value:"",type:"string"},selectionMode:{allowedValues:["none","one","zeroOrOne","zeroOrMany"],type:"string",value:"one"},selectedIndexes:{value:[],type:"array"},selectedValues:{value:[],type:"array"}}}static get styleUrls(){return["smart.buttongroup.css"]}template(){return`<div id='container' class='smart-container' role="presentation">
                    <div id="itemsContainer" class="smart-button-group-items" role="presentation"></div>
                    <input id='hiddenInput' type='hidden' name='[[name]]' value='[[value]]' class='smart-hidden-input'>
                </div>`}static get listeners(){return{click:"_clickHandler",keydown:"_keyDownHandler",focus:"_focusHandler",blur:"_focusHandler"}}propertyChangedHandler(e,t,n){super.propertyChangedHandler(e,t,n);const a=this;switch(e){case"dataSource":a._handleDataSource();break;case"unfocusable":a._setFocusable();break;case"selectionMode":a._handleSelection();break;case"selectedValues":case"selectedIndexes":a._handleValue(e)}}render(){const e=this;e._handleDataSource(),e.setAttribute("role","group"),e._setFocusable(),e.enableShadowDOM&&e.$.hiddenInput&&e.appendChild(e.$.hiddenInput),super.render()}select(e){const t=this;if(e==null||t.selection==="none")return;const n=t.$.itemsContainer.children;if(typeof e!="number"){e+="";for(let a=0;a<n.length;a++){const i=n[a];i.getAttribute("value")===e&&t._selectItem(i)}}else t._selectItem(n[e])}_clickHandler(e){const t=this,n=t.shadowRoot||t.isInShadowDOM?e.composedPath()[0]:e.target;e.stopPropagation(),t._selectItem(n)}_handleDataSource(){const e=this,t=e.$.itemsContainer,n=e.dataSource,a=e.selectedValues,i=e.selectedIndexes;let r=typeof n=="function"?e.dataSource():n;if(typeof r=="string"&&(r=JSON.parse(e.dataSource)),Array.isArray(r)||(r=Array.from(r)),t.innerHTML="",!r)return void e._updateValue();const o=document.createDocumentFragment();for(let d=0;d<r.length;d++){const f=r[d];let p,v=f,w=f;typeof f=="object"&&(v=f.label+""||"",w=f.value+""||v||"",p=f.disabled);const C=document.createElement("div");C.innerHTML=`<div>${v}</div>`,C.id=e.id+"Item"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),C.classList.add("smart-button-group-item"),C.setAttribute("data-label",v),C.setAttribute("value",w),C.setAttribute("role","option"),C.setAttribute("aria-label",v),a.indexOf(w)>-1||i.indexOf("value")>-1?(C.setAttribute("active",""),C.setAttribute("aria-selected",!0)):C.setAttribute("aria-selected",!1),p&&C.setAttribute("disabled",""),o.appendChild(C)}t.appendChild(o),e._handleSelection()}_handleSelection(){const e=this,t=e.$.itemsContainer,n=Array.from(t.children);if(!n.length)return;const a=e.selectionMode;switch(t.setAttribute("aria-multiselectable",!1),a){case"none":n.forEach(i=>{i.removeAttribute("active"),i.removeAttribute("focus"),i.setAttribute("aria-selected",!1)});break;case"one":case"zeroOrOne":{const i=n.filter(o=>o.hasAttribute("active")),r=n[0];a==="one"&&!i.length&&r&&(r.setAttribute("active",""),r.setAttribute("aria-selected",!0));for(let o=0;o<i.length;o++){const d=i[o];o!==0&&(d.removeAttribute("active"),d.removeAttribute("focus"),d.setAttribute("aria-selected",!1))}break}case"zeroOrMany":t.setAttribute("aria-multiselectable",!0)}e._updateValue()}_handleValue(e){const t=this,n=t.$.itemsContainer.children,a=t.selectionMode;let i=t.selectedValues,r=t.selectedIndexes;e==="selectedValues"?r=[]:e==="selectedIndexes"&&(i=[]);for(let o=0;o<n.length;o++){const d=n[o];a!=="none"&&(i.indexOf(d.getAttribute("value"))>-1||r.indexOf(o)>-1)?(d.setAttribute("active",""),d.setAttribute("focus",""),d.setAttribute("aria-selected",!0)):(d.removeAttribute("active"),d.removeAttribute("focus"),d.setAttribute("aria-selected",!1))}t._handleSelection()}_keyDownHandler(e){const t=this;if(t.readonly)return;const n=t.$.itemsContainer.children;let a,i;for(let r=0;r<n.length;r++){const o=n[r];o.hasAttribute("focus")&&(a=o),o.hasAttribute("active")&&(i=o)}switch(a=a||i||n[0],e.key){case"ArrowLeft":case"ArrowRight":e.preventDefault(),a=e.key==="ArrowLeft"?a.previousElementSibling:a.nextElementSibling;break;case"Enter":case" ":return e.preventDefault(),void t._selectItem(a);case"Home":case"End":e.preventDefault(),a=e.key==="Home"?n[0]:n[n.length-1]}if(a)for(let r=0;r<n.length;r++)n[r]===a?a.setAttribute("focus",""):n[r].removeAttribute("focus")}_focusHandler(e){const t=this.$.itemsContainer;if(e.type!=="focus"||this.readonly){const n=t.children;for(let a=0;a<n.length;a++)n[a].removeAttribute("focus")}else{const n=t.querySelector(".smart-button-group-item[active]")||t.children[0];n&&n.setAttribute("focus","")}}_setFocusable(){const e=this;if(e.disabled||e.unfocusable)return e.removeAttribute("tabindex"),void(e.tabIndex=-1);e.tabIndex=e.tabIndex>0?e.tabIndex:0}_selectItem(e){if(!e||!e.closest)return;const t=this,n=t.selectionMode;if(!(e=e.closest(".smart-button-group-item"))||n==="none")return;const a=t.$.itemsContainer.children;if(n!=="one"||!e.hasAttribute("active")){if(n.toLowerCase().indexOf("one")>-1){n==="zeroOrOne"&&e.hasAttribute("active")&&(e=void 0);for(let i=0;i<a.length;i++){const r=a[i];r.removeAttribute("active"),r.removeAttribute("focus"),r.setAttribute("aria-selected",!1)}}for(let i=0;i<a.length;i++){const r=a[i];r===e?(e.hasAttribute("active")?(e.removeAttribute("active"),e.setAttribute("aria-selected",!1)):(e.setAttribute("active",""),e.setAttribute("aria-selected",!0)),e.setAttribute("focus","")):r.removeAttribute("focus")}t._updateValue()}}_updateValue(){const e=this,t=Array.from(e.$.itemsContainer.children),n=t.filter(r=>r.hasAttribute("active")),a=n.map(r=>r.getAttribute("value")),i=e.selectedValues;if(i.length!==a.length||i.some(r=>a.indexOf(r)<0)){const r=n.map(d=>t.indexOf(d)),o=e.selectedIndexes;e.set("selectedValues",a),e.set("selectedIndexes",r),e.$.fireEvent("change",{oldValue:i,oldIndexes:o,values:a,indexes:r})}}})},5810:()=>{Smart("smart-calendar",class extends Smart.BaseElement{static get properties(){return{animationSettings:{value:null,type:"object"},calendarMode:{value:"default",allowedValues:["default","classic"],type:"string"},dayNameFormat:{value:"firstTwoLetters",allowedValues:["narrow","firstTwoLetters","long","short"],type:"string"},dateFormatFunction:{value:null,type:"function"},disableAutoNavigation:{value:!1,type:"boolean"},disableMouseWheel:{value:!1,type:"boolean"},displayMode:{value:"month",allowedValues:["month","year","decade"],type:"string"},displayModeView:{value:"table",allowedValues:["table","list"],type:"string"},dropDownHeight:{value:"200",type:"string"},dropDownWidth:{value:"",type:"string"},firstDayOfWeek:{value:0,type:"number",defaultValue:0,validator:"_firstDayOfWeekValidator"},footerTemplate:{value:null,type:"any"},headerTemplate:{value:null,type:"any"},hideDayNames:{value:!1,type:"boolean"},hideOtherMonthDays:{value:!1,type:"boolean"},hideTooltipArrow:{value:!1,type:"boolean"},importantDates:{value:[],type:"array",defaultValue:[]},importantDatesTemplate:{value:null,type:"any"},max:{value:new Date(2100,0,1),type:"any",defaultValue:new Date(2100,0,1)},min:{value:new Date(1900,0,1),type:"any",defaultValue:new Date(1900,0,1)},months:{value:1,type:"number",defaultValue:1,validator:"_monthsValidator"},monthNameFormat:{value:"long",allowedValues:["narrow","firstTwoLetters","long","short","2-digit","numeric"],type:"string"},name:{value:"",type:"string"},restrictedDates:{value:[],type:"array",defaultValue:[]},scrollButtonsNavigationMode:{value:"landscape",allowedValues:["portrait","landscape"],type:"string"},scrollButtonsPosition:{value:"both",allowedValues:["near","far","both"],type:"string"},selectedDates:{value:[],reflectToAttribute:!1,type:"array"},selectionMode:{value:"default",allowedValues:["none","default","one","oneExtended","many","zeroOrMany","oneOrMany","zeroOrOne","week","range"],type:"string"},spinButtonsDelay:{value:200,type:"number"},spinButtonsInitialDelay:{value:0,type:"number"},titleTemplate:{value:null,type:"any"},tooltip:{value:!1,type:"boolean"},tooltipArrow:{value:!0,type:"boolean"},tooltipArrowDirection:{allowedValues:["bottom","top","left","right","none"],value:"bottom",type:"string"},tooltipDelay:{value:100,type:"number"},tooltipOffset:{value:[],type:"array"},tooltipPosition:{value:"auto",allowedValues:["auto","bottom","top","left","right","absolute"],type:"string"},tooltipTemplate:{value:null,type:"any"},view:{value:"portrait",allowedValues:["landscape","portrait"],type:"string"},viewSections:{value:["header"],type:"array"},weekNumbers:{value:!1,type:"boolean"},weeks:{value:6,type:"number",defaultValue:6,validator:"_weeksValidator"},yearFormat:{value:"numeric",allowedValues:["2-digit","numeric"],type:"string"}}}static get listeners(){return{"container.down":"_downHandler","document.up":"_documentUpHandler","body.move":"_moveHandler","container.wheel":"_containerWheelHandler","body.focus":"_bodyFocusStateHandler","body.blur":"_bodyBlurStateHandler","header.click":"_headerClickHandler","header.change":"_headerChangeHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler","container.mouseover":"_mouseEventsHandler","container.mouseout":"_mouseEventsHandler","container.open":"_popupEventHandler","container.close":"_popupEventHandler"}}static get methods(){return{select:"select(date=new Date(): date|string): void",clearSelection:"clearSelection(): void",today:"today(): date",navigate:"navigate(step: date|string|int): bool"}}static get styleUrls(){return["smart.calendar.css"]}template(){return`<div id="container" role="presentation">
                    <div id="title" class="smart-calendar-title" role="heading" aria-level="1">
                        <div id="yearContainer" class="smart-calendar-year-container" role="button"></div>
                        <div id="dateContainer" class="smart-calendar-date-container smart-calendar-selected" role="button"></div>
                    </div>
                    <div id="calendarContainer" class="smart-calendar-container">
                        <div id="header" class="smart-calendar-header">
                            <smart-repeat-button prev-month class="smart-calendar-button" id="previousMonthButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]" right-to-left="[[rightToLeft]]" aria-label="Previous month">
                                <span aria-hidden="true"></span>
                            </smart-repeat-button>
                            <div id="dateElement" class="smart-calendar-date-element" role="presentation">
                                <div id="defaultHeaderDate" role="button"></div>
                                <div id="classicHeaderDate">
                                    <div id="monthElement" class="smart-calendar-month-element" disabled="[[disabled]]" role="presentation">
                                    </div>
                                    <input class="smart-calendar-year-element" id="yearElement" disabled="[[disabled]]" readonly="[[readonly]]" aria-label="Year" />
                                    <span class="smart-calendar-year-elements">
                                        <smart-repeat-button next-year class="smart-calendar-button" id="nextYearButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]" right-to-left="[[rightToLeft]]" aria-label="Next year">
                                            <span aria-hidden="true"></span>
                                        </smart-repeat-button>
                                        <smart-repeat-button prev-year class="smart-calendar-button" id="previousYearButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]" right-to-left="[[rightToLeft]]" aria-label="Previous year">
                                            <span aria-hidden="true"></span>
                                        </smart-repeat-button>
                                    </span>
                                </div>
                            </div>
                            <smart-repeat-button next-month class="smart-calendar-button" id="nextMonthButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]" right-to-left="[[rightToLeft]]" aria-label="Next month">
                                <span aria-hidden="true"></span>
                            </smart-repeat-button>
                        </div>
                        <div id="body" class="smart-content smart-calendar-body" role="presentation">
                            <div id="monthsContainer" class="smart-calendar-months-container" role="presentation">
                              <div id="month" class="smart-calendar-month" role="grid">
                                   <div id="monthName" class="smart-calendar-month-name"></div>
                                   <div id="weekTitles" class="smart-calendar-week-titles" role="row">
                                       <div class="smart-calendar-week-title" role="columnheader"></div>
                                       <div class="smart-calendar-week-title" role="columnheader"></div>
                                       <div class="smart-calendar-week-title" role="columnheader"></div>
                                       <div class="smart-calendar-week-title" role="columnheader"></div>
                                       <div class="smart-calendar-week-title" role="columnheader"></div>
                                       <div class="smart-calendar-week-title" role="columnheader"></div>
                                       <div class="smart-calendar-week-title" role="columnheader"></div>
                                       <div class="smart-calendar-week-title" role="columnheader"></div>
                                   </div>
                                   <div id="weeks" class="smart-calendar-weeks" role="rowgroup">
                                        <div class="smart-calendar-week" role="row">
                                           <div class="smart-calendar-week-number" role="rowheader"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                        </div>
                                        <div class="smart-calendar-week" role="row">
                                           <div class="smart-calendar-week-number" role="rowheader"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                       </div>
                                       <div class="smart-calendar-week" role="row">
                                           <div class="smart-calendar-week-number" role="rowheader"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                       </div>
                                       <div class="smart-calendar-week" role="row">
                                           <div class="smart-calendar-week-number" role="rowheader"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                       </div>
                                       <div class="smart-calendar-week" role="row">
                                           <div class="smart-calendar-week-number" role="rowheader"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                       </div>
                                       <div class="smart-calendar-week" role="row">
                                           <div class="smart-calendar-week-number" role="rowheader"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"></div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                           <div class="smart-calendar-cell" role="gridcell"> </div>
                                       </div>
                                   </div>
                                </div>
                            </div>
                            <div id="dateViewContainer" class="smart-calendar-date-view-container smart-hidden">
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                                    <div class="smart-calendar-cell" role="button"></div>
                            </div>
                            <div id="monthsSeparator" class="smart-calendar-month-separator"></div>
                            <div id="nextMonthsContainer" class="smart-calendar-next-months-container" aria-hidden="true"></div>
                            <div id="animationPanel" class="smart-calendar-animation-panel smart-hidden"></div>
                        </div>
                        <div id="footer" class="smart-calendar-footer smart-hidden">
                            <div id="selectedDatesRange"></div>
                        </div>
                        <input id="hiddenInput" type="hidden" name="[[name]]">
                    </div>
                </div>`}_updateTargetValue(){const e=this;if(e.dataset.target){const t=document.querySelector(e.dataset.target);if(t){const n=e.dataset.property,a=e.selectedDates.toString();n&&t[n]!==void 0&&(t[n]=a)}}}propertyChangedHandler(e,t,n){super.propertyChangedHandler(e,t,n);const a=this;switch(e){case"animationSettings":a._applyAnimationSettings();break;case"disabled":case"unfocusable":a._setFocusable();break;case"calendarMode":case"dropDownWidth":case"dropDownHeight":a.displayMode="month",a._refreshHeaderElements(),a._refreshCalendarMode(),a._setDisplayModeContent();break;case"dayNameFormat":a._refreshDayOfWeekTitles(a.$.month);break;case"dateFormatFunction":{let i=a.$.monthsContainer.children;for(let r=0;r<i.length;r++)i[r].firstElementChild.innerHTML=n?n(i[r]._date):a._monthsNames[i[r]._date.getMonth()]+" "+i[r]._date.toLocaleDateString(a.locale,{year:a.yearFormat});a._refreshHeaderTitle();break}case"displayMode":if(a.calendarMode==="classic"&&n!=="month"){a[e]="month";break}a._setDisplayMode(t,n);break;case"displayModeView":a._applyAnimationSettings(!0),a.displayMode!=="month"&&a._setDisplayModeContent();break;case"firstDayOfWeek":a._handleMonths(),a._refreshDayOfWeekTitles();break;case"hideTooltipArrow":a.$.tooltip&&(a.$.tooltip.arrow=!n);break;case"titleTemplate":case"headerTemplate":case"footerTemplate":a._handleLayoutTemplate(a.$[e.split(/[T]/)[0]],n),e==="titleTemplate"?a._refreshTitle():e==="headerTemplate"?a._refreshHeaderTitle():a._refreshFooter();break;case"importantDates":a.importantDates=a._getValidDates(n),a._refreshImportantDates();break;case"importantDatesTemplate":a._handleImportantDateTemplate(),a._refreshImportantDates();break;case"locale":a._refreshMonthNames(),a._refreshDayOfWeekTitles(),a._refreshHeaderTitle(),a._refreshTitle(),a._refreshFooter(),a.displayMode&&a.displayMode!=="month"&&a._setDisplayModeContent();break;case"max":case"min":a._validateMinMax(e,n,t),a._validateSelectedDates(),a._noFocusingRequired=!1,a._refreshHeaderElements();break;case"months":a._handleMonths();break;case"monthNameFormat":a._refreshCalendarMode(),a._refreshHeaderTitle();break;case"restrictedDates":a._setRestrictedDates(a.restrictedDates=a._getValidDates(n));break;case"rightToLeft":a._refreshDayOfWeekTitles(),a._handleMonths();break;case"scrollButtonsNavigationMode":a._setScrollButtonsNavigationMode();break;case"selectedDates":if(a._clearSelection(!0),a._validateSelectedDates(a._getValidDates(n)),a._applySelectionMode(!0),a._viewDates){let i=a.selectedDates[a.selectedDates.length-1];a._isDateInView(i)?a.selectedDates.map(r=>a._selectDate(r,!0,!0)):a._handleMonths(i)}a._refreshFooter(),a._setWeeksVisibility(a.$.monthsContainer),a.$.hiddenInput.value=a.selectedDates.toString(),a.isInitialized&&(a.$.fireEvent("change",{value:a.selectedDates}),a._updateTargetValue()),a._refreshTitle(),a.displayMode!=="month"&&a._setDisplayModeContent();break;case"selectionMode":a._applySelectionMode(!1,t),a._refreshTitle();break;case"tooltip":a._handleTooltip();break;case"tooltipArrow":case"tooltipArrowDirection":case"tooltipDelay":case"tooltipOffset":case"tooltipPosition":case"tooltipTemplate":if(a.$.tooltip){const i=e.replace("tooltip","");a.$.tooltip[i.charAt(0).toLowerCase()+i.slice(1)]=n}break;case"view":a._refreshTitle();break;case"viewSections":n.indexOf("title")>-1?a.$title.removeClass("smart-hidden"):a.$title.addClass("smart-hidden"),a._refreshTitle(),n.indexOf("header")>-1?a.$header.removeClass("smart-hidden"):a.$header.addClass("smart-hidden"),a._refreshHeaderTitle(),n.indexOf("footer")>-1?a.$footer.removeClass("smart-hidden"):a.$footer.addClass("smart-hidden"),a._refreshFooter(),a._setFocusable();break;case"weeks":a._setWeeksVisibility(a.$.monthsContainer);break;case"yearFormat":if(a._refreshCalendarMode(),a._refreshFooter(),a.months>1&&a.displayMode==="month"){let i=a._animationStarted?a.$.nextMonthsContainer.children:a.$.monthsContainer.children;for(let r=0;r<i.length;r++)i[r].firstElementChild.innerHTML=a.dateFormatFunction?a.dateFormatFunction(i[r]._date):a._monthsNames[i[r]._date.getMonth()]+" "+i[r]._date.toLocaleDateString(a.locale,{year:n})}a._refreshTitle(),a._refreshHeaderTitle()}}ready(){super.ready();const e=this;e._keysPressed={},e._applyAnimationSettings(),e.importantDates=e._getValidDates(e.importantDates),e.restrictedDates=e._getValidDates(e.restrictedDates)}render(){const e=this;e.setAttribute("role","dialog"),e._refreshMonthNames(),e._validateMinMax(),e._validateSelectedDates(e._getValidDates(e.selectedDates)),e._handleLayoutTemplate(e.$.title,e.titleTemplate),e._handleLayoutTemplate(e.$.header,e.headerTemplate),e._handleLayoutTemplate(e.$.footer,e.footerTemplate),e._handleImportantDateTemplate(),e._setFocusable(),e._refreshDayOfWeekTitles(),e._applySelectionMode(!0),e._handleMonths(e.selectedDates.length===0?new Date(new Date().setHours(0,0,0,0)):e.selectedDates[e.selectedDates.length-1]),e._handleTooltip(),e._updateViewSectionsVisibility(),e._setScrollButtonsNavigationMode(),e._refreshCalendarMode(),e._setDisplayMode(),e._refreshTitle(),e._refreshFooter(),e._refreshImportantDates(),e.$.monthElement&&e.$.monthElement._setDropDownSize&&e.$.monthElement._setDropDownSize(),e._changeEventFired=0,e.$.hiddenInput.value=e.selectedDates.toString(),e.shadowRoot&&e.appendChild(e.$.hiddenInput),e.isInitialized=!0,super.render()}refresh(){this.isInitialized&&this.render()}_updateViewSectionsVisibility(){const e=this;e.viewSections.indexOf("title")>-1?e.$title.removeClass("smart-hidden"):e.$title.addClass("smart-hidden"),e.viewSections.indexOf("header")>-1?e.$header.removeClass("smart-hidden"):e.$header.addClass("smart-hidden"),e.viewSections.indexOf("footer")>-1?e.$footer.removeClass("smart-hidden"):e.$footer.addClass("smart-hidden")}clearSelection(){this._clearSelection()}_setFocusable(){const e=this;let t=e.tabIndex>0?e.tabIndex:0;function n(a,i){if(i)return a&&a instanceof i?(typeof a._setFocusable=="function"&&a.isCompleted?a.unfocusable=t<=-1:a.setAttribute("tabindex",t),a):a||void 0}(e.disabled||e.unfocusable)&&(t=-1),e.$.previousMonthButton=n(e.$.previousMonthButton,Smart.Button),e.$.nextMonthButton=n(e.$.nextMonthButton,Smart.Button),e.$.nextYearButton=n(e.$.nextYearButton,Smart.Button),e.$.previousYearButton=n(e.$.previousYearButton,Smart.Button),e.$.monthElement=n(e.$.monthElement,Smart.Input),e.$.yearElement=n(e.$.yearElement,HTMLInputElement),e.viewSections.indexOf("title")>-1&&(e.$.dateContainer.setAttribute("tabindex",t),e.$.yearContainer.setAttribute("tabindex",t)),e.$.body.setAttribute("tabindex",t),e.calendarMode==="default"?e.$.dateElement.setAttribute("tabindex",t):e.$.dateElement.removeAttribute("tabindex"),e.unfocusable?e.removeAttribute("tabindex"):e.tabIndex=e.readonly&&!e.disabled?e.tabIndex>0?e.tabIndex:0:t}static get requires(){return{"Smart.DropDownList":"smart.dropdownlist.js","Smart.ListBox":"smart.listbox.js","Smart.RepeatButton":"smart.button.js","Smart.Tooltip":"smart.tooltip.js"}}navigate(e){const t=this;let n,a,i;if(e){if(typeof e=="number"){if(e=parseInt(e),isNaN(e)||e===0)return!1;if(t.weeks!==6&&t.weeks!==0&&t.displayMode==="month"){let r,o;t._focusedCell||t._focusCell();const d=[].slice.call(t._focusedCell.closest(".smart-calendar-weeks").children).filter(f=>!f.classList.contains("smart-hidden"));e<0?(o=d[0].querySelectorAll(".smart-calendar-cell"),r=t.rightToLeft?o[o.length-1]:o[0]):(o=d[d.length-1].querySelectorAll(".smart-calendar-cell"),r=t.rightToLeft?o[0]:o[o.length-1]),a=new Date(r.value),a.setDate(a.getDate()+e),n=a}else n=t._getNextDate(e)}else{if(n=e=t._getValidDate(e),i=!0,isNaN(n.getTime()))return!1;const r=t._viewDates[0];if(r&&n.getMonth()===r.getMonth()&&n.getFullYear()===r.getFullYear())return!1;t.weeks!==6&&t.weeks!==0&&t.displayMode==="month"&&(a=n)}return!(!n||t.$.fireEvent("navigationChanging",{value:new Date(n),type:t.displayMode}).defaultPrevented||(t.displayMode!=="month"?(!i&&t.hasAnimation?(t.$nextMonthsContainer.addClass("smart-calendar-date-view-container"),t.displayModeView==="list"?t._setDisplayModeContent(n):t._navigationDate&&t._navigationDate.getTime()===n.getTime()||t._animateNavigation(n,e)):t._setDisplayModeContent(n),t.$.fireEvent("navigationChange",{value:new Date(n),type:t.displayMode}),0):(t.hasAnimation?(t._animateNavigation(n,e),t.$nextMonthsContainer.hasClass("smart-date-view-container")&&t.$nextMonthsContainer.removeClass("smart-date-view-container")):(t._handleMonths(n),t._refreshHeaderElements(),t._refreshHeaderTitle()),a&&(t._focusCell(t._getCellByDate(a,t._animationStarted?t.$.nextMonthsContainer:void 0),!0),t._updateWeeksVisibility(e)),t.$.fireEvent("navigationChange",{value:new Date(n),type:t.displayMode}),0)))}}set value(e){this._select(e)}get value(){return this.selectedDates&&this.selectedDates.length>0?this.selectedDates[0]:null}select(e){this._select(e)}_select(e){const t=this;t._viewDates&&t._viewDates[0]!==void 0&&t.selectionMode!=="none"&&e&&(e=t._getValidDate(e))instanceof Date&&(t.selectionMode==="one"&&t.selectedDates.map(Number).indexOf(e.getTime())>-1||e.getTime()<t.min.getTime()||e.getTime()>t.max.getTime()||(t.selectionMode!=="one"&&t.selectionMode!=="default"&&t.selectionMode!=="zeroOrOne"||t._clearSelection(!0),t._selectDate(e),t.selectedDates.length!==1||t._isDateInView(t.selectedDates[0])||t._handleMonths(t.selectedDates[0])))}today(){const e=this;let t=new Date;return t.setHours(0,0,0,0),t.getTime()<e.min.getTime()||t.getTime()>e.max.getTime()?t=new Date(e.max):e._selectDate(t),e._handleMonths(t),t}_animateNavigation(e,t,n){const a=this;a._navigationDate=e,a._animationSettings||a._applyAnimationSettings(),a.$animationPanel.addClass("smart-hidden"),a.$.dateViewContainer.style.transform="",a.$.dateViewContainer.style.opacity="",a.$.monthsContainer.style.transform="",a.$.monthsContainer.style.opacity="";const i=a.displayMode!=="month"?a.$.dateViewContainer:a.$.monthsContainer,r=a.$.body[a._animationSettings.scrollMax]-a.$.body[a._animationSettings.size];a._scrollStep=a.$.body[a._animationSettings.size]*a._animationSettings.startSpeed,a._animationStarted&&a._getMonthCells(a.$.monthsContainer,a.rightToLeft).map(o=>{a._setCellState(o,"restricted",!1),a._setCellState(o,"selected",!1),a._setCellState(o,"otherMonth",!1),a._setCellState(o,"focus",!1),a._setCellState(o,"important",!1),a._setCellState(o,"today",!1),a._setCellState(o,"disabled",!1),a._setCellState(o,"hover",!1)}),a._animationStarted=!0,a.displayMode!=="month"?(a._setCellState(a._focusedCell,"focus",!1),a._setDisplayModeContent(e,a.$.nextMonthsContainer)):a._handleMonths(e,a.$.nextMonthsContainer),a.rightToLeft&&(t*=-1),n||(t>0?(i.style.order=1,a.$.nextMonthsContainer.style.order=3,(!a._animationStarted||a._animationStarted&&a.$.body[a._animationSettings.scrollSize]>a.$.body[a._animationSettings.scrollMax]*a._animationSettings.resetThreshold*2)&&(a.$.body[a._animationSettings.scrollSize]=0)):(i.style.order=3,a.$.nextMonthsContainer.style.order=1,(!a._animationStarted||a._animationStarted&&a.$.body[a._animationSettings.scrollSize]<a.$.body[a._animationSettings.scrollMax]*a._animationSettings.resetThreshold)&&(a.$.body[a._animationSettings.scrollSize]=a.$.body[a._animationSettings.scrollMax]))),cancelAnimationFrame(a._animationId),a._animationId=requestAnimationFrame(function o(){let d=t>0?a.$.body[a._animationSettings.scrollSize]>=r:a.$.body[a._animationSettings.scrollSize]===0,f=a._scrollStep/2;d?a._animateNavigationCompleted():(t>0&&a.$.body[a._animationSettings.scrollSize]>r*a._animationSettings.easeThreshold?(f=Math.max(a.$.body[a._animationSettings.scrollSize]/a._animationSettings.stepEaseSize,Math.abs(f-(r-a.$.body[a._animationSettings.scrollSize])*a._animationSettings.step)),a._scrollStep=a._scrollStep*a._animationSettings.step+f):t<0&&a.$.body[a._animationSettings.scrollSize]<r*a._animationSettings.easeThreshold&&(f=Math.max(a.$.body[a._animationSettings.scrollMax]/a._animationSettings.stepEaseSize,Math.abs(f-a.$.body[a._animationSettings.scrollSize]*a._animationSettings.step)),a._scrollStep=a._scrollStep*a._animationSettings.step+f),a.$.body[a._animationSettings.scrollSize]+=t>0?a._scrollStep:-a._scrollStep,a._animationId=requestAnimationFrame(o))})}_animateNavigationCompleted(){const e=this;let t,n,a,i=e.displayMode!=="month"?e.$.dateViewContainer:e.$.monthsContainer;if(cancelAnimationFrame(e._animationId),e.displayMode!=="month"){let r=[].slice.call(i.children).indexOf(e._focusedCell);i.innerHTML=e.$.nextMonthsContainer.innerHTML;let o,d=i.children[r];n=i.children,a=e.$.nextMonthsContainer.children;for(let f=0;f<n.length;f++)n[f].value=a[f].value,n[f].restricted=a[f].restricted,n[f].important=a[f].important,n[f].otherMonth=a[f].otherMonth,n[f].value.getTime()<=e.max.getTime()&&(o=n[f]);t=d&&d.value.getTime()>=e.max.getTime()?o.value:e._focusedCell?e._focusedCell.value:void 0}else{let r=i.children,o=e.$.nextMonthsContainer.children;e._focusedCell&&e.$.nextMonthsContainer.contains(e._focusedCell)&&(t=e._focusedCell.value);for(let d=0;d<r.length&&o[d]._date;d++){r[d]._date=o[d]._date,r[d].innerHTML=o[d].innerHTML,n=e._getMonthCells(r[d]),a=e._getMonthCells(o[d]);for(let f=0;f<n.length;f++)n[f].value=a[f].value,n[f].restricted=a[f].restricted,n[f].important=a[f].important,n[f].otherMonth=a[f].otherMonth,n[f].removeAttribute("focus")}e._selectedCells.length>0&&(e._selectedCells=e._selectedCells.map(d=>e._getCellByDate(d.value)).filter(d=>d!==void 0))}e._focusCell(e._getCellByDate(t)),i.style.order=1,e.$.nextMonthsContainer.style.order=3,e.$.body[e._animationSettings.scrollSize]=0,e._animationStarted=!1,delete e._navigationDate}_applyAnimationSettings(e){const t=this;t._animationSettings=t.animationSettings?t.animationSettings:t._animationSettings||{},t.scrollButtonsNavigationMode==="portrait"?(t._animationSettings.scrollMax="scrollHeight",t._animationSettings.size="offsetHeight",t._animationSettings.scrollSize="scrollTop"):(t._animationSettings.scrollMax="scrollWidth",t._animationSettings.size="offsetWidth",t._animationSettings.scrollSize="scrollLeft"),e||(t._animationSettings.startSpeed=t._animationSettings.startSpeed?t._animationSettings.startSpeed:.2,t._animationSettings.easeThreshold=t._animationSettings.easeThreshold?t._animationSettings.easeThreshold:.5,t._animationSettings.step=t._animationSettings.step?t._animationSettings.step:.25,t._animationSettings.stepEaseSize=t._animationSettings.stepEaseSize?t._animationSettings.stepEaseSize:200,t._animationSettings.resetThreshold=t._animationSettings.resetThreshold?t._animationSettings.resetThreshold:.2)}_applySelectionMode(e,t){const n=this;let a=[],i=!!e,r=n.selectionMode;function o(f,p){const v=n.$.monthsContainer.children;for(let w=0;w<v.length;w++)n._getMonthCells(v[w]).map(C=>{n._setCellState(C,f,p)})}switch(r==="many"&&r==="range"||o("hover",!1),n._newRangeSelectionStarted=n.selectedDates.length>0&&r==="range",["default","many","zeroOrMany","oneOrMany","week","range"].indexOf(r)!==-1?Array.from(n.getElementsByClassName("smart-calendar-month")).forEach(f=>f.setAttribute("aria-multiselectable",!0)):Array.from(n.getElementsByClassName("smart-calendar-month")).forEach(f=>f.removeAttribute("aria-multiselectable")),r!=="none"&&t!=="none"||o("selected",!1),r){case"none":return void n._clearSelection(i);case"range":return void(n.selectedDates.length>1&&n._selectMultipleDates(n.selectedDates[0],n.selectedDates[n.selectedDates.length-1]));case"many":case"default":case"oneOrMany":if(n.selectedDates.length===0){a.push(new Date(Math.min(Math.max(n.min.getTime(),new Date().setHours(0,0,0,0)),n.max.getTime())));break}return;case"oneExtended":case"one":if(n.selectedDates.length===1)return;n.selectedDates.length>1?(a.push(n.selectedDates[n.selectedDates.length-1]),n._clearSelection(i)):a.push(new Date(Math.min(Math.max(n.min.getTime(),new Date().setHours(0,0,0,0)),n.max.getTime())));break;case"zeroOrOne":if(n.selectedDates.length>1){a.push(n.selectedDates[n.selectedDates.length-1]),n._clearSelection(i);break}return;case"zeroOrMany":return;case"week":if(n.selectedDates.length>=1){let f=n.selectedDates[n.selectedDates.length-1];for(let p=0;p<7;p++)a.push(new Date(f)),f.setDate(f.getDate()+1);n._clearSelection(i)}}if(n.selectedDates=[],e)return void(n.selectedDates=a);const d=a.length;for(let f=0;f<d;f++)n._selectDate(a[f],f<d-1)}__clearSelection(){const e=this,t=e.selectionMode,n=e.context;if(e.context=e,e.set("selectedDates",[]),e._selectedCells&&e._selectedCells.map(a=>{e._setCellState(a,"selected",!1)}),e.selectedDates=[],e._selectedCells=[],t==="many"||t==="range"){const a=e.$.monthsContainer.children;for(let i=0;i<a.length;i++)e._getMonthCells(a[i]).map(r=>{e._setCellState(r,"hover",!1)})}e.$.footer&&e._refreshFooter(),e.$.hiddenInput.value=e.selectedDates.toString(),e.context=n}_clearSelection(e){const t=this,n=t.selectedDates.slice(0),a=t.selectionMode;if(t.isRendered){if(t._selectedCells&&t._selectedCells.map(i=>{t._setCellState(i,"selected",!1)}),t.selectedDates=[],t._selectedCells=[],a==="many"||a==="range"){const i=t.$.monthsContainer.children;for(let r=0;r<i.length;r++)t._getMonthCells(i[r]).map(o=>{t._setCellState(o,"hover",!1)})}t.$.footer&&t._refreshFooter(),t.$.hiddenInput.value=t.selectedDates.toString(),!e&&t.isInitialized&&n.length&&(t.$.fireEvent("change",{value:[]}),t._updateTargetValue()),t.$.title&&t._refreshTitle()}else t.set("selectedDates",[])}_bodyBlurStateHandler(e){this._bodyStateHandler(e),this.$.fireEvent("blur")}_bodyFocusStateHandler(e){this._bodyStateHandler(e),this.$.fireEvent("focus")}_bodyStateHandler(e){const t=this;if(t._focusedCell){if(e.type==="blur"||e.type==="focus"&&t._noFocusingRequired)return t._noFocusingRequired=!1,void t._setCellState(t._focusedCell,"focus",!1);if(t.displayMode!=="month")return void(e.type!=="focus"||t.$.dateViewContainer.querySelector("smart-calendar-cell[focus]")||t._setCellState(t._focusedCell||t.$.dateViewContainer.querySelector(".smart-calendar-cell"),"focus",!0))}e.type==="focus"&&t._focusCell()}_containerWheelHandler(e){const t=this;if(t.disabled||t.readonly||t.displayMode!=="month"&&t.displayModeView==="list"||t.disableMouseWheel)return;let n,a;a=document.activeElement,t.shadowRoot?a=t.shadowRoot.activeElement:t.isInShadowDOM&&(a=t.getRootNode().activeElement),t.$.yearElement===a&&(n=12),(a&&t.shadowRoot||a.closest("smart-calendar")===t)&&(n=e.target===t.$.yearElement?12:1),n&&(e.preventDefault(),n=n===12?n:n*t.months,e.deltaY>0?t.navigate(-n):t.navigate(n))}_downHandler(e){const t=this;let n=e.originalEvent.target;if(t._dragStartDetails=void 0,t.disabled||t.readonly)return;if(t.hasRippleAnimation&&(n.value instanceof Date||n.parentElement&&n.parentElement.classList.contains("smart-calendar-title")||n.parentElement===t.$.dateElement)&&Smart.Utilities.Animation.Ripple.animate(n,e.pageX,e.pageY),n=e.originalEvent.target.closest(".smart-calendar-header"),e.originalEvent.target.closest(".smart-calendar-year-container")&&t.displayMode!=="decade")return t.calendarMode==="classic"?void 0:void t._showDateView("year");if(e.originalEvent.target.closest(".smart-calendar-date-container")&&t.displayMode!=="month")return t.calendarMode==="classic"?void 0:void t._displayModeHandler(t.displayModeView==="list"?t.$.listViewContainer.querySelector("li.active"):t._focusedCell,"month");if(t._animationStarted&&t._animateNavigationCompleted(),Smart.Utilities.Core.isMobile&&e.originalEvent.target.closest(".smart-calendar-body")===t.$.body)return void(t._dragStartDetails={x:e.pageX,y:e.pageY,startTime:Date.now(),target:e.originalEvent.target});if(n=e.originalEvent.target,n.closest(".smart-calendar-week")||n.parentElement===t.$.dateViewContainer){for(;n&&!(n.value instanceof Date);)n=n.parentElement;return void(n&&(t.displayMode!=="month"?t._displayModeHandler(n):t._weeksDownHandler(e,n)))}if(n.closest(".smart-calendar-month-element"))return;if(e.originalEvent.stopPropagation(),t.displayModeView==="list"&&t.displayMode!=="month")return n=(t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target).closest("smart-list-item"),void(n&&t._displayModeHandler(n));const a=document.scrollingElement||document.documentElement,i=a.scrollLeft,r=a.scrollTop;t.unfocusable||t.focus(),window.scrollTo(i,r)}_displayModeHandler(e,t){const n=this;if(n._animationStarted&&n._animateNavigationCompleted(),e instanceof HTMLElement&&e.closest(".smart-calendar-week")&&e.otherMonth&&(n.displayMode==="decade"&&(e.value.getFullYear()<n.min.getFullYear()||e.value.getFullYear()>n.max.getFullYear())||n.displayMode==="year"&&(e.value.getFullYear()<n.min.getFullYear()||e.value.getFullYear()===n.min.getFullYear()&&e.value.getMonth()<n.min.getMonth()||e.value.getFullYear()>n.max.getFullYear()||e.value.getFullYear()===n.max.getFullYear()&&e.value.getMonth()>n.max.getMonth())))return;switch(t=t||n.displayMode){case"year":t="month";break;case"decade":t="year"}if(n.displayMode===t)return;const a=n.$.listViewContainer,i=a&&a.contains(e);n.$.fireEvent("displayModeChanging",{oldDisplayMode:n.displayMode,newDisplayMode:t}).defaultPrevented||(n.set("displayMode",t),n.$nextMonthsContainer.removeClass("smart-calendar-date-view-container"),e.parentElement!==n.$.dateViewContainer||e.disabled||e.restricted||n._focusCell(e),n.hasAnimation?(i&&e instanceof HTMLLIElement?e.offsetHeight?n.$.animationPanel.style.transformOrigin=e.offsetWidth/2+"px "+(e.offsetTop+e.offsetHeight/2)+"px":n.$.animationPanel.style.transformOrigin=a.offsetLeft+a.offsetWidth/2+"px "+(a.offsetTop+a.offsetHeight/2)+"px":(n.$.dateViewContainer.style.order=1,n.$.nextMonthsContainer.style.order=3,e=n._focusedCell,n.$.animationPanel.style.transformOrigin=e.offsetLeft+e.offsetWidth/2+"px "+(e.offsetTop+e.offsetHeight/2)+"px"),n._animateView(1,e)):n._setDisplayModeContent(e.value instanceof Date?e.value:new Date(e.getAttribute("value")||e.value)))}_animateView(e,t){const n=this;let a,i,r=t instanceof Date?t:new Date(t.getAttribute("value")||t.value),o=!1,d=1,f=1;const p=n.$.listViewContainer;n.displayModeView==="list"?a=p.contains(t)?p:i=n.displayMode!=="month"?n.$.monthsContainer:p:t.value instanceof Date||(t=n._focusedCell?n._focusedCell:n._selectedCells.length>0?n._selectedCells[n._selectedCells.length-1]:n._getCellByDate(new Date)),a||(a=t.parentElement===n.$.dateViewContainer?n.$.dateViewContainer:n.$.monthsContainer),i||(i=n.displayMode==="month"?n.$.monthsContainer:n.displayModeView==="list"?p:n.$.dateViewContainer),i.style.transformOrigin=n.$.animationPanel.style.transformOrigin,a===p?(n.$.animationPanel.innerHTML="",n.$.animationPanel.appendChild(a.cloneNode(!0))):n.$.animationPanel.innerHTML=a.innerHTML,n._setDisplayModeContent(r),a.style.order=1,n.$.nextMonthsContainer.style.order=3,n.$.body[n._animationSettings.scrollSize]=0,n.$.animationPanel.style.width=n.$.body.offsetWidth+"px",n.$.animationPanel.style.height=n.$.body.offsetHeight+"px",n.$.animationPanel.style.transform="scale(1)",n.$.animationPanel.style.opacity=1,n.$animationPanel.removeClass("smart-hidden"),i.style.opacity="0",i.style.transform="scale(3.5)",a.$.hasClass("smart-calendar-date-view-container")?n.$animationPanel.addClass("smart-calendar-date-view-container"):n.$animationPanel.removeClass("smart-calendar-date-view-container"),cancelAnimationFrame(n._animationId),n._animationId=requestAnimationFrame(function v(){if((e>0&&d>=3.5||e<0&&d<=0)&&(o=!0),o){if(cancelAnimationFrame(n._animationId),n.$animationPanel.addClass("smart-hidden"),n.$.animationPanel.style.transform="",n.$.animationPanel.style.opacity="",a.style.order=1,n.$.nextMonthsContainer.style.order=3,n.$.body[n._animationSettings.scrollSize]=0,i.style.transform="",i.style.opacity="",n.unfocusable)return;n.displayMode==="month"?n.$.body.focus():n.displayModeView==="list"&&n.focus()}else n.$.animationPanel.style.opacity=f,i.style.opacity=1-f,f-=.05,e>0?(n.$.animationPanel.style.transform="scale("+d+")",i.style.transform="scale("+Math.min((d-1)/2,1)+")",d+=.125):(n.$.animationPanel.style.transform="scale("+Math.max(d,0)+")",i.style.transform="scale("+Math.max(1+d,1)+")",d-=.06),n._animationId=requestAnimationFrame(v)})}_documentUpHandler(e){const t=this;let n=e.originalEvent.target;if((t.isInShadowDOM||t.shadowRoot&&n===t)&&(n=e.originalEvent.composedPath()[0]),t._newRangeSelectionStarted&&!t.$.container.contains(n)&&delete t._newRangeSelectionStarted,n&&n.classList&&n.classList.contains("smart-calendar-cell")&&t._dragStartDetails&&(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault(),e.preventDefault()),!Smart.Utilities.Core.isMobile||!t._dragStartDetails||e.originalEvent.target.closest(".smart-calendar-list-view"))return;delete t._previousIteration;const a=Date.now();let i={};(t.isInShadowDOM||t.shadowRoot&&n===t)&&(n=e.originalEvent.composedPath()[0]),t.scrollButtonsNavigationMode==="portrait"?(i.coordinate="y",i.direction="pageY"):(i.coordinate="x",i.direction="pageX");const r=t._dragStartDetails.step*(t.rightToLeft?-1:1);if(Math.abs(t._dragStartDetails[i.coordinate]-e[i.direction])<=10){if(n=t.displayModeView==="list"&&t.displayMode!=="month"?n.closest("smart-list-item"):n,!n)return void(t._dragStartDetails=void 0);if(t.displayMode!=="month")return t._displayModeHandler(n),t.scrollButtonsNavigationMode==="portrait"?t.$.body.scrollTop=0:t.$.body.scrollLeft=0,void(t._dragStartDetails=void 0);if(t._weeksDownHandler(e,n),!t.disableAutoNavigation&&n.otherMonth)return}else{const d=Math.abs((e[i.direction]-t._dragStartDetails[i.coordinate])/(a-t._dragStartDetails.startTime));if(d>1){const f=parseInt(d);for(let p=0;p<f;p++)if(!t.navigate(r)){t._cancelAnimation();break}return void(t._dragStartDetails=void 0)}}if(!t.hasAnimation)return t.navigate(t._dragStartDetails.step),void(t._dragStartDetails=void 0);let o=(t.displayMode!=="month"?t.$.dateViewContainer[t._animationSettings.scrollMax]:t.$.monthsContainer[t._animationSettings.scrollMax])+t.$.monthsSeparator[t._animationSettings.size];if(t._dragStartDetails.step>0&&t.$.body[t._animationSettings.scrollSize]>o*t._animationSettings.easeThreshold||t._dragStartDetails.step<0&&t.$.body[t._animationSettings.scrollSize]<o*t._animationSettings.easeThreshold)return t._animateNavigation(t._dragStartDetails.navigationDate,r,!0),t.weeks!==6&&t.weeks!==0&&t.displayMode==="month"&&t._updateWeeksVisibility(r,t._getCellByDate(t._dragStartDetails.navigationDate,t.$.nextMonthsContainer)),t.$.fireEvent("navigationChange",{value:new Date(t._dragStartDetails.navigationDate),type:t.displayMode}),void(t._dragStartDetails=void 0);t._cancelAnimation(),t._dragStartDetails=void 0}_cancelAnimation(){const e=this,t=e.displayMode!=="month"?e.$.dateViewContainer:e.$.monthsContainer;let n=e.$.animationPanel.style.transform,a=e.$.animationPanel.style.opacity;n&&(n=parseFloat(n.substring(n.indexOf("(")+1||0,n.indexOf(")")))),t.style.order=1,e.$.nextMonthsContainer.style.order=3,e.$.body[e._animationSettings.scrollSize]=0,e._animationId=requestAnimationFrame(function i(){if(!n||n>=3.5){cancelAnimationFrame(e._animationId),e.$animationPanel.addClass("smart-hidden"),e.$.animationPanel.style.transform="",e.$.animationPanel.style.opacity="";const r=e.displayMode==="month"?e.$.monthsContainer:e.$.listViewContainer;return r.style.transform="",r.style.opacity="",e.unfocusable||(e.displayMode==="month"?e.$.body.focus():e.displayModeView==="list"&&e.focus()),void(e._animationStarted=!1)}e.$.animationPanel.style.opacity=a-=.25,e.$.animationPanel.style.transform="scale("+(n+=.5)+")",e._animationId=requestAnimationFrame(i)})}_focusCell(e,t){const n=this;if(n._focusedCell&&n._setCellState(n._focusedCell,"focus",!1),n.disabled||n.readonly)return;if(e)return n.displayMode!=="month"?(n._setCellState(e,"focus",!0),void(n._focusedCell=e)):e.disabled||e.restricted?void 0:(t||n._setCellState(e,"focus",!0),void(n._focusedCell=e));if(n.displayMode!=="month"&&n.$.monthsContainer.offsetHeight===0)return;const a=n._selectedCells[n._selectedCells.length-1];if(a&&a.offsetHeight)n._setCellState(a,"focus",!0),n._focusedCell=a;else{const i=n.$.monthsContainer.children;if(!i[0]._date||n.min.getTime<i[0]._date.getTime())return;const r=n._getMonthCells(i[0],n.rightToLeft);for(let o=0;o<r.length;o++){const d=r[o];if(!d.otherMonth){if(d.disabled||d.restricted||!d.offsetHeight)continue;n._focusedCell=d;break}}}n._focusedCell&&n._setCellState(n._focusedCell,"focus",!0)}_getDays(e,t){const n=t.length;let a=[];if(n>0)for(let i=0;i<n;i++)t[i].getFullYear()===e.getFullYear()&&t[i].getMonth()===e.getMonth()&&a.push(t[i].getDate());return a}_getCellByDate(e,t){const n=this;if(!(e instanceof Date))return;if(t||(t=n.$.monthsContainer),n.displayMode!=="month"){if(n.displayModeView==="list")return;let o=arguments[1]?n.$.nextMonthsContainer.children:n.$.dateViewContainer.children;for(let d=0;d<o.length;d++)if(n.displayMode!=="year"){if(o[d].value.getFullYear()===e.getFullYear())return o[d]}else if(o[d].value.getMonth()===e.getMonth())return o[d];return}let a,i,r=t.children;for(let o=0;o<r.length;o++)if(e.getFullYear()===r[o]._date.getFullYear()&&e.getMonth()===r[o]._date.getMonth()){a=r[o];break}if(a){i=n._getMonthCells(a);for(let o=0;o<i.length;o++)if((!i[o].otherMonth||i[o].hover)&&i[o].value.getMonth()===e.getMonth()&&i[o].value.getDate()===e.getDate())return i[o]}}_getMonthCells(e,t){const n=e.getElementsByClassName("smart-calendar-week");let a=[];if(t)for(let i=0;i<n.length;i++){let r=n[i].children;for(let o=r.length-1;o>0;o--)r[o].classList.contains("smart-calendar-cell")&&a.push(r[o])}else for(let i=0;i<n.length;i++){let r=n[i].children;for(let o=1;o<r.length;o++)r[o].classList.contains("smart-calendar-cell")&&a.push(r[o])}return a}_getWeekNumber(e){const t=this;let n,a=new Date(e.getFullYear(),0,1),i=Math.round((e.getTime()-a.getTime()-6e4*(e.getTimezoneOffset()-a.getTimezoneOffset()))/864e5)+1,r=a.getDay()-t.firstDayOfWeek;return r=r>=0?r:r+7,r<4?(n=Math.floor((i+r-1)/7)+1,n>52&&(a=new Date(e.getFullYear()+1,0,1),r=a.getDay()-t.firstDayOfWeek,r=r>=0?r:r+7,n=r<4?1:53)):n=Math.round((i+r-1)/7),n}_handleDateSelection(e){const t=this;if(e!==void 0&&!e.disabled&&!e.restricted)switch(t.selectionMode){case"none":t._focusCell(e);break;case"oneExtended":case"one":case"default":if(t._keysPressed.Control)return t.selectedDates.length>1||t.selectedDates.length===1&&!e.selected?void t._selectDate(e.value):void t._focusCell(e);if(t._keysPressed.Shift)return void t._selectMultipleDates(new Date(t.selectedDates[0]),e);t._clearSelection(!0),t._selectDate(e.value,t._selectedCells.indexOf(e.value)>-1);break;case"many":{if(t.selectedDates.length===0)return void t._selectDate(e.value);const n=t.selectedDates[t.selectedDates.length-1];let a=new Date(t.selectedDates[0]);if(e.value.getTime()===a.getTime()||e.value.getTime()===n.getTime())return t._clearSelection(),void t._focusCell(e);t.selectedDates.length>0&&t._selectMultipleDates(a,e);break}case"range":{if(t.selectedDates.length>1&&!t._keysPressed.Control&&!t._newRangeSelectionStarted&&t._clearSelection(!0),t.selectedDates.length===0||t._keysPressed.Control&&t.selectedDates.length>1&&!t._newRangeSelectionStarted)return e.value&&t.selectedDates.find(i=>i.getTime()===e.value.getTime())?void 0:(t._newRangeSelectionStarted=!0,void t._selectDate(e.value));const n=t.selectedDates[t.selectedDates.length-1];let a=t._keysPressed.Control||t._newRangeSelectionStarted?n:new Date(t.selectedDates[0]);t.selectedDates.length>0&&t._selectMultipleDates(a,e),delete t._newRangeSelectionStarted;break}case"zeroOrMany":t._selectDate(e.value);break;case"oneOrMany":if(t.selectedDates.length===1&&e.selected)return void t._focusCell(e);t._selectDate(e.value);break;case"zeroOrOne":if(t.selectedDates.length===1&&e.selected)return void t._selectDate(e.value);t._clearSelection(!0),t._selectDate(e.value);break;case"week":{if(e.selected&&(e.value.getTime()===t.selectedDates[0].getTime()||e.value.getTime()===t.selectedDates[t.selectedDates.length-1].getTime()))return t._clearSelection(),void t._focusCell(e);t._clearSelection(!0);let n=new Date(e.value);t._selectDate(n);for(let a=1;a<7;a++)n.setDate(n.getDate()+1),t._selectDate(n);t._isDateInView(n)||t.navigate(1);break}}}_handleImportantDateTemplate(){const e=this;if(e._importantDatesTemplate=e._validateTemplate("importantDatesTemplate",e.importantDatesTemplate),!e._importantDatesTemplate||!e._importantDatesTemplate.content)return;let t=e._importantDatesTemplate.content;const n=t.childNodes.length,a=/{{\w+}}/g;let i;e._bindingDetails=[];for(let r=0;r<n;r++)if(i=a.exec(t.childNodes[r].innerHTML),i)return void e._bindingDetails.push({childNodeIndex:r,bindingString:i[0]})}_handleLayoutTemplate(e,t){const n=this,a=n._validateTemplate(e.$.hasClass("smart-header")?"headerTemplate":e.$.hasClass("smart-calendar-footer")?"footerTemplate":"titleTemplate",t);if(!a||!a.content)return void(typeof t=="function"&&t(e,{}));n._layoutTemplates||(n._layoutTemplates=[]);let i=document.importNode(a.content,!0);e.innerHTML="";const r=i.childNodes.length,o=/{{\w+}}/g;let d,f=[];for(let p=0;p<r;p++)d=o.exec(i.childNodes[p].innerHTML),d&&f.push({childNodeIndex:p,bindingString:d[0]});if(n._layoutTemplates=n._layoutTemplates.filter(p=>p.selector!==e),n._layoutTemplates.push({selector:e,template:a,bindings:f}),n.shadowRoot)return e.innerHTML="<slot></slot>",void n.appendChild(i);e.appendChild(i)}_handleCalendarCellHover(e,t){const n=this;if(!n._animationStarted){if(n.displayMode==="month")if(e.type==="mouseover"&&(n.selectionMode==="many"||n.selectionMode==="range"&&n._newRangeSelectionStarted)&&n.selectedDates.length>0){const a=n.$.monthsContainer.children;for(let p=0;p<a.length;p++)n._getMonthCells(a[p]).map(v=>{n._setCellState(v,"hover",!1)});let i=new Date(n.selectionMode==="range"?n.selectedDates[n.selectedDates.length-1]:n.selectedDates[0]),r=new Date(t.value),o=t;const d=i.getTime()>r.getTime()?-1:1,f=function(){o=n._getCellByDate(i),!o||o.selected||o.restricted||n._setCellState(o,"hover",!0)};if(i.getTime()!==r.getTime()){for(i.setDate(i.getDate()+d);i.getTime()!==r.getTime();)f(),i.setDate(i.getDate()+d);f()}}else n._setCellState(t,"hover",!1);e.type!=="mouseover"||t.otherMonth?n._setCellState(t,"hover",!1):n._setCellState(t,"hover",!0)}}_handleMonths(e,t){const n=this;let a;function i(o){let d,f=o.children.length,p=document.createDocumentFragment();for(;f<n.months;f++)d=n.$.month.cloneNode(!1),d.innerHTML=n.$.month.innerHTML,p.appendChild(d);return p}function r(o){let d=o.children;for(let f=0;f<d.length;f++)n._setMonth(e,d[f]),e.setMonth(e.getMonth()+1);n._setWeeksVisibility(o),n._refreshHeaderElements(),n._refreshHeaderTitle(),n.tooltip&&n.$.tooltip&&n.$.tooltip.close(),n.$.body===document.activeElement&&n._focusCell()}if(e||(e=n._viewDates&&n._viewDates.length>0?n._viewDates[0]:new Date),e=new Date(Math.min(Math.max(n.min.getTime(),e.getTime()),n.max.getTime())),t||(t=n.$.monthsContainer),n._selectedCells=[],n.hasAnimation){for(a=n.$.nextMonthsContainer.children,a.length>0&&a[0].value instanceof Date&&(n.$.nextMonthsContainer.innerHTML="");n.$.nextMonthsContainer.childElementCount<n.months;)n.$.nextMonthsContainer.appendChild(i(n.$.nextMonthsContainer));for(;n.$.nextMonthsContainer.childElementCount>n.months;)n.$.nextMonthsContainer.removeChild(a[n.$.nextMonthsContainer.childElementCount-1]);if(arguments[1]===n.$.nextMonthsContainer)return void r(n.$.nextMonthsContainer)}if(a=n.$.monthsContainer.children,a.length>n.months){for(;n.$.monthsContainer.childElementCount>n.months;)n.$.monthsContainer.removeChild(a[n.$.monthsContainer.childElementCount-1]),n._viewDates.pop();r(n.$.monthsContainer)}else n.$.monthsContainer.children.length!==n.months&&(n._viewDates=[],n.$.monthsContainer.appendChild(i(n.$.monthsContainer))),r(n.$.monthsContainer)}_headerChangeHandler(e){const t=this;if(e.stopPropagation(),t.disabled||t.readonly)return;if(e.target.ownerElement===t.$.monthElement&&t._changeEventFired!==0)return void t._changeEventFired--;const n=t.displayMode;e.target===t.$.yearElement&&(t._viewDates[0].setFullYear(Math.min(Math.max(t.min.getFullYear(),isNaN(parseInt(t.$.yearElement.value))?0:parseInt(t.$.yearElement.value)),t.max.getFullYear())),t._handleMonths(t._viewDates[0])),!t.$.monthElement||e.target!==t.$.monthElement&&e.target.ownerElement!==t.$.monthElement||(t._handleMonths(new Date(t.$.monthsContainer.children[0]._date.getFullYear(),t.$.monthElement.selectedIndex,1)),n!=="month"&&t._setDisplayMode(t.displayMode,t.displayMode="month"))}_headerClickHandler(e){const t=this;if(t.disabled||t.readonly)return;let n=e.target.closest("smart-repeat-button");if(!n||!n.disabled){switch(n){case t.$.previousMonthButton:return t._isInteractiveNavigation=!0,void t.navigate(-1*t.months*(t.rightToLeft?-1:1));case t.$.nextMonthButton:return t._isInteractiveNavigation=!0,void t.navigate(1*t.months*(t.rightToLeft?-1:1));case t.$.previousYearButton:return void t.navigate(-12);case t.$.nextYearButton:return void t.navigate(12)}t.calendarMode!=="classic"&&e.target.closest(".smart-calendar-date-element")&&(t._animationStarted&&t._animateNavigationCompleted(),t._isInteractiveNavigation=!0,t._showDateView())}}_selectMultipleDates(e,t){const n=this;if(t instanceof HTMLElement&&(t=t.value),n._newRangeSelectionStarted?n._selectDate(e,!0):n._clearSelection(!0),n.selectionMode!=="range"||t.getTime()!==e.getTime()){if((e=new Date(e)).getTime()<t.getTime())for(;e.getTime()<=t.getTime();)n.selectedDates.find(a=>a.getTime()===e.getTime())||n._selectDate(e,!0),e.setDate(e.getDate()+1);else if(e.getTime()>t.getTime())for(;e.getTime()>=t.getTime();)n.selectedDates.find(a=>a.getTime()===e.getTime())||n._selectDate(e,!0),e.setDate(e.getDate()-1);else n._selectDate(t,!0);n.$.hiddenInput.value=n.selectedDates.toString(),n._refreshFooter(),n.isInitialized&&(n.$.fireEvent("change",{value:n.selectedDates}),n._updateTargetValue()),n._refreshTitle()}}_setDisplayMode(e,t,n){const a=this;if(a.$nextMonthsContainer.removeClass("smart-calendar-date-view-container"),arguments.length!==0&&a.hasAnimation)if(a._animationStarted&&(a.displayMode=e,a._animateNavigationCompleted(),a.displayMode=t),e==="month"&&t==="year"||e==="year"&&t==="decade")a.displayMode=e,a._showDateView(n?void 0:a.displayMode);else if(e==="month"&&t==="decade")a._showDateView(a.displayMode="year");else{let i;a.displayModeView==="list"?(i=a.$.listViewContainer.querySelector("li.active"),a.$.animationPanel.style.transformOrigin=i.offsetLeft+i.offsetWidth/2+"px "+(i.offsetTop>0?i.offsetTop-i.offsetHeight/2:i.offsetTop+i.offsetHeight/2)+"px"):(a.$.dateViewContainer.style.order=1,a.$.nextMonthsContainer.style.order=3,i=a._focusedCell,a.$.animationPanel.style.transformOrigin=i.offsetLeft+i.offsetWidth/2+"px "+(i.offsetTop+i.offsetHeight/2)+"px"),a._animateView(1,i)}else{if(a.calendarMode==="classic")return void(a.displayMode="month");if(a.displayMode!=="month"&&(a.$monthsContainer.addClass("smart-hidden"),a.$dateViewContainer.hasClass("smart-hidden")&&a.$dateViewContainer.removeClass("smart-hidden")),!a.isCompleted&&a.displayMode==="month")return;a._setDisplayModeContent()}}_setDisplayModeContent(e,t){const n=this;let a=e&&e.toString()!=="Invalid Date"?e:n.selectedDates.length>0?n.selectedDates[n.selectedDates.length-1]:new Date;a.setTime(Math.min(Math.max(a.getTime(),n.min.getTime()),n.max.getTime())),a.setHours(0,0,0,0);const i=n._prepareView(a);if(!i)return;let r;t?(n.$.nextMonthsContainer.innerHTML=n.$.dateViewContainer.innerHTML,r=n.$.nextMonthsContainer):r=n.$.dateViewContainer;const o=r.children;let d;for(let f=0;f<o.length;f++){const p=o[f];p.innerHTML=i.viewContent[f],p.value=i.dates[f],n.displayMode==="year"?(p.value.getFullYear()<n.min.getFullYear()||p.value.getFullYear()===n.min.getFullYear()&&p.value.getMonth()<n.min.getMonth()||p.value.getFullYear()>n.max.getFullYear()||p.value.getFullYear()===n.max.getFullYear()&&p.value.getMonth()>n.max.getMonth()?n._setCellState(p,"otherMonth",!0):n._setCellState(p,"otherMonth",!1),a.getFullYear()===p.value.getFullYear()&&a.getMonth()===p.value.getMonth()&&(d=p)):n.displayMode==="decade"&&(f===0||f===o.length-1||p.value.getFullYear()<n.min.getFullYear()||p.value.getFullYear()>n.max.getFullYear()?n._setCellState(p,"otherMonth",!0):n._setCellState(p,"otherMonth",!1),a.getFullYear()===p.value.getFullYear()&&(d=p)),n._setCellState(p,"hover",!1),n._setCellState(p,"focus",!1)}if(d.otherMonth){for(let f=0;f<o.length;f++)if(!o[f].otherMonth){d=o[f];break}}n._mobileScrolling||(n._focusedCell&&n._setCellState(n._focusedCell,"focus",!1),n._focusedCell=d,n._focusCell(n._focusedCell),n._refreshHeaderTitle(),n._refreshHeaderElements(),n.$.fireEvent("displayModeChange"),n._isInteractiveNavigation?n._isInteractiveNavigation=void 0:(n._setCellState(d,"focus",!0),setTimeout(function(){n.unfocusable||(n.$.body.focus(),n._focusCell(n._focusedCell))},0)))}_prepareView(e){const t=this,n=t.$.listViewContainer;let a,i,r=[],o=[];function d(f,p,v){let w=new Date(f,p+1,0),C=w.getDate();return v>C?w.setDate(C):w.setDate(v),w}if(t.displayMode==="month")return t.$nextMonthsContainer.hasClass("smart-date-view-container")&&t.$nextMonthsContainer.removeClass("smart-date-view-container"),n&&n.classList.add("smart-hidden"),t.$dateViewContainer.hasClass("smart-visibility-hidden")&&t.$dateViewContainer.removeClass("smart-visibility-hidden"),t._isDateInView(e)||t._handleMonths(e),t.$header.hasClass("smart-hidden")&&t.$header.removeClass("smart-hidden"),t.$body.hasClass("smart-calendar-list-view")&&t.$body.removeClass("smart-calendar-list-view"),t.$dateContainer.addClass("smart-calendar-selected"),t.$yearContainer.removeClass("smart-calendar-selected"),t.$dateViewContainer.addClass("smart-hidden"),t.$monthsContainer.removeClass("smart-hidden"),t._refreshHeaderTitle(),t.$.body.setAttribute("tabindex",t.tabIndex>0?t.tabIndex:0),t._refreshHeaderElements(),t.unfocusable||t.$.body.focus(),t._focusCell(t._getCellByDate(e)),void t.$.fireEvent("displayModeChange");if(t.displayModeView==="list")return t._setDisplayModeListContent(e),void t.$.fireEvent("displayModeChange");if(t.$header.hasClass("smart-hidden")&&t.$header.removeClass("smart-hidden"),t.$dateViewContainer.hasClass("smart-visibility-hidden")&&t.$dateViewContainer.removeClass("smart-visibility-hidden"),n&&n.classList.add("smart-hidden"),t.$.body.setAttribute("tabindex",t.tabIndex>0?t.tabIndex:0),t.displayMode==="year"){let f=new Date;for(let p=0;p<12;p++)f=d(f.getFullYear(),p,f.getDate()),r.push(f.toLocaleDateString(t.locale,{month:"short"})),o.push(d(e.getFullYear(),p,e.getDate()))}else{a=e?e.getFullYear():t._viewDates[0].getFullYear(),i=a%10,i!==0&&(a-=i),a-=1;for(let f=0;f<12;f++)r.push(a+""),o.push(new Date(a,e.getMonth(),e.getDate())),++a}return{viewContent:r,dates:o}}_setDisplayModeListContent(e){const t=this;let n=[];function a(i,r,o){let d=new Date(i,r+1,0),f=d.getDate();return o>f?d.setDate(f):d.setDate(o),d}if(t.$dateViewContainer.addClass("smart-visibility-hidden"),t.displayMode==="year"){let i=new Date;for(let r=0;r<12;r++)i=a(i.getFullYear(),r,i.getDate()),n.push({label:i.toLocaleDateString(t.locale,{month:"short"}),value:a(e.getFullYear(),r,e.getDate()).toDateString()});t.$yearContainer.removeClass("smart-calendar-selected"),t.$dateContainer.addClass("smart-calendar-selected")}else{let i=t.min.getFullYear(),r=t.max.getFullYear();r=Math.min(t.max.getFullYear(),e.getFullYear()+10),i=Math.max(t.min.getFullYear(),r-10);for(let o=i;o<r;o++)n.push({label:o.toString(),value:new Date(o,e.getMonth(),e.getDate()).toDateString()});t.$yearContainer.addClass("smart-calendar-selected"),t.$dateContainer.removeClass("smart-calendar-selected")}t._prepareListViewer(n,e.toDateString()),t._refreshHeaderTitle(),t._refreshHeaderElements(),t.unfocusable||t.focus()}_prepareListViewer(e=[],t){const n=this,a=n.$.body;let i=n.$.listViewContainer;i||(n.$.listViewContainer=i=document.createElement("smart-scroll-viewer"),i.classList.add("smart-input-drop-down-menu","smart-calendar-list-view"),i.ensureVisible=n._listViewerEnsureVisible.bind(n),i._handleKeyStrokes=n._listViewerKeyStrokesHandler.bind(n),i._setActiveDescendant=n._listViewerSetActiveDescendant.bind(n));let r=i.querySelector("ul");r||(r=document.createElement("ul"),r.onclick=n._listViewContainerItemClickHandler.bind(n),i.appendChild(r)),a.contains(i)&&a.removeChild(i),r.innerHTML="";for(let o=0;o<e.length;o++){const d=e[o],f=d.label,p=d.value,v=document.createElement("li"),w=document.createElement("a");t===p?(v.setAttribute("aria-selected",!0),v.classList.add("active"),t=v):v.setAttribute("aria-selected",!1),v.id=i.id+"Item"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),v.setAttribute("value",p),v.setAttribute("role","option"),v.setAttribute("aria-label",f),w.innerHTML=f,w.setAttribute("aria-hidden",!0),v.appendChild(w),r.appendChild(v)}i.classList.remove("smart-hidden"),a.classList.add("smart-calendar-list-view"),a.removeAttribute("tabindex"),a.insertBefore(i,n.$.animationPanel),i.refresh(),i.ensureVisible()}_listViewerEnsureVisible(){const e=this.$.listViewContainer,t=e.querySelector(".active");if(!t)return;const n=Array.from(e.querySelectorAll("li"));t.offsetTop+t.offsetHeight>=e.scrollTop+e.offsetHeight&&(e.scrollTop=t.offsetTop+t.offsetHeight),(t.offsetTop<=e.scrollTop||t.offsetTop>=e.scrollTop+e.offsetHeight)&&(e.scrollTop=t.offsetTop),n.indexOf(t)===0?e.scrollTop=0:n.indexOf(t)===n.length-1&&(e.scrollTop=e.scrollHeight)}_listViewerKeyStrokesHandler(e){if(["ArrowUp","ArrowDown"].indexOf(e)<0)return;event.preventDefault();const t=this.$.listViewContainer,n=t.querySelector(".active");if(!n){const i=t.querySelector("li");return i.classList.add("active"),void t._setActiveDescendant(i)}const a=n[e==="ArrowDown"?"nextElementSibling":"previousElementSibling"];a&&(n.classList.remove("active"),a.classList.add("active"),t._setActiveDescendant(a),t.ensureVisible())}_listViewerSetActiveDescendant(e){const t=this.$.listViewContainer;e?t.setAttribute("aria-activedescendant",e.id):t.removeAttribute("aria-activedescendant")}_listViewContainerItemClickHandler(e){const t=this,n=e.target.closest("li");n&&t.displayModeView==="list"&&t.displayMode!=="month"&&t._displayModeHandler(n)}_isDateInView(e){const t=this;if(!e)return!1;for(let n=0;n<t._viewDates.length;n++)if(e.getFullYear()===t._viewDates[n].getFullYear()&&e.getMonth()===t._viewDates[n].getMonth()){let a=t._getCellByDate(e,t._animationStarted?t.$.nextMonthsContainer:void 0);return a?!(a.otherMonth||!a.offsetHeight||a.classList.contains("smart-visibility-hidden")):void 0}return!1}_keyDownHandler(e){const t=this;if(t.disabled||t.readonly)return;const n=(t.shadowRoot||t.getRootNode()).activeElement||document.activeElement;switch(n){case t.$.yearElement:e.key==="Escape"&&t._refreshHeaderElements();break;case t.$.dateElement:if(t.calendarMode==="default"&&e.key===" "||e.key==="Enter")return e.preventDefault(),t._isInteractiveNavigation=!0,void t._showDateView();t._focusedCell||t._focusCell(),e.key.indexOf("Arrow")>-1&&t.$.dateElement===n&&!t.unfocusable&&t.$.body.focus(),t._navigateDays(e);break;case t.$.body:e.key===" "&&e.preventDefault(),t._navigateDays(e);break;case t.$.yearContainer:if(e.key!==" "&&e.key!=="Enter"||t.displayMode==="decade"||(e.preventDefault(),t._isInteractiveNavigation=!0,t._showDateView("year")),e.key.indexOf("Arrow")>-1){if(e.preventDefault(),t._focusedCell||t._focusCell(),t.displayMode!=="month"&&t.displayModeView==="list")return t.unfocusable||t.focus(),void t.$.listViewContainer._handleKeyStrokes(e.key);t._navigateDays(e)}break;case t.$.dateContainer:if(e.key!==" "&&e.key!=="Enter"||t.displayMode==="month"||(e.preventDefault(),t._displayModeHandler(t.displayModeView==="list"?t.$.listViewContainer.querySelector("li.active"):t._focusedCell,"month")),e.key.indexOf("Arrow")>-1){if(t._focusedCell||t._focusCell(),t.displayMode!=="month"&&t.displayModeView==="list")return t.unfocusable||t.focus(),void t.$.listViewContainer._handleKeyStrokes(e.key);t._navigateDays(e)}break;default:if(t.displayMode!=="month"&&t.displayModeView==="list")return["Arrow","End","Home","Page"].indexOf(e.key)&&e.preventDefault(),e.key===" "||e.key==="Enter"||e.ctrlKey&&(e.key==="ArrowUp"||e.key==="ArrowDown")?void t._navigateDays(e):void t.$.listViewContainer._handleKeyStrokes(e.key);e.key.indexOf("Arrow")>-1&&(t._focusedCell||t._focusCell(),t._navigateDays(e))}}_showDateView(e){const t=this;switch(e=e||t.displayMode){case"month":e="year";break;case"year":e="decade"}if(t.displayMode===e||t.$.fireEvent("displayModeChanging",{oldDisplayMode:t.displayMode,newDisplayMode:e}).defaultPrevented)return;let n;if(t.displayMode=e,t.displayModeView==="list"&&t.displayMode!=="month"){t._setDisplayModeListContent(t._focusedCell?t._focusedCell.value:t._viewDates[0]);const a=t.$.listViewContainer;a.classList.remove("smart-hidden"),n=a.querySelector("li.active"),n.offsetHeight?t.$.animationPanel.style.transformOrigin=n.offsetLeft+n.offsetWidth/2+"px "+(n.offsetTop>0?n.offsetTop-n.offsetHeight/2:n.offsetTop+n.offsetHeight/2)+"px":t.$.animationPanel.style.transformOrigin=a.offsetLeft+a.offsetWidth/2+"px "+(n.offsetTop>0?n.offsetTop-n.offsetHeight/2:a.offsetTop+a.offsetHeight/2)+"px"}else t._focusedCell||t._focusCell(),n=t._focusedCell,t.$.animationPanel.style.transformOrigin=n.offsetLeft+n.offsetWidth/2+"px "+(n.offsetTop+n.offsetHeight/2)+"px";t.$monthsContainer.addClass("smart-hidden"),t.$dateViewContainer.hasClass("smart-hidden")&&t.$dateViewContainer.removeClass("smart-hidden"),t.displayMode==="decade"&&(t.$yearContainer.addClass("smart-calendar-selected"),t.$dateContainer.removeClass("smart-calendar-selected")),t.hasAnimation?t._animateView(-1,n):t._setDisplayModeContent(t._focusedCell?t._focusedCell.value:t._viewDates[0])}_keyUpHandler(e){const t=this;t.disabled||t.readonly||t.selectionMode!=="default"&&t.selectionMode!=="range"||e.key!=="Shift"&&e.key!=="Control"||(t._keysPressed[e.key]=!1)}_handleTooltip(){const e=this,t=e.tooltip;let n=e.$.tooltip;t?(n||(n=document.createElement("smart-tooltip"),n.tooltipTemplate=e.tooltipTemplate,n.arrow=e.tooltipArrow,n.arrowDirection=e.tooltipArrowDirection,n.offset=e.tooltipOffset,n.position=e.tooltipPosition,n.delay=e.tooltipDelay,n.rightToLeft=e.rightToLeft,n.openMode="manual",e.$.tooltip=n),n.parentElement||e.$.calendarContainer.appendChild(n)):n&&n.remove()}_mouseEventsHandler(e){const t=this;if(t.disabled||t.readonly)return;const n=t.$.tooltip;if(e.type==="mouseenter")return void t.$.setAttributeValue("hover",!0);if(e.type==="mouseleave"){if(t.$.setAttributeValue("hover",!1),t._newRangeSelectionStarted&&t.selectionMode==="range"){const o=t.$.monthsContainer.children;for(let d=0;d<o.length;d++)t._getMonthCells(o[d]).map(f=>{t._setCellState(f,"hover",!1)})}return void(t.tooltip&&n&&n.close())}const a=t.shadowRoot||t.isInShadowDOM?e.composedPath()[0]:e.target;if(!a.closest(".smart-calendar-week"))return void(t.tooltip&&n&&(clearTimeout(t._tooltipAutoCloseTimeout),n[n.contains(a)?"open":"close"]()));const i=a.closest(".smart-calendar-cell");if(!i)return;if(Smart.Utilities.Core.isMobile||t._handleCalendarCellHover(e,i),!t.tooltip&&n)return void n.close();const r=i.hasAttribute("important");if(clearTimeout(t._tooltipAutoCloseTimeout),r&&n&&e.type==="mouseover")return n.selector=i,void(n.selector!==i?n.close():(t.tooltipTemplate||(n.innerHTML=n.innerHTML.trim().length===0?"Important day!":n.innerHTML),n.open(),t.$.fireEvent("open",{target:n,value:new Date(i.value)})));t._tooltipAutoCloseTimeout=setTimeout((function(){!n||e.type!=="mouseout"&&i&&r||n.close(),clearTimeout(t._tooltipAutoCloseTimeout)}).bind(t),t.tooltipDelay)}_popupEventHandler(e){const t=this,n=t.$.tooltip;if(e.stopPropagation(),e.target!==t.$.monthElement)if(e.target===n){if(e.type==="close"){const a=n.selector;t.$.fireEvent("close",{target:n,value:a?new Date(a.value):null})}}else t.$.fireEvent(e.type,{target:e.target})}_moveHandler(e){const t=this;if(!Smart.Utilities.Core.isMobile||!t._dragStartDetails||t.displayModeView==="list"&&t.displayMode!=="month")return;e.originalEvent.preventDefault(),e.preventDefault(),e.stopPropagation();const n={x:Math.round(e.pageX),y:Math.round(e.pageY)};let a,i,r;if(a=t.scrollButtonsNavigationMode==="portrait"?n.y>t._dragStartDetails.y?-1*t.months:1*t.months:n.x<t._dragStartDetails.x?1*t.months:-1*t.months,t._previousIteration&&a===t._previousIteration.step)i=t._previousIteration.date;else if(t.weeks!==6&&t.weeks!==0&&t.displayMode==="month"){let d,f;t._focusedCell||t._focusCell();const p=[].slice.call(t._focusedCell.closest(".smart-calendar-weeks").children).filter(v=>!v.classList.contains("smart-hidden"));if(p.length){let v;!t.rightToLeft&&a<0||t.rightToLeft&&a>0?(v=p[0].querySelectorAll(".smart-calendar-cell"),f=t.rightToLeft?v[v.length-1]:v[0]):(v=p[p.length-1].querySelectorAll(".smart-calendar-cell"),f=t.rightToLeft?v[0]:v[v.length-1]),d=new Date(f.value),d.setDate(d.getDate()+a*(t.rightToLeft?-1:1)),i=d}else i=t._getNextDate(a*(t.rightToLeft?-1:1))}else i=t._getNextDate(a*(t.rightToLeft?-1:1));if(!i)return;if(!t._dragStartDetails.navigationDate&&t.$.fireEvent("navigationChanging",{value:new Date(i),type:t.displayMode}).defaultPrevented)return t._cancelAnimation(),void(t._dragStartDetails=void 0);if(t._dragStartDetails.step=a,t._dragStartDetails.navigationDate=new Date(i),!t.hasAnimation)return;if(t._previousIteration={step:a,date:i},t._mobileScrolling=!0,t.displayMode!=="month")t.$nextMonthsContainer.addClass("smart-calendar-date-view-container"),r=t.$.dateViewContainer,t.$.nextMonthsContainer.children[0].value instanceof Date&&t.$.nextMonthsContainer.children[1].value.getFullYear()===i.getFullYear()||t._setDisplayModeContent(i,t.$.nextMonthsContainer);else if(t.$nextMonthsContainer.hasClass("smart-calendar-date-view-container")&&t.$nextMonthsContainer.removeClass("smart-calendar-date-view-container"),r=t.$.monthsContainer,!t.$.nextMonthsContainer.children[0]._date||t.$.nextMonthsContainer.children[0]._date.getTime()!==i.getTime()){let d=t.$.nextMonthsContainer.children;for(let f=0;f<d.length;f++)i.setMonth(t._dragStartDetails.navigationDate.getMonth()+f*(t.rightToLeft?-1:1)),t._setMonth(new Date(i),d[f],!0)}t.weeks!==6&&t.weeks!==0&&t.displayMode==="month"&&t._updateWeeksVisibility(a*(t.rightToLeft?-1:1),t._getCellByDate(i,t.$.nextMonthsContainer)),delete t._mobileScrolling,a<0?(r.style.order=3,t.$.nextMonthsContainer.style.order=1,t.$.body[t._animationSettings.scrollSize]=t.$.body[t._animationSettings.scrollMax]):(r.style.order=1,t.$.nextMonthsContainer.style.order=3,t.$.body[t._animationSettings.scrollSize]=0);const o=t.scrollButtonsNavigationMode==="portrait"?"y":"x";Math.abs(t._dragStartDetails[o]-n[o])>5&&(t.$.body[t._animationSettings.scrollSize]+=2*-(n[o]-t._dragStartDetails[o]))}_getNextDate(e){const t=this;let n;if(t.displayMode!=="month"){let a;const i=t._focusedCell&&t._focusedCell.value.getFullYear();if(t.displayModeView==="list")n=new Date(t.$.listViewContainer.querySelector("li").getAttribute("value"));else{let o=t._animationStarted?t.$.nextMonthsContainer:t.$.dateViewContainer;n=new Date(t.displayMode==="year"?o.children[0].value:o.children[1].value)}a=t.displayMode==="year"?1:e!==0?10:1,n.setFullYear(n.getFullYear()+(e>0?a:-a)),n.getTime()<t.min.getTime()&&(n=t.min),n.getTime()>t.max.getTime()&&(n=t.max);const r=t.displayMode!=="month"&&t.displayModeView==="list";if(n.getFullYear()<t.min.getFullYear()||n.getFullYear()>t.max.getFullYear()||!r&&i===n.getFullYear())return}else{let a=t._viewDates[0];if(n=new Date(a),n.setDate(1),n.setMonth(n.getMonth()+e),n.setTime(Math.min(Math.max(n.getTime(),t.min.getTime()),t.max.getTime())),a.getMonth()===n.getMonth()&&a.getFullYear()===n.getFullYear())return}return n}_navigateDays(e){const t=this;let n=e.key==="ArrowUp"||e.key==="ArrowDown"?7:1,a=e.key==="ArrowUp"||e.key==="ArrowLeft"||e.key==="PageUp"?-1:1;switch(e.key){case"ArrowUp":case"ArrowLeft":case"ArrowDown":case"ArrowRight":if(!t._handleArrowKeys(e,n,a))return;break;case" ":case"Enter":{if(t.displayMode!=="month")return void t._displayModeHandler(t.displayModeView==="list"?t.$.listViewContainer.querySelector("li.active"):t._focusedCell);const i=t._focusedCell;if(t.selectionMode==="oneExtended"&&i)return t._clearSelection(!0),void t._selectDate(i.value,t._selectedCells.indexOf(i.value)>-1);break}case"Control":case"Shift":return t.selectionMode==="default"&&(t._keysPressed[e.key]=!0),void(t.selectionMode==="range"&&(t._keysPressed[e.key]=e.key==="Control"));case"Home":case"End":{e.preventDefault();let i,r=function(o){if(e.key==="Home"){for(let d=0;d<o.length;d++)if(!o[d].otherMonth&&(!o[d].disabled||!o[d].restricted)&&o[d].offsetHeight)return o[d]}else for(let d=o.length-1;d>=0;d--)if(!o[d].otherMonth&&(!o[d].disabled||!o[d].restricted)&&o[d].offsetHeight)return o[d]};if(i=t.displayMode!=="month"?r(t.$.dateViewContainer.children):r(t._getMonthCells(t._focusedCell.closest(".smart-calendar-month"),t.rightToLeft)),!i||(t._focusCell(i),t.displayMode!=="month"))return;break}case"PageUp":case"PageDown":if(!t._handlePageUpDownKeys(e,a))return;break;default:return}t.selectionMode!=="oneExtended"&&t._focusedCell&&t._handleDateSelection(t._focusedCell)}_handleArrowKeys(e,t,n){const a=this;let i;if(a.displayMode!=="month"||a._animationStarted||a.unfocusable||a.$.body.focus(),a._focusedCell||a._focusCell(a._getCellByDate(new Date)),e.altKey)return;if(e.ctrlKey){if(e.key==="ArrowDown"||e.key==="ArrowUp"){if(a.calendarMode==="classic")return;let d;switch(a.displayMode){case"month":d=e.key==="ArrowDown"?"month":"year";break;case"year":d=e.key==="ArrowDown"?"month":"decade";break;case"decade":d=e.key==="ArrowDown"?"year":"decade"}if(d!==a.displayMode){const f=a.displayMode;a.displayMode=d,a._setDisplayMode(f,d,f==="month"),a._keysPressed&&delete a._keysPressed.Control}}return}if(e.preventDefault(),!a.rightToLeft||e.key!=="ArrowLeft"&&e.key!=="ArrowRight"||(n*=-1),a.displayMode!=="month"&&a.displayModeView!=="list"){const d=a._animationStarted?a.$.nextMonthsContainer.children:a.$.dateViewContainer.children;if(t=e.key==="ArrowUp"||e.key==="ArrowDown"?4:1,a.displayMode==="year"){const f=a._focusedCell.value.getMonth()+n*t;let p=new Date(a._focusedCell.value.getFullYear(),f+1,0);a._focusedCell.value.getDate()<=p.getDate()&&(p=a._focusedCell.value),i=new Date(a._focusedCell.value.getFullYear(),f,p.getDate())}else i=new Date(a._focusedCell.value.getFullYear()+n*t,a._focusedCell.value.getMonth(),a._focusedCell.value.getDate());if(a.displayMode==="year"){if(i.getFullYear()<a.min.getFullYear()||i.getFullYear()===a.min.getFullYear()&&i.getMonth()<a.min.getMonth()||i.getFullYear()>a.max.getFullYear()||i.getFullYear()===a.max.getFullYear()&&i.getMonth()>a.max.getMonth())return;i.getTime()>d[d.length-1].value.getTime()?a.navigate(1):i.getTime()<d[0].value.getTime()&&a.navigate(-1)}else{if(i.getFullYear()<a.min.getFullYear()||i.getFullYear()>a.max.getFullYear())return;if(i.getFullYear()<d[1].value.getFullYear()||i.getFullYear()>d[10].value.getFullYear()){let f=a._focusedCell;a.navigate(n),e.key!=="ArrowUp"&&e.key!=="ArrowDown"||(f===d[3]||f===d[4]||f===d[7]||f===d[8]?i.setFullYear(i.getFullYear()+2*n):i.setFullYear(i.getFullYear()-2*n))}}return void a._focusCell(a._getCellByDate(i,a._animationStarted?a.$.nextMonthsContainer:void 0))}if(!a._focusedCell)return;const r=a.restrictedDates.map(Number);for(i=new Date(a._focusedCell.value.getFullYear(),a._focusedCell.value.getMonth(),a._focusedCell.value.getDate()+n*t,0,0,0,0);r.indexOf(i.getTime())>-1;)i.setDate(i.getDate()+n);if(i.getTime()<a.min.getTime()||i.getTime()>a.max.getTime())return;a._isDateInView(i)||a.navigate(n*a.months);let o=a._getCellByDate(i,a._animationStarted?a.$.nextMonthsContainer:void 0);return a._focusCell(o),a._updateWeeksVisibility(n),!(["zeroOrMany","oneOrMany","none","many","week","range"].indexOf(a.selectionMode)>-1)||void 0}_handlePageUpDownKeys(e,t){const n=this;let a;if(e.preventDefault(),n.displayMode!=="month"){if(a=n._focusedCell,!n.navigate(t))return;for(;a&&a.classList.contains("smart-visibility-hidden");)a=a.previousElementSibling===null?a.nextElementSibling:a.previousElementSibling;return n._focusCell(a),void(n.hasAnimation&&n.displayMode==="decade"&&n._focusedCell.value.setFullYear(n._focusedCell.value.getFullYear()+10*t))}a=new Date(n._focusedCell.value.getFullYear(),n._focusedCell.value.getMonth()+t,1,0,0,0,0);let i=new Date(a.getFullYear(),a.getMonth()+1,0).getDate();return n._focusedCell.value.getDate()>i?a.setDate(i):a.setDate(n._focusedCell.value.getDate()),n._isDateInView(a)||n.navigate(a),n._animationStarted?n._focusCell(n._getCellByDate(a,n.$.nextMonthsContainer)):n._focusCell(n._getCellByDate(a)),!0}_selectDate(e,t,n){const a=this;if(a._viewDates===void 0||a.selectionMode==="none")return;let i,r=a.selectedDates.slice(0),o=a._getCellByDate(e,a._animationStarted?a.$.nextMonthsContainer:void 0);o&&a._selectCell(o),(e=new Date(e)).setHours(0,0,0,0),i=r.map(Number).indexOf(e.getTime()),a.restrictedDates.map(Number).indexOf(e.getTime())>-1||e.getTime()<a.min.getTime()||e.getTime()>a.max.getTime()||(i>-1?r.splice(i,1):r.push(e),n||(a.selectedDates=r),a._refreshFooter(),a.$.hiddenInput.value=a.selectedDates.toString(),!t&&a.isInitialized&&(a.$.fireEvent("change",{value:[e]}),a._updateTargetValue()),a._refreshTitle())}_selectCell(e){const t=this;if(!e||t.restrictedDates.map(Number).indexOf(e.value.getTime())>-1||t.disableAutoNavigation&&e.otherMonth===!1||e.value.getTime()<t.min.getTime()||e.value.getTime()>t.max.getTime())return;const n=t._selectedCells.indexOf(e);n>-1?(t._setCellState(e,"selected",!1),t._selectedCells.splice(n,1)):(t._setCellState(e,"selected",!0),t._selectedCells.push(e)),t._focusCell(e)}_refreshDayOfWeekTitles(){const e=this;let t,n=[],a=new Date;function i(f){let p;return e.dayNameFormat==="firstTwoLetters"?(p=new Intl.DateTimeFormat(e.locale,{weekday:"long"}).format(f),p=p.charCodeAt(0)===8206?p.substring(1,3):p.substring(0,2)):p=new Intl.DateTimeFormat(e.locale,{weekday:e.dayNameFormat}).format(f),p}for(let f=1;f<8;f++)a.setDate(f),t={number:a.getDay(),name:i(a)},n.push(t);n.sort((f,p)=>f.number>p.number?1:-1);const r=e.$.monthsContainer.children;let o,d;for(let f=0;f<r.length;f++)if(o=r[f].getElementsByClassName("smart-calendar-week-titles")[0].children,d=e.firstDayOfWeek>6?0:e.firstDayOfWeek,e.rightToLeft)for(let p=o.length-1;p>=1;p--)o[p].textContent=n[d++].name,d=d>6?0:d;else for(let p=1;p<o.length;p++)o[p].textContent=n[d++].name,d=d>6?0:d;if(e.hasAnimation){const f=e.$.monthsContainer.getElementsByClassName("smart-calendar-week-titles")[0].innerHTML,p=e.$.nextMonthsContainer.getElementsByClassName("smart-calendar-week-titles");for(let v=0;v<p.length;v++)p[v].innerHTML=f}}_refreshCalendarMode(){const e=this;if(!e.headerTemplate)if(e._refreshMonthNames(),e.calendarMode==="default"){e.$classicHeaderDate.addClass("smart-hidden"),e.$defaultHeaderDate.removeClass("smart-hidden");const t=e._viewDates.slice(0).sort((o,d)=>o.getTime()-d.getTime()),n=t[0],a=t[t.length-1];n.setDate(2);let i=e.monthNameFormat;i==="firstTwoLetters"&&(i="long");let r=n.toLocaleDateString(e.locale,{year:e.yearFormat,month:i});e.months>1&&(a.setDate(2),r+=" - "+a.toLocaleDateString(e.locale,{year:e.yearFormat,month:i})),e.$.defaultHeaderDate.innerHTML=r,e.unfocusable||e.$.dateElement.setAttribute("tabindex",e.tabIndex>0?e.tabIndex:0)}else e.$defaultHeaderDate.addClass("smart-hidden"),e.$classicHeaderDate.removeClass("smart-hidden"),e.$.dateElement.removeAttribute("tabindex")}_refreshFooter(){const e=this;if(!(e.viewSections.indexOf("footer")<0||e.$.footer.offsetHeight===0))if(e.footerTemplate){if(typeof e.footerTemplate=="function")return;let n=e._layoutTemplates.filter(i=>i.selector===e.$.footer)[0],a=document.importNode(n.template.content,!0);if(n.bindings.length>0){let i=a.childNodes[n.bindings[0].childNodeIndex];n.selector.childNodes[n.bindings[0].childNodeIndex].innerHTML=i.innerHTML.replace(n.bindings[0].bindingString,t())}}else e.$.selectedDatesRange.innerHTML=t();function t(){if(e.selectedDates.length===0)return"";if(e.selectedDates.length===1)return e.selectedDates[0].toLocaleDateString(e.locale,{year:e.yearFormat,weekday:"short",month:"short",day:"numeric"});{let n=e.selectedDates.slice(0).sort((a,i)=>a.getTime()-i.getTime());return n[0].toLocaleDateString(e.locale,{year:e.yearFormat,weekday:"short",month:"short",day:"numeric"})+" - "+n[n.length-1].toLocaleDateString(e.locale,{year:e.yearFormat,weekday:"short",month:"short",day:"numeric"})}}}_refreshImportantDates(){const e=this;if(e.displayMode==="month"){e._clearImportantDates();for(let t=0;t<e.importantDates.length;t++)e._setImportantDate(e.importantDates[t])}}_clearImportantDates(){const e=this,t=e.$.monthsContainer.children;for(let n=0;n<t.length;n++)e._getMonthCells(t[n]).map(a=>{e._setCellState(a,"important",!1)})}_setImportantDate(e,t){const n=this,a=n._getCellByDate(e);t||(t=a),t&&(n._setCellState(t,"important",!0),n._applyImportantDateTemplate(t))}_applyImportantDateTemplate(e){const t=this;if(!t._importantDatesTemplate)return typeof t.importantDatesTemplate=="function"?void t.importantDatesTemplate(e,{value:e.value}):void(e.innerHTML=e.value.getDate()+"");let n=document.importNode(t._importantDatesTemplate.content,!0);if(t._bindingDetails&&t._bindingDetails.length>0){let a=n.childNodes[t._bindingDetails[0].childNodeIndex];a.innerHTML=a.innerHTML.replace(t._bindingDetails[0].bindingString,e.value.getDate())}e.innerHTML="";for(let a=0;a<n.childNodes.length;a++)n.childNodes[a].outerHTML&&(e.innerHTML+=n.childNodes[a].outerHTML)}_setMonth(e,t,n){const a=this,i=a._getDays(e,a.selectedDates),r=a._getDays(e,a.importantDates),o=a._getDays(e,a.restrictedDates);e.setDate(1),t||(t=a.$.month),t._date=new Date(e),n||((!a._viewDates||a._viewDates.length>=a.months)&&(a._viewDates=[]),a._viewDates.push(new Date(e)));let d=((e=new Date(e)).getDay()-a.firstDayOfWeek+7)%7;e.setDate(0);let f=e.getDate();if(e.setDate(32),e.setDate(1),e.setDate(32),a._selectedCells)for(let p=0;p<a._selectedCells.length;p++)a._selectedCells[p].closest(".smart-calendar-month")===t&&a._setCellState(a._selectedCells[p],"selected",!1);a._setMonthContent(e,t,{previusMonthDays:f,firstDayOfWeek:d,selectedDates:i,importantDates:r,restrictedDates:o})}_setMonthContent(e,t,n){const a=this,i=32-e.getDate(),r=a._getMonthCells(t,a.rightToLeft),o=t._date.getMonth(),d=t._date.getFullYear(),f=new Date;let p,v=1,w=1;f.setHours(0,0,0,0),r.map(C=>{a._setCellState(C,"restricted",!1),a._setCellState(C,"selected",!1),a._setCellState(C,"otherMonth",!1),a._setCellState(C,"focus",!1),a._setCellState(C,"important",!1),a._setCellState(C,"today",!1),a._setCellState(C,"disabled",!1),a._setCellState(C,"hover",!1)});for(let C=0;C<r.length;C++){const x=r[C];C===n.firstDayOfWeek&&w<=i?(x.className="smart-calendar-cell",x.value=new Date(d,o,w),x.innerHTML=x.value.getDate().toString(),n.restrictedDates.indexOf(w)>-1||x.value.getTime()<a.min.getTime()||x.value.getTime()>a.max.getTime()?a._setCellState(x,"restricted",!0):n.selectedDates.indexOf(w)>-1&&(a._setCellState(x,"selected",!0),a._selectedCells.indexOf(x)<0&&a._selectedCells.push(x)),n.importantDates.indexOf(w)>-1&&(a._setImportantDate(x.value,x),n.importantDates.splice(n.importantDates.indexOf(w),1)),x.value.getTime()===f.getTime()&&a._setCellState(x,"today",!0),n.firstDayOfWeek++,w++):(w===1?(x.value=new Date(d,o-1,++n.previusMonthDays-n.firstDayOfWeek),p=!!(x.value.getTime()<a.min.getTime()||t.previousElementSibling)):(x.value=new Date(d,o+1,v++),p=!!(x.value.getTime()>a.max.getTime()||t.nextElementSibling)),x.innerHTML=x.value.getDate().toString(),a._setCellState(x,"otherMonth",!0),p?x.classList.add("smart-visibility-hidden"):x.classList.remove("smart-visibility-hidden"))}a.months>1&&(t.firstElementChild.innerHTML=a.dateFormatFunction?a.dateFormatFunction(t._date):a._monthsNames[o]+" "+t._date.toLocaleDateString(a.locale,{year:a.yearFormat})),a._setMonthWeekNumbers(t)}_refreshMonthNames(){const e=this;let t,n=new Date;function a(i){let r=e.monthNameFormat;r==="firstTwoLetters"&&(r="long");let o=new Intl.DateTimeFormat(e.locale,{month:r}).format(i);return e.monthNameFormat==="firstTwoLetters"&&(o=o.charCodeAt(0)===8206?o.substring(0,2):o.substring(1,3)),o}n.setDate(1),e._monthsNames=[];for(let i=0;i<12;i++)n.setMonth(i),t=a(n),e._monthsNames.push(t);if(e.calendarMode==="classic"&&e.$.monthElement){let i=e.$.monthsContainer.children;if(e.$.monthElement.dataSource&&(e._changeEventFired=1),e.shadowRoot?e._setMonthElementPropertyInShadowDOM("dataSource",e._monthsNames):e.$.monthElement.dataSource=e._monthsNames,e._viewDates){for(let r=0;r<i.length;r++)i[r].firstElementChild.textContent=e._monthsNames[i[r]._date.getMonth()]+" "+i[r]._date.getFullYear();e._changeEventFired=1,e.shadowRoot?e._setMonthElementPropertyInShadowDOM("selectedIndex",e._viewDates.map(r=>r.getMonth())[0]):e.$.monthElement.selectedIndex=e._viewDates.map(r=>r.getMonth())[0]}}}_setMonthWeekNumbers(e){const t=this,n=function(i){for(let r=1;r<i.children.length;r++)if(!i.children[r].classList.contains("smart-visibility-hidden"))return!0};let a=e.getElementsByClassName("smart-calendar-week");a=[].slice.call(a);for(let i=0;i<a.length;i++){if(!n(a[i])){a[i].children[0].innerHTML="";continue}const r=a[i].children[1],o=r.otherMonth?r.value.getTime()>e._date.getTime()?1:-1:0;a[i].children[0].innerHTML=t._getWeekNumber(new Date(e._date.getFullYear(),e._date.getMonth()+o,r.value.getDate()))}}_setRestrictedDates(e){const t=this,n=t.$.monthsContainer.children;for(let a=0;a<n.length;a++)t._getMonthCells(n[a]).map(i=>{t._setCellState(i,"restricted",!1)});if(t._viewDates){const a=function(i){for(let r=0;r<t._viewDates.length;r++)if(t._viewDates[r].getFullYear()===i.getFullYear()&&t._viewDates[r].getMonth()===i.getMonth())return!0};for(let i=0;i<e.length;i++)if(a(e[i])){const r=t._getCellByDate(e[i]);t._setCellState(r,"restricted",!0)}}}_setScrollButtonsNavigationMode(){const e=this;e.scrollButtonsNavigationMode!=="landscape"?(e.$.previousMonthButton&&(e.$.previousMonthButton.$.button.firstElementChild.className="smart-arrow-down smart-arrow"),e.$.nextMonthButton&&(e.$.nextMonthButton.$.button.firstElementChild.className="smart-arrow-up smart-arrow")):(e.$.previousMonthButton&&(e.$.previousMonthButton.$.button.firstElementChild.className="smart-arrow-left smart-arrow"),e.$.nextMonthButton&&(e.$.nextMonthButton.$.button.firstElementChild.className="smart-arrow-right smart-arrow")),e._applyAnimationSettings(!0)}_refreshTitle(){const e=this;let t=e.selectedDates.length>0?e.selectedDates[e.selectedDates.length-1]:new Date;if(e.titleTemplate){if(typeof e.titleTemplate=="function")return;let n=e._layoutTemplates.filter(i=>i.selector===e.$.title)[0],a=document.importNode(n.template.content,!0);if(n.bindings.length>0){let i=a.childNodes[n.bindings[0].childNodeIndex];return t=t.toLocaleDateString(e.locale,{year:e.yearFormat,weekday:"short",month:"short",day:"numeric"}),void(n.selector.childNodes[n.bindings[0].childNodeIndex].innerHTML=i.innerHTML.replace(n.bindings[0].bindingString,t))}}e.$.title.children[0].innerHTML=t.toLocaleDateString(e.locale,{year:e.yearFormat}),e.$.title.children[1].innerHTML=e.view==="landscape"?t.toLocaleDateString(e.locale,{weekday:"short"})+",</br>"+t.toLocaleDateString(e.locale,{month:"short",day:"numeric"}):t.toLocaleDateString(e.locale,{weekday:"short"})+", "+t.toLocaleDateString(e.locale,{month:"short",day:"numeric"})}_setWeeksVisibility(e){const t=this,n=e.children;let a;function i(r){(function(o){for(let d=1;d<o.children.length;d++)if(!o.children[d].classList.contains("smart-visibility-hidden"))return!1;return!0})(r)||a>=t.weeks?r.classList.add("smart-hidden"):a<t.weeks&&(r.classList.remove("smart-hidden"),a++)}for(let r=0;r<n.length;r++){let o=n[r].getElementsByClassName("smart-calendar-week");o=[].slice.call(o);let d=t._selectedCells.filter(f=>f.closest(".smart-calendar-month")===n[r]);if(t.weeks!==6)if(a=0,d.length>0){let f=d[d.length-1],p=o.indexOf(f.parentElement);for(let v=p;v<o.length;v++)i(o[v]);for(let v=p-1;v>=0;v--)i(o[v])}else for(let f=0;f<o.length;f++)i(o[f]);else o.map(f=>f.classList.remove("smart-hidden"))}}_refreshHeaderElements(){const e=this,t=document.activeElement.closest("smart-calendar")===e,n=e._animationStarted?e.$.nextMonthsContainer:e.$.dateViewContainer;let a,i,r=e._viewDates[e._viewDates.length-1],o=e._viewDates.map(d=>d.getFullYear());if(e.displayMode==="month"||e.displayModeView!=="list"){if(e.calendarMode==="classic"&&e.$.monthElement&&e.$.monthElement instanceof HTMLDivElement){const d=document.createElement("smart-input");d.setAttribute("smart-id","monthElement"),d.classList.add("smart-calendar-month-element"),d.dropDownPosition="bottom",d.selectionMode="one",d.disabled=e.disabled,d.rightToLeft=e.rightToLeft,d.theme=e.theme,d.dropDownWidth=e.dropDownWidth,d.dropDownHeight=e.dropDownHeight,d.readonly=!0,d.dropDownButtonPosition="right";const f=e.$.monthElement;e.$.monthElement.parentNode.insertBefore(d,e.$.monthElement),e.$.monthElement=d,f.remove()}if(e.$.previousMonthButton&&!e.disabled&&(e.displayMode!=="month"&&e.$.dateViewContainer.children[0].value?i=e.displayMode==="year"?n.children[0].value.getFullYear()-1:n.children[1].value.getFullYear()-1:e._viewDates[0].getMonth()-1<0?(a=11,i=e._viewDates[0].getFullYear()-1):(a=e._viewDates[0].getMonth()-1,i=e._viewDates[0].getFullYear()),e.$.previousMonthButton.disabled=i<e.min.getFullYear()||i===e.min.getFullYear()&&a<e.min.getMonth(),e.$.previousMonthButton.disabled&&t&&e.$.body.focus()),e.$.nextMonthButton&&!e.disabled&&(e.displayMode!=="month"&&e.$.dateViewContainer.children[0].value?i=e.displayMode==="year"?n.children[0].value.getFullYear()+1:n.children[1].value.getFullYear()+11:r.getMonth()+1>11?(a=0,i=r.getFullYear()+1):(a=r.getMonth()+1,i=r.getFullYear()),e.$.nextMonthButton.disabled=i>e.max.getFullYear()||i===e.max.getFullYear()&&a>e.max.getMonth(),e.$.nextMonthButton.disabled&&t&&e.$.body.focus()),e.calendarMode==="classic"&&e.$.monthElement){let d=[...e._monthsNames];if(o.indexOf(e.min.getFullYear())>-1)for(let p=0;p<e.min.getMonth();p++)d[p]="";if(o.indexOf(e.max.getFullYear())>-1)for(let p=e.max.getMonth()+1;p<d.length;p++)d[p]="";d=d.filter(p=>p!=="");const f=Math.max(0,e.$.monthElement.selectedIndex);e.$.monthElement.dataSource=d,e._changeEventFired=e.$.monthElement.selectedIndex!==0,e.shadowRoot?e._setMonthElementPropertyInShadowDOM("selectedIndex",e._viewDates[0].getMonth()):e.$.monthElement.selectedIndex=f,e._changeEventFired=0}e.$.previousYearButton&&!e.disabled&&(i=e._viewDates[0].getFullYear()-1,e.$.previousYearButton.disabled=i<e.min.getFullYear(),e.$.previousYearButton.disabled&&t&&e.$.body.focus()),e.$.nextYearButton&&!e.disabled&&(i=r.getFullYear()+1,e.$.nextYearButton.disabled=i>e.max.getFullYear(),e.$.nextYearButton.disabled&&t&&e.$.body.focus()),e.$.yearElement&&(e.$.yearElement.value=o[0],e.$.yearElement.disabled=r.getFullYear()+1>e.max.getFullYear()&&e._viewDates[0].getFullYear()-1<e.min.getFullYear())}}_setMonthElementPropertyInShadowDOM(e,t){const n=this.$.monthElement,a=n.context;n.context=document,this.$.monthElement[e]=t,n.context=a}_refreshHeaderTitle(){const e=this;let t;function n(){if(e.displayMode!=="month"){if(e.displayModeView==="list"){const p=e.$.listViewContainer;if(!p)return;const v=p.querySelectorAll("li");if(!v.length)return"";let w;p.querySelector("li.active")&&(w=p.querySelector("li.active").getAttribute("value")),t=e.displayMode==="year"?new Date(w||v[0].getAttribute("value")).getFullYear():new Date(v[0].getAttribute("value")).getFullYear()+" - "+new Date(v[v.length-1].getAttribute("value")).getFullYear()}else if(e.$.dateViewContainer.children[0].value){let p=e._animationStarted?e.$.nextMonthsContainer.children:e.$.dateViewContainer.children;t=e.displayMode==="year"?p[0].value.getFullYear():p[1].value.getFullYear()+" - "+p[p.length-2].value.getFullYear()}if(t)return t}const r=e._viewDates.slice(0).sort((p,v)=>p.getTime()-v.getTime()),o=r[0],d=r[r.length-1];o.setDate(2);let f=e.monthNameFormat;return f==="firstTwoLetters"&&(f="long"),t=o.toLocaleDateString(e.locale,{year:e.yearFormat,month:f}),e.months>1&&(d.setDate(2),t+=" - "+d.toLocaleDateString(e.locale,{year:e.yearFormat,month:f})),t}if(e.calendarMode==="default"&&(e.$.defaultHeaderDate.innerHTML=n()),typeof e.headerTemplate=="function"||!e._layoutTemplates)return;let a=e._layoutTemplates.filter(r=>r.selector===e.$.header)[0];if(!a)return;let i=document.importNode(a.template.content,!0);if(a.bindings.length>0){const r=i.childNodes[a.bindings[0].childNodeIndex];(e.shadowRoot?e:a.selector).childNodes[a.bindings[0].childNodeIndex].innerHTML=r.innerHTML.replace(a.bindings[0].bindingString,e.dateFormatFunction?e.dateFormatFunction(e._viewDates):n())}}_updateWeeksVisibility(e,t){const n=this;let a=(t||n._focusedCell).parentElement;function i(){for(let v=d;v<o.length;v++)if(o[v].classList.contains("smart-hidden")&&!f(o[v])&&(o[v].classList.remove("smart-hidden"),p++,p===n.weeks))return!0}function r(){for(let v=d;v>=0;--v)if(o[v].classList.contains("smart-hidden")&&!f(o[v])&&(o[v].classList.remove("smart-hidden"),p++,p===n.weeks))return!0}if(!t&&!a.classList.contains("smart-hidden"))return;const o=[].slice.call(a.parentElement.children),d=o.indexOf(a),f=function(v){for(let w=1;w<v.children.length;w++)if(!v.children[w].classList.contains("smart-visibility-hidden"))return!1;return!0};let p=0;if(o.map(v=>v.classList.add("smart-hidden")),e>0){if(i())return;r()}else{if(r())return;i()}}_getValidDates(e){let t=[];function n(a){if(a instanceof Date)return a;if(Smart.Utilities.DateTime&&a instanceof Smart.Utilities.DateTime)return a.toDate();if(typeof a=="string"){if(a.trim()==="new Date()"||a.trim()==="new Smart.Utilities.DateTime()")return new Date;let i=/(\d+[,-.\/]{1}\s*\d+[,-.\/]{1}\s*\d+)/;const r=()=>(a=a.replace(/[,-.\/]/g,",").split(",")).length>2?a=new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2])):new Date;return i.test(a)&&(a=i.exec(a)[0].replace(/[,-.\/]/g,",").split(","))?new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2])):r()}}if(e===void 0)return null;if(Array.isArray(e))for(let a=0;a<e.length;a++)t.push(n(e[a]));else t.push(n(e));return t=t.filter(a=>a&&a.toDateString()!=="Invalid Date"),t.map(a=>a.setHours(0,0,0,0)),t}_getValidDate(e){const t=this._getValidDates(e);return t.length>0?t[0]:null}_validateSelectedDates(e){const t=this;let n=[];e||(e=t.selectedDates);let a=e.slice(0),i=function(r){for(let o=0;o<t.restrictedDates.length;o++)if(t.restrictedDates[o].getTime()===r.getTime())return!0};t.selectedDates=a.filter(function(r){if(r.getTime()>=t.min.getTime()&&r.getTime()<=t.max.getTime()&&!i(r))return!0;n.push(r)}),t._viewDates&&(n.map(r=>t._selectDate(r)),t._focusCell())}_validateMinMax(e,t,n){const a=this;switch(e){case"min":t=a._getValidDate(a[e]),a.min=t||n||a.properties.min.defaultValue;break;case"max":t=a._getValidDate(a[e]),a.max=t||n||a.properties.max.defaultValue;break;default:t=a._getValidDate(a.min),a.min=t||n||a.properties.min.defaultValue,t=a._getValidDate(a.max),a.max=t||n||a.properties.max.defaultValue}a.min=a.min.getTime()>a.max.getTime()?a.max:a.min,a.min.setHours(0,0,0,0),a.max.setHours(0,0,0,0);let i,r=a.$.monthsContainer.children;if(a._viewDates){if(a._viewDates[0].getTime()>a.max.getTime()||a._viewDates[0].getTime()<a.min.getTime())return void a._handleMonths();for(let o=0;o<r.length;o++){i=a._getMonthCells(r[o]);for(let d=0;d<i.length;d++){const f=i[d];if(f.value.getTime()>=a.min.getTime()&&f.value.getTime()<=a.max.getTime())a._setCellState(f,"restricted",!1),f.value.getMonth()===r[o]._date.getMonth()?f.classList.remove("smart-visibility-hidden"):a.hideOtherMonthDays||(a._setCellState(f,"otherMonth",!0),f.classList.remove("smart-visibility-hidden")),a.displayMode!=="month"&&a._setCellState(f,"otherMonth",!1);else{if(f.otherMonth){if(f.classList.contains("smart-visibility-hidden")){a._setCellState(f,"restricted",!1);continue}}else a._setCellState(f,"restricted",!0);a.displayMode!=="month"&&(f.classList.remove("smart-visibility-hidden"),a._setCellState(f,"otherMonth",!0))}}}}}_setCellState(e,t,n){e[t]=n;const a=Smart.Utilities.Core.toDash(t);n?(e.setAttribute(a,""),t==="selected"?e.setAttribute("aria-selected",!0):t==="today"?e.setAttribute("aria-current","date"):t==="restricted"?e.removeAttribute("aria-selected"):t==="disabled"&&(e.removeAttribute("aria-selected"),e.setAttribute("aria-disabled",!0))):(e.removeAttribute(a),t==="selected"?this.selectionMode==="none"||e.restricted||e.disabled?e.removeAttribute("aria-selected"):e.setAttribute("aria-selected",!1):t==="today"?e.removeAttribute("aria-current"):t!=="restricted"||e.disabled?t==="disabled"&&(e.removeAttribute("aria-disabled"),e.restricted||e.setAttribute("aria-selected",!1)):e.setAttribute("aria-selected",!1))}_validateTemplate(e,t){if(t===null||!t||typeof t=="function")return;const n=this;if("content"in document.createElement("template")){if(typeof t=="string"&&(t=document.getElementById(t)),t!==null&&"content"in t)return t;n.error(n.localize("invalidTemplate",{elementType:n.nodeName.toLowerCase(),property:e}))}else n.error(n.localize("htmlTemplateNotSuported",{elementType:n.nodeName.toLowerCase()}))}_weeksDownHandler(e,t){const n=this,a=t.value;let i;if(n.$.body.contains(t))if(t.otherMonth&&(i=t.value.getTime()>t.closest(".smart-calendar-month")._date.getTime()?1:-1),a&&n.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),i){if(n._isDateInView(a))return;n.disableAutoNavigation||n.navigate(i*n.months)}else(t=n._getCellByDate(a))&&(t.disabled||t.restricted)||n._handleDateSelection(t)}_firstDayOfWeekValidator(e,t){return Math.min(Math.max(0,isNaN(t)?6:t),6)}_weeksValidator(e,t){return Math.min(Math.max(1,isNaN(t)?6:t),6)}_monthsValidator(e,t){return Math.min(Math.max(1,isNaN(t)?1:t),12)}})},9097:()=>{Smart("smart-check-box",class extends Smart.ToggleButton{static get properties(){return{checkMode:{value:"both",allowedValues:["both","input","label"],type:"string"},type:{value:"checkbox",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}template(){return`<div id='container' class='smart-container' role="presentation">
                    <div class='smart-overlay' role="presentation"></div>
                    <span id='checkBoxInput' class='smart-input' aria-hidden="true"></span>
                    <span id='checkBoxLabel' inner-h-t-m-l='[[innerHTML]]' class='smart-label'><content></content></span>
                    <input id='hiddenInput' class='smart-hidden-input' type='hidden'>
                </div>`}static get listeners(){return{down:"_downHandler","document.up":"_documentUpHandler","checkBoxInput.mouseenter":"_mouseEnterHandler","checkBoxInput.mouseleave":"_mouseLeaveHandler",focus:"_focusHandler",blur:"_blurHandler"}}static get styleUrls(){return["smart.toggle.css"]}_focusHandler(){this.$.setAttributeValue("focus",!0)}_blurHandler(){this.$.setAttributeValue("focus",!1)}_mouseEnterHandler(){this.$.setAttributeValue("hover",!0)}_mouseLeaveHandler(){this.$.setAttributeValue("hover",!1)}ready(){const e=this;super.ready(),e.setAttribute("role","checkbox"),e.indeterminate&&(e._valueCache=e.checked,e.checked=null,e._setAriaState()),e.classList.add("smart-toggle-box"),e._updateHidenInputNameAndValue()}propertyChangedHandler(e,t,n){super.propertyChangedHandler(e,t,n);const a=this;switch(a._updateContentProperties(),e){case"indeterminate":n?(a._valueCache=a.checked,a.checked=null):a.checked=a._valueCache,a._setAriaState(),a._updateHidenInputNameAndValue();break;case"value":case"checked":a._updateHidenInputNameAndValue();break;case"name":a._updateHidenInputName()}}_documentUpHandler(e){const t=this;if(!t._pressed||e.originalEvent.type==="pointercancel")return;const n=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(t._pressed=!1,t.$.setAttributeValue("active",!1),!(t.disabled||t.readonly||t.checkMode==="input"&&n!==t.$.checkBoxInput||t.checkMode==="label"&&n!==t.$.checkBoxLabel)){if(t.clickMode==="press")return e.preventDefault(),void e.stopPropagation();t._changeCheckState("pointer"),t.focus(),t._handleTextSelection(),t._updateHidenInputNameAndValue()}}_downHandler(e){const t=this,n=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(!(t.disabled||t.readonly||t.checkMode==="input"&&n!==t.$.checkBoxInput||t.checkMode==="label"&&n!==t.$.checkBoxLabel)){if(t.$.setAttributeValue("active",!0),t.hasRippleAnimation){const a=t.$.checkBoxInput.getBoundingClientRect(),i=window.scrollX||window.pageXOffset,r=window.scrollY||window.pageYOffset;Smart.Utilities.Animation.Ripple.animate(t.$.checkBoxInput,a.left+a.width/2+i,a.top+a.height/2+r)}t._pressed=!0,t.clickMode!=="press"&&t.clickMode!=="pressAndRelease"||(t._changeCheckState("pointer"),t.$.fireEvent("click"),t.focus(),t._updateHidenInputNameAndValue())}}_setAriaState(){const e=this,t=e.checked;t!==null?e.setAttribute("aria-checked",t):e.setAttribute("aria-checked","mixed")}})},2864:()=>{Smart("smart-check-input",class extends Smart.MultiInput{static get properties(){return{inverted:{type:"boolean",value:!1}}}uncheckAll(){this.selectedValues=[]}checkAll(){const e=this;let t=[];for(let n=0;n<e.dataSource.length;n++){const a=e.dataSource[n].value||e.dataSource[n].label;t.push(a)}e.selectedValues=t}_performSelect(e){const t=this;if(!e)return void t.close();const n=e.target?e.target.closest("li"):e;if(!n)return;t._selectedItems||(t._selectedItems=[]),n.classList.toggle("selected");const a=n.classList.contains("selected"),i={label:n.getAttribute("data-label"),value:n.getAttribute("value")},r=t.$.menu.children;for(let w=0;w<r.length;w++)r[w].classList.remove("active");if(a)t._selectedItems.push(i),t._setActiveDescendant(n),n.classList.add("active"),n.setAttribute("aria-selected",!0);else{const w=t._selectedItems.findIndex(C=>C.label===i.label&&C.value===i.value);w>-1&&t._selectedItems.splice(w,1),n.classList.remove("active"),n.setAttribute("aria-selected",!1)}n.setAttribute("aria-selected",a);const o=t._selectedItems,d=t.value,f=t.$.input.dataValue;let[p,v]=[[],[]];for(let w=0;w<o.length;w++){const C=o[w];p.push(C.label),v.push(C.value)}t.set("selectedValues",o.map(w=>w.value)),p=p.join(", "),t.set("value",p),t.$.input.dataValue=v=v.join(", "),p===d&&v===f||t.$.fireEvent("change",{value:v,label:p,oldValue:f,oldLabel:d})}_render(e){const t=this,n=e.map(function(d){let f=d,p=d;typeof d=="object"&&(f=d.label,p=d.value||f);const v=document.createElement("li"),w=document.createElement("a");return w.href="#",v.id=t.id+"Item"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),v.setAttribute("data-label",f),v.setAttribute("value",p),v.setAttribute("role","option"),v.setAttribute("aria-selected",!1),v.setAttribute("aria-label",f),w.innerHTML=t.highlighter?t.highlighter(f):t._highlighter(f),w.setAttribute("aria-hidden",!0),d.color&&(v.classList.add("color"),v.style.setProperty("--smart-primary",d.color)),d.icon&&(w.classList.add("icon"),w.classList.add(d.icon)),v.appendChild(w),v});t.$.menu.innerHTML="";let a=[],i=[],r=t._selectedItems;r||(r=t._selectedItems=[]);const o=r.length;r.length&&r.forEach(d=>{i.push(d.label),a.push(d.value)}),a=a.concat((t.$.input.dataValue||t.$.input.value).split(",").map(d=>d.trim())),i=i.concat(t.$.input.value.split(",").map(d=>d.trim()));for(let d=0;d<n.length;d++){const f=n[d],p=f.getAttribute("value"),v=f.getAttribute("data-label"),w=o?a.indexOf(p):i.indexOf(v);w>-1&&i[w]===v&&(f.classList.add("selected"),f.setAttribute("aria-selected",!0),t._setActiveDescendant(f),r.findIndex(C=>C.label===v&&C.value===p)<0&&r.push({label:f.getAttribute("data-label"),value:f.getAttribute("value")})),t.$.menu.appendChild(f)}t.set("selectedValues",r.map(d=>d.value))}_next(){const e=this;let t=e._selectedItems?e._selectedItems[e._selectedItems.length-1]:void 0;t&&(t=e.$.menu.querySelector(`.active[data-label="${t.label}"][value="${t.value}"]`));const n=t||e.$.menu.querySelector(".active");if(!n){const r=e.$.menu.firstElementChild;return r.classList.add("active","focused"),void e._setActiveDescendant(r)}const a=e.$.menu.children;for(let r=0;r<a.length;r++)a[r].classList.remove("active","focused");e._setActiveDescendant();let i=n.nextElementSibling;i||(i=e.$.menu.firstElementChild),i.classList.add("active","focused"),e._setActiveDescendant(i),e.ensureVisible()}_prev(){const e=this;let t=e._selectedItems?e._selectedItems[e._selectedItems.length-1]:void 0;t&&(t=e.$.menu.querySelector(`.active[data-label="${t.label}"][value="${t.value}"]`));const n=t||e.$.menu.querySelector(".active");if(!n){const r=e.$.menu.firstElementChild;return r.classList.add("active","focused"),void e._setActiveDescendant(r)}const a=e.$.menu.children;for(let r=0;r<a.length;r++)a[r].classList.remove("active","focused");e._setActiveDescendant();let i=n.previousElementSibling;i||(i=e.$.menu.lastElementChild),i.classList.add("active","focused"),e._setActiveDescendant(i),e.ensureVisible()}_keyUpHandler(e){const t=this;if(!e.shiftKey)switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:e.keyCode===40&&e.altKey&&t.open(),e.keyCode===38&&e.altKey&&t.close();break;case 9:case 13:if(!t.opened)return;t._performSelect(t.$.menu.querySelector(".active")),e.stopPropagation(),e.preventDefault();break;case 27:if(!t.opened)return;t.close(),e.stopPropagation(),e.preventDefault();break;default:t._lookup(e),!t.opened||e.ctrlKey||e.shiftKey||(e.stopPropagation(),e.preventDefault()),t.readonly||(t.$.input.dataValue=t.$.input.value)}}_createElement(){super._createElement(),this.$.menu.setAttribute("aria-multiselectable",!0),this.$.scrollView.classList.add("smart-check-input-drop-down-menu")}})},4896:()=>{Smart("smart-color-input",class extends Smart.Input{static get properties(){return{dataSource:{type:"any",value:null},displayMode:{value:"default",allowedValues:["default","grid"],type:"string"},dropDownHeight:{type:"any",value:"auto"},messages:{value:{en:{standardColors:"Standard colors",themeShadeColors:"",themeColors:"Theme colors"}},type:"object",extend:!0},placeholder:{value:"Please Select Color",type:"string"},valueDisplayMode:{value:"default",allowedValues:["default","colorBox","colorCode"],type:"string"},valueFormat:{value:"hex",allowedValues:["rgb","rgba","hex"],type:"string"}}}static get listeners(){return{"input.focus":"_focusHandler","input.blur":"_blurHandler","input.keydown":"_keyDownHandler","input.keyup":"_keyUpHandler","input.keypress":"_keyPressHandler","input.select":"_inputSelectHandler","input.change":"_inputChangeHandler","dropDownButton.down":"_dropDownButtonDownHandler","inputContainer.down":"_downHandler","document.up":"_documentUpHandler"}}template(){return`<div id="inputContainer" role="presentation">
                    <div class="smart-content">
                        <div class="smart-buttons-container" role="presentation" id="buttonsContainer">
                            <div class="smart-action-button" id="actionButton">
                                <div id="colorSampleContainer" class="smart-color-box color-picker-sample-container" role="presentation">
                                    <div id="colorSample" class="color-picker-sample"></div>
                                </div>
                                <input class="smart-input smart-color-input" id='input' readonly='[[readonly]]' placeholder='[[placeholder]]' type='[[type]]' name='[[name]]'
                                    value='[[value]]' disabled='[[disabled]]' aria-label="[[placeholder]]" spellcheck="false" />
                            </div>
                            <div id="dropDownButton" tabindex=-1 class="smart-drop-down-button" role="button" aria-label="Toggle popup">
                                <div id="arrow" class="smart-drop-down-button-icon" aria-hidden="true"></div>
                            </div>
                        </div>
                        <span id="hint" class="smart-hint smart-hidden" inner-h-t-m-l="[[hint]]"></span>
                    </div>
                </div>`}open(){const e=this;let t;e.dropDownDataSource?(e.query="",t=typeof e.dataSource=="function"?e.dataSource(e.query):e.dataSource):t=typeof e.dropDownDataSource=="function"?e.dropDownDataSource(e.query):e.dropDownDataSource,e._process(t);const n=e.$.menu.querySelector(".color-sample.selected");if(n){const a=e.$.input.dataValue,i=e.$.menu.querySelectorAll(".color-sample");for(let r=0;r<i.length;r++){const o=i[r],d=o.getAttribute("data-label"),f=o.getAttribute("value");if(a!==void 0&&f===a||a===void 0&&d===e.$.input.value){n.removeAttribute("aria-current"),n.classList.remove("selected"),o.classList.add("selected"),o.setAttribute("aria-current",!0),e._setActiveDescendant(o),e.$.input.dataValue=f;break}}}e.ensureVisible(),e.$.input.focus(),setTimeout(function(){e.$.input.focus()},25)}_blurHandler(){const e=this;e.opened||(e.removeAttribute("focus"),e.$.actionButton.removeAttribute("focus"),e.$.dropDownButton.removeAttribute("focus")),delete e._preventLookup,e._isValidColor(e.value)||(e.$.input.value=e.$.input.dataValue=e.value="",e.$colorSampleContainer.addClass("no-color"))}_focusHandler(){const e=this;e.setAttribute("focus",""),e.$.actionButton.setAttribute("focus",""),e.$.dropDownButton.setAttribute("focus",""),e.readonly||e.minLength!==0||e.$.input.value.length!==0||e._preventLookup?delete e._preventLookup:e._lookup()}_lookup(e){const t=this;let n=[];t.query=t.$.input.value,t.$.input.readonly&&(t._incrementalSearchQuery||(t._incrementalSearchQuery=""),t._incrementalSearchQuery+=e.key,t._incrementalSearchTimer&&clearTimeout(t._incrementalSearchTimer),t.query=t._incrementalSearchQuery,t._incrementalSearchTimer=setTimeout(function(){t._incrementalSearchQuery=""},700)),t.query.length<t.minLength?t.close():(n=typeof t.dataSource=="function"?t.dataSource(t.query):t.dataSource,clearTimeout(t._autoCompleteTimeout),t._autoCompleteTimeout=setTimeout(function(){const a=t.context;t.context=t,t._process(n),t.context=a},t.autoCompleteDelay))}_getDefaultColors(){let e=this._generateColors();if(this.displayMode==="grid")return e;let t=[];for(let n=0;n<e.length;n++)t=t.concat(Object.values(e[n])[0]);return t}_generateColors(){const e=this;return e.displayMode==="default"?e._defaultModeColors?e._defaultModeColors:e._defaultModeColors=[{themeColors:["#FFFFFF","#000000","#E6E6E6","#495469","#5671C2","#D48439","#A5A5A5","#EEC328","#7399D3","#85AA4C"]},{themeShadeColors:["#F2F2F2","#808080","#D0CECE","#D6DCE4","#DDEBF7","#FCE4D6","#EBEBEB","#FFF2CC","#DDE5F7","#E2EFDA","#D8D8D8","#595959","#AEAAAA","#ACB9CA","#BDD7EE","#F6CAAD","#DBDBDB","#FFE699","#B4C6E7","#C6E0B4","#BFBFBF","#404040","#757171","#8497B0","#9BC2E6","#F4B084","#C0C0C0","#FFD966","#8EA9DB","#A9D08E","#A6A6A6","#262626","#312F2F","#333F4F","#2F75B5","#C65911","#7B7B7B","#BF8F00","#305496","#548235","#808080","#0D0D0D","#161616","#222B35","#1F4E78","#833C0C","#525252","#806000","#203764","#375623"]},{standardColors:["#A52A0D","#DB3A15","#EEC328","#FEFE33","#A6CD57","#62AC54","#65ADEE","#3F6FBE","#10205F","#64379E"]}]:e._gridColors?e._gridColors:e._gridColors=["rgba(255, 255, 255, 0)","rgb(0, 0, 0)","rgb(153, 51, 0)","rgb(51, 51, 0)","rgb(0, 51, 0)","rgb(0, 51, 102)","rgb(0, 0, 128)","rgb(51, 51, 153)","rgb(51, 51, 51)","rgb(128, 0, 0)","rgb(255, 102, 0)","rgb(128, 128, 0)","rgb(0, 128, 0)","rgb(0, 128, 128)","rgb(0, 0, 255)","rgb(102, 102, 153)","rgb(128, 128, 128)","rgb(255, 0, 0)","rgb(255, 153, 0)","rgb(153, 204, 0)","rgb(51, 153, 102)","rgb(51, 204, 204)","rgb(51, 102, 255)","rgb(128, 0, 128)","rgb(153, 153, 153)","rgb(255, 0, 255)","rgb(255, 204, 0)","rgb(255, 255, 0)","rgb(0, 255, 0)","rgb(0, 255, 255)","rgb(0, 204, 255)","rgb(153, 51, 102)","rgb(192, 192, 192)","rgb(255, 153, 204)","rgb(255, 204, 153)","rgb(255, 255, 153)","rgb(204, 255, 204)","rgb(204, 255, 255)","rgb(153, 204, 255)","rgb(204, 153, 255)","rgb(255, 255, 255)"]}_downHandler(e){const t=this;(t.readonly||e.originalEvent.target.closest(".smart-color-box"))&&t._dropDownButtonDownHandler(e)}_documentUpHandler(e){const t=this,n=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;n===t||n.closest&&n.closest(".smart-buttons-container")===t.$.buttonsContainer||(t.$.scrollView.contains(n.shadowParent||n)?t._isPointerDown&&(t._isPointerDown=!1,t.opened&&(t._preventLookup=!0),t.$.input.focus()):(t.opened&&(t._preventLookup=!0),t._isPointerDown=!1,t.dropDownOpenMode!=="manual"&&t.close()))}_formatValue(e){const t=this;if(!t._isValidColor(e))return"";const n=t._getRGBA(e);switch(t.valueFormat){case"hex":e=t._rgbArrayToHEX([n.r,n.g,n.b,n.a]);break;case"rgb":e="rgb("+n.r+", "+n.g+", "+n.b+")";break;case"rgba":e=n.r!==null&&n.g!==null&&n.b!==null?"rgba("+n.r+", "+n.g+", "+n.b+", "+n.a+")":null}return e||null}_getRGBA(e){const t=this,n=e||t.value;let a=1;n&&(t._isRGBA(n)&&/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.test(n.replace(/\s/g,""))?a=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(n.replace(/\s/g,""))[4]:t._isHEX(e)&&/(^#[0-9A-F]{8}$)/gi.test(e.replace(/\s/g,""))&&(a=parseInt(/(^#[0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2}$)/gi.exec(e.replace(/\s/g,""))[4],16)/255),a=Math.min(1,Math.max(0,parseFloat(a))),isNaN(a)&&(a=1)),e=t._HSVtoRGBA(t._colorToHSV(n),a);const i=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(e.replace(/\s/g,""));return{r:parseInt(i[1]),g:parseInt(i[2]),b:parseInt(i[3]),a:parseFloat(i[4])}}_colorToHSV(e){if(!this._isValidColor(e))return;e=this._toRGBA(e).replace(/\s/g,"");const t=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(e),n=Math.min(255,Math.max(0,parseFloat(t[1])))/255,a=Math.min(255,Math.max(0,parseFloat(t[2])))/255,i=Math.min(255,Math.max(0,parseFloat(t[3])))/255;let r={h:0,s:0,v:0},o=0,d=0;if(n>=a&&n>=i?(d=n,o=a>i?i:a):a>=i&&a>=n?(d=a,o=n>i?i:n):(d=i,o=a>n?n:a),r.v=d,r.s=d?(d-o)/d:0,r.s){const f=d-o;r.h=n===d?(a-i)/f:a===d?2+(i-n)/f:4+(n-a)/f,r.h=60*r.h,r.h<0&&(r.h+=360)}else r.h=0;return r.s=parseFloat(r.s),r.v=parseFloat(r.v),r}_rgbArrayToHEX(e){let t="#";if(Array.isArray(e)&&e[0]===null)return null;for(let a=0;a<3;a++){let i=parseInt(e[a]).toString(16).toUpperCase();i=i.length===1?0+i:i,t+=i}let n=parseFloat(e[3]);return isNaN(n)||(n=parseInt(255*n).toString(16).toUpperCase(),n!=="FF"&&(t=t.slice(0,7)+(n.length===1?0+n:n))),t}_HSVtoRGBA(e,t){const n=(e=e||{h:0,s:0,v:0}).h,a=e.s,i=e.v;let r,o,d,f=i*a,p=n/60,v=f*(1-Math.abs(p%2-1));p>=0&&p<=1?[r,o,d]=[f,v,0]:p>=1&&p<=2?[r,o,d]=[v,f,0]:p>=2&&p<=3?[r,o,d]=[0,f,v]:p>=3&&p<=4?[r,o,d]=[0,v,f]:p>=4&&p<=5?[r,o,d]=[v,0,f]:p>=5&&p<=6&&([r,o,d]=[f,0,v]);const w=i-f;return"rgba("+Math.round(255*(r+w))+", "+Math.round(255*(o+w))+", "+Math.round(255*(d+w))+", "+(t!==void 0?t:this._getRGBA().a||0)+")"}_toRGBA(e,t){const n=this;let a=n.value;function i(r){const o=/^#(.)(.)(.)$/gi.exec(r),d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(r),f=parseInt(o?o[1]+o[1]:d[1],16),p=parseInt(o?o[2]+o[2]:d[2],16),v=parseInt(o?o[3]+o[3]:d[3],16),w=parseInt(o?o[4]+o[4]:d[4],16);return t?"rgba("+f+", "+p+", "+v+", 1)":"rgba("+f+", "+p+", "+v+", "+(isNaN(w)?"1":w/255)+")"}if(n._isRGBA(e))return t?"rgba("+e.match(/(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})/gi)+", 1)":e;if(n._isValidColorName(e))a=i(n._cssColorNamesHEX[e.trim().toLowerCase()]);else if(n._isHEX(e))a=i(e);else{if(!n._isRGB(e))return!1;a=e.toLowerCase(),a=a.replace("rgb","rgba"),a=a.replace(")",", 1)")}return a}_isHEX(e){return/(^#[0-9A-F]{3}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{8}$)/i.test(e)}_isRGB(e){return/rgb\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\)/i.test(e)}_isValidColorName(e){return!(!e||this._cssColorNamesHEX[e.trim().toLowerCase()]===void 0)}_isRGBA(e){return/rgba\((\d*.\d+|\d+)\s*,\s*(\d*.\d+|\d+)\s*,\s*(\d*.\d+|\d+)\s*,\s*(\d*.\d+|\d+)\)/i.test(e)}_isValidColor(e){return this._isHEX(e)||this._isRGB(e)||this._isRGBA(e)||this._isValidColorName(e)}_performSelect(e){const t=this;let n,a,i;t.opened?(n=t.$.menu.querySelector(".selected")||t.$.menu.querySelector(".color-sample"),a=n.getAttribute("data-label"),i=n.getAttribute("value")):a=i=t.$.input.value;const r=e||t.value,o=t.$.input.dataValue;t.set("value",t.$.colorSample.style.backgroundColor=t._formatValue(a)),t.$.input.dataValue=i,t.setAttribute("data-value",i),t._isValidColor(t.value)?(t.$colorSampleContainer.removeClass("no-color"),t.$.colorSample.setAttribute("aria-label",t.value)):(t.$colorSampleContainer.addClass("no-color"),t.$.colorSample.setAttribute("aria-label","No color")),n&&(n.classList.add("selected"),n.setAttribute("aria-current",!0)),!t.isRendered||a===r&&i===o||(t.$.fireEvent("change",{value:i,label:a,oldValue:o,oldLabel:r}),t._updateTargetValue()),t.close()}_process(e){const t=this;if(e||(e=[]),typeof(e=e.slice(0))=="string"&&(e=t.$.deserialize(e,"array")),t.matcher)e=e.filter(n=>t.matcher(n)>-1);else if(t.query){let n=[];for(let a in t._cssColorNamesHEX)t._matcher(a,!0)>-1&&n.push(t._cssColorNamesHEX[a]);if(n.length)e=n;else if(e.length||t.dataSource!==null&&t.dataSource!==void 0)e=e.filter(a=>t._matcher(a)>-1);else{let a=t._generateColors();t.displayMode==="default"&&(a=[].concat.apply([],a.map(i=>Object.values(i)[0]))),e=a.filter(i=>t._matcher(i)>-1)}}!e.length&&t.opened&&t.close(),t.query.length>0&&!e.length||!e.length&&t.dataSource!==null&&t.dataSource!==void 0||(t.query.length>0?t._render(e.slice(0,t.items)):t._render(e),t._open(),t._refreshMenu(),t.ensureVisible())}_matcher(e,t){const n=this,a=n.query;if(e=t?e.label||e:n._formatValue(e.label||e),!a)return-1;switch(n.queryMode){case"startsWith":return e.startsWith(a);case"startsWithIgnoreCase":return e.toLowerCase().startsWith(a.toLowerCase());case"doesNotContain":return e.indexOf(a)<0;case"doesNotContainIgnoreCase":return e.toLowerCase().indexOf(a.toLowerCase())<0;case"contains":return e.indexOf(a)>-1;default:case"containsIgnoreCase":return e.toLowerCase().indexOf(a.toLowerCase());case"equals":return e.localeCompare(a)===0;case"equalsIgnoreCase":return e.toLowerCase().localeCompare(a.toLowerCase())===0;case"endsWith":return e.endsWith(a);case"endsWithIgnoreCase":return e.toLowerCase().endsWith(a.toLowerCase())}}_render(e){const t=this;if(t.$.menu.innerHTML="",e.length)t.$.menu.appendChild(t._createColorGroup(t._createColorSamples(e))),t.additionalColors&&t.$.menu.appendChild(t._createColorGroup(t._createColorSamples(t.additionalColors)));else if((t.dataSource===null||t.dataSource===void 0)&&!t.query.length)if(e=t._generateColors(),t.displayMode==="default"){const n=t._generateColors();for(let a=0;a<n.length;a++){const i=Object.keys(n[a])[0],r=Object.values(n[a])[0],o=document.createElement("div");o.classList.add("standard-colors-label"),o.innerHTML=t.localize(i),o.id=t.id+i+"Label",t.$.menu.appendChild(o),t.$.menu.appendChild(t._createColorGroup(t._createColorSamples(r),i+"Label"))}}else t.$.menu.appendChild(t._createColorGroup(t._createColorSamples(e)))}_createColorGroup(e,t){const n=this,a=document.createElement("div");function i(){const r=n.$.menu.getElementsByClassName("selected");r[0]&&(r[0].removeAttribute("aria-current"),r[0].classList.remove("selected")),this.classList.add("selected"),this.setAttribute("aria-current",!0),n._setActiveDescendant(this)}a.classList.add("grid-samples-container"),a.setAttribute("role","menu"),t&&a.setAttribute("aria-labelledby",n.id+t);for(let r=0;r<e.length;r++){const o=e[r];a.appendChild(o),o.onmouseenter=i,o.onclick=i,o.onmouseleave=function(){this.removeAttribute("aria-current"),this.classList.remove("selected"),n._setActiveDescendant(null)}}return a}_createColorSamples(e){const t=this;let n=[];for(let a=0;a<e.length;a++){const i=e[a];let r=i,o=i;typeof i=="object"&&(r=i.label,o=i.value||r);const d=document.createElement("div");d.id=t.id+"Item"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),d.setAttribute("data-label",r),d.setAttribute("value",o),d.setAttribute("role","menuitem"),d.setAttribute("aria-label",r),d.classList.add("color-sample"),d.style.backgroundColor=r,r!=="rgba(255, 255, 255, 255)"&&r!=="#FFFFFF"&&r!=="#FFFFFFFF"||(d.style.borderColor="var(--smart-border)",d.style.borderStyle="solid",d.style.borderWidth="1px"),r==="rgba(255, 255, 255, 0)"||r==="#FFFFFF00"||r==="transparent"?d.setAttribute("transparent",""):d.removeAttribute("transparent"),d.classList[r||o?"remove":"add"]("no-color"),n.push(d)}if(n.length>0&&!t.$.menu.querySelector(".selected")){const a=Math.max(0,e.indexOf(t.value));n[a].classList.add("selected"),n[a].setAttribute("aria-current",!0),t._setActiveDescendant(n[0])}return n}ensureVisible(){this.$.menu.querySelector(".color-sample.selected")}_next(){const e=this,t=e.$.menu.querySelector(".color-sample.selected");if(!t){const a=e.$.menu.querySelector(".color-sample");return a.classList.add("selected"),a.setAttribute("aria-current",!0),void e._setActiveDescendant(a)}t.removeAttribute("aria-current"),t.classList.remove("selected");let n=t.nextElementSibling;if(!n){let a=t.parentElement.nextElementSibling;for(;a;){if(a.classList.contains("grid-samples-container")){n=a.children[0];break}a=a.nextElementSibling}n||(n=e.$.menu.querySelector(".color-sample"))}n.classList.add("selected"),n.setAttribute("aria-current",!0),e._setActiveDescendant(n),e.ensureVisible()}_prev(){const e=this,t=e.$.menu.querySelector(".color-sample.selected");if(!t){const a=e.$.menu.querySelector(".color-sample");return a.classList.add("selected"),a.setAttribute("aria-current",!0),void e._setActiveDescendant(a)}t.removeAttribute("aria-current"),t.classList.remove("selected");let n=t.previousElementSibling;if(!n){let a=t.parentElement.previousElementSibling;for(;a;){if(a.classList.contains("grid-samples-container")){n=a.children[a.children.length-1];break}a=a.previousElementSibling}n||(n=e.$.menu.querySelector(".grid-samples-container:last-of-type .color-sample:last-of-type"))}n.classList.add("selected"),n.setAttribute("aria-current",!0),e._setActiveDescendant(n),e.ensureVisible()}_move(e){const t=this;if(t.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 37:case 38:e.preventDefault(),t[t.rightToLeft?"_next":"_prev"]();break;case 39:case 40:e.preventDefault(),t[t.rightToLeft?"_prev":"_next"]()}e.stopPropagation()}}_inputSelectHandler(){const e=this;e.readonly&&(e.$.input.selectionStart=e.$.input.selectionEnd)}_inputChangeHandler(e){e.stopPropagation(),this._performSelect()}_keyDownHandler(e){const t=this;t._suppressKeyPressRepeat=![37,38,39,40,9,13,27,16,17,18].includes(e.keyCode),e.shiftKey||e.ctrlKey||(e.altKey?e.key==="ArrowUp"?t.close():e.key==="ArrowDown"&&t.open():t._move(e))}_keyUpHandler(e){const t=this;if(!(e.shiftKey||e.altKey||e.ctrlKey))switch(e.keyCode){case 40:case 39:case 38:case 37:case 16:case 17:case 18:e.keyCode===40&&e.altKey&&t.open(),e.keyCode===38&&e.altKey&&t.close();break;case 9:case 13:if(!t.opened)return void(e.keyCode===13&&t.open());t._performSelect(),e.stopPropagation(),e.preventDefault();break;case 27:if(!t.opened)return;t.close(),e.stopPropagation(),e.preventDefault();break;default:if(t.readonly)return void(e.keyCode!==32||t.opened||t.open());t._lookup(e),!t.opened||e.ctrlKey||e.shiftKey||(e.stopPropagation(),e.preventDefault()),t.$.input.dataValue=t.$.input.value,t._isValidColor(t.value)||(t.$colorSampleContainer.addClass("no-color"),t.$.colorSample.setAttribute("aria-label","No color"),t.$.colorSample.style.backgroundColor="")}}propertyChangedHandler(e,t,n){const a=this;if(e==="dropDownHeight")a.$.scrollView.style.setProperty("--smart-input-drop-down-menu-height",a.dropDownHeight+"px");else if(e==="opened")a.opened=t,n?a.open():a.close();else if(e==="placeholder"){if(a.readonly){const i=a.getAttribute("aria-label");if(i&&i!==t)return;n?a.setAttribute("aria-label",n):a.removeAttribute("aria-label")}}else e==="readonly"?a._setAriaRelations():e==="theme"?a.$.scrollView.setAttribute(e,n):e==="rightToLeft"?n?a.$.scrollView.setAttribute("right-to-left",""):a.$.scrollView.removeAttribute("right-to-left"):e==="valueFormat"?(a.value=a._formatValue(a.value),a.$.input.dataValue=a.value):e==="displayMode"?a.open():e==="value"?(a.$.input.value=n,a._performSelect(t)):super.propertyChangedHandler(e,t,n)}_createElement(){const e=this,t=document.createElement("div"),n=document.createElement("div");n.classList.add("smart-color-input-drop-down-menu","smart-color-panel"),n.setAttribute("theme",e.theme),e.$.scrollView=n,e.rightToLeft?e.$.scrollView.setAttribute("right-to-left",""):e.$.scrollView.removeAttribute("right-to-left"),e.$.menu=t,e.$.menu.classList.add("default-samples-container","grid-mode-container","smart-container"),e.$.scrollView.onclick=function(a){a.stopPropagation(),a.preventDefault(),e._performSelect(),e.$.input.focus()},e.classList.add("smart-drop-down-box","smart-color-picker"),e.value?(e.$colorSampleContainer.removeClass("no-color"),e.$.colorSample.setAttribute("aria-label",e.value)):(e.$colorSampleContainer.addClass("no-color"),e.$.colorSample.setAttribute("aria-label","No color")),e._cssColorNamesHEX={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},e._performSelect(e.value)}_setAriaRelations(){const e=this,t=e.getAttribute("aria-label");e.readonly?(e.setAttribute("role","button"),!t&&e.placeholder&&e.setAttribute("aria-label",e.placeholder),e.$.input.setAttribute("aria-hidden",!0),e.$.input.removeAttribute("aria-activedescendant"),e.$.input.removeAttribute("aria-controls"),e.$.dropDownButton.setAttribute("aria-hidden",!0)):(e.setAttribute("role","combobox"),t&&t===e.placeholder&&e.removeAttribute("aria-label"),e.$.input.setAttribute("role","searchbox"),e.$.input.removeAttribute("aria-hidden",!0),e.$.dropDownButton.removeAttribute("aria-hidden")),e.setAttribute("aria-expanded",e.opened),e.setAttribute("aria-haspopup","listbox"),e.$.scrollView.setAttribute("role","listbox")}})},6057:()=>{(()=>{Smart.DataAdapter=window.smartDataAdapter=class{constructor(t){t||(t={});const n=Object.assign(this,t);n.key=(65536*(1+Math.random())|0).toString(16).substring(1),n.$document=Smart.Utilities.Extend(document),n.boundSource=n.observable===!1||n.virtualDataSource?[]:new Smart.ObservableArray,n.dataItemById=[],n.allowAdd===void 0&&(n.allowAdd=!0),n.allowRemove===void 0&&(n.allowRemove=!0),n.allowUpdate===void 0&&(n.allowUpdate=!0),n.mapChar===void 0&&(n.mapChar="."),t.observable!==void 0||n.virtualDataSource?n.observable=!1:n.observable=!0,n.sanitizeHTML===void 0&&(n.sanitizeHTML="blackList"),n._expandedRowIds=[],t.dataSource||(n.dataSource=[]),t.dataFields||(n.dataFields=[]),t.dataSourceType||(n.dataSourceType="array"),t.id||(n.id=null),t.autoFetch||(n.autoFetch=!0),t.skipFirstRow===void 0&&(n.skipFirstRow=!1),t.dataFields&&(n.dataFields=t.dataFields),Object.defineProperty(n,"groupBy",{configurable:!1,enumerable:!0,get:()=>n._groupBy?n._groupBy:[],set(a){const i=()=>{n.boundHierarchy=null,n.refreshHierarchy(),n.onGroup&&n.onGroup()};n._groupBy=new Smart.ObservableArray(a),n._groupBy.notify(function(){i()}),n.isInitialized&&i()}}),t.groupBy?t.groupBy.toArray?n.groupBy=t.groupBy.toArray():n.groupBy=t.groupBy:n.groupBy=[],t&&t.autoBind!==!1&&n.dataBind(),n.isInitialized=!0}beginUpdate(){this.isUpdating=!0}endUpdate(){const t=this;t.isUpdating=!1,t.refreshIndexes(),t.refreshHierarchy()}get expandHierarchy(){return this._expandHierarchy===void 0&&(this._expandHierarchy=!1),this._expandHierarchy}set expandHierarchy(t){const n=this;n._expandHierarchy=t,n.isInitialized&&n.refreshHierarchy()}_getDataField(t){switch(t.name){case"leaf":case"parent":case"expanded":case"checked":case"selected":case"level":case"icon":case"data":case"group":case"children":case"items":t.map?t.map=t.map.replace(t.name,"$"+t.name):t.map=t.name,t.name="$"+t.name}}get dataFields(){return this._dataFields}set dataFields(t){const n=this;return n._dataFields=n._getDataFieldObjects(t),n._dataFields}_getDataFieldObjects(t){const n=this;let a=[];if(typeof t=="number"){let r="",o=0;for(let d=0;d<t;d++){const f=String.fromCharCode(65+o);o++;const p=r+f;a.push({name:p,dataType:"string"}),o>=26&&(o=0,r+="A")}}else if(Array.isArray(t)&&t.length>0)for(let i=0;i<t.length;i++){const r=t[i];if(typeof r=="string"){const o=r.split(":"),d=o[0].trim(),f=o.length>1?o[1].trim():"string";a.push({name:d,dataType:f})}else a.push(r);n._getDataField(a[a.length-1])}return a}get dataSource(){const t=this;return t._dataSource||(t._dataSource=[]),t._dataSource}set dataSource(t){const n=this;n._dataSource=t,n.isInitialized&&(n.boundSource=n.observable===!1||n.virtualDataSource?[]:new Smart.ObservableArray,n.dataItemById=[],n.bindingCompleted=!1,n.dataBind(),n.refreshIndexes())}get canNotify(){const t=this;return t._canNotify===void 0&&(t._canNotify=!0),t._canNotify}set canNotify(t){this._canNotify=t}_notify(t){const n=this;n.canNotify&&n.notifyFn&&n.notifyFn(t)}notify(t){t&&(this.notifyFn=t)}toArray(){const t=this;return t.observable===!1?t.boundSource:t.boundSource.toArray()}forEach(t){const n=this;if(t)if(n.boundHierarchy&&n.boundHierarchy.length>0){const a=(i=>{let r=[];for(;i;){r=r.concat(i);for(let o=0;o<i.length;o++)i[o].children&&(r=r.concat(i[o].children));i=i.children}return r})(n.boundHierarchy);for(let i=0;i<a.length;i++)t(a[i],i)}else for(let a=0;a<n.boundSource.length;a++)t(n.boundSource[a],a)}dataBind(){const t=this;t.bindingCompleted=!1,t.clear();const n=()=>{t.observable&&(t.boundSource.notify||(t.boundSource=new Smart.ObservableArray),t.boundSource.notify(function(a){if(a.action==="update"&&a.path&&a.path.indexOf(".")>=0&&a.path.indexOf("children")===-1&&a.path.indexOf("parent")===-1&&a.path.indexOf("loaded")===-1&&a.path.indexOf("level")===-1&&a.path.indexOf("leaf")===-1&&a.path.indexOf("expanded")===-1){let i=!1;for(let r=0;r<t.dataFields.length;r++){const o=t.dataFields[r].name;a.path.indexOf(o)>=0&&(i=!0)}t._notify&&i&&t._notify({action:"update",data:a.target,index:a.index})}})),t._onBindingComplete()};if(typeof t.dataSource=="string"&&(t.dataSource.indexOf(".json")>=0||t.dataSourceType==="json"))t.url=t.dataSource,t.dataSourceType="json",new e(t,a=>{t.dataSource=a});else if(typeof t.dataSource=="string"&&t.dataSource.indexOf(".xml")>=0)t.url=t.dataSource,t.dataSourceType="xml",new e(t,a=>{t.dataSource=a});else if(typeof t.dataSource=="string"&&t.dataSource.indexOf(".xlsx")>=0)t.url=t.dataSource,t.dataSourceType="xlsx",new e(t,a=>{if(!a[0])return a=[],t._bindToArray(),void n();const i=Object.keys(a[0]),r={},o=[];if(t.exportHeader!==!1){let d=0;for(let f in i)r[i[f]]=t.dataFields[d++].name;for(let f=1;f<a.length;f++){const p=a[f],v={};for(let w in i){const C=i[w];v[r[C]]=p[C]}o.push(v)}t.dataSource=o}t._bindToArray(),n()});else if(typeof t.dataSource=="string"&&t.dataSource.indexOf(".csv")>=0)t.url=t.dataSource,t.dataSourceType="csv",new e(t,a=>{t.dataSource=a});else if(typeof t.dataSource=="string"&&t.dataSource.indexOf(".tsv")>=0)t.url=t.dataSource,t.dataSourceType="tsv",new e(t,a=>{t.dataSource=a});else if(typeof t.dataSource=="string"&&(t.dataSource.indexOf(".ics")>=0||t.dataSource.indexOf(".php")>=0&&t.dataSourceType==="ics"||t.dataSource.indexOf(".txt")>=0&&t.dataSourceType==="ics"))t.url=t.dataSource,t.dataSourceType="ics",new e(t,a=>{t.dataSource=a});else if(typeof t.dataSource=="string"&&(t.dataSource.indexOf("BEGIN:VCALENDAR")>=0||t.dataSourceType==="ics"))t._bindToICS(),n();else if(typeof t.dataSource=="string"&&(t.dataSource.indexOf("<?xml")>=0||t.dataSourceType==="xml"))t._bindToXML(),n();else if(typeof t.dataSource=="string"&&(t.dataSource.indexOf("  ")>=0||t.dataSource.indexOf(",")>=0||t.dataSourceType==="tsv"||t.dataSourceType==="csv"||t.dataSourceType==="tab"))t._bindToCSV(),n();else if(t.dataSourceType==="array")t._bindToArray(),n();else if(t.dataSourceType==="json"){if(t.dataSource&&t.dataSource.url)return t.url=t.dataSource.url,t.dataSource.method&&(t.type=t.dataSource.method),t.dataSource.type&&(t.type=t.dataSource.type),t.dataSource.data&&(t.data=t.dataSource.data),void new e(t,a=>{t.dataSource=a});t._bindToJSON(),n()}}_bindToXML(){const t=this;let n=null,a=null;window.DOMParser&&(n=new DOMParser,a=n.parseFromString(t.dataSource,"text/xml")),t.root===void 0&&(t.root=""),t.record===void 0&&(t.record="");const i=a.querySelectorAll(t.root+" "+t.record),r=i.length,o=[];let d=t.dataFields?t.dataFields.length:0;if(d===0){const f=i[0],p=new Array;for(let v in f){const w=v;p[p.length]={name:w}}t.dataFields=p,d=p.length}for(let f=0;f<r;f++){const p=i[f],v={};if(p===void 0)break;if(t.id){const w=p.querySelector(t.id);v[t.id]=w.textContent}for(let w=0;w<d;w++){const C=t.dataFields[w],x=p.querySelector(C.map||C.name);v[C.name]=x.textContent}o[f]=v}t.canNotify=!1,t.dataSource=o,t.canNotify=!0,t._bindToArray()}static BindToCSV(t,n=!1){const a=""+t,i=a.indexOf(",")===-1?"	":",",r=a.split("\r"),o=new Array,d=[];let f=a.split(`
`),p=f.length;p===1&&r.length>1&&(f=r,p=f.length);const v=n===!0;for(let w=0;w<p;w++){const C={},x=f[w].split(i);for(let L=0;L<x.length;L++){let A=d[L],k=x[L];if(A||(d.push({name:k.trim()}),A=d[d.length-1]),k=k.trim(),w!==1||v)switch(A.dataType){case"boolean":k=k!=="false";break;case"number":k=parseFloat(k);break;case"date":k=new Date(k)}else{let B="string";k==="false"||k==="true"?(B="boolean",k=k!=="false"):isNaN(parseInt(k)&&k.indexOf("/")===-1)?(k.indexOf("-")>=0||k.indexOf("/")>=0||k.indexOf(":")>=0)&&new Date(k).toString()!=="Invalid Date"&&(B="date",k=new Date(k)):(B="number",k=parseFloat(k)),A.dataType||(A.dataType=B)}C[A.name]=k}(v||w>0)&&o.push(C)}return o}_bindToCSV(){const t=this,n=""+t.dataSource,a=n.indexOf(",")===-1?"	":",",i=n.split("\r"),r=new Array;let o=n.split(`
`),d=o.length;d===1&&i.length>1&&(o=i,d=o.length);const f=t.dataFields.length>0;for(let p=0;p<d;p++){const v=o[p],w={};let C=o[p].split(a);if(p>0){let x=[],L=0,A=!1,k=o[p];for(let H=0;H<k.length;H++)if(k.charAt(H)==='"')A=!A;else if(k.charAt(H)===","&&!A){let V=k.substring(L,H);V=V.trim(),V=V.replaceAll('"',""),x.push(V),L=H+1}let B=k.substring(L);B=B.trim(),B=B.replaceAll('"',""),B===","?x.push('""'):x.push(B),C=x}for(let x=0;x<C.length;x++){let L=t.dataFields[x],A=C[x];if(L||(t.dataFields.push({name:A.trim()}),L=t.dataFields[t.dataFields.length-1]),L.map&&(A=v[L.map]),A=A.trim(),p!==1||f)switch(L.dataType){case"boolean":A=A!=="false";break;case"number":A=parseFloat(A);break;case"date":A=new Date(A)}else{let k="string";A==="false"||A==="true"?(k="boolean",A=A!=="false"):isNaN(parseInt(A)&&A.indexOf("/")===-1&&A.indexOf("-")===-1)?(A.indexOf("-")>=0||A.indexOf("/")>=0||A.indexOf(":")>=0)&&new Date(A).toString()!=="Invalid Date"&&(k="date",A=new Date(A)):A.indexOf(".")>=0&&A.lastIndexOf(".")!==A.indexOf(".")?A.indexOf(",")===-1&&(k="date",A=new Date(A)):(k="number",A=parseFloat(A)),L.dataType||(L.dataType=k)}w[L.map||L.name||x.toString()]=A}p===0&&t.skipFirstRow||(f||p>0)&&r.push(w)}t.canNotify=!1,t.dataSource=r,t.canNotify=!0,t._bindToArray()}_onBindingComplete(){const t=this;t._buildHierarchy(),t.onBindingComplete&&t.onBindingComplete({data:t.boundSource}),t._notify&&t._notify({action:"bindingComplete",data:t.boundSource}),t.bindingCompleted=!0}refreshHierarchy(){this.isUpdating||this._buildHierarchy()}find(){return this.boundSource.find.apply(this.boundSource,arguments)}onVirtualDataSourceRequested(t,n){const a=this;let i=n?n.first:1/0,r=n?n.last:1/0,o=n?n.row:null;if(i===void 0&&(i=1/0),r===void 0&&(r=1/0),a.virtualFirstIndex=i,a.virtualLastIndex=r,a.virtualDataSource){const d=function(p){p.virtualDataSourceLength!==void 0&&(a.virtualDataSourceLength=p.virtualDataSourceLength),new Smart.DataAdapter({dataSource:p.dataSource,dataFields:p.dataFields||a.dataFields,data:n,keyDataField:p.keyDataField,parentDataField:p.parentDataField,observable:!1,id:p.id||a.id,onBindingComplete(v){if(n.result===void 0&&(n.result=!0),n.data=v.data,a.virtualDataSourceOnExpand&&o)return a.groupBy.length>0?v.data&&v.data.length>0&&a.add(v.data):v.data&&v.data.length>0?a.add(v.data,o.$.id):o.leaf=!0,a.onFilter&&a.onFilter(),void t(n);i===1/0&&n.action==="scroll"?v.data&&v.data.length&&a.add(v.data):n.action==="filter"||n.action==="group"?(a.canNotify=!1,a.dataSource=v.data,a.canNotify=!0):(n.action==="add"||n.action==="update"||n.action,a.canNotify=!1,a.dataSource=v.data,a.canNotify=!0),a.onFilter&&a.onFilter(),t(n)}})};let f={};if(n.sorting&&n.sorting.length>0){let p=[];for(let w in n.sorting)p.push(w+" "+n.sorting[w].sortOrder.toUpperCase());const v=" ORDER BY "+p.join(", ");f.orderBy=v}else f.orderBy="";if(i===void 0||r===void 0||i===0&&r===0)f.limit="";else{const p=r-i,v=" LIMIT "+p+" OFFSET "+i;f.limit=v,isNaN(p)&&(f.limit="")}if(n.grouping&&n.grouping.length>0){const p=" GROUP BY "+n.grouping[0];f.groupBy=p}else f.groupBy="";if(n.filtering&&n.filtering.length>0){const p=(x,L)=>{switch(L.condition){case"EMPTY":return x+" = ''";case"NOT_EMPTY":return x+" != ''";case"EQUAL":return x+" = '"+L.value+"'";case"NOT_EQUAL":return x+" != '"+L.value+"'";case"CONTAINS_CASE_SENSITIVE":case"CONTAINS":return x+" LIKE '%"+L.value+"%'";case"DOES_NOT_CONTAIN_CASE_SENSITIVE":case"DOES_NOT_CONTAIN":return x+" NOT LIKE '%"+L.value+"%'";case"STARTS_WITH_CASE_SENSITIVE":case"STARTS_WITH":return x+" LIKE '"+L.value+"%'";case"ENDS_WITH_CASE_SENSITIVE":case"ENDS_WITH":return x+" LIKE '%"+L.value+"'";case"NULL":return x+" IS NULL";case"NOT_NULL":return x+" IS NOT NULL"}},v=(x,L)=>{let A=L.value,k=L.valueTo;switch(A&&A instanceof Date&&(A=`'${new Smart.Utilities.DateTime(A).toString("yyyy-MM-dd")}'`),L.valueTo&&L.valueTo instanceof Date&&(k=`'${new Smart.Utilities.DateTime(k).toString("yyyy-MM-dd")}'`),L.condition){case"EQUAL":return x+" = "+A;case"NOT_EQUAL":return x+" != "+A;case"GREATER_THAN":return x+" > "+A;case"GREATER_THAN_OR_EQUAL":return x+" >= "+A;case"LESS_THAN":return x+" < "+A;case"LESS_THAN_OR_EQUAL":return x+" <= "+A;case"NULL":return x+" IS NULL";case"NOT_NULL":return x+" IS NOT NULL";case"RANGE":return"("+x+" >= "+A+" and "+x+" <= "+k+")"}},w=(x,L,A)=>{if(A.operator){var k=x(L,A.condition1),B=x(L,A.condition2);return"("+k+" "+A.operator+" "+B+")"}return x(L,A)};let C=[];for(let x in n.filtering){const L=n.filtering[x];let A=L.filters,k=[],B=" AND ";for(let H=0;H<A.length;H++){const V=A[H];switch(V.type){case"stringFilter":k.push(w(p,x,V));break;case"numericFilter":case"dateFilter":case"booleanFilter":k.push(w(v,x,V))}L.logicalOperators[H]!==1&&L.logicalOperators[H]!=="or"||(B=" OR ")}k.length&&C.push("("+k.join(B)+")")}if(C.length>0){let x=" AND ";n.filterOperator&&n.filterOperator.toLowerCase()==="or"&&(x=" OR "),f.where=" WHERE "+C.join(x).replace(/</g,"&lt;").replace(/>/g,"&gt;")}else f.where=""}else f.where="";if(n.action==="dataBind"&&a.virtualDataSourceOnExpand&&a.keyDataField&&a.parentDataField&&(f.where?f.where+=" AND "+a.parentDataField+" IS NULL":f.where=" WHERE "+a.parentDataField+" IS NULL"),n.action==="update"){const p=[];for(let v in n.edit.row){if(v==="$"||v===a.id)continue;const w=n.edit.row[v]===null?"":n.edit.row[v]+"";p.push(v+"='"+w.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"'")}a.id===null?f.update=" SET "+p.join(", "):f.update=" SET "+p.join(", ")+" WHERE "+a.id+"="+n.edit.row[a.id]}if(n.action==="remove"){const p=[];for(let v in n.edit.row)v!=="$"&&v!==a.id&&p.push(v+" = '"+n.edit.row[v]+"'");f.remove=" WHERE "+a.id+"="+n.edit.row[a.id]}if(n.action==="add"){const p=[],v=[];for(let w in n.edit.row)w!=="$"&&(v.push(w),n.edit.row[w]!==null?p.push("'"+n.edit.row[w]+"'"):p.push("null"));f.add=" ("+v.join(", ")+")  VALUES ("+p.join(", ")+")"}n.action==="expand"?(a.groupDataField?f.where?f.where+=" AND "+a.groupDataField+" = '"+o[a.groupDataField]+"'":f.where=" WHERE "+a.groupDataField+" = '"+o[a.groupDataField]+"'":a.keyDataField&&a.parentDataField?f.where?f.where+=" AND "+a.parentDataField+" = "+o[a.keyDataField]:f.where=" WHERE "+a.parentDataField+" = "+o[a.keyDataField]:f.where?f.where+=" AND "+o.groupDataField+" = '"+o.label+"'":f.where=" WHERE "+o.groupDataField+" = '"+o.label+"'",f.where.indexOf("undefined")>=0&&(f.where=""),f.limit="",f.groupBy="",a.virtualDataSourceOnExpand(d,{first:i,last:r,row:n.row,sorting:n.sorting,filtering:n.filtering,grouping:n.grouping,action:n.action,query:f})):a.virtualDataSource(d,{first:i,last:r,sorting:n.sorting,edit:n.edit,filtering:n.filtering,filterOperator:n.filterOperator||"and",grouping:n.grouping,action:n.action,query:f})}else t()}add(t,n){const a=this;if(!t)return;let i=!0;const r=function(o){const d=a._getDataItem(o,a.boundSource.length);if(a.dataItemById[d.$.id])return n!==void 0&&(d.$.parentId=n),null;a[a.boundSource.length]=d,a.dataItemById[d.$.id]=d;const f=a.boundSource.push(d);return n!==void 0&&(d.$.parentId=n),f||(i=!1),d};if(t.length){let o=[];for(let d=0;d<t.length;d++){const f=r(t[d]);f&&o.push(f)}a._notify({action:"add",data:o})}else{const o=r(t);a._notify({action:"add",data:o})}return a.refreshHierarchy(),i}refreshIndexes(){const t=this;for(let a=0;a<t.boundSource.length;a++)t[a]=t.boundSource[a],t[a].$.index=a,t.dataItemById[t[a].$.id]=t[a];let n=t.boundSource.length;for(;t[n];)delete t[n],n++}removeLast(){const t=this;delete t[t.boundSource.length-1];const n=t.boundSource.pop();return delete t.dataItemById[n.$.id],t._notify({action:"removeLast",data:n}),t.refreshHierarchy(),n}removeById(t){const n=this,a=n.indexOf(n.dataItemById[t]);n.boundSource[a]&&n.removeAt(a)}remove(t){const n=this;let a=n.indexOf(t);a===-1&&t&&t.$&&(a=n.indexOf(n.dataItemById[t.$.id])),n.boundSource[a]&&n.removeAt(a)}removeAt(t){const n=this,a=n.boundSource[t];if(!a)throw new Error("Invalid Item Index");n.boundSource.splice(t,1),delete n.dataItemById[a.$.id],n.refreshIndexes(),n._notify({action:"remove",index:t,data:a}),n.refreshHierarchy()}update(t,n){const a=this;if(Smart.Utilities.Types.isArray(t)&&Smart.Utilities.Types.isArray(n)&&t.length===0&&n.length===0)return void a.refreshHierarchy();if(n.length&&t.length){let o=[];for(let d=0;d<t.length;d++){const f=a._getDataItem(n[d],t[d]),p=t[d];o.push(f),a.boundSource[p]=f,a[p]=a.boundSource[p],a.dataItemById[f.$.id]=a[p]}return a._notify({action:"update",index:t,data:o}),void a.refreshHierarchy()}const i=a._getDataItem(n,t),r=a.boundSource[t].$.id;return i.$.id=r,a.boundSource[t]=i,a[t]=a.boundSource[t],a.dataItemById[i.$.id]=a[t],a._notify({action:"update",index:t,data:i}),a.refreshHierarchy(),i}insert(t,n){const a=this;if(n.length){const r=[];for(let o=0;o<n.length;o++){const d=a._getDataItem(n[o],t+o);r.push(d)}n=r}else n=a._getDataItem(n,t);const i=a.boundSource.splice(t,0,n);return a.refreshIndexes(),a._notify({action:"insert",index:t,data:n}),a.refreshHierarchy(),i}move(t,n){if(n>t&&n-t==1||t===n)return;const a=this,i=a.boundSource.splice(t,1)[0];n>t&&n--,a.boundSource.splice(n,0,i),a.refreshIndexes(),a._notify({action:"move",index:n,data:a.boundSource[n]}),a.refreshHierarchy()}indexOf(t){return this.boundSource.indexOf(t)}get length(){const t=this;return t.virtualDataSourceLength!==void 0?t.virtualDataSourceLength:t.dataSourceLength?t.dataSourceLength:typeof t.dataSource=="number"?t.dataSource:t.bindingCompleted?t.boundSource.length:t.dataSource&&typeof t.dataSource!="string"&&t.dataSource.length?t.dataSource.length:t.boundSource.length}clear(){const t=this;if(!t.isInitialized)return t._cachedValues=[],void(t.dataItemById=[]);for(let n=0;n<t.boundSource.length;n++)delete t[n];t._expandedRowIds=[],t._cachedValues=[],t.boundSource=t.observable?new Smart.ObservableArray:[],t.dataItemById=[],t.refreshHierarchy()}_getId(t,n,a){if(t===null||t.name===void 0||!t.name||!n.getAttribute){if(t&&t.toString().length>0&&n.getAttribute){let i=n.getAttribute(t);if(i!==null&&i.toString().length>0)return i.trim().split(" ").join("").replace(/([ #;?%&,.+*~\':'!^$[\]()=>|\/@])/g,"");{let r=t.split(this.mapChar);if(r.length>1){let o=n;for(let d=0;d<r.length;d++)o!==void 0&&(o=o[r[d]]);if(o!==void 0)return o}else if(n[t]!==void 0)return n[t]}}return a}{let i=n.getAttribute(t.name);if(i!==null&&i.toString().length>0)return i;if(t.map)try{let r=n.getAttribute(t.map);if(r!==null&&r.toString().length>0)return r}catch{return a}}}_buildHierarchy(){const t=this;if(t.reservedNames){const a=t.reservedNames;a.leaf||(a.leaf="leaf"),a.parent||(a.parent="parent"),a.expanded||(a.expanded="expanded"),a.checked||(a.checked="checked"),a.selected||(a.selected="selected"),a.level||(a.level="level"),a.data||(a.data="data")}else t.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};const n=t.reservedNames;if(t.childrenDataField){const a=[];for(let i=0;i<t.boundSource.length;i++){const r=JSON.parse(JSON.stringify(t.boundSource[i]));if(!r)continue;a.push(r);const o=function(f){const p=t.childrenDataField.split(t.mapChar);let v=null;if(p.length>1){let w=f;for(let C=0;C<p.length;C++)w!==void 0&&(w=w[p[C]]);v=w}else v=f.children;f.children=v,(f.children===null||f.children===void 0||f.children&&f.children.length===0)&&(f[n.leaf]=!0)};o(r),r[n.level]=0,r.$||(r.$={}),r[n.parent]=null,r[n.data]=r,r[n.expanded]===void 0&&(r[n.expanded]=!1,t.expandHierarchy&&(r[n.expanded]=!0));const d=function(f,p){if(p)for(let v=0;v<p.length;v++){let w=t._getDataItem(p[v],v);if(w){if(o(w),!t.id){const C=function(){const x=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return x()+x()};w.$.id=C()}w[n.level]=f[n.level]+1,w[n.parent]=f,w[n.data]=Object.assign({},w),f&&(f.children[v]=w),w[n.expanded]===void 0&&(w[n.expanded]=!1,t.expandHierarchy&&(w[n.expanded]=!0)),d(w,w.children)}}else f.children=new Array};d(r,r.children)}if(t.boundHierarchy=a,!t._boundSourceUpdate){for(let i=0;i<t.boundHierarchy.length;i++){const r=t.boundHierarchy[i];if(r.children){const o=function(d){if(t.dataItemById[d.$.id]||(t.boundSource.canNotify=!1,t.dataItemById[d.$.id]=d,t.boundSource.canNotify=!0),d.children)for(let f=0;f<d.children.length;f++){const p=d.children[f];p.children&&o(p)}};o(r)}}t._boundSourceUpdate=!0}}if(t.xmlRoot&&t.dataSourceType==="xml"&&(t.boundHierarchy=this._getHierarchy("uid","_parentuid","children",null,t.boundSource)),t.keyDataField&&t.parentDataField)return["keyDataField","parentDataField"].forEach(a=>{switch(t[a]){case"parent":t[a]="$"+t[a]}}),void(t.boundHierarchy=this._getHierarchy(t.keyDataField,t.parentDataField,"children",null,t.boundSource));t.groupBy&&t.groupBy.length>0?t.boundHierarchy=this._getGroupHierarchy(t.groupBy,"children","label",null,"data",null,"parent",t.boundSource):t.virtualDataSourceOnExpand&&(t.boundHierarchy=this._getHierarchy("id","parentId","children",null,t.boundSource))}_getGroupHierarchy(t,n,a,i,r,o,d,f,p){let v=this;p||(p=0);let w=v.reservedNames;const C=v.boundSource.canNotify;v.boundSource.canNotify=!1;const x=function(){function z(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return z()+z()+"-"+z()+"-"+z()+"-"+z()+"-"+z()+z()+z()};let L=new Array;for(let z=0;z<t.length;z++)L[z]=x();n||(n="children"),a||(a="group"),r||(r="item"),d||(d="parent"),o===void 0&&(o="value");const A=new Array,k=new Array;let B=0;const H=function(z){let N=z;for(let F=0;F<t.length;F++)if(z[t[F]]===void 0){N=v._getDataItem(z,z.$.index);break}if(i)for(let F in i){const q=i[F];q.name&&q.map&&(N[q.map]=N[q.name])}return N};let V=!1;for(let z=0;z<f.length;z++){let N=H(f[z]);N[w.leaf]=!1;let F=new Array,q=0;for(let ae=0;ae<t.length;ae++){const Q=t[ae],ie=N[Q];ie!=null?((ie===""||ie===void 0&&ae===0)&&(V=!0),F[q++]={value:ie,group:Q,hash:L[ae]}):(F[q++]={value:null,group:Q,hash:L[ae]},ae===0&&(V=!0))}if(F.length!==t.length)break;let Y=null,X="";for(let ae=0;ae<F.length;ae++){const Q=F[ae].value,ie=F[ae].group;if(X=X+"_"+F[ae].hash+"_"+Q,k[X]===void 0||k[X]===null){if(Y===null){Y={$:{}},Y[w.level]=0,Y[w.leaf]=!1,Y[d]=null,Y[a]=Q,Y[r]=N,Y.groupDataField=ie,Y[ie]||(Y[ie]=Y.data[ie]),N[w.expanded]!==void 0?Y[w.expanded]=N[w.expanded]:(Y[w.expanded]=!1,v.expandHierarchy&&(Y[w.expanded]=!0)),o&&(Y[o]=N[o]),Y[n]=new Array;let te=A.length+p;this.id&&typeof N.$.id!="number"&&!isFinite(N.$.id)||(te="Item"+te),Y.$.id===void 0&&(Y.$.id=te),v._expandedRowIds[Y.$.id]&&(Y[w.expanded]=!0),v.expandHierarchy&&v._collapsedIds&&v._collapsedIds[Y.$.id]&&(Y[w.expanded]=!1),A[B++]=Y}else{const te={$:{}};te[w.level]=Y[w.level]+1,te[d]=Y,te[a]=Q,te[n]=new Array,te[r]=N,te.groupDataField=ie,te[w.leaf]=!1,te[ie]||(te[ie]=te.data[ie]),N[w.expanded]!==void 0?te[w.expanded]=N[w.expanded]:(te[w.expanded]=!1,v.expandHierarchy&&(te[w.expanded]=!0)),o&&(te[o]=N[o]),te.$.id===void 0&&(te.$.id=Y.$.id+"_"+Y[n].length),v.expandHierarchy&&v._collapsedIds&&v._collapsedIds[te.$.id]&&(te[w.expanded]=!1),v._expandedRowIds[te.$.id]&&(te[w.expanded]=!0),Y[n][Y[n].length]=te,Y=te}k[X]=Y}else Y=k[X]}N&&(N[w.leaf]=!0),Y!==null?(this.id===null?N.$.id===void 0&&(N.$.id=Y.$.id+"_"+Y[n].length):N.$.id===void 0&&N.$.id.toString().indexOf(Y.$.id)===-1&&(N.$.id=Y.$.id+"_"+N.$.id),N[d]=Y,N[w.level]=Y[w.level]+1,Y[n][Y[n].length]=N):N.$.id===void 0&&(N.$.id=x())}if(V){let z=null,N=!1;for(let F=0;F<A.length;F++){const q=A[F];if(!q[q.groupDataField]){z=q,z.$.id.toString().startsWith("Item")&&(N=!0),A.splice(F,1);break}}if(z&&(A.push(z),N))for(let F=0;F<A.length;F++){const q=A[F];q.$.id="Item"+F,Object.keys(v._expandedRowIds).length>0&&(v._expandedRowIds[q.$.id]?q[w.expanded]=!0:q[w.expanded]=!1,v.expandHierarchy&&(q[w.expanded]=!0,v._collapsedIds&&v._collapsedIds[q.$.id]&&(q[w.expanded]=!1)))}}return v.boundSource.canNotify=C,A}_getHierarchy(t,n,a,i,r){const o=this,d=new Array;let f=this.boundSource;if(r&&(f=r),this.boundSource.length===0)return null;const p=a!==null?a:"children";let v=new Array,w=f,C=w.length,x=o.reservedNames;const L=function(A){let k=A;if(i)for(let B in i){const H=i[B];H.name&&H.map&&(k[H.map]=k[H.name])}return k};for(let A=0;A<C;A++){let k=w[A],B=k[n],H=k[t];n==="parentId"&&(B=k.$.parentId),t==="id"&&(H=k.$.id),H===null&&(H=k[t]=k.$.id),k[p]=new Array,o.expandHierarchy&&k[x.expanded]===void 0&&(k[x.expanded]=o.expandHierarchy),v[H]={parentId:B,item:k}}for(let A=0;A<C;A++){const k=w[A];let B=k[n],H=k[t];if(n==="parentId"&&(B=k.$.parentId),t==="id"&&(H=k.$.id),v[B]!==void 0){let V={parentId:B,item:v[H].item},z=v[B].item;z[p]||(z[p]=new Array);let N=z[p].length;V=V.item,x?V[x.parent]=z:V.parent=z;const F=L(V);z[p][N]=F,v[B].item=z,v[H].item=V}else{let V=v[H].item;x?V[x.parent]===void 0&&(V[x.parent]=null):V.parent===void 0&&(V.parent=null);const z=L(V);x?z[x.level]=0:z.level=0,d[d.length]=z}}if(d.length!==0){let A=function(k,B){for(let H=0;H<B.length;H++){const V=B[H];x?V[x.level]=k:V.level=k;const z=V[p];z&&z.length>0?(V.leaf=!1,A(k+1,z)):o.virtualDataSourceOnExpand?V.leaf===void 0&&(V.leaf=!1):x?V[x.leaf]=!0:V.leaf=!0}};A(0,d)}return d}summarize(t,n){const a=this;Array.isArray(t)||(t=[t]);let i=[];for(let p=0;p<t.length;p++){const v=t[p];for(let w in v){const C=v[w];i.push({dataField:w,functions:C})}}t=i;let r={},o=new Array;n||(n=a.boundSource);let d=n.length,f=0;if(d!==0&&d!==void 0){for(let p=0;p<d;p++){let v=n[p];if((!v||!v.$||v.$.filtered!==!1)&&v){f++;for(let w=0;w<t.length;w++){const C=t[w];let x=v[C.dataField];if(x!==void 0&&x!=="uncategorized"||(x=""),C.functions&&C.functions.length>0){r[C.dataField]=r[C.dataField]||{},o[C.dataField]=o[C.dataField]||0,o[C.dataField]++;const L=function(B){for(let H in B){let V=r[C.dataField][H];V==null&&(r[C.dataField][H]=0,V=0),typeof B[H]=="function"&&(V=B[H](V,x,C.dataField,v)),r[C.dataField][H]=V}},A=x;let k=parseFloat(x);k=!isNaN(k),A&&A.toDate&&(k=!1),typeof x=="string"&&x.startsWith("+")&&(k=!1),k&&(x=parseFloat(x)),typeof x=="number"&&isFinite(x)?C.functions.forEach(function(B){let H=r[C.dataField][B];if(H==null&&(H=0,B==="min"&&(H=9999999999999),B==="max"&&(H=-9999999999999),B==="median"&&(H=[])),B==="sum"||B==="avg"||B==="stdev"||B==="stdevp"||B==="var"||B==="varp")H+=parseFloat(x);else if(B==="product")p===0?H=parseFloat(x):H*=parseFloat(x);else if(B==="min")H=Math.min(H,parseFloat(x));else if(B==="max")H=Math.max(H,parseFloat(x));else if(B==="count")H++;else if(B==="median")H.push(parseFloat(x));else if(B==="blank")H=r[C.dataField][B],H==null&&(H=0),x||H++;else if(B==="filled")H=r[C.dataField][B],H==null&&(H=0),x!==void 0&&H++;else if(B==="unique")H=r[C.dataField][B],H==null&&(H=[]),H.indexOf(x)===-1&&H.push(x);else if(B==="status")H=r[C.dataField][B],H==null&&(H=[]),H[x]||(H[x]=[]),H[x].push(x);else if(typeof B=="object")return void L(B);r[C.dataField][B]=H}):C.functions.forEach(function(B){if(B==="min"||B==="max"||B==="count"||B==="product"||B==="sum"||B==="avg"||B==="stdev"||B==="stdevp"||B==="var"||B==="varp"){if(x===null&&B!=="count")return!0;let H=r[C.dataField][B];return H==null&&(H=0),r[C.dataField][B]=H,!0}if(B==="blank"){let H=r[C.dataField][B];H==null&&(H=0),x||H++,r[C.dataField][B]=H}else if(B==="filled"){let H=r[C.dataField][B];H==null&&(H=0),x&&H++,r[C.dataField][B]=H}else if(B==="unique"){let H=r[C.dataField][B];H==null&&(H=[]),H.indexOf(x)===-1&&H.push(x),r[C.dataField][B]=H}else if(B==="status"){let H=r[C.dataField][B];H==null&&(H=[]),H[x]||(H[x]=[]),H[x].push(x),r[C.dataField][B]=H}typeof B=="object"&&L(B)})}}}}for(let p=0;p<t.length;p++){const v=t[p];if(v.functions&&(!v.functions||v.functions.length!==0)){if(r[v.dataField]||(r[v.dataField]={},v.functions.forEach(function(w){r[v.dataField][w]=0})),r[v.dataField].avg!==void 0){const w=r[v.dataField].avg,C=o[v.dataField];r[v.dataField].avg=C===0||C===void 0?0:w/C}else r[v.dataField].count!==void 0&&(r[v.dataField].count=f);if(r[v.dataField].unique!==void 0){const w=r[v.dataField].unique;r[v.dataField].unique=w.length}if(r[v.dataField].status!==void 0){const w=r[v.dataField].status;r[v.dataField].status=w}if(r[v.dataField].median!==void 0){let w=r[v.dataField].median;w.sort(function(C,x){return C-x}),r[v.dataField].median=.5*(w[Math.floor((w.length+1)/2)-1]+w[Math.ceil((w.length+1)/2)-1])}(r[v.dataField].stdev||r[v.dataField].stdevp||r[v.dataField].var||r[v.dataField].varp)&&v.functions.forEach(function(w){if(w==="stdev"||w==="var"||w==="varp"||w==="stdevp"){const C=r[v.dataField][w],x=d,L=C/d;let A=0;for(let B=0;B<d;B++){let H=n[B][v.dataField];A+=(H-L)*(H-L)}let k=w==="stdevp"||w==="varp"?x:x-1;k===0&&(k=1),w==="var"||w==="varp"?r[v.dataField][w]=A/k:w!=="stdevp"&&w!=="stdev"||(r[v.dataField][w]=Math.sqrt(A/k))}})}}return r}}_getDataItem(t,n){const a=this,i={},r=typeof a.dataSource=="number"||a.dataSourceLength;if(!t)return{$:{id:n,isEmpty:!0,index:n}};if(typeof t=="string"&&(t={"":t}),r){for(let f=0;f<a.dataFields.length;f++)i[(a.dataFields?a.dataFields[f]:{}).name]="";return i.$={},i.$.id=n,i.$.index=n,i}const o=t;if(o.expanded!==void 0&&(i.expanded=o.expanded,o.expanded==="true"||o.expanded===!0||o.expanded===1?i.expanded=!0:i.expanded=!1),a.childrenDataField?o[a.childrenDataField]!==void 0&&(i.children=o[a.childrenDataField]):o.children!==void 0?i.children=o.children:o.items!==void 0&&(i.children=o.items),o.leaf!==void 0&&(i.leaf=o.leaf),o.level!==void 0&&(i.level=o.level),a.keyDataField&&o[a.keyDataField]!==void 0&&(i[a.keyDataField]=o[a.keyDataField]),a.parentDataField&&o[a.parentDataField]!==void 0&&(i[a.parentDataField]=o[a.parentDataField]),a.dataFields.length===0){const f=Object.getOwnPropertyNames(t);for(let p=0;p<f.length;p++)f[p]!=="$"&&a.dataFields.push({name:f[p],dataType:"string"})}for(let f=0;f<a.dataFields.length;f++){const p=a.dataFields?a.dataFields[f]:{};let v="";if(p==null)continue;if(t.length&&(v=t[f]),p.map){let C=p.map.split(a.mapChar);if(C.length>0){let x=o;for(let L=0;L<C.length;L++)o&&x&&(x=x[C[L]]);v=x}else v=o[p.map]}v!=null?v=v.toString():v===void 0&&v!==null&&(v="");let w=!1;if(v===""&&(w=!0,v=t[p.name],p.dataType===void 0&&(p.dataType="any"),v!=null?p.dataType!=="array"&&(p.dataType==="any"?v=Array.isArray(t[p.name])?[...t[p.name]]:typeof t[p.name]=="object"?Object.assign({},t[p.name]):t[p.name]:p.dataType!=="date"&&(v=v.toString())):v=v===void 0&&p.dataType==="any"?null:""),v==="[object Object]"&&p.map&&w&&(v=""),a._cachedValues[v+"_"+p.dataType])v=a._cachedValues[v+"_"+p.dataType];else{if(p.dataType==="bool"||p.dataType==="boolean")v==="true"||v==="1"?v=!0:v!=="false"&&v!=="0"||(v=!1);else if(p.dataType==="number")v.indexOf(".")===-1&&v.indexOf(",")>=0&&v.substring(1+v.indexOf(",")).length<3&&(v=v.replace(",",".")),v=a.$document.deserialize(""+v,p.dataType,!0);else if(p.dataType==="date"){if(v&&typeof v=="string"&&v.indexOf("[")>=0){const C=JSON.parse(v);if(p.formatString&&Smart.Utilities.DateTime){const x=Smart.Utilities.DateTime.ParseDate(C[0],p.formatString),L=Smart.Utilities.DateTime.ParseDate(C[1],p.formatString);C[0]=x,C[1]=L}else{const x=a.$document.deserialize(""+C[0],p.dataType,!0),L=a.$document.deserialize(""+C[1],p.dataType,!0);C[0]=x,C[1]=L}v=C,i[p.name]=v;continue}if(p.formatString&&Smart.Utilities.DateTime)v=Smart.Utilities.DateTime.ParseDate(v,p.formatString);else{const C=""+v;v=a.$document.deserialize(""+v,p.dataType,!0),v.getTime&&isNaN(v.getTime())&&(v=C,v=Smart.Utilities.DateTime.ParseDate(v))}}else p.dataType!=="any"&&(v=p.dataType==="string"&&v==="null"?"null":a.$document.deserialize(""+v,p.dataType,!0));p.dataType!=="any"&&(a._cachedValues[v+"_"+p.dataType]=v)}p.dataType!=="string"&&p.dataType!=="boolean"&&p.dataType!=="bool"&&p.dataType!=="any"&&(isNaN(v)||v===-1/0||v===1/0)&&(v=p.dataType==="date"||p.dataType==="number"?null:0),p.name!=="parent"&&p.name!=="group"&&p.name!=="leaf"&&p.name!=="level"?(p.dataType==="string"&&/<.+?>/.test(v)&&v.replace&&(a.sanitizeHTML==="all"?v=v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;"):a.sanitizeHTML==="blackList"&&(v=window.Smart.Utilities.Core.sanitizeHTML(v),v.indexOf("<br")>=0&&(v=v.replaceAll("<br/>",`
\r`),v=v.replaceAll("<br>",`
\r`)))),i[p.name]=v):i.$[p.name]=v}let d=n;if(a.id){if(d=o[a.id],d===void 0)if(i[a.id]!==void 0){if(d=i[a.id],d===""){const f=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};d=f()+f()}}else{const f=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};d=f()+f()}typeof d=="object"&&(d=n),o.$&&o.$.id!==void 0&&(d=o.$.id)}else if(!a.virtualDataSource&&a.dataItemById&&a.dataItemById[d])for(d=a.length;a.dataItemById[d];)d++;return i.$||(i.$={}),i.$.id=d,i.$.index=n,new Object(i)}_bindToArray(){const t=this,n=typeof t.dataSource=="number"||t.dataSourceLength,a=[];t.boundSource.canNotify=!1;const i=n?typeof t.dataSource=="number"?t.dataSource:t.dataSource.length:t.observable?t.length:t.dataSource.length;for(let r=0;r<i;r++){const o=n?{}:t.dataSource[r],d=t._getDataItem(o,r);a.push(d)}if(n&&t.dataSourceLength&&t.dataSource.length>0)for(let r=0;r<t.dataSource.length;r++){const o=t.dataSource[r].cell,d=t.dataSource[r].value,f=o.replace(/[^0-9]/g,""),p=o.replace(/[0-9]/g,"");a[f-1][p]=d}t.boundSource=t.observable===!1||t.virtualDataSource?[]:new Smart.ObservableArray(a),t.observable&&(t.boundSource=new Smart.ObservableArray(a));for(let r=0;r<i;r++)t.observable?t[r]=t.boundSource[r]:t[r]=a[r],t.dataItemById[t[r].$.id]=t[r];t.observable===!1&&(t.boundSource=a),t.boundSource.canNotify=!0}_bindToICS(){const t=this,n=""+t.dataSource,a=t.rowDelimiter||`
`,i=n.split("\r"),r=[];let o=n.split(a),d=o.length;d===1&&i.length>1&&(o=i,d=o.length);const f=function(w,C){var x=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(w);if(!x)throw new Error("Invalid UNTIL value: "+w);return C?new Date(x[1],x[2]-1,x[3],0,0,0,0):new Date(Date.UTC(x[1],x[2]-1,x[3],x[5]||0,x[6]||0,x[7]||0))};for(let w=0;w<d;w++){const C=o[w].trim();if(C.indexOf("BEGIN:VEVENT")>=0)var p={};else if(p)if(C.indexOf("BEGIN:VALARM")>=0)var v={};else{if(v){if(C.indexOf("ACTION")>=0){v.ACTION=C.substring(C.indexOf("ACTION")+7);continue}if(C.indexOf("DESCRIPTION")>=0){v.DESCRIPTION=C.substring(C.indexOf("DESCRIPTION")+12);continue}if(C.indexOf("TRIGGER")>=0){v.TRIGGER=C.substring(C.indexOf("TRIGGER")+8);continue}if(C.indexOf("END:VALARM")>=0){p.ALARM||(p.ALARM=[]),p.ALARM.push(v),v=void 0;continue}}if(C.indexOf("SUMMARY")>=0)p.SUMMARY=C.substring(C.indexOf("SUMMARY")+8);else if(C.indexOf("LOCATION")>=0)p.LOCATION=C.substring(C.indexOf("LOCATION")+9);else if(C.indexOf("DESCRIPTION")>=0)p.DESCRIPTION=C.substring(C.indexOf("DESCRIPTION")+12);else if(C.indexOf("RRULE")>=0)p.RRULE=C.substring(C.indexOf("RRULE")+6);else if(C.indexOf("RECURRENCE-ID")>=0)p.RECURRENCEID=C.substring(C.indexOf("RECURRENCE-ID")+14);else if(C.indexOf("RECURRENCE-ID;VALUE=DATE")>=0)p.RECURRENCEID=C.substring(C.indexOf("RECURRENCE-ID;VALUE=DATE")+25);else if(C.indexOf("EXDATE;VALUE=DATE")>=0){const x=C.substring(C.indexOf("EXDATE;VALUE=DATE")+20);p.EXDATE=x}else if(C.indexOf("EXDATE")>=0){const x=C.substring(C.indexOf("EXDATE")+7);p.EXDATE=x}else C.indexOf("DTEND;VALUE=DATE")>=0?p.DTEND=f(C.substring(C.indexOf("DTEND;VALUE=DATE")+17),!0):C.indexOf("DTEND")>=0?p.DTEND=f(C.substring(C.indexOf("DTEND")+6)):C.indexOf("DTSTART;VALUE=DATE")>=0?p.DTSTART=f(C.substring(C.indexOf("DTSTART;VALUE=DATE")+19),!0):C.indexOf("DTSTART")>=0?p.DTSTART=f(C.substring(C.indexOf("DTSTART")+8)):C.indexOf("UID")>=0?p.uid=p.UID=C.substring(C.indexOf("UID")+4):C.indexOf("STATUS")>=0?p.STATUS=C.substring(C.indexOf("STATUS")+7):C.indexOf("TITLE")>=0?p.TITLE=C.substring(C.indexOf("TITLE")+6):C.indexOf("CATEGORIES")>=0?p.CATEGORIES=C.substring(C.indexOf("CATEGORIES")+11):C.indexOf("END:VEVENT")>=0&&(r.push(p),p.ALARM&&(p.ALARM=JSON.stringify(p.ALARM)),v=void 0)}}t.canNotify=!1,t.dataSource=r,t.canNotify=!0,t._bindToArray()}_bindToJSON(){const t=this,n=[],a=t.dataSource.length?t.dataSource:Object.entries(t.dataSource);t.boundSource.canNotify=!1;for(let i=0;i<a.length;i++){const r=a[i],o=t._getDataItem(r,i);n.push(o)}t.boundSource=t.observable===!1||t.virtualDataSource?[]:new Smart.ObservableArray(n);for(let i=0;i<t.length;i++)t[i]=t.boundSource[i],t.dataItemById[t[i].$.id]=t[i];t.observable===!1&&(t.boundSource=n),t.boundSource.canNotify=!0}sortBy(t,n,a){const i=this;if(!n)for(let r=0;r<i.dataFields.length;r++){const o=i.dataFields[r];if(o.name===t){n=o.dataType;break}}if(i.boundHierarchy){if((!t||t.length===0)&&i.groupBy.length>0)return void i.refreshHierarchy();const r=(d=>{let f=[];for(;d;){f=f.concat(d);for(let p=0;p<d.length;p++)d[p].children&&(f=f.concat(d[p].children));d=d.children}return f})(i.boundHierarchy);r&&r.find(d=>{if(d.summaryRow)return d})&&i.refreshHierarchy();const o=function(d){i._sort(d,t,a,n);for(let f=0;f<d.length;f++){const p=d[f];p.children&&o(p.children)}};o(i.boundHierarchy)}else i._sort(i.boundSource,t,a,n)}_createFilter(t,n){const a={"=":"EQUAL","<>":"NOT_EQUAL","!=":"NOT_EQUAL",not_like:"DOES_NOT_CONTAIN",like:"CONTAINS","<":"LESS_THAN",">":"GREATER_THAN","<=":"LESS_THAN_OR_EQUAL",">=":"GREATER_THAN_OR_EQUAL",equal:"EQUAL","not equal":"NOT_EQUAL","less than":"LESS_THAN","greater than":"GREATER_THAN","greater than or equal":"GREATER_THAN_OR_EQUAL","less than or equal":"LESS_THAN_OR_EQUAL","starts with":"STARTS_WITH","ends with":"ENDS_WITH",notEqual:"NOT_EQUAL",not_equal:"NOT_EQUAL",lessThan:"LESS_THAN",greaterThan:"GREATER_THAN",greaterThanOrEqual:"GREATER_THAN_OR_EQUAL",lessThanOrEqual:"LESS_THAN_OR_EQUAL",less_than:"LESS_THAN",greater_than:"GREATER_THAN",greater_than_or_equal:"GREATER_THAN_OR_EQUAL",less_than_or_equal:"LESS_THAN_OR_EQUAL",null:"null","":"EMPTY",isblank:"EMPTY",isnotblank:"NOT_EMPTY",isBlank:"EMPTY",isNotBlank:"NOT_EMPTY",CONTAINS:"CONTAINS",DOES_NOT_CONTAIN:"DOES_NOT_CONTAIN",contains:"CONTAINS",does_not_contain:"DOES_NOT_CONTAIN","not contains":"DOES_NOT_CONTAIN",notcontains:"DOES_NOT_CONTAIN",notContains:"DOES_NOT_CONTAIN",startswith:"STARTS_WITH",endswith:"ENDS_WITH",starts_with:"STARTS_WITH",ends_with:"ENDS_WITH",startsWith:"STARTS_WITH",endsWith:"ENDS_WITH",NULL:"NULL",NOT_NULL:"NOT_NULL"};let i=[];typeof n=="string"&&(n=[n]);for(let p=0;p<n.length;p++){let v=n[p];const w=v.indexOf('"')===-1?v.split(" "):v.split('"');let C=[];for(let x=0;x<w.length;x++){const L=w[x];if(L!==""&&L!==" "){if(L.trim()==="true"){C.push(!0);continue}if(L.trim()==="false"){C.push(!1);continue}if(L.trim()==="NULL"){C.push("NULL"),C.push("");continue}if(L.trim()==="NOT_NULL"){C.push("NOT_NULL"),C.push("");continue}if(L.indexOf(" GMT")>=0)C.push(L.trim());else if(L.indexOf("OR ")>=0||L.indexOf("AND ")>=0||L.indexOf("or ")>=0||L.indexOf("and ")>=0||L.indexOf("1 ")>=0||L.indexOf("0 ")>=0||L.indexOf("| ")>=0||L.indexOf("& ")>=0){const A=L.trim().split(" ");if(A.length>1){const k=A[0].trim(),B=A[1].trim();k==="1"?C.push("or"):k==="0"?C.push("and"):C.push(k),C.push(B)}else C.push(L.trim())}else C.push(L.trim())}}i.push(C)}const r=new Smart.FilterGroup,o=[],d=[];for(let p=0;p<i.length;p++){const v=i[p];if(v.length>1){const w=new Smart.FilterGroup;let C=v.length>2?"":"and",x=0,L=[];for(let A=0;A<v.length;A++){let k=v[A];if(k!=="and"&&k!=="or"&&k!=="AND"&&k!=="OR"){if(x++,x===2){let B=a[v[A-1]];B||(B=v[A-1]),t==="number"&&(k=parseFloat(k)),t==="date"&&(k=new Date(k));const H=w.createFilter(t,k,B);if(x=0,L.push(H),C){for(let V=0;V<L.length;V++)w.addFilter(C,L[V]);L=[]}}}else C=k}d.push(w)}else{let w=v[0];if(w&&a[w]&&(w="and"),w!=="and"&&w!=="or")throw new Error('Filter Exprresion expects "AND" or "OR", but the token is: '+w);o.push(w)}}let f=0;if(d.length===1)return d[0];for(let p=0;p<d.length;p++){let v=o[f];(p+1)%2==0&&f++,v||(v="and"),r.addFilter(v,d[p])}return r}filterBy(t,...n){const a=this,i=(()=>{for(let o=0;o<a.dataFields.length;o++){const d=a.dataFields[o];if(d.name===t)return d.dataType}})(),r=a._createFilter(i,n);return a.boundSource.filter(o=>r.evaluate(o[t]))}_filter(t,n="and"){const a=this,i=[];if(t.length===0)return void a.clearFilter();const r=f=>{for(let p=0;p<a.dataFields.length;p++){const v=a.dataFields[p];if(v.name===f)return v.dataType}};let o,d;n==="and"?(o=!0,d=function(f,p,v){return f&&p.evaluate(v[p.dataField])}):(o=!1,d=function(f,p,v){return f||p.evaluate(v[p.dataField])});for(let f=0;f<t.length;f++){const p=t[f],v=p[0];let w=null;w=p[1]instanceof Smart.FilterGroup?p[1]:a._createFilter(r(v),p.splice(1)),w&&(w.dataField=v,i.push(w))}if(a.boundHierarchy){const f=function(v){let w=o;for(let C=0;C<i.length;C++){const x=i[C];w=d(w,x,v)}return v.$.filtered=w,w},p=function(v,w,C){let x=0;for(let L=0;L<v.length;L++){const A=v[L];f(A),A.$.filtered&&x++,A.children&&p(A.children,A,w)}x>0&&a.groupBy.length>0&&w?(w.$.filtered=!0,C&&!C.$.filtered&&(C.$.filtered=!0)):x>0&&x!==v.length&&w?(w.$.filtered=null,C&&!C.$.filtered&&(C.$.filtered=null)):x>0&&x===v.length&&w&&(w.$.filtered=!0,C&&!C.$.filtered&&(C.$.filtered=!0))};p(a.boundHierarchy,null,null)}else for(let f=0;f<a.boundSource.length;f++){const p=a.boundSource[f];let v=o;for(let w=0;w<i.length;w++){const C=i[w];v=d(v,C,p)}p.$.filtered=v}a.onFilter&&a.onFilter()}clearGroup(){const t=this;t.groupBy=[],t.boundHierarchy=null,t.refreshHierarchy(),t.onGroup&&t.onGroup()}clearFilter(){const t=this;for(let n=0;n<t.boundSource.length;n++)t.boundSource[n].$.filtered=!0;if(t.boundHierarchy){const n=function(a,i,r){for(let o=0;o<a.length;o++){const d=a[o];d.$.filtered=!0,d.$.filtered,d.children&&n(d.children,d,i)}i&&(i.$.filtered=!0,r&&!r.$.filtered&&(r.$.filtered=!0))};n(t.boundHierarchy,null,null)}t.onFilter&&t.onFilter()}clearSort(){this._sort(this.boundSource,[],[],[])}_sort(t,n,a,i,r,o){const d=this;let f=!1;if(t.length===0)return;if(t&&t.constructor&&t instanceof Smart.ObservableArray&&(f=!0),(!t||!Array.isArray(t)||t.length===0||!n||Array.isArray(n)&&n.length===0)&&!f&&!d.boundHierarchy){if(d.virtualDataSource)return;throw new Error("sort: Missing or Invalid arguments!")}typeof n=="string"&&(n=[n]);const p=[],v=[];a===void 0&&(a=[]);const w=function(C,x){let L;switch(x||typeof C){case"string":L=new Intl.Collator().compare;break;case"number":case"int":case"bigInt":case"float":case"double":L=function(A,k){return A-k};break;case"boolean":case"bool":L=function(A,k){return A===k?0:A===!1?-1:1};break;case"date":case"time":case"dateTime":L=C instanceof Date?function(A,k){return A||k?A?k?A.getTime()-k.getTime():1:-1:0}:C instanceof Smart.Utilities.DateTime||C instanceof Smart.Utilities.BigNumber?function(A,k){return A.compare(k)}:function(A,k){return A-k};break;case"object":if(C instanceof Date)L=function(A,k){return A||k?A?k?A.getTime()-k.getTime():1:-1:0};else if(C instanceof Smart.Utilities.DateTime||C instanceof Smart.Utilities.BigNumber)L=function(A,k){return A.compare(k)};else if(C instanceof Smart.Utilities.Complex||window.NIComplex&&C instanceof window.NIComplex){const A=new Smart.Utilities.ComplexNumericProcessor;L=function(k,B){return A.compareComplexNumbers(k,B)}}}return L};for(let C=0;C<n.length;C++){a[C]===void 0||a[C]==="asc"||a[C]==="ascending"?p[C]=1:p[C]=-1;let x=t[0][n[C]];if(x===void 0&&t[0]&&t[0].children&&t[0].data&&(x=t[0].data[n[C]]),o&&o){const L=n[C];if(o[L]){v[C]=o[L];continue}}d.sortComparators&&d.sortComparators[n[C]]?v[C]=d.sortComparators[n[C]]:v[C]=w(x,i[C])}n.length>0&&r?r(t,n,a,v):t.sort(function(C,x){for(let L=0;L<n.length;L++){const A=v[L](C[n[L]],x[n[L]],C,x);if(A===0){if(n[L+1])continue;return C.$.index!==void 0?(C.$.index-x.$.index)*p[L]:0}return A*p[L]}if(n.length===0)return C.$.index<x.$.index?-1:C.$.index>x.$.index?1:0});for(let C=0;C<t.length;C++)d[C]=t[C]}static Filter(t,n,a,i,r="and"){let o,d;return r==="and"?(o=!0,d=function(f,p,v,w){return i?f&&i(p,v,w):f&&w.evaluate(p[v])}):(o=!1,d=function(f,p,v,w){return i?f||i(p,v,w):f||w.evaluate(p[v])}),t.filter(f=>{let p=o;for(let v=0;v<a.length;v++){const w=a[v],C=n[v];p=d(p,f,C,w)}return p})}filter(t,n,a){Smart.DataAdapter.Filter(this.boundSource,t,n,a)}sort(t,n,a){Smart.DataAdapter.Sort(this.boundSource,t,n,a)}static Sort(t,n,a,i){const r=function(p){let v;switch(typeof p){case"string":if(p.indexOf("-")>=0||p.indexOf("/")>=0){const w=new Date(p);if(w&&w.toString()!=="Invalid Date")return function(C,x){const L=new Date(C),A=new Date(x);return L||A?L?A?L.getTime()-A.getTime():1:-1:0}}v=new Intl.Collator().compare;break;case"number":v=function(w,C){return w-C};break;case"boolean":v=function(w,C){return w===C?0:w===!1?-1:1};break;case"object":if(p instanceof Date)v=function(w,C){return w||C?w?C?w.getTime()-C.getTime():1:-1:0};else if(p instanceof Smart.Utilities.DateTime||p instanceof Smart.Utilities.BigNumber)v=function(w,C){return w.compare(C)};else if(p instanceof Smart.Utilities.Complex||window.NIComplex&&p instanceof window.NIComplex){const w=new Smart.Utilities.ComplexNumericProcessor;v=function(C,x){return w.compareComplexNumbers(C,x)}}else v=function(w,C){return w-C}}return v};if(!t||!Array.isArray(t)||t.length===0||!n||Array.isArray(n)&&n.length===0)return;typeof n=="string"&&(n=[n]);const o=[],d=[];a===void 0&&(a=[]);for(let p=0;p<n.length;p++)a[p]===void 0||a[p]==="asc"||a[p]==="ascending"?o[p]=1:o[p]=-1,d[p]=r(t[0][n[p]]);if(i)return void i(t,n,a,d);const f=t.slice(0);return f.sort(function(p,v){for(let w=0;w<n.length;w++){const C=d[w](p[n[w]],v[n[w]]);if(C===0){if(n[w+1])continue;return p._index!==void 0?(p._index-v._index)*o[w]:0}return C*o[w]}}),f}};class e{constructor(n,a){const i=this;i.config=n,i.callback=a,n.autoFetch!==!1&&i.call(n)}call(n){const a=this;n||(n=a.config);let i="GET",r=n.url,o=null,d=!0;if(n.type&&(i=n.type),n.data)if(i==="GET"){r+="?";for(let f in n.data)Object.prototype.hasOwnProperty.call(n.data,f)&&(r+=encodeURI(f+"="+n.data[f]+"&"));r.charAt(r.length-1)==="&"&&(r=r.slice(0,r.length-1))}else i==="POST"&&(o=JSON.stringify(n.data));n&&n.async===!1&&n.dataSourceType!=="xlsx"&&(d=!1),window.fetch!==void 0&&d?a.ajaxFetch(n,i,r,o):a.ajaxXMLHttpRequest(n,i,r,o,d)}ajaxFetch(n,a,i,r){const o=this,d={method:a};let f,p,v,w;switch(n.dataSourceType){case"json":f="json";break;case"xlsx":f="arrayBuffer";break;default:f="text"}n&&n.contentType&&(d.headers=new Headers({"Content-Type":n.contentType})),r!==null&&(d.body=r),n.timeout&&(v=setTimeout(function(){w=!0},n.timeout)),!(n.beforeSend&&n.beforeSend(d,n)===!1)&&fetch(i,d).then(function(C){if(w)throw p=408,new Error("timeout");if(v&&clearTimeout(v),p=C.status,!C.ok)throw new Error(C.statusText);return C[f]()}).then(function(C){if(f==="arrayBuffer")return JSZip.loadAsync(C).then(function(x){return x.files["xl/worksheets/sheet1.xml"].async("text").then(function(L){return x.files["xl/sharedStrings.xml"].async("text").then(function(A){const k=o.parseXLSXData(L,A);o.ajaxComplete(n,k,p)})})});o.ajaxComplete(n,C,p)}).catch(function(C){C.message==="JSZip is not defined"&&(C.message="JSZip is not defined. Please include a reference to JSZip to be able to load data from XLSX files."),n&&n.loadError&&n.loadError(p,C),o.callback&&o.callback(C,p)})}ajaxXMLHttpRequest(n,a,i,r,o){const d=new XMLHttpRequest,f=this;d.open(a,i,o),d.ontimeout=function(){n&&n.loadError&&n.loadError(408,"timeout")},d.onload=function(){if(d.readyState===4){const p=d.status;let v=d.response;p>=200&&p<=299?(n.dataSourceType==="json"&&(v=JSON.parse(v)),f.ajaxComplete(n,v,p)):n&&n.loadError&&n.loadError(p,v)}},d.onerror=function(){n&&n.loadError&&n.loadError(d.status,d.response)},n&&n.contentType&&d.setRequestHeader("Content-Type",n.contentType),o&&n.timeout&&(d.timeout=n.timeout),!(n.beforeSend&&n.beforeSend(d,n)===!1)&&d.send(r)}ajaxComplete(n,a,i){if(n){if(n.beforeLoadComplete){const r=n.beforeLoadComplete(a);r&&(a=r)}n.loadComplete&&n.loadComplete(a,i),this.callback&&this.callback(a,i)}}parseXLSXData(n,a){const i=new DOMParser,r=i.parseFromString(a,"text/xml"),o=Array.from(r.getElementsByTagName("si")),d=[],f=i.parseFromString(n,"text/xml"),p=Array.from(f.getElementsByTagName("row")),v=[];return o.forEach(function(w){let C=w.getElementsByTagName("t");if(C.length===1)d.push(C[0].innerHTML);else{let x="";C=Array.from(C),C.forEach(function(L){x+=L.innerHTML}),d.push(x)}}),p.forEach(function(w){const C={};Array.from(w.getElementsByTagName("c")).forEach(function(x){const L=x.getAttribute("r").match(/\D+/)[0],A=x.getAttribute("t"),k=x.getElementsByTagName("v")[0].innerHTML;let B;switch(A){case"s":B=d[parseFloat(k)];break;case"b":B=parseFloat(k)===1;break;default:B=parseFloat(k)}C[L]=B}),v.push(C)}),v}}Smart.Ajax=window.Ajax=e})()},2052:()=>{(()=>{const e=-1*new Date().getTimezoneOffset(),t=[{id:"Local",offset:e,offsetHours:e/60,displayName:"",supportsDaylightSavingTime:!1},{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}],n=[0,31,59,90,120,151,181,212,243,273,304,334,365],a=[0,31,60,91,121,152,182,213,244,274,305,335,366];Smart.Utilities.Assign("TimeSpan",class{constructor(){const i=this;if(i.ticksPerMillisecond=1e4,i.millisecondsPerTick=1e-4,i.ticksPerSecond=1e7,i.secondsPerTick=1e-7,i.ticksPerMinute=6e8,i.minutesPerTick=16666666666666667e-25,i.ticksPerHour=36e9,i.hoursPerTick=27777777777777777e-27,i.ticksPerDay=864e9,i.daysPerTick=11574074074074074e-28,i.millisPerSecond=1e3,i.millisPerMinute=6e4,i.millisPerHour=36e5,i.millisPerDay=864e5,i._ticks=0,arguments.length===1){if(isNaN(arguments[0]))throw new Error("Argument must be a number.");i._ticks=arguments[0]}else if(arguments.length===3)i._ticks=i.timeToMS(arguments[0],arguments[1],arguments[2],0);else if(arguments.length===4){const r=1e3*(3600*arguments[0]*24+3600*arguments[1]+60*arguments[2]+arguments[3])+0;i._ticks=r*i.ticksPerMillisecond}else if(arguments.length===5){const r=1e3*(3600*arguments[0]*24+3600*arguments[1]+60*arguments[2]+arguments[3])+arguments[4];i._ticks=r*i.ticksPerMillisecond}}ticks(){return this._ticks}days(){return parseInt(this._ticks/this.ticksPerDay)}timeToMS(i,r,o,d){return parseInt((3600*i+60*r+o+d/1e3)*this.ticksPerSecond)}hours(){return parseInt(this._ticks/this.ticksPerHour)%24}milliseconds(){return parseInt(this._ticks/this.ticksPerMillisecond)%1e3}minutes(){return parseInt(this._ticks/this.ticksPerMinute)%60}seconds(){return parseInt(this._ticks/this.ticksPerSecond)%60}totalDays(){return parseInt(this._ticks*this.daysPerTick)}totalHours(){return parseInt(this._ticks*this.hoursPerTick)}totalMilliseconds(){const i=this._ticks*this.millisecondsPerTick;return parseInt(i)}totalMinutes(){return parseInt(this._ticks*this.minutesPerTick)}totalSeconds(){return parseInt(this._ticks*this.secondsPerTick)}add(i){const r=this._ticks+i._ticks;return new Smart.Utilities.TimeSpan(r)}subtract(i){const r=this._ticks-i._ticks;return new Smart.Utilities.TimeSpan(r)}duration(){const i=this;return i._ticks>=0?new Smart.Utilities.TimeSpan(i._ticks):new Smart.Utilities.TimeSpan(-i._ticks)}equals(i){return this._ticks===i._ticks}valueOf(){return this._ticks}compare(i,r){return i._ticks>r._ticks?1:i._ticks<r._ticks?-1:0}interval(i,r){const o=i*r+(i>=0?.5:-.5);return new Smart.Utilities.TimeSpan(o*this.ticksPerMillisecond)}fromDays(i){return this.interval(i,this.millisPerDay)}fromHours(i){return this.interval(i,this.millisPerHour)}fromMilliseconds(i){return this.interval(i,1)}fromMinutes(i){return this.interval(i,this.millisPerMinute)}fromSeconds(i){return this.interval(i,this.millisPerSecond)}fromTicks(i){return new Smart.Utilities.TimeSpan(i)}toString(){return this.totalMilliseconds().toString()}negate(){return new Smart.Utilities.TimeSpan(-this._ticks)}}),Smart.Utilities.Assign("DateTime",class{constructor(){function i(d){const f=r.regexISOString.exec(d);o=new Smart.Utilities.DateTime(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3]),parseFloat(f[4]),parseFloat(f[5]),parseFloat(f[6]),parseFloat(f[7]),0,0,0,0,0,0,0,"UTC")}const r=this;let o;if(r.ticksPerMillisecond=1e4,r.millisecondsPerTick=1e-4,r.ticksPerSecond=1e7,r.secondsPerTick=1e-7,r.ticksPerMinute=6e8,r.minutesPerTick=16666666666666667e-25,r.ticksPerHour=36e9,r.hoursPerTick=27777777777777777e-27,r.ticksPerDay=864e9,r.daysPerTick=11574074074074074e-28,r.millisPerSecond=1e3,r.millisPerMinute=6e4,r.millisPerHour=36e5,r.millisPerDay=864e5,r.daysPerYear=365,r.daysPer4Years=1461,r.daysPer100Years=36524,r.daysPer400Years=146097,r.daysTo1601=584388,r.daysTo1899=693593,r.daysTo10000=3652059,r.minTicks=0,r.maxTicks=3155378976e9,r.maxMillis=3155378976e5,r.datePartYear=0,r.datePartDayOfYear=1,r.datePartMonth=2,r.datePartDay=3,r.daysToMonth365=n,r.daysToMonth366=a,r.minValue=new Date(0),r.maxValue=new Date(3155378976e9),r.ticksMask=4611686018427388e3,r.flagsMask=0xc000000000000000,r.localMask=9223372036854776e3,r.ticksCeiling=4611686018427388e3,r.kindUnspecified=0,r.kindUtc=4611686018427388e3,r.kindLocal=9223372036854776e3,r.kindLocalAmbiguousDst=0xc000000000000000,r.kindShift=62,r.regexTrim=/^\s+|\s+$/g,r.regexInfinity=/^[+-]?infinity$/i,r.regexHex=/^0x[a-f0-9]+$/i,r.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,r.regexISOString=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3})Z$/,r.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",FP:"yyyy-MM-dd HH:mm:ss:fff:uu:nn:pp:ee:aa:xx:oo",FPA:"yyyy/MM/dd HH:mm:ss:fffuunnppeeaaxxoo",FPA2:"yyyy-MM-dd HH:mm:ss:fffuunnppeeaaxxoo",FT:"HH:mm:ss:fff:uu:nn:pp:ee:aa:xx:oo",PP:"yyyy-MM-dd HH:mm:ss:fff:uu:nn:pp",PT:"HH:mm:ss:fff:uu:nn:pp"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},r.dateData=0,r.timeZone=null,r.timeZones=t,r._codeToUnit={u:"_microsecond",uu:"_microsecond",n:"_nanosecond",nn:"_nanosecond",p:"_picosecond",pp:"_picosecond",e:"_femtosecond",ee:"_femtosecond",a:"_attosecond",aa:"_attosecond",x:"_zeptosecond",xx:"_zeptosecond",o:"_yoctosecond",oo:"_yoctosecond"},r._smallUnits=["_microsecond","_nanosecond","_picosecond","_femtosecond","_attosecond","_zeptosecond","_yoctosecond"],r._microsecond=0,r._nanosecond=0,r._picosecond=0,r._femtosecond=0,r._attosecond=0,r._zeptosecond=0,r._yoctosecond=0,arguments.length===0){const d=new Date;r.dateData=r.dateToMS(d.getFullYear(),d.getMonth()+1,d.getDate())+r.timeToMS(d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds())}else if(arguments.length===1)if(arguments[0]===void 0&&(arguments[0]="todayDate"),typeof arguments[0]=="number"&&isFinite(arguments[0])||typeof arguments[0]!="string")if(typeof arguments[0]=="number")r.dateData=arguments[0];else if(arguments[0]instanceof Date){const d=arguments[0];r.dateData=r.dateToMS(d.getFullYear(),d.getMonth()+1,d.getDate())+r.timeToMS(d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds())}else r.dateData=arguments[0];else{let d;arguments[0]==="today"?d=new Date:arguments[0]==="todayDate"?(d=new Date,d.setHours(0,0,0,0)):r.regexISOString.test(arguments[0])?i(arguments[0]):d=r.tryparseDate(arguments[0]),d&&(r.dateData=r.dateToMS(d.getFullYear(),d.getMonth()+1,d.getDate())+r.timeToMS(d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()))}else if(arguments.length===2){if(arguments[0]===void 0&&(arguments[0]="todayDate"),typeof arguments[0]=="number"&&isFinite(arguments[0])||typeof arguments[0]!="string")if(typeof arguments[0]=="number")r.dateData=arguments[0];else if(arguments[0]instanceof Date){const d=arguments[0];r.dateData=r.dateToMS(d.getFullYear(),d.getMonth()+1,d.getDate())+r.timeToMS(d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds())}else r.dateData=arguments[0];else{let d;arguments[0]==="today"?d=new Date:arguments[0]==="todayDate"?(d=new Date,d.setHours(0,0,0,0)):r.regexISOString.test(arguments[0])?i(arguments[0]):d=r.tryparseDate(arguments[0]),d&&(r.dateData=r.dateToMS(d.getFullYear(),d.getMonth()+1,d.getDate())+r.timeToMS(d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()))}r.validateTimeZone(arguments[1])}else if(arguments.length>2)if(typeof arguments[0]=="string"){const d=r.tryparseDate(arguments[0],arguments[2],arguments[1]);r.dateData=r.dateToMS(d.getFullYear(),d.getMonth()+1,d.getDate())+r.timeToMS(d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds())}else{let d=arguments[0],f=arguments[1]-1,p=arguments[2],v=arguments[3]||0,w=arguments[4]||0,C=arguments[5]||0,x=arguments[6]||0,L=arguments[7]||0,A=arguments[8]||0,k=arguments[9]||0,B=arguments[10]||0,H=arguments[11]||0,V=arguments[12]||0,z=arguments[13]||0;d>=2100&&(d=2100),f>=12?f=11:f<0&&(f=0),p>31?p=r.daysInMonth(d,1+f):p<0&&(p=0),v>23?v=23:v<0&&(v=0),w>59?w=59:w<0&&(w=0),C>59?C=59:C<0&&(C=0);const N=new Date(d,f,p,v,w,C,x);d<1970&&N.setFullYear(d),r.dateData=r.dateToMS(N.getFullYear(),N.getMonth()+1,N.getDate())+r.timeToMS(N.getHours(),N.getMinutes(),N.getSeconds(),N.getMilliseconds()),r._microsecond=L,r._nanosecond=A,r._picosecond=k,r._femtosecond=B,r._attosecond=H,r._zeptosecond=V,r._yoctosecond=z,arguments[14]&&r.validateTimeZone(arguments[14])}if(r.timeZone||r.validateTimeZone("Local"),o){const d=o.toTimeZone(r.timeZone);r.dateData=d.dateData}}static isValidDate(i){const r=this.validateDate(i);return!(!r||r&&!r.dateData)}static validateDate(i,r,o){if(i instanceof Smart.Utilities.DateTime)return i;if(i instanceof Date)return new Smart.Utilities.DateTime(i);try{if(typeof i=="string"&&o)return this.parseDateString(i,r,o);if(new RegExp(/^\d{1,2}\/\d{1,2}\/\d{4}(, \d{1,2}:\d{2}:\d{1,2} [A|P]M)?$/).test(i)){const d=new Date(i);if(!isNaN(d.getTime()))return new Smart.Utilities.DateTime(d)}if(typeof i=="string")return this.parseDateString(i,r,o);if(typeof i=="number")return new Smart.Utilities.DateTime(new Date(i))}catch{}return r}static parseDateString(i,r,o){const d=new Date(i);if(!isNaN(d.getTime()))return i&&typeof i=="string"&&o?new Smart.Utilities.DateTime(i,o,null):new Smart.Utilities.DateTime(d);const f=i.indexOf("Date("),p=i.indexOf("DateTime("),v=i.lastIndexOf(")");let w=i;if(f===-1&&p===-1||v===-1){const C=new Smart.Utilities.DateTime,x=C.parseDate(i,o);if(x)return w=new Smart.Utilities.DateTime(x),C.copySmallTimePartValues(w),w}else{if(w=f!==-1?i.slice(f+5,v):i.slice(p+9,v),w=w.replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,""),w.trim()==="")return new Smart.Utilities.DateTime;if(new RegExp(/(^(\d+)(\s*,\s*\d+)+(\s*,\s*[a-zA-Z ]+)?$)/g).test(w))return w=w.split(","),w.map(function(C,x){isNaN(w[x])?w[x]=C.trim():w[x]=parseInt(C)}),f!==-1&&w[1]++,w.unshift(null),w=new(Function.prototype.bind.apply(Smart.Utilities.DateTime,w)),w}if(w.trim()==="")return r;if(!isNaN(w))return w=new Date(parseInt(w,10)),new Smart.Utilities.DateTime(w);try{const C=w.split(",");C.length===2?(C[1]=C[1].trim(),C.unshift(null),w=new(Function.prototype.bind.apply(Smart.Utilities.DateTime,C))):w=new Smart.Utilities.DateTime(w)}catch{w=r}return w}static fromFullTimeStamp(i){i=i.toString();const r=new Smart.Utilities.DateTime(parseFloat(i.slice(0,i.length-21)));let o=i.slice(i.length-21),d=0;for(;o.length>0;)r[r._smallUnits[d]]=parseInt(o.slice(0,3),10),o=o.slice(3),d++;return r}static getConstructorParameters(i){return[i.year(),i.month(),i.day(),i.hour(),i.minute(),i.second(),i.millisecond(),i._microsecond,i._nanosecond,i._picosecond,i._femtosecond,i._attosecond,i._zeptosecond,i._yoctosecond,i.timeZone]}static detectDisplayMode(i,r,o){if(i.calendar.patterns[r])return["d","D","M","Y","d1","d2"].indexOf(r)!==-1?"calendar":["t","T","FT","PT"].indexOf(r)!==-1?"timePicker":"default";const d=["d","M","y"],f=["h","H","m","s","t","f","u","n","p","e","a","x","o"],p=o.groups;let v=!1,w=!1;for(let C=0;C<p.length;C++){const x=p[C].charAt(0);if(d.indexOf(x)!==-1?v=!0:f.indexOf(x)!==-1&&(w=!0),v&&w)break}return v===w?"default":v?"calendar":"timePicker"}static getLocalizedNames(i){const r={names:[],namesAbbr:[],namesShort:[]},o={names:[],namesAbbr:[]};if(this[i])return this[i];for(let d=23;d<30;d++){const f=new Date(2017,6,d),p=f.toLocaleString(i,{weekday:"long"});r.names.push(p),r.namesAbbr.push(f.toLocaleString(i,{weekday:"short"})),r.namesShort.push(p.substring(0,2))}for(let d=0;d<12;d++){const f=new Date(2017,d,1).toLocaleString(i,{month:"long"});o.names.push(f),o.namesAbbr.push(f.substring(0,3))}return o.names.push(""),o.namesAbbr.push(""),this[i]={days:r,months:o},this[i]}internalMS(){return this.dateData}getDatePart(i){const r=this,o=r.internalMS();let d=parseInt(o/r.millisPerDay);const f=parseInt(d/r.daysPer400Years);d-=f*r.daysPer400Years;let p=parseInt(d/r.daysPer100Years);p===4&&(p=3),d-=p*r.daysPer100Years;const v=parseInt(d/r.daysPer4Years);d-=v*r.daysPer4Years;let w=parseInt(d/r.daysPerYear);if(w===4&&(w=3),i===r.datePartYear)return parseInt(400*f+100*p+4*v+w+1);if(d-=w*r.daysPerYear,i===r.datePartDayOfYear)return parseInt(d+1);const C=w===3&&(v!==24||p===3)?r.daysToMonth366:r.daysToMonth365;let x=d>>6;for(;d>=C[x];)x++;return i===r.datePartMonth?parseInt(x):parseInt(d-C[x-1]+1)}dayOfWeek(){const i=this.dateData;return parseInt(i/this.millisPerDay+1)%7}dayOfYear(){return this.getDatePart(this.datePartDayOfYear)}weekOfYear(i){const r=this.toDate(),o=i||this.calendar.firstDay,d=new Date(r.getFullYear(),0,1),f=Math.floor((r.getTime()-d.getTime()-6e4*(r.getTimezoneOffset()-d.getTimezoneOffset()))/864e5)+1;let p,v=d.getDay()-o;if(v=v>=0?v:v+7,v<4){if(p=Math.floor((f+v-1)/7)+1,p>52){let w=new Date(r.getFullYear()+1,0,1).getDay()-o;w=w>=0?w:w+7,p=w<4?1:53}}else p=Math.floor((f+v-1)/7);return p}subtract(i){const r=this;return new Smart.Utilities.TimeSpan(r.dateData*r.ticksPerMillisecond-i.dateData*r.ticksPerMillisecond)}dateToMS(i,r,o){const d=this;if(i>=1&&i<=9999&&r>=1&&r<=12){i=parseInt(i);const f=d.isLeapYear(i)?d.daysToMonth366:d.daysToMonth365;if(o>=1&&o<=f[r]-f[r-1]){const p=i-1;return(365*p+parseInt(p/4)-parseInt(p/100)+parseInt(p/400)+f[r-1]+o-1)*d.millisPerDay}}}isLeapYear(i){if(i<1||i>9999)throw new Error("Year out of Range");return i%4==0&&(i%100!=0||i%400==0)}timeToMS(i,r,o,d){const f=this;if(i>=0&&i<24&&r>=0&&r<60&&o>=0&&o<60){const p=parseInt(3600*i+60*r+o);return d>0&&d<1e3?p*f.millisPerSecond+d:p*f.millisPerSecond}}daysInMonth(i,r){if(r<1||r>12)throw new Error("Month out of Range");const o=this,d=o.isLeapYear(i)?o.daysToMonth366:o.daysToMonth365;return d[r]-d[r-1]}arrayIndexOf(i,r){return i.indexOf(r)}startsWith(i,r){return i.indexOf(r)===0}endsWith(i,r){return i.substr(i.length-r.length)===r}trim(i){return(i+"").replace(this.regexTrim,"")}expandFormat(i,r){r=r||"F";let o,d=i.patterns,f=r.length;if(d[r])return d[r];if(f===1){if(o=d[r],!o)throw"Invalid date format string '"+r+"'.";r=o}else f===2&&r.charAt(0)==="%"&&(r=r.charAt(1));return r}getEra(i,r){if(!r||typeof i=="string")return 0;let o,d=i.getTime();for(let f=0,p=r.length;f<p;f++)if(o=r[f].start,o===null||d>=o)return f;return 0}toUpper(i){return i.split(" ").join(" ").toUpperCase()}toUpperArray(i){const r=[];for(let o=0,d=i.length;o<d;o++)r[o]=this.toUpper(i[o]);return r}getEraYear(i,r,o,d){let f=i.getFullYear();return!d&&r.eras&&(f-=typeof o=="number"?o:r.eras[o].offset),f}getDayIndex(i,r,o){const d=this,f=i.days;let p,v=i._upperDays;return v||(i._upperDays=v=[d.toUpperArray(f.names),d.toUpperArray(f.namesAbbr),d.toUpperArray(f.namesShort)]),r=r.toUpperCase(),o?(p=d.arrayIndexOf(v[1],r),p===-1&&(p=d.arrayIndexOf(v[2],r))):p=d.arrayIndexOf(v[0],r),p}getMonthIndex(i,r,o){const d=this;let f=i.months,p=i.monthsGenitive||i.months,v=i._upperMonths,w=i._upperMonthsGen;v||(i._upperMonths=v=[d.toUpperArray(f.names),d.toUpperArray(f.namesAbbr)],i._upperMonthsGen=w=[d.toUpperArray(p.names),d.toUpperArray(p.namesAbbr)]),r=d.toUpper(r);let C=d.arrayIndexOf(o?v[1]:v[0],r);return C<0&&(C=d.arrayIndexOf(o?w[1]:w[0],r)),C}appendPreOrPostMatch(i,r){let o=0,d=!1;for(let f=0,p=i.length;f<p;f++){const v=i.charAt(f);switch(v){case"'":d?r.push("'"):o++,d=!1;break;case"\\":d&&r.push("\\"),d=!d;break;default:r.push(v),d=!1}}return o}getTokenRegExp(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyyy|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|uu|u|nn|n|pp|p|ee|e|aa|a|xx|x|oo|o|i{1,24}|zzz|zz|z|gg|g/g}static ParseDate(i,r){return new Smart.Utilities.DateTime().tryparseDate(i,null,r)}tryparseDate(i,r,o){const d=this;if(r==null&&(r=d.calendar),o!==void 0){if(Array.isArray(o))for(let C=0;C<o.length;C++){const x=d.parseDate(i,o[C],r);if(x)return x}const w=d.parseDate(i,o,r);if(w)return w}if(i==="")return null;if(i==null||i.substring||(i=i.toString()),i!=null&&i.substring(0,6)==="/Date("){const w=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/;let C=new Date(+i.replace(/\/Date\((\d+)\)\//,"$1"));if(C==="Invalid Date"){const x=i.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/);C=null,x&&(C=new Date(1*x[1]+36e5*x[2]+6e4*x[3]))}if(C==null||C==="Invalid Date"||isNaN(C)){const x=w.exec(i);if(x){const L=new Date(parseInt(x[1]));if(x[2]){let A=parseInt(x[3]);x[2]==="-"&&(A=-A);const k=L.getUTCMinutes();L.setUTCMinutes(k-A)}if(!isNaN(L.valueOf()))return L}}return C}const f={smartdate:"yyyy-MM-dd HH:mm:ss",d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",d4:"MM.dd.yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",custom3:"yyyy-MM-ddTHH:mm:ss.fff+HH:mm",custom4:"yyyy-MM-ddTHH:mm:ss.fff-HH:mm",custom5:"yyyy-MM-ddTHH:mm:ss.ffffff+HH:mm",custom6:"yyyy-MM-ddTHH:mm:ss.ffffff-HH:mm",custom7:"yyyy-MM-ddTHH:mm:ss.fffffff+HH:mm",custom8:"yyyy-MM-ddTHH:mm:ss.fffffff-HH:mm",iso:"yyyy-MM-ddTHH:mm:ssZ",iso2:"yyyy-MM-ddTHH:mm.fffZ",iso_date1:"yyyy-MM-dd",iso_date2:"yyyy-MM-dd",iso_date3:"yyyy-ddd",iso_date4:"yyyy-MM-dd HH:mm",iso_date5:"yyyy-MM-dd HH:mm Z",iso_date6:"yyyy-MMM-dd",iso_date7:"yyyy-MM",iso_date8:"yyyy-MMM",iso_date9:"yyyy-MMMM",iso_date10:"yyyy-MMMM-dd",iso_time1:"HH:mm:ss.tttt",iso_time2:"HH:mm:ss",iso_time3:"HH:mm",iso_time4:"HH",iso_time5:"yyyyyy-MM-dd",iso_time6:"yyyyyy-MM-dd",iso_time7:"dd/MM/yyyy HH:mm",iso_time8:"dd.MM.yyyy HH:mm",iso_time9:"dd-MM-yyyy HH:mm",iso_time10:"MM.dd.yyyy HH:mm",iso_time11:"MM-dd-yyyy HH:mm",iso_time12:"dd/MM/yyyy",iso_time13:"MM.dd.yyyy h:mm tt",iso_time14:"MM-dd-yyyy h:mm tt",iso_time15:"MM/dd/yyyy h:mm tt"};for(let w in f){const C=d.parseDate(i,f[w],r);if(C)return C}const p=r.patterns;for(let w in p){const C=d.parseDate(i,p[w],r);if(C){if(w==="ISO"){const x=d.parseDate(i,p.ISO2,r);if(x)return x}return C}}let v;if(typeof i=="string"){const w=[":","/","-"," ",","];let C="",x=i=function(k,B,H){return H.replace(new RegExp(k,"g"),B)}(", ",",",i=d.trim(i));i.indexOf(":")>=0?(C=i.substring(i.indexOf(":")-2),C=d.trim(C),x=i.substring(0,i.indexOf(":")-2)):i.toUpperCase().indexOf("AM")>=0?(C=i.substring(i.toUpperCase().indexOf("AM")-2),C=d.trim(C),x=i.substring(0,i.toUpperCase().indexOf("AM")-2)):i.toUpperCase().indexOf("PM")>=0&&(C=i.substring(i.toUpperCase().indexOf("PM")-2),C=d.trim(C),x=i.substring(0,i.toUpperCase().indexOf("PM")-2));let L=new Date,A=!1;if(x){for(let F=0;F<w.length;F++)if(x.indexOf(w[F])>=0){v=x.split(w[F]);break}if(!v)return null;let k=new Array,B=new Array,H=new Array,V=null,z=null;for(let F=0;F<v.length;F++){const q=v[F],Y=d.parseDate(q,"d",r)||d.parseDate(q,"dd",r)||d.parseDate(q,"ddd",r)||d.parseDate(q,"dddd",r);if(Y&&(k.push(Y.getDate()),q.length>2)){V=F;break}}for(let F=0;F<v.length;F++){const q=v[F],Y=d.parseDate(q,"M",r)||d.parseDate(q,"MM",r)||d.parseDate(q,"MMM",r)||d.parseDate(q,"MMMM",r);if(Y){if(V!=null&&V===F)continue;if(B.push(Y.getMonth()),q.length>2){z=F;break}}}for(let F=0;F<v.length;F++){const q=v[F],Y=d.parseDate(q,"yyyy",r);if(Y){if(V!=null&&V===F||z!=null&&z===F)continue;H.push(Y.getFullYear())}}const N=new Array;for(let F=k.length-1;F>=0;F--)for(let q=0;q<B.length;q++)for(let Y=0;Y<H.length;Y++){const X=new Date(H[Y],B[q],k[F]);H[Y]<1970&&X.setFullYear(H[Y]),isNaN(X.getTime())||N.push(X)}N.length>0&&(L=N[0],A=!0)}if(C){const k=C.indexOf(":")>=0?C.split(":"):C,B=d.parseDate(C,"h:mm tt",r)||d.parseDate(C,"HH:mm:ss.fff",r)||d.parseDate(C,"HH:mm:ss.ff",r)||d.parseDate(C,"h:mm:ss tt",r)||d.parseDate(C,"HH:mm:ss.tttt",r)||d.parseDate(C,"HH:mm:ss",r)||d.parseDate(C,"HH:mm",r)||d.parseDate(C,"HH",r);let H=0,V=0,z=0,N=0;B&&!isNaN(B.getTime())?(H=B.getHours(),V=B.getMinutes(),z=B.getSeconds(),N=B.getMilliseconds()):(k.length===1&&(H=parseInt(k[0])),k.length===2&&(H=parseInt(k[0]),V=parseInt(k[1])),k.length===3&&(H=parseInt(k[0]),V=parseInt(k[1]),k[2].indexOf(".")>=0?(z=parseInt(k[2].toString().split(".")[0]),N=parseInt(k[2].toString().split(".")[1])):z=parseInt(k[2])),k.length===4&&(H=parseInt(k[0]),V=parseInt(k[1]),z=parseInt(k[2]),N=parseInt(k[3]))),!L||isNaN(H)||isNaN(V)||isNaN(z)||isNaN(N)||(L.setHours(H,V,z,N),A=!0)}if(A)return L}if(i!=null){v=[":","/","-"];let w=!0;for(let C=0;C<v.length;C++)i.indexOf(v[C])!==-1&&(w=!1);if(w){const C=new Number(i);if(!isNaN(C))return new Date(C)}}return null}getParseRegExp(i,r){const o=this;let d=i._parseRegExp;if(d){const k=d[r];if(k)return k}else i._parseRegExp=d={};let f,p=o.expandFormat(i,r).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),v=["^"],w=[],C=0,x=0,L=o.getTokenRegExp();for(;(f=L.exec(p))!==null;){const k=p.slice(C,f.index);if(C=L.lastIndex,x+=o.appendPreOrPostMatch(k,v),x%2){v.push(f[0]);continue}let B,H=f[0],V=H.length;switch(H){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":B="(\\D+)";break;case"tt":case"t":B="(\\D*)";break;case"yyyyy":B="(\\d{1,4})";break;case"yyyy":B="(\\d{"+V+"})";break;case"fff":case"ff":case"f":B="(\\d{1,"+V+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":B="(\\d\\d?)";break;case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":B="(\\d{1,3})";break;case"zzz":B="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":B="([+-]?\\d\\d?)";break;case"/":B="/";break;default:if(!/i{1,24}/.test(H))throw"Invalid date format pattern '"+H+"'.";B="(\\d{"+H.length+"})"}B&&v.push(B),H!=="/"&&w.push(f[0])}o.appendPreOrPostMatch(p.slice(C),v),v.push("$");const A={regExp:v.join("").replace(/\s+/g,"\\s+"),groups:w};return d[r]=A}outOfRange(i,r,o){return i<r||i>o}expandYear(i,r){const o=this,d=new Date,f=o.getEra(d);if(r<100){let p=i.twoDigitYearMax;p=typeof p=="string"?new Date().getFullYear()%100+parseInt(p,10):p;const v=o.getEraYear(d,i,f);(r+=v-v%100)>p&&(r-=100)}return r}padZeros(i,r){let o,d=i+"";return r>1&&d.length<r?(o=["0","00","000"][r-2]+d,o.substr(o.length-r,r)):(o=d,o)}parseDate(i,r,o){const d=this;o==null&&(o=d.calendar),i=d.trim(i);const f=o,p=d.getParseRegExp(f,r),v=new RegExp(p.regExp).exec(i);if(v===null)return null;let w,C=p.groups,x=null,L=null,A=null,k=null,B=null,H=0,V=0,z=0,N=0,F=null,q=!1;for(let Q=0,ie=C.length;Q<ie;Q++){const te=v[Q+1];if(te){const E=C[Q],l=E.length,m=parseInt(te,10);switch(E){case"dd":case"d":if(k=m,d.outOfRange(k,1,31))return null;break;case"MMM":case"MMMM":case"MMMMM":case"MMMMMM":case"MMMMMMM":case"MMMMMMMM":if(A=d.getMonthIndex(f,te,l===3),d.outOfRange(A,0,11))return null;break;case"M":case"MM":if(A=m-1,d.outOfRange(A,0,11))return null;break;case"y":case"yy":case"yyyy":if(L=l<4?d.expandYear(f,m):m,d.outOfRange(L,0,9999))return null;break;case"h":case"hh":if(H=m,H===12&&(H=0),d.outOfRange(H,0,11))return null;break;case"H":case"HH":if(H=m,d.outOfRange(H,0,23))return null;break;case"m":case"mm":if(V=m,d.outOfRange(V,0,59))return null;break;case"s":case"ss":if(z=m,d.outOfRange(z,0,59))return null;break;case"tt":case"t":if(q=f.PM&&(te===f.PM[0]||te===f.PM[1]||te===f.PM[2]),!q&&(!f.AM||te!==f.AM[0]&&te!==f.AM[1]&&te!==f.AM[2]))return null;break;case"f":case"ff":case"fff":if(N=m*Math.pow(10,3-l),d.outOfRange(N,0,999))return null;break;case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":if(d.outOfRange(m,0,1e3))return null;d[d._codeToUnit[E]]=m;break;case"ddd":case"dddd":if(B=d.getDayIndex(f,te,l===3),d.outOfRange(B,0,6))return null;break;case"zzz":{const c=te.split(/:/);if(c.length!==2||(w=parseInt(c[0],10),d.outOfRange(w,-12,13)))return null;const y=parseInt(c[1],10);if(d.outOfRange(y,0,59))return null;F=60*w+(d.startsWith(te,"-")?-y:y);break}case"z":case"zz":if(w=m,d.outOfRange(w,-12,13))return null;F=60*w;break;case"g":case"gg":{let c=te;if(!c||!f.eras)return null;c=this.trim(c.toLowerCase());for(let y=0,b=f.eras.length;y<b;y++)if(c===f.eras[y].nathat.toLowerCase()){x=y;break}if(x===null)return null;break}default:{let c=te;c.length%3==1?c+="00":c.length%3==2&&(c+="0"),N=parseInt(c.slice(0,3),10),c=c.slice(3);let y=0;for(;c.length>0;)d[d._smallUnits[y]]=parseInt(c.slice(0,3),10),c=c.slice(3),y++}}}}let Y,X=new Date,ae=f.convert;if(Y=X.getFullYear(),L===null?L=Y:f.eras&&(L+=f.eras[x||0].offset),A===null&&(A=0),k===null&&(k=1),ae){if(X=ae.toGregorian(L,A,k),X===null)return null}else if(X.setFullYear(L,A,k),X.getDate()!==k||B!==null&&X.getDay()!==B)return null;if(q&&H<12&&(H+=12),X.setHours(H,V,z,N),F!==null){const Q=X.getMinutes()-(F+X.getTimezoneOffset());X.setHours(X.getHours()+parseInt(Q/60,10),Q%60)}return X}toString(i,r){const o=this;i===void 0&&(i="yyyy-MM-dd HH:mm:ss");const d=o.dateData.toString()+o.getFractionsOfSecondStamp()+i+(o.timeZone||"");if(Smart.Utilities.DateTime.cache&&Smart.Utilities.DateTime.cache[d]&&o.showTodayDateAsString!==!1)return Smart.Utilities.DateTime.cache[d];const f=o.toDate();if(r==null&&(r=o.calendar),typeof f=="string")return f;if(!i||!i.length||i==="i"){let B;return B=o.formatDate(f,r.patterns.F,r),B}const p=r.eras,v=i==="s";i=o.expandFormat(r,i);const w=[];let C,x=0,L=o.getTokenRegExp();function A(B,H){if(B.getMonth!==void 0)switch(H){case 0:return B.getFullYear();case 1:return B.getMonth();case 2:return B.getDate()}}for(;;){const B=L.lastIndex,H=L.exec(i),V=i.slice(B,H?H.index:i.length);if(x+=o.appendPreOrPostMatch(V,w),!H)break;if(x%2){w.push(H[0]);continue}const z=H[0],N=z.length;let F;if(/i{1,24}/.test(z))w.push(o.getFirstNDigitsOfPrecision(z.length));else switch(z){case"ddd":case"dddd":{const q=N===3?r.days.namesAbbr:r.days.names;w.push(q[f.getDay()]);break}case"d":case"dd":w.push(o.padZeros(A(f,2),N));break;case"MMM":case"MMMM":F=A(f,1),w.push(r.months[N===3?"namesAbbr":"names"][F]);break;case"M":case"MM":w.push(o.padZeros(A(f,1)+1,N));break;case"y":case"yy":case"yyyy":F=o.getEraYear(f,r,o.getEra(f,p),v),N<4&&(F%=100),w.push(o.padZeros(F,N));break;case"h":case"hh":C=f.getHours()%12,C===0&&(C=12),w.push(o.padZeros(C,N));break;case"H":case"HH":w.push(o.padZeros(f.getHours(),N));break;case"m":case"mm":w.push(o.padZeros(f.getMinutes(),N));break;case"s":case"ss":w.push(o.padZeros(f.getSeconds(),N));break;case"t":case"tt":F=f.getHours()<12?r.AM?r.AM[0]:" ":r.PM?r.PM[0]:" ",w.push(N===1?F.charAt(0):F);break;case"f":case"ff":case"fff":w.push(o.padZeros(f.getMilliseconds(),3).substr(0,N));break;case"u":case"n":case"p":case"e":case"a":case"x":case"o":w.push(o[o._codeToUnit[z]]);break;case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":w.push(o.padZeros(o[o._codeToUnit[z]],3));break;case"z":case"zz":w.push((o.timeZoneOffsetHours>=0?"+":"-")+o.padZeros(Math.floor(Math.abs(o.timeZoneOffsetHours)),N));break;case"zzz":w.push((o.timeZoneOffsetHours>=0?"+":"-")+o.padZeros(Math.floor(Math.abs(o.timeZoneOffsetHours)),2)+":"+o.padZeros(60*Math.abs(o.timeZoneOffsetHours%1),2));break;case"g":case"gg":r.eras&&w.push(r.eras[o.getEra(f,p)].name);break;case"/":w.push(r["/"]);break;default:throw"Invalid date format pattern '"+z+"'."}}let k=w.join("");if(Smart.Utilities.DateTime.cache||(Smart.Utilities.DateTime.cache=new Array),o._today||(o._today=new Date),o.calendar&&o.calendar.today&&i.indexOf(":")===-1&&f.getFullYear()===o._today.getFullYear()&&f.getDate()===o._today.getDate()&&f.getMonth()===o._today.getMonth()){if(o.showTodayDateAsString===!1)return Smart.Utilities.DateTime.cache[d]=k,k;k=o.calendar.today}return Smart.Utilities.DateTime.cache[d]=k,k}getFractionsOfSecondStamp(){const i=this;return i._microsecond.toString()+i._nanosecond+i._picosecond+i._femtosecond+i._attosecond+i._zeptosecond+i._yoctosecond}getFirstNDigitsOfPrecision(i,r){const o=this;return(""+(r!==!0?o.padZeros(o.millisecond(),3):"")+o.padZeros(o._microsecond,3)+o.padZeros(o._nanosecond,3)+o.padZeros(o._picosecond,3)+o.padZeros(o._femtosecond,3)+o.padZeros(o._attosecond,3)+o.padZeros(o._zeptosecond,3)+o.padZeros(o._yoctosecond,3)).slice(0,i)}copySmallTimePartValues(i){const r=this;i._microsecond=r._microsecond,i._nanosecond=r._nanosecond,i._picosecond=r._picosecond,i._femtosecond=r._femtosecond,i._attosecond=r._attosecond,i._zeptosecond=r._zeptosecond,i._yoctosecond=r._yoctosecond}add(i,r,o){const d=this,f=d.internalMS();if(r===void 0){if(o===!1)return d.dateData=f+parseInt(i._ticks/d.ticksPerMillisecond),d;const w=new Smart.Utilities.DateTime(f+parseInt(i._ticks/d.ticksPerMillisecond));return d.copyTimeZone(w),d.copySmallTimePartValues(w),w}const p=i*r;if(p<=-d.maxMillis||p>=d.maxMillis)throw new Error("Out of Range");if(o===!1)return d.dateData=f+p,d;const v=new Smart.Utilities.DateTime(f+p);return d.copyTimeZone(v),d.copySmallTimePartValues(v),v}addDays(i,r){return this.add(i,this.millisPerDay,r)}clone(){const i=this,r=new Smart.Utilities.DateTime(i.dateData);return i.copyTimeZone(r),i.copySmallTimePartValues(r),r}clearTime(){const i=this,r=i.month(),o=i.year(),d=i.day(),f=new Smart.Utilities.DateTime(o,r,d,0,0,0,0);return i.copyTimeZone(f),f}addHours(i,r){return this.add(i,this.millisPerHour,r)}addDeciseconds(i,r){return this.add(100*i,1,r)}addCentiseconds(i,r){return this.add(10*i,1,r)}addMilliseconds(i,r){return this.add(i,1,r)}addMinutes(i,r){return this.add(i,this.millisPerMinute,r)}addMonths(i,r){const o=this;if(i<-12e4||i>12e4)throw new Error("Invalid Months Value");let d=parseInt(o.getDatePart(o.datePartYear)),f=parseInt(o.getDatePart(o.datePartMonth)),p=parseInt(o.getDatePart(o.datePartDay));if(i%12==0)d+=i/12;else{const C=f-1+i;C>=0?(f=C%12+1,d+=C/12):(f=12+(C+1)%12,d+=(C-11)/12),d=parseInt(d)}if(d<1||d>9999)throw new Error("Year out of range");const v=o.daysInMonth(d,f);if(p>v&&(p=v),r===!1)return o.dateData=o.dateToMS(d,f,p)+o.internalMS()%o.millisPerDay,o;const w=new Smart.Utilities.DateTime(o.dateToMS(d,f,p)+o.internalMS()%o.millisPerDay);return o.copyTimeZone(w),o.copySmallTimePartValues(w),w}addSeconds(i,r){return this.add(i,this.millisPerSecond,r)}addYears(i,r){return this.addMonths(12*i,r)}addMicroseconds(i,r){if(i===0)return;const o=this;let d,f;i<0&&o.hour()===0&&o.minute()===0&&o.second()===0&&o.millisecond()===0&&o._microsecond===0&&(d=parseInt(i/1e3,10)-1,f=1e3+i%1e3);const p=1e3*o.timeToMS(o.hour(),o.minute(),o.second(),o.millisecond())+o._microsecond,v=p+i;let w;if(d===void 0&&(d=parseInt(v/1e3,10)-parseInt(p/1e3,10)),f===void 0&&(f=parseInt(v%1e3,10)),d!==0&&(w=o.addMilliseconds(d,r)),r!==!1)return w||(w=o.clone()),w._microsecond=f,w;o._microsecond=f}addFractionsOfSecond(i,r,o,d,f){if(i===0)return;const p=this,v=1e3*p[d]+p[o],w=i+v;let C,x=parseInt(w/1e3,10)-parseInt(v/1e3,10),L=parseInt(w%1e3,10);if(i<0&&w<0&&L<0&&(x--,L=1e3+L),x!==0&&(C=p[f](x,r)),r!==!1)return C||(C=p.clone()),C[o]=L,C;p[o]=L}addNanoseconds(i,r){return this.addFractionsOfSecond(i,r,"_nanosecond","_microsecond","addMicroseconds")}addPicoseconds(i,r){return this.addFractionsOfSecond(i,r,"_picosecond","_nanosecond","addNanoseconds")}addFemtoseconds(i,r){return this.addFractionsOfSecond(i,r,"_femtosecond","_picosecond","addPicoseconds")}addAttoseconds(i,r){return this.addFractionsOfSecond(i,r,"_attosecond","_femtosecond","addFemtoseconds")}addZeptoseconds(i,r){return this.addFractionsOfSecond(i,r,"_zeptosecond","_attosecond","addAttoseconds")}addYoctoseconds(i,r){return this.addFractionsOfSecond(i,r,"_yoctosecond","_zeptosecond","addZeptoseconds")}getTimeZoneOffset(){const i=new Date,r=new Date(i.getFullYear(),0,1),o=new Date(i.getFullYear(),6,1),d=i.getTimezoneOffset()<Math.max(r.getTimezoneOffset(),o.getTimezoneOffset());return{offset:-i.getTimezoneOffset()/60,dst:+d}}isInDaylightSavingTime(){const i=new Date,r=new Date(i.getFullYear(),0,1),o=new Date(i.getFullYear(),6,1);return this.date().getTimezoneOffset()<Math.max(r.getTimezoneOffset(),o.getTimezoneOffset())}supportsDaylightSavingTime(){const i=new Date,r=new Date(i.getFullYear(),0,1),o=new Date(i.getFullYear(),6,1);return r.getTimezoneOffset()!==o.getTimezoneOffset()}date(){const i=this,r=i.month(),o=i.year(),d=i.day(),f=new Smart.Utilities.DateTime(o,r,d);return i.copyTimeZone(f),f}isWeekend(){return this.dayOfWeek()===0||this.dayOfWeek()===6}toDate(i){const r=this,o=r.month(),d=r.year(),f=r.day(),p=r.hour(),v=r.minute(),w=r.second(),C=r.millisecond();let x=new Date(d,o-1,f);if(d<1970&&x.setFullYear(d),x.setHours(p,v,w,C),i){const L=r.timeZones.filter(function(A){return A.id===i});if(L.length){let A=L[0].offset;const k=x.getTime();let B=60*x.getTimezoneOffset()*1e3;if(r.timeZone){const H=r.timeZones.filter(function(V){return V.id===r.timeZone});H.length&&(B=60*-H[0].offset*1e3)}x=new Date(k+B+6e4*A)}}return x}toTimeZone(i){const r=this;let o=i;if(o==null&&(o="Local"),r.timeZone===o)return r.clone();const d=r.timeZones.filter(function(v){return v.id===o});if(d.length===0)return r.clone();const f=this.toDate(o),p=new Smart.Utilities.DateTime(f);return p.timeZone=o,p.timeZoneOffset=d[0].offset,p.timeZoneOffsetHours=d[0].offsetHours,r.copySmallTimePartValues(p),p}day(){return this.getDatePart(this.datePartDay)}month(){return this.getDatePart(this.datePartMonth)}year(){return this.getDatePart(this.datePartYear)}millisecond(){return parseInt(this.internalMS()%1e3)}hour(){return parseInt(Math.floor(this.internalMS()/this.millisPerHour)%24)}minute(){return parseInt(this.internalMS()/this.millisPerMinute%60)}second(){return parseInt(this.internalMS()/this.millisPerSecond%60)}microsecond(){return this._microsecond}nanosecond(){return this._nanosecond}picosecond(){return this._picosecond}femtosecond(){return this._femtosecond}attosecond(){return this._attosecond}zeptosecond(){return this._zeptosecond}yoctosecond(){return this._yoctosecond}valueOf(){return this.dateData}equals(i){const r=this;return r.dateData===i.dateData&&r._microsecond===i._microsecond&&r._nanosecond===i._nanosecond&&r._picosecond===i._picosecond&&r._femtosecond===i._femtosecond&&r._attosecond===i._attosecond&&r._zeptosecond===i._zeptosecond&&r._yoctosecond===i._yoctosecond}equalDateParts(i){const r=this;return r.year()===i.year()&&r.month()===i.month()&&r.day()===i.day()}compare(i){const r=this;if(r.equals(i))return 0;const o=["dateData","_microsecond","_nanosecond","_picosecond","_femtosecond","_attosecond","_zeptosecond","_yoctosecond"];for(let d=0;d<o.length;d++){const f=o[d];if(r[f]>i[f])return 1;if(r[f]<i[f])return-1}return 0}toDateString(){return this.toDate().toDateString()}toLocaleDateString(){return this.toDate().toLocaleDateString(this.calendar.locale)}toLocaleString(){return this.toDate().toLocaleString(this.calendar.locale)}toLocaleTimeString(){return this.toDate().toLocaleTimeString(this.calendar.locale)}validateTimeZone(i){const r=this;if(typeof i!="string")return;const o=r.timeZones.filter(function(d){return d.id===i});o.length!==0&&(r.timeZone=i,r.timeZoneOffset=o[0].offset,r.timeZoneOffsetHours=o[0].offsetHours)}copyTimeZone(i){const r=this;i.timeZone=r.timeZone,i.timeZoneOffset=r.timeZoneOffset,i.timeZoneOffsetHours=r.timeZoneOffsetHours}getTimeStamp(){return new Smart.Utilities.BigNumber(this.dateData.toString()+this.getFirstNDigitsOfPrecision(void 0,!0))}})})()},7054:()=>{Smart("smart-date-time-picker",class extends Smart.BaseElement{static get properties(){return{animationSettings:{value:null,type:"object"},autoClose:{value:!1,type:"boolean"},autoCloseDelay:{value:0,type:"number"},autoSwitchToMinutes:{value:!1,type:"boolean"},calendarButton:{value:!1,type:"boolean"},calendarButtonPosition:{value:"right",allowedValues:["left","right"],type:"string"},calendarMode:{value:"default",allowedValues:["default","classic"],type:"string"},dayNameFormat:{value:"firstTwoLetters",allowedValues:["narrow","firstTwoLetters","long","short"],type:"string"},disableAutoNavigation:{value:!1,type:"boolean"},displayKind:{value:"unspecified",allowedValues:["UTC","local","unspecified"],type:"string"},displayModeView:{value:"table",allowedValues:["table","list"],type:"string"},displayMode:{allowedValues:["outlined","filled","underlined"],value:"outlined",type:"string"},dropDownAppendTo:{value:null,type:"any"},dropDownDisplayMode:{value:"default",allowedValues:["default","classic","calendar","timePicker","auto"],type:"string"},dropDownOverlay:{value:!1,type:"boolean"},dropDownPosition:{value:"auto",allowedValues:["auto","bottom","overlay-top","overlay-center","overlay-bottom","top","center-bottom","center-top"],type:"string"},editMode:{value:"default",allowedValues:["default","full","partial"],type:"string"},enableMouseWheelAction:{value:!1,type:"boolean"},firstDayOfWeek:{value:0,type:"number"},footerTemplate:{value:null,type:"any"},footer:{value:!1,type:"boolean"},formatString:{value:"dd-MMM-yy HH:mm:ss.fff",type:"string"},headerTemplate:{value:null,type:"any"},hideDayNames:{value:!1,type:"boolean"},hideOtherMonthDays:{value:!1,type:"boolean"},hideTooltipArrow:{value:!1,type:"boolean"},hint:{value:"",type:"string"},importantDates:{value:[],type:"array"},importantDatesTemplate:{value:null,type:"any"},interval:{value:new Smart.Utilities.TimeSpan(0,0,1),type:"any"},label:{value:"",type:"string"},max:{value:new Smart.Utilities.DateTime(3001,1,1),type:"any"},messages:{value:{en:{now:"Now",dateTabLabel:"DATE",timeTabLabel:"TIME"}},type:"object",extend:!0},min:{value:new Smart.Utilities.DateTime(1600,1,1),type:"any"},name:{value:"",type:"string"},nullable:{value:!1,type:"boolean"},opened:{value:!1,type:"boolean"},placeholder:{value:"Enter date",type:"string"},restrictedDates:{value:[],type:"array"},spinButtons:{value:!1,type:"boolean"},spinButtonsDelay:{value:75,type:"number"},spinButtonsInitialDelay:{value:0,type:"number"},spinButtonsPosition:{value:"right",allowedValues:["left","right"],type:"string"},tooltip:{value:!1,type:"boolean"},tooltipDelay:{value:100,type:"number"},tooltipPosition:{value:"top",allowedValues:["bottom","top","left","right","absolute"],type:"string"},tooltipTemplate:{value:null,type:"any"},validation:{value:"strict",allowedValues:["strict","interaction"],type:"string"},value:{defaultReflectToAttribute:!0,value:new Smart.Utilities.DateTime,type:"any"},weekNumbers:{value:!1,type:"boolean"},weeks:{value:6,type:"number"},yearCutoff:{value:1926,type:"number"}}}static get listeners(){return{"container.mouseout":"_mouseoutHandler","container.mouseover":"_mouseoverHandler","calendarButton.click":"_calendarButtonClickHandler","calendarDropDown.change":"_calendarDropDownChangeHandler","calendarDropDown.click":"_calendarDropDownClickHandler","downButton.click":"_spinButtonsClickHandler","input.blur":"_inputBlurHandler","input.change":"_inputChangeHandler","input.dragstart":"_inputDragstartHandler","input.focus":"_inputFocusHandler","input.keydown":"_inputKeydownHandler","input.down":"_inputDownHandler","input.paste":"_inputPasteHandler","input.select":"_inputSelectHandler","input.up":"_inputUpHandler","input.wheel":"_inputWheelHandler","dropDownContainer.keydown":"_dropDownKeydownHandler","dropDownContainer.transitionend":"_dropDownTransitionendHandler","dropDownHeader.click":"_dropDownHeaderClickHandler","upButton.click":"_spinButtonsClickHandler","document.up":"_documentUpHandler"}}static get requires(){return{"Smart.Utilities.DateTime":"smart.date.js","Smart.Utilities.Draw":"smart.draw.js","Smart.Utilities.BigNumber":"smart.math.js","Smart.Utilities.NumericProcessor":"smart.numeric.js","Smart.RepeatButton":"smart.button.js","Smart.Calendar":"smart.calendar.js","Smart.TimePicker":"smart.timepicker.js"}}static get styleUrls(){return["smart.datetimepicker.css"]}template(){return`<div id="container" role="presentation">
                    <span id="label" class="smart-label">[[label]]</span>
                    <div id="content" class="smart-content">
                        <input id="input" class="smart-input smart-date-time-input" type="text" readonly="[[readonly]]" disabled="[[disabled]]" placeholder="[[placeholder]]" name="[[name]]" aria-label="[[placeholder]]" />
                        <div id="spinButtonsContainer" class="smart-spin-buttons-container" role="presentation">
                            <smart-repeat-button initial-delay="[[spinButtonsInitialDelay]]" animation="[[animation]]" delay="[[spinButtonsDelay]]" readonly="[[readonly]]"  unfocusable id="upButton" right-to-left="[[rightToLeft]]" class="smart-spin-button" aria-label="Increment">
                                <div class="smart-arrow smart-arrow-up" aria-hidden="true"></div>
                            </smart-repeat-button>
                            <smart-repeat-button initial-delay="[[spinButtonsInitialDelay]]" animation="[[animation]]" delay="[[spinButtonsDelay]]" readonly="[[readonly]]" unfocusable id="downButton" right-to-left="[[rightToLeft]]" class="smart-spin-button" aria-label="Decrement">
                                <div class="smart-arrow smart-arrow-down" aria-hidden="true"></div>
                            </smart-repeat-button>
                        </div>
                        <div id="calendarButton" class="smart-drop-down-button smart-calendar-button" role="button" aria-haspopup="dialog" aria-label="Toggle popup"></div>
                        <div id="dropDownContainer" class="smart-drop-down smart-date-time-drop-down smart-drop-down-container smart-visibility-hidden" role="dialog">
                            <div id="dropDownHeader" class="smart-drop-down-header smart-hidden" role="heading" aria-level="1">
                                <div id="selectDate" class="smart-selected" role="button"></div>
                                <div id="selectTime" role="button"></div>
                            </div>
                            <div id="dropDownContent" class="smart-drop-down-content" role="presentation">
                                <smart-calendar id="calendarDropDown" class="smart-hidden"
                                              animation="[[animation]]"
                                              animation-settings="[[animationSettings]]"
                                              calendar-mode="[[calendarMode]]"
                                              day-name-format="[[dayNameFormat]]"
                                              disable-auto-navigation="[[disableAutoNavigation]]"
                                              display-mode-view="[[displayModeView]]"
                                              first-day-of-week="[[firstDayOfWeek]]"
                                              header-template="[[headerTemplate]]"
                                              hide-day-names="[[hideDayNames]]"
                                              hide-other-month-days="[[hideOtherMonthDays]]"
                                              hide-tooltip-arrow="[[hideTooltipArrow]]"
                                              important-dates="[[importantDates]]"
                                              important-dates-template="[[importantDatesTemplate]]"
                                              locale="[[locale]]"
                                              right-to-left="[[rightToLeft]]"
                                              selection-mode="one"
                                              spin-buttons-delay="[[spinButtonsDelay]]"
                                              spin-buttons-initial-delay="[[spinButtonsInitialDelay]]"
                                              theme="[[theme]]"
                                              tooltip="[[tooltip]]"
                                              tooltip-delay="[[tooltipDelay]]"
                                              tooltip-position="[[tooltipPosition]]"
                                              tooltip-template="[[tooltipTemplate]]"
                                              unfocusable="[[unfocusable]]"
                                              view-sections='["header", "footer"]'
                                              week-numbers="[[weekNumbers]]"
                                              weeks="[[weeks]]"></smart-calendar>
                            </div>
                        </div>
                    </div>
                    <span id="hint" inner-h-t-m-l="[[hint]]" class="smart-hint smart-hidden"></span>
                </div>`}attached(){const e=this;super.attached(),e.isCompleted&&(e._defaultFooterTemplateApplied&&e._addCalendarFooterListeners(),e.$.timePickerDropDown&&e._addTimePickerListener(),e._positionDetection&&e._positionDetection.dropDownAttached())}detached(){const e=this;if(super.detached(),e.close(),e._defaultFooterTemplateApplied){const t=e.$.calendarDropDown.$footer;t.unlisten("change"),t.unlisten("click"),t.unlisten("wheel")}e.$.timePickerDropDown&&e.$.timePickerDropDown.$.unlisten("change"),e._positionDetection&&e._positionDetection.dropDownDetached()}ready(){super.ready();const e=this;e._edgeMacFF=Smart.Utilities.Core.Browser.Edge||Smart.Utilities.Core.Browser.Firefox&&navigator.platform.toLowerCase().indexOf("mac")!==-1,e._iOS=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),e._edgeMacFF&&e.$dropDownContainer.addClass("not-in-view"),e._defaultFooterTemplate=document.createElement("template"),e._defaultFooterTemplate.innerHTML=`<div class="smart-date-time-picker-footer">
                <div class="smart-footer-component smart-footer-component-hour" role="presentation">
                    <input type="text" class="smart-hour-element" aria-label="Hours" />
                    <span role="presentation">
                        <smart-repeat-button initial-delay="0" delay="75" aria-label="Increment hours">
                            <span class="smart-arrow smart-arrow-up" aria-hidden="true"></span>
                        </smart-repeat-button>
                        <smart-repeat-button  initial-delay="0" delay="75" aria-label="Decrement hours">
                            <span class="smart-arrow smart-arrow-down" aria-hidden="true"></span>
                        </smart-repeat-button>
                    </span>
                </div>
                <div class="smart-footer-component smart-footer-component-minute" role="presentation">
                    <input class="smart-minute-element" aria-label="Minutes" />
                    <span role="presentation">
                        <smart-repeat-button initial-delay="0" delay="75" aria-label="Increment minutes">
                            <span class="smart-arrow smart-arrow-up" aria-hidden="true"></span>
                        </smart-repeat-button>
                        <smart-repeat-button initial-delay="0" delay="75" aria-label="Decrement minutes">
                            <span class="smart-arrow smart-arrow-down" aria-hidden="true"></span>
                        </smart-repeat-button>
                    </span>
                </div>
                <div class="smart-footer-component smart-footer-component-ampm" role="presentation">
                    <input type="text" class="smart-am-pm-element" aria-label="AM/PM" />
                </div>
                <div class="smart-footer-component smart-footer-component-today" role="presentation">
                    <div tabindex="-1" class="smart-today-element" role="button" aria-label="Now"></div>
                </div>
            </div>`,e._codeToMethod={y:"addYears",yy:"addYears",yyyy:"addYears",yyyyy:"addYears",M:"addMonths",MM:"addMonths",MMM:"addMonths",MMMM:"addMonths",d:"addDays",dd:"addDays",ddd:"addDays",dddd:"addDays",H:"addHours",HH:"addHours",h:"addHours",hh:"addHours",m:"addMinutes",mm:"addMinutes",s:"addSeconds",ss:"addSeconds",f:"addDeciseconds",ff:"addCentiseconds",fff:"addMilliseconds",u:"addMicroseconds",uu:"addMicroseconds",n:"addNanoseconds",nn:"addNanoseconds",p:"addPicoseconds",pp:"addPicoseconds",e:"addFemtoseconds",ee:"addFemtoseconds",a:"addAttoseconds",aa:"addAttoseconds",x:"addZeptoseconds",xx:"addZeptoseconds",o:"addYoctoseconds",oo:"addYoctoseconds"},e._codeToIndex={y:0,yy:0,yyyy:0,yyyyy:0,M:1,MM:1,MMM:1,MMMM:1,d:2,dd:2,ddd:2,dddd:2,H:3,HH:3,h:3,hh:3,m:4,mm:4,s:5,ss:5,f:6,ff:6,fff:6,u:7,uu:7,n:8,nn:8,p:9,pp:9,e:10,ee:10,a:11,aa:11,x:12,xx:12,o:13,oo:13},e._getLocalizedNames(),e.checkLicense()}render(){const e=this;e.rightToLeft&&(e.calendarButtonPosition=e.calendarButtonPosition==="right"?"left":"right"),e._positionDetection=new Smart.Utilities.PositionDetection(e,e.$.dropDownContainer,e.$.content,"close"),e._positionDetection.customPositionDropDown=e._positionExternalDropDown,e._positionDetection.getDropDownParent(!0),e._positionDetection.setDropDownPosition(),e.$.dropDownContainer.style.left=null,e._positionDetection.handleAutoPositioning(),e._setIds(),e._validateInitialPropertyValues(),e._setFocusable(),e.setAttribute("role","presentation"),e.$.input.setAttribute("aria-describedby",e.$.hint.id),e.$.input.setAttribute("aria-labelledby",e.$.label.id),e.$.calendarButton.setAttribute("aria-owns",e.$.dropDownContainer.id),e.$.dropDownContainer.setAttribute("animation",e.animation),e.$.dropDownContainer.setAttribute("drop-down-display-mode",e.dropDownDisplayMode),super.render(),e.isInitialized=!0}close(){this.opened&&this._close()}focus(){this.$.input.focus()}select(){this.$.input.select()}open(){this.opened||this._open()}_handleFooter(){const e=this;if(e.footer){e.$.dropDownContainer.setAttribute("footer","");const t=e.$.calendarDropDown;e._dropDownDisplayMode==="default"?t.viewSections=["title","header","footer"]:e._dropDownDisplayMode==="classic"?t.viewSections=["header","footer"]:e._dropDownDisplayMode==="calendar"&&(t.viewSections=["title","header","footer"])}else e.$.dropDownContainer.removeAttribute("footer")}propertyChangedHandler(e,t,n){super.propertyChangedHandler(e,t,n);const a=this;switch(e){case"animation":case"theme":a.$.timePickerDropDown&&(a.$.timePickerDropDown[e]=n),e==="animation"&&(a.$.dropDownContainer.setAttribute("animation",a.animation),a._defaultFooterTemplateApplied&&Array.from(a.$.calendarDropDown.$.footer.getElementsByTagName("smart-repeat-button")).forEach(function(i){i.animation=n}));break;case"calendarButton":a.$.dropDownContainer.style.transition="none",n||a.close();break;case"calendarButtonPosition":a.$.dropDownContainer.style.transition="none",a.close(),n==="left"?a.$.content.insertBefore(a.$.calendarButton,a.$.content.firstElementChild):a._dropDownParent===null?a.$.content.insertBefore(a.$.calendarButton,a.$.dropDownContainer):a.$.content.appendChild(a.$.calendarButton);break;case"disabled":n?(a.close(),a.$.upButton.disabled=!0,a.$.downButton.disabled=!0):a._disableSpinButtons(),a._setFocusable(),a._positionDetection.handleAutoPositioning();break;case"displayKind":{const i=a._outputTimeZone;switch(n){case"unspecified":a._outputTimeZone=a._inputTimeZone;break;case"UTC":a._outputTimeZone="UTC";break;case"local":a._outputTimeZone="Local"}if(a._outputTimeZone===i)return;a._value!==null&&(a.close(),a._toSync=!0,a._value=a._value.toTimeZone(a._outputTimeZone),a._applyFormatString()),a.min=a.min.toTimeZone(a._outputTimeZone),a.max=a.max.toTimeZone(a._outputTimeZone);for(let r=0;r<a.restrictedDates.length;r++){let o=a.restrictedDates[r];o=o.toTimeZone(a._outputTimeZone)}break}case"dropDownAppendTo":a._positionDetection.dropDownAppendToChangedHandler();break;case"dropDownDisplayMode":a._changeDropDownDisplayMode();break;case"dropDownOverlay":n||a._positionDetection.removeOverlay();break;case"dropDownPosition":a._positionDetection.dropDownPositionChangedHandler();break;case"footer":a._handleFooter();break;case"footerTemplate":if(n!==null){a._defaultFooterTemplateApplied=!1;const i=a.$.calendarDropDown.$footer;i.unlisten("change"),i.unlisten("click"),i.unlisten("wheel"),a.$.calendarDropDown.footerTemplate=n}else{a._setDefaultFooterTemplate();const i=a._value;a._hourElement.value=i.toString("hh"),a._minuteElement.value=i.toString("mm"),a._ampmElement.value=i.toString("tt")}a._handleFooter();break;case"formatString":n===""&&(a.formatString="dd-MMM-yy HH:mm:ss.fff"),a._getFormatStringRegExp(),a._applyFormatString(),a.dropDownDisplayMode==="auto"&&a._changeDropDownDisplayMode(),a._timePickerInitialized&&(a.$.timePickerDropDown.format=a._formatStringRegExp.groups.find(i=>i.indexOf("H")!==-1)?"24-hour":"12-hour");break;case"interval":a._validateInterval(t);break;case"locale":case"messages":if(a.$.selectDate.innerHTML=a.localize("dateTabLabel"),a.$.selectTime.innerHTML=a.localize("timeTabLabel"),a._defaultFooterTemplateApplied&&(a._todayElement.title=a.localize("now")),e==="messages")return;a._getLocalizedNames(),a.min.calendar.days=a._localizedDays,a.min.calendar.months=a._localizedMonths,a.min.calendar.locale=a.locale,a.max.calendar.days=a._localizedDays,a.max.calendar.months=a._localizedMonths,a.max.calendar.locale=a.locale,a.value!==null&&(a._value.calendar.days=a._localizedDays,a._value.calendar.months=a._localizedMonths,a._value.calendar.locale=a.locale,a.value.calendar.days=a._localizedDays,a.value.calendar.months=a._localizedMonths,a.value.calendar.locale=a.locale),Smart.Utilities.DateTime.cache=[],a._applyFormatString();break;case"max":case"min":a._validateMinMax(e,t),a.validation==="strict"?a._validateValue():a._minMaxChanged=!0;break;case"nullable":t===!0&&a._value===null&&a._validateValue(a._now(),null);break;case"opened":n?a._open():a._close();break;case"readonly":case"unfocusable":n&&a.close(),e==="unfocusable"&&a._setFocusable();break;case"restrictedDates":a._validateRestrictedDates(),a._validateValue();break;case"spinButtonsPosition":n==="right"?a.$.content.insertBefore(a.$.spinButtonsContainer,a.$.input.nextElementSibling):a.$.content.insertBefore(a.$.spinButtonsContainer,a.$.input);break;case"validation":n==="strict"&&(delete a._minMaxChanged,a._validateValue());break;case"value":{let i;n!==null?(i=Smart.Utilities.DateTime.validateDate(n,a._now(),a.formatString),i=i.toTimeZone(a._outputTimeZone)):i=null,a._validateValue(i,a._value,void 0,!0);break}}}setDate(e){const t=this;let n;e!==null?(n=Smart.Utilities.DateTime.validateDate(e,t._now(),t.formatString),n=n.toTimeZone(t._outputTimeZone)):n=null,t._validateValue(n,t._value,void 0,!0)}getDate(){return this.value&&this.value.toDate?this.value.toDate():null}_addCalendarFooterListeners(){const e=this,t=e.$.calendarDropDown.$footer;t.listen("change",e._footerChangeHandler.bind(e)),t.listen("click",e._footerClickHandler.bind(e)),t.listen("wheel",e._footerWheelHandler.bind(e))}_updateTargetValue(){const e=this;if(e.dataset.target){const t=document.querySelector(e.dataset.target);if(t){const n=e.dataset.property,a=e.value;n&&t[n]!==void 0&&(t[n]=a)}}}_addTimePickerListener(){const e=this;e.$.timePickerDropDown.$.listen("change",function(t){const n=e.context,a=t.detail.value,i=Smart.Utilities.DateTime.getConstructorParameters(e._value!==null?e._value:e._now());e.context=e,i[3]=a.getHours(),i[4]=a.getMinutes(),e._timePickerInitiatedChange=!0,i.unshift(null),e._validateValue(new(Function.prototype.bind.apply(Smart.Utilities.DateTime,i))),e._timePickerInitiatedChange=!1,e.context=n})}_applyFormatString(){const e=this;e.value!==null&&(e.$.input.value=e._value.toString(e.formatString))}_calendarButtonClickHandler(e){const t=this;t._highlightedTimePart=void 0,t.disabled||t.readonly||(t.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(t.$.calendarButton,e.pageX,e.pageY),t.opened?t._close():t._open())}_calendarDropDownChangeHandler(e){const t=this;if(e.stopPropagation(),t._disregardCalendarChangeEvent)t._disregardCalendarChangeEvent=!1;else if(this.$.calendarDropDown.selectedDates.length>0){const n=e.detail.value[0],a=t._value!==null?t._value:t._now(),i=Smart.Utilities.DateTime.getConstructorParameters(a);if(i[0]=n.getFullYear(),i[1]=n.getMonth()+1,i[2]=n.getDate(),t._calendarInitiatedChange=!0,i.unshift(null),t._validateValue(new(Function.prototype.bind.apply(Smart.Utilities.DateTime,i))),t._defaultFooterTemplateApplied){const r=t._value;t._hourElement.value===""&&(t._hourElement.value=r.toString("hh")),t._ampmElement.value===""&&(t._ampmElement.value=r.toString("tt")),t._minuteElement.value===""&&(t._minuteElement.value=r.toString("mm"))}t._calendarInitiatedChange=!1}else t._setNullValue()}_calendarDropDownClickHandler(e){const t=this;t.autoClose&&e.target.closest(".smart-calendar-cell")&&(clearTimeout(t._autoCloseTimeout),t._autoCloseTimeout=setTimeout(function(){t.close()},t.autoCloseDelay))}_changeDropDownDisplayMode(){function e(a,i,r,o){t.$dropDownHeader[a]("smart-hidden"),t.$calendarDropDown[i]("smart-hidden"),t._timePickerInitialized&&t.$.timePickerDropDown.$[r]("smart-hidden"),o&&(t.opened?t.$.calendarDropDown._refreshTitle():t._toSync=!0)}const t=this,n=t._dropDownDisplayMode;t._detectDisplayMode(),t._dropDownDisplayMode!==n&&(t._dropDownDisplayMode==="default"?(t.calendarMode="default",t.$.calendarDropDown.viewSections=["title","header"],t.$selectDate.addClass("smart-selected"),t.$selectTime.removeClass("smart-selected"),e("removeClass","removeClass","addClass",!0)):t._dropDownDisplayMode==="classic"?(t.calendarMode="classic",t.$.calendarDropDown.viewSections=["header","footer"],e("addClass","removeClass","addClass")):t._dropDownDisplayMode==="calendar"?(t.calendarMode="default",t.$.calendarDropDown.viewSections=["title","header"],e("addClass","removeClass","addClass",!0)):(t.calendarMode="default",e("addClass","addClass","removeClass"),t._timePickerInitialized||t._initializeTimePicker()),t.$.dropDownContainer.setAttribute("drop-down-display-mode",t.dropDownDisplayMode))}_cloneValue(){const e=this;return e._value!==null&&e._value!==void 0?e._value.clone():null}_close(){const e=this;if(e.$.fireEvent("closing").defaultPrevented)e.opened=!0;else{e.$.calendarDropDown.disabled=!0,e.$calendarButton.removeClass("smart-calendar-button-pressed"),e.$.calendarButton.removeAttribute("active"),e.$dropDownContainer.addClass("smart-visibility-hidden");const t=e.$.calendarDropDown.$.container.querySelector(".smart-calendar-cell[hover]");t&&t.removeAttribute("hover"),e.opened=!1,e._positionDetection.removeOverlay(!0),e.$.fireEvent("close"),e._edgeMacFF&&!e.hasAnimation&&(e.$.dropDownContainer.style.top=null,e.$.dropDownContainer.style.left=null,e.$dropDownContainer.addClass("not-in-view")),e.$.input.focus()}e.$.calendarButton.setAttribute("aria-expanded",e.opened)}_detectDisplayMode(){const e=this;e.dropDownDisplayMode!=="auto"?e._dropDownDisplayMode=e.dropDownDisplayMode:e._dropDownDisplayMode=Smart.Utilities.DateTime.detectDisplayMode(e.value||e.min,e.formatString,e._formatStringRegExp),e._dropDownDisplayMode==="timePicker"?(e.$calendarButton.addClass("time"),e.placeholder==="Enter date"&&(e.placeholder="Enter time")):(e.$calendarButton.removeClass("time"),e.placeholder==="Enter time"&&(e.placeholder="Enter date")),e._dropDownDisplayMode==="default"?e.$dropDownContent.removeClass("partial"):e.$dropDownContent.addClass("partial")}_disableSpinButtons(){const e=this;if(e.disabled)return;const t=e._value===null;e.$.upButton.disabled=t,e.$.downButton.disabled=t}_documentUpHandler(e){const t=this,n=(t.shadowRoot||t.getRootNode()).activeElement||document.activeElement,a=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;Smart.Utilities.Core.isMobile||n!==t.$.input||t.editMode!=="partial"||t._value===null||a===t.$.input&&t.$.input.selectionStart!==t.$.input.selectionEnd?a===t.$.calendarButton||t.$.dropDownContainer.contains(a)||t.$.dropDownContainer.contains(t._getRootShadowHost(a))||(t.close(),n===t.$.input||t.contains(a)||(t._highlightedTimePart=void 0)):(t._highlightedTimePartEdit=!1,t._validateValue(t.$.input.value,t._cloneValue(),!1),t._highlightTimePartBasedOnCursor()),t._mouseFocus=!1}_getRootShadowHost(e){const t=this;if(!t.shadowRoot&&!t.isInShadowDOM)return;let n,a=e.getRootNode().host;for(;a&&a!==t&&a!==document;)n=a,a=a.getRootNode().host;return n}_dropDownHeaderClickHandler(e){const t=this;if(e.target===t.$.selectDate){if(t.$selectDate.hasClass("smart-selected"))return;t.$selectDate.addClass("smart-selected"),t.$selectTime.removeClass("smart-selected"),t.$.timePickerDropDown.$.addClass("smart-hidden"),t.$calendarDropDown.removeClass("smart-hidden")}else{if(t.$selectTime.hasClass("smart-selected"))return;t.$selectDate.removeClass("smart-selected"),t.$selectTime.addClass("smart-selected"),t.$calendarDropDown.addClass("smart-hidden"),t._timePickerInitialized?t.$.timePickerDropDown.$.removeClass("smart-hidden"):t._initializeTimePicker()}}_dropDownKeydownHandler(e){const t=this,n=e.key,a=t.shadowRoot?t.shadowRoot.activeElement:document.activeElement;!t.$.dropDownHeader.contains(a)||n!=="Enter"&&n!==" "?n==="Escape"||e.altKey&&n==="ArrowUp"?(e.preventDefault(),t.close(),t.$.input.focus()):n!=="Enter"&&n!==" "||!a.classList.contains("smart-footer-component-today")?n==="Enter"&&(a===t.$.calendarDropDown.$.body&&t.$.calendarDropDown.querySelectorAll(".smart-calendar-cell[selected][focus]").length>0||t._timePickerInitialized&&a===t.$.timePickerDropDown.$.picker)&&(e.preventDefault(),t.close()):(e.preventDefault(),t._validateValue(t._now()),t.close()):(e.preventDefault(),t._dropDownHeaderClickHandler({target:a}))}_dropDownTransitionendHandler(){const e=this;if(e.hasAnimation)return e.opened&&e._toFocus?(e._toFocus.focus(),delete e._toFocus,void(e._timePickerInitialized&&!e.$.timePickerDropDown.classList.contains("smart-hidden")&&requestAnimationFrame(()=>e.$.timePickerDropDown._highlightLabel()))):e._edgeMacFF&&!e.opened?(e.$.dropDownContainer.style.top=null,e.$.dropDownContainer.style.left=null,void e.$dropDownContainer.addClass("not-in-view")):void 0}_footerChangeHandler(e){const t=this,n=t.context,a=e.target,i=t._value!==null?t._value:t._now();let r,o=a.value;if(t.context=t,e.stopPropagation(),a.classList.contains("smart-hour-element")){if(o=parseInt(o,10),isNaN(o)||o<0||o>12)return void(a.value=i.toString("hh"));o>0&&o<12&&i.toString("tt")==="PM"&&(o+=12),r="hh"}else{if(!a.classList.contains("smart-minute-element")){if(t._value===null)return void(a.value="");const f=i.toString("tt");return o=o.toLowerCase(),void(f==="PM"&&(o==="a"||o==="am")||f==="AM"&&(o==="p"||o==="pm")?(t._incrementDecrement(void 0,"tt"),a.value=t._value.toString("tt")):a.value=f)}if(o=parseInt(o,10),isNaN(o)||o<0||o>59)return void(a.value=i.toString("mm"));r="mm"}const d=Smart.Utilities.DateTime.getConstructorParameters(i);d[t._codeToIndex[r]]=o,d.unshift(null),t._validateValue(new(Function.prototype.bind.apply(Smart.Utilities.DateTime,d))),a.value=t._value.toString(r),t.context=n}_footerClickHandler(e){const t=this,n=t.context,a=e.target;if(t.context=t,a.classList.contains("smart-today-element"))t._validateValue(t._now()),t.autoClose&&(clearTimeout(t._autoCloseTimeout),t._autoCloseTimeout=setTimeout(function(){t.close()},t.autoCloseDelay));else{const i=a.closest("smart-repeat-button");if(i!==null){const r=i===i.parentElement.children[1],o=i.closest(".smart-footer-component").classList.contains("smart-footer-component-hour")?"hh":"mm";t._incrementDecrement(r,o)}}t.context=n}_footerWheelHandler(e){const t=this,n=t.shadowRoot?t.shadowRoot.activeElement:document.activeElement;if(t.enableMouseWheelAction&&e.target instanceof HTMLInputElement&&n===e.target){const a=t.context,i=e.target;t.context=t,i.classList.contains("smart-hour-element")?t._incrementDecrement(e.deltaY>0,"hh"):i.classList.contains("smart-minute-element")?t._incrementDecrement(e.deltaY>0,"mm"):t._incrementDecrement(void 0,"tt"),t.context=a,e.stopPropagation()}}_getAndHighlightTimePart(e,t,n){const a=this;a._programmaticSelection=!0,a.$.input.selectionStart!==e||a.$.input.selectionEnd!==t?a.$.input.setSelectionRange(e,t):setTimeout(function(){a.$.input.setSelectionRange(e,t)},200),a._highlightedTimePart={code:a._formatStringRegExp.groups[n],index:n,from:e,to:t}}_getFormatStringRegExp(){const e=this;e._formatStringRegExp=e.min.getParseRegExp(e.min.calendar,e.formatString.replace(/y+/g,"yyyyy")),e._formatStringRegExp.regExp=new RegExp(e._formatStringRegExp.regExp)}_getLocalizedNames(){const e=this,t=Smart.Utilities.DateTime.getLocalizedNames(e.locale);e._localizedDays=t.days,e._localizedMonths=t.months,e.$.selectDate.innerHTML=e.localize("dateTabLabel"),e.$.selectTime.innerHTML=e.localize("timeTabLabel")}_handleManualTimePartEdit(e){const t=this,n=Smart.Utilities.DateTime.getConstructorParameters(t._value);if(e=e[t._highlightedTimePart.index+1],isNaN(e)){if(t._codeToIndex[t._highlightedTimePart.code]===1){let a=-1;if(e.length>1&&t._localizedMonths.names.some(function(i,r){if(i.toLowerCase().indexOf(e.toLowerCase())!==-1)return a=r,!0}),a===-1)return void t._applyFormatString();n[1]=a+1}}else{if(t._highlightedTimePart.code==="f")e=100*parseInt(e,10);else if(t._highlightedTimePart.code==="ff")e=10*parseInt(e,10);else if(t._highlightedTimePart.code.indexOf("y")!==-1&&e.length<3){const a=t.yearCutoff.toString(),i=parseInt(a.slice(2),10);let r=parseInt(a.slice(0,2),10);(e=parseInt(e,10))<i&&r++,e=e.toString(),e=r+""+"0".repeat(2-e.length)+e}else if(t._highlightedTimePart.code.indexOf("h")!==-1){const a=t._value.hour();e=parseInt(e,10),a>11&&e<=11&&(e+=12)}n[t._codeToIndex[t._highlightedTimePart.code]]=parseInt(e,10)}try{n.unshift(null),t._validateValue(new(Function.prototype.bind.apply(Smart.Utilities.DateTime,n)))}catch{t._applyFormatString()}}_highlightTimePartBasedOnCursor(e){const t=this,n=t.$.input.value,a=t._formatStringRegExp.regExp.exec(n);function i(){return e===void 0?t.$.input.selectionStart:e}if(a===null)return void(t._highlightedTimePart=void 0);t._iOS||e!==void 0||(e=t.$.input.selectionStart);let r,o=a.index;for(let d=1;d<a.length;d++){const f=a[d];if(r=n.indexOf(f,o),o=r+f.length,d===1&&i()<r){t._getAndHighlightTimePart(r,o,0);break}if(i()>=r&&i()<=o){t._getAndHighlightTimePart(r,o,d-1);break}const p=a[d+1];if(!p){t._programmaticSelection=!0,t.$.input.setSelectionRange(r,o),t._highlightedTimePart={code:t._formatStringRegExp.groups[d-1],index:d-1,from:r,to:o};break}{const v=n.indexOf(p,o);if(i()>o&&i()<v){i()-o<=v-i()?t._getAndHighlightTimePart(r,o,d-1):(t._formatStringRegExp.groups[d],t._programmaticSelection=!0,t.$.input.setSelectionRange(v,v+p.length));break}}}}_highlightTimePartBasedOnIndex(e){const t=this,n=t.$.input.value,a=t._formatStringRegExp.regExp.exec(n);if(a===null)return t._validateValue(void 0,t._cloneValue(),!1),void t._highlightTimePartBasedOnIndex(e);let i,r=a.index;const o=t.shadowRoot?t.shadowRoot.activeElement:document.activeElement;if(!(e<0||e>=a.length)){t.$.input!==o&&t.$.input.focus();for(let d=1;d<a.length;d++){const f=a[d];if(i=n.indexOf(f,r),r=i+f.length,e===d-1){t._getAndHighlightTimePart(i,r,e);break}}}}_incrementDecrement(e,t){const n=this,a=n._cloneValue();if(n._minMaxChanged&&(n._value=n._rangeValidation(n._value),delete n._minMaxChanged),t===void 0&&n._highlightedTimePart&&(t=n._highlightedTimePart.code),t!==void 0){if(t==="z"||t==="zz"||t==="zzz")return void n._highlightTimePartBasedOnIndex(n._highlightedTimePart.index);n._value=t==="t"||t==="tt"?n._value.addHours(n._value.hour()<12?12:-12,!0):n._value[n._codeToMethod[t]](e?-1:1,!0),n._validateValue(void 0,a,!1),n._highlightedTimePart&&n._highlightTimePartBasedOnIndex(n._highlightedTimePart.index)}else n._value=n._value.add(e?n.interval.negate():n.interval,void 0,!0),n._validateValue(void 0,a,!1);a.compare(n._value)!==0&&n.isInitialized&&(n.$.fireEvent("change",{oldValue:a.toTimeZone(n._inputTimeZone),value:n.value}),n._updateTargetValue())}_initializeTimePicker(){const e=this,t=document.createElement("smart-time-picker");t.rightToLeft=e.rightToLeft,t.animation=e.animation,t.autoSwitchToMinutes=e.autoSwitchToMinutes,t.format=e._formatStringRegExp.groups.find(n=>n.indexOf("H")!==-1)?"24-hour":"12-hour",t.theme=e.theme,t.value=e._value!==null?e._value.toDate():e._now(),e.$.timePickerDropDown=t,t.$=Smart.Utilities.Extend(t),e.$.dropDownContent.appendChild(t),e._timePickerInitialized=!0,e._addTimePickerListener()}_inputBlurHandler(){const e=this;e.removeAttribute("focus"),e._fullEdit=!1,e._highlightedTimePartEdit=!1,e.$.fireEvent("blur")}_inputChangeHandler(e){const t=this;if(e&&e.stopPropagation(),t.$.input.value!==""){if(t._fullEdit||t._value===null)t._fullEdit=!1,t._validateValue(t.$.input.value),t._highlightTimePartBasedOnCursor();else if(t._highlightedTimePartEdit){t._highlightedTimePartEdit=!1;let n=t._formatStringRegExp.regExp.exec(t.$.input.value);n!==null?t._handleManualTimePartEdit(n):t._applyFormatString()}}else t._setNullValue()}_inputDragstartHandler(e){e.preventDefault()}_inputFocusHandler(){const e=this;if(e.setAttribute("focus",""),e.editMode!=="full"){const t=Smart.Utilities.Core.isMobile?10:0;setTimeout(function(){e._iOS?e._highlightTimePartBasedOnCursor():e._mouseFocus!==!0&&(e._highlightedTimePart===void 0?e._highlightTimePartBasedOnCursor(e._iOS?void 0:0):e._highlightTimePartBasedOnIndex(e._highlightedTimePart.index))},t)}e.$.fireEvent("focus")}_inputKeydownHandler(e){const t=this,n=t.editMode,a=e.key;if(a!=="Tab"){if(e.altKey&&a==="ArrowDown")return e.preventDefault(),void t.open();if(a==="Escape"||e.altKey&&a==="ArrowUp")return e.preventDefault(),void t.close();if(n!=="full"){if(n==="partial"){if(a==="Delete")return void(t._value!==null&&(t._setNullValue(),e.preventDefault()));if(t._value===null&&(t._validateValue(t._now(),null,!1),t._highlightTimePartBasedOnIndex(0)),["/",".","-",","," "].indexOf(a)!==-1)return t._inputChangeHandler(),t._navigateToNextTimePart(),void e.preventDefault();if(a==="Backspace")return t._resetTimePart(),t._highlightedTimePart.index>0?t._navigateToPreviousTimePart():t._highlightTimePartBasedOnIndex(0),void e.preventDefault()}else if(t._fullEdit||t._highlightedTimePartEdit||t.readonly||["Alt","Control","Shift"].indexOf(a)!==-1||e.altKey||e.ctrlKey)return void(["End","Home","ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].indexOf(a)!==-1&&t._highlightedTimePartEdit&&t._inputChangeHandler());if(["End","Home","ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].indexOf(a)!==-1){if(e.preventDefault(),n==="partial"&&t._highlightedTimePartEdit&&t._inputChangeHandler(),t._value!==null)switch(a){case"End":t._highlightTimePartBasedOnIndex(t._formatStringRegExp.groups.length-1);break;case"Home":t._highlightTimePartBasedOnIndex(0);break;case"ArrowLeft":t._navigateToPreviousTimePart();break;case"ArrowUp":t._incrementDecrement();break;case"ArrowRight":t._navigateToNextTimePart();break;case"ArrowDown":t._incrementDecrement(!0)}}else if(t._highlightedTimePart){if(n!=="partial"&&t._highlightedTimePart.to-t._highlightedTimePart.from!=t.$.input.selectionEnd-t.$.input.selectionStart)return void(t._fullEdit=!0);const i=t._highlightedTimePart.code;if(i==="ddd"||i==="dddd"||i==="z"||i==="zz"||i==="zzz"||i==="t"||i==="tt")return void e.preventDefault();if(n==="partial"&&i!=="MMM"&&i!=="MMMM"&&new RegExp(/^\d+$/).test(a)===!1)return void((a.length<2||a.charAt(0)!=="F")&&e.preventDefault());t._highlightedTimePartEdit=!0}}else t._fullEdit=!0}}_inputDownHandler(){const e=this;e._fullEdit||e._highlightedTimePartEdit||e.editMode==="full"||Smart.Utilities.Core.isMobile||setTimeout(function(){e._mouseFocus=!0,e._highlightTimePartBasedOnCursor()},0)}_inputPasteHandler(e){this.editMode==="partial"?e.preventDefault():this._fullEdit=!0}_inputSelectHandler(){const e=this,t=e.shadowRoot?e.shadowRoot.activeElement:document.activeElement;e.editMode==="partial"&&t===e.$.input&&(e._programmaticSelection===!0?e._programmaticSelection=!1:e._highlightedTimePart?e._highlightTimePartBasedOnIndex(e._highlightedTimePart.index):e._highlightTimePartBasedOnIndex(0))}_inputUpHandler(){const e=this;Smart.Utilities.Core.isMobile&&(e._iOS?(e._mouseFocus=!0,setTimeout(function(){document.activeElement===e.$.input&&e._highlightTimePartBasedOnCursor()},50)):setTimeout(function(){e._mouseFocus=!0,e._highlightTimePartBasedOnCursor()},10))}_inputWheelHandler(e){const t=this;(t.shadowRoot?t.shadowRoot.activeElement:document.activeElement)!==t.$.input||!t.enableMouseWheelAction||t.disabled||t.readonly||(e.preventDefault(),t._incrementDecrement(e.deltaY>0))}_isRestricted(e){const t=this.restrictedDates;let n=!1;for(let a=0;a<t.length;a++)if(e.equalDateParts(t[a])){n=!0;break}return n}_mouseoutHandler(e){const t=this,n=e.target;t.disabled||n!==t.$.input&&n!==t.$.calendarButton||(n.removeAttribute("hover"),t.removeAttribute("hover"))}_mouseoverHandler(e){const t=this,n=e.target;t.disabled||n!==t.$.input&&n!==t.$.calendarButton||(n.setAttribute("hover",""),t.setAttribute("hover",""))}_navigateToNextTimePart(){this._highlightTimePartBasedOnIndex(this._highlightedTimePart.index+1)}_navigateToPreviousTimePart(){this._highlightTimePartBasedOnIndex(this._highlightedTimePart.index-1)}_now(){const e=this,t=new Smart.Utilities.DateTime("today","Local");return e._outputTimeZone!=="Local"?t.toTimeZone(e._outputTimeZone):t}_open(e){const t=this;if(t.disabled||t.readonly||t.$.fireEvent("opening").defaultPrevented)return t.opened=!1,void t.$.calendarButton.setAttribute("aria-expanded",!1);t._edgeMacFF&&t.$dropDownContainer.removeClass("not-in-view");const n=t.$.dropDownContainer;n.style.marginLeft=null,e||(n.style.transition=""),t.$.calendarDropDown.disabled=!1,t.$calendarButton.addClass("smart-calendar-button-pressed"),t.$.calendarButton.setAttribute("active",""),(t._dropDownDisplayMode!=="default"&&t._dropDownDisplayMode!=="timePicker"||!t._timePickerInitialized||t._timePickerInitialized&&t.$.timePickerDropDown.$.hasClass("smart-hidden"))&&t.$calendarDropDown.removeClass("smart-hidden"),t.opened=!0,t.$.calendarButton.setAttribute("aria-expanded",!0),t._positionDetection.placeOverlay(),t._positionDetection.checkBrowserBounds("vertically"),t._positionDetection.positionDropDown(),t.$dropDownContainer.removeClass("smart-visibility-hidden");const a=window.devicePixelRatio===1?document.documentElement.clientWidth:window.innerWidth,i=n.getBoundingClientRect();if(i.left<0?n.style.marginLeft=-1*i.left+"px":i.right>a&&(n.style.marginLeft=a-i.right+"px"),t.$.fireEvent("open"),t._toSync){const o=t._value;if(o!==null)t._disregardCalendarChangeEvent=!0,t.$.calendarDropDown.selectedDates=[o.toDate()],t._defaultFooterTemplateApplied&&(t._hourElement.value=o.toString("hh"),t._minuteElement.value=o.toString("mm"),t._ampmElement.value=o.toString("tt")),t._timePickerInitialized&&(t.$.timePickerDropDown.value=o.toDate()),t._disregardCalendarChangeEvent=!1;else{const d=t.$.calendarDropDown.context;t.$.calendarDropDown.context=t.$.calendarDropDown,t.$.calendarDropDown._clearSelection(!0),t.$.calendarDropDown.context=d,t._defaultFooterTemplateApplied&&(t._hourElement.value="",t._minuteElement.value="",t._ampmElement.value="")}t._toSync=!1}let r;switch(t._dropDownDisplayMode){case"default":r=t.$selectDate.hasClass("smart-selected")?t.$.calendarDropDown:t.$.timePickerDropDown.$.picker;break;case"classic":case"calendar":r=t.$.calendarDropDown;break;case"timePicker":r=t.$.timePickerDropDown.$.picker}t.hasAnimation?(t._toFocus=r,function o(){t._toFocus&&(t.$.dropDownContainer.getBoundingClientRect().height===0?requestAnimationFrame(o):t._dropDownTransitionendHandler())}()):r.focus()}_positionExternalDropDown(e){const t=this.context,n=!t.calendarButton||t.calendarButtonPosition==="right",a=t._dropDownListPosition,i=t.$.dropDownContainer;let r,o=n?e.right-i.offsetWidth:e.left;switch(a){case"bottom":r=e.bottom;break;case"overlay-top":r=e.bottom-i.offsetHeight;break;case"overlay-center":r=e.top+e.height/2-i.offsetHeight/2;break;case"overlay-bottom":r=e.top;break;case"top":r=e.top-i.offsetHeight;break;case"center-bottom":case"center-top":r=a==="center-bottom"?e.bottom+5:e.top-5-i.offsetHeight,o=n?e.right-i.offsetWidth/2-t.$.calendarButton.offsetWidth/2:e.left-i.offsetWidth/2+t.$.calendarButton.offsetWidth/2}return{left:o,top:r}}_rangeValidation(e){const t=this;return e.compare(t.min)===-1?t.min.clone():e.compare(t.max)===1?t.max.clone():e}_resetTimePart(){const e=this,t=e._highlightedTimePart.code,n=e._codeToIndex[t],a=Smart.Utilities.DateTime.getConstructorParameters(e._value);let i;i=n>2?0:n>0?1:e.min.year(),a[n]=i,a.unshift(null),e._validateValue(new(Function.prototype.bind.apply(Smart.Utilities.DateTime,a)))}_setIds(){const e=this;e.$.label.id||(e.$.label.id=e.id+"Label"),e.$.input.id||(e.$.input.id=e.id+"Input"),e.$.calendarButton.id||(e.$.calendarButton.id=e.id+"CalendarButton"),e.$.dropDownContainer.id||(e.$.dropDownContainer.id=e.id+"DropDownContainer"),e.$.hint.id||(e.$.hint.id=e.id+"Hint")}_setDefaultFooterTemplate(e){const t=this;t.$.calendarDropDown.footerTemplate=t._defaultFooterTemplate,e&&t.$.calendarDropDown._handleLayoutTemplate(t.$.calendarDropDown.$.footer,t._defaultFooterTemplate),t._hourElement=t.$.calendarDropDown.getElementsByClassName("smart-hour-element")[0],t._minuteElement=t.$.calendarDropDown.getElementsByClassName("smart-minute-element")[0],t._ampmElement=t.$.calendarDropDown.getElementsByClassName("smart-am-pm-element")[0],t._todayElement=t.$.calendarDropDown.getElementsByClassName("smart-today-element")[0],t._todayElement.title=t.localize("now"),Array.from(t.$.calendarDropDown.$.footer.getElementsByTagName("smart-repeat-button")).forEach(function(n){n.animation=t.animation}),t._addCalendarFooterListeners(),t._defaultFooterTemplateApplied=!0}_setFocusable(){const e=this;if(e.disabled||e.unfocusable)return e.$.input.tabIndex=-1,e.$.selectDate.removeAttribute("tabindex"),e.$.selectTime.removeAttribute("tabindex"),void(e._defaultFooterTemplateApplied&&(e._hourElement.tabIndex=-1,e._ampmElement.tabIndex=-1,e._minuteElement.tabIndex=-1));const t=e.tabIndex>0?e.tabIndex:0;e.$.input.removeAttribute("tabindex"),e.$.selectDate.tabIndex=t,e.$.selectTime.tabIndex=t,e._defaultFooterTemplateApplied&&(e._hourElement.removeAttribute("tabindex"),e._ampmElement.removeAttribute("tabindex"),e._minuteElement.removeAttribute("tabindex"),e.$.calendarDropDown.getElementsByClassName("smart-footer-component-today")[0].tabIndex=t)}_setNullValue(e){const t=this;if(e===void 0&&(e=t._cloneValue()),t.nullable){if(t._value=null,t.value=null,t._highlightedTimePart=void 0,t.$.input.value="",e!==null){if(t.opened){if(!t._calendarInitiatedChange){const n=t.$.calendarDropDown.context;t.$.calendarDropDown.context=t.$.calendarDropDown,t.$.calendarDropDown._clearSelection(!0),t.$.calendarDropDown.context=n}t._defaultFooterTemplateApplied&&(t._hourElement.value="",t._ampmElement.value="",t._minuteElement.value=""),t._toSync=!1}else t._toSync=!0;t.isInitialized&&(t.$.fireEvent("change",{oldValue:e.toTimeZone(t._inputTimeZone),value:null}),t._updateTargetValue())}t._disableSpinButtons()}else t._validateValue(t._now(),e)}_spinButtonsClickHandler(e){const t=this;t._value===null||t.disabled||t.readonly||t._incrementDecrement(t.$.downButton.contains(e.target))}_validateInitialPropertyValues(){const e=this,t=e.$.calendarDropDown;e.calendarButtonPosition==="left"&&e.$.content.insertBefore(e.$.calendarButton,e.$.input),e.spinButtonsPosition==="left"&&e.$.content.insertBefore(e.$.spinButtonsContainer,e.$.input),e.disabled&&(e.$.upButton.disabled=!0,e.$.downButton.disabled=!0),e.opened&&(e.disabled||e.readonly?e.opened=!1:(e.$.dropDownContainer.style.transition="none",e._open(!0))),e.$.calendarButton.setAttribute("aria-expanded",e.opened),e.footerTemplate===null?e._setDefaultFooterTemplate(!0):(t.footerTemplate=e.footerTemplate,t._handleLayoutTemplate(t.$.footer,e.footerTemplate)),e.formatString===""&&(e.formatString="dd-MMM-yy HH:mm:ss.fff");const n=e.displayKind;let a;if(n==="UTC"?e._outputTimeZone="UTC":n==="local"&&(e._outputTimeZone="Local"),e.value!==null?(a=Smart.Utilities.DateTime.validateDate(e.value,new Smart.Utilities.DateTime,e.formatString),e._inputTimeZone=a.timeZone,n!=="unspecified"&&e._inputTimeZone!==e._outputTimeZone?a=a.toTimeZone(e._outputTimeZone):n==="unspecified"&&(e._outputTimeZone=e._inputTimeZone)):(a=null,e._inputTimeZone="Local"),e._validateRestrictedDates(),e._validateMinMax("both"),e._validateValue(a,e._now(),!1,!0),e._validateInterval(new Smart.Utilities.TimeSpan(0,0,1)),e._getFormatStringRegExp(),e._defaultFooterTemplateApplied&&e._hourElement.value===""&&e.value!==null){const r=e.value;e._hourElement.value=r.toString("hh"),e._ampmElement.value=r.toString("tt"),e._minuteElement.value=r.toString("mm")}e._detectDisplayMode();const i=e._dropDownDisplayMode;i==="default"||i==="calendar"?(t.viewSections=["title","header"],t.$title.hasClass("smart-hidden")&&t.propertyChangedHandler("viewSections",["header","footer"],["title","header"]),i==="default"&&e.$dropDownHeader.removeClass("smart-hidden")):i==="timePicker"&&(e.$calendarDropDown.addClass("smart-hidden"),e._initializeTimePicker()),e.footer&&e._handleFooter()}_validateInterval(e){const t=this,n=t.interval;let a=n;if(n instanceof Smart.Utilities.TimeSpan)a=n;else if(typeof n=="string"){const i=n.indexOf("TimeSpan("),r=n.indexOf(")");if(i!==-1&&r!==-1&&(a=n.slice(i+9,r),a=a.replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,""),new RegExp(/(^(\d+)(,\s*\d+)*$)/g).test(a)&&(a=a.replace(/\s/g,""),a=a.split(","),a.map(function(o,d){a[d]=parseInt(o)}),a.unshift(null),a=new(Function.prototype.bind.apply(Smart.Utilities.TimeSpan,a)))),a instanceof Smart.Utilities.TimeSpan==0){if(a.trim()==="")return void(t.interval=e);isNaN(a)||(a=1e4*parseInt(a,10));try{a=new Smart.Utilities.TimeSpan(a)}catch{return void(t.interval=e)}}}else{if(typeof n!="number")return void(t.interval=e);a=new Smart.Utilities.TimeSpan(n)}a._ticks===0?t.interval=e:t.interval=a}_validateMinMax(e,t){const n=this;let a=!1;e!=="max"&&(n.min=Smart.Utilities.DateTime.validateDate(n.min,t||new Smart.Utilities.DateTime(1600,1,1),n.formatString),n.min=n.min.toTimeZone(n._outputTimeZone),a=!0),e!=="min"&&(n.max=Smart.Utilities.DateTime.validateDate(n.max,t||new Smart.Utilities.DateTime(3001,1,1),n.formatString),n.max=n.max.toTimeZone(n._outputTimeZone),n.max.calendar.days=n._localizedDays,n.max.calendar.months=n._localizedMonths,n.max.calendar.locale=n.locale,n.$.calendarDropDown.max=n.max.toDate()),n.min.compare(n.max)>0&&(n.min=n.max.clone(),a=!0),a&&(n.min.calendar.days=n._localizedDays,n.min.calendar.months=n._localizedMonths,n.min.calendar.locale=n.locale,n.$.calendarDropDown.min=n.min.toDate())}_validateRestrictedDates(){const e=this,t=[],n=[];for(let a=0;a<e.restrictedDates.length;a++){const i=e.restrictedDates[a];let r=Smart.Utilities.DateTime.validateDate(i,"invalid",e.formatString);r!=="invalid"&&(r=r.toTimeZone(e._outputTimeZone),t.push(r),n.push(r.toDate()))}e.restrictedDates=t,e.$.calendarDropDown.restrictedDates=n}_validateValue(e,t,n,a){const i=this;let r=t!==void 0?t:i._cloneValue();if(e===null||e==="")return void i._setNullValue(r);if(e&&typeof e=="string")if(e.indexOf("-")===-1&&e.indexOf("/")===-1&&e.indexOf(".")===-1){if(i.formatString){let p="",v=0;for(let w=0;w<i.formatString.length;w++)i.formatString[w]==="-"||i.formatString[w]==="/"||i.formatString[w]==="."?p+=i.formatString[w]:e[v]?(p+=e[v],v++):p+=i.formatString[w];if(p.indexOf("y")>=0){let w=p.substring(p.indexOf("y")-2);const C=i.yearCutoff.toString(),x=parseInt(C.slice(2),10);let L=parseInt(C.slice(0,2),10);w=parseInt(w,10),w<x&&L++,w=w.toString(),w!=="NaN"?(w=L+""+"0".repeat(2-w.length)+w,p=p.substring(0,p.indexOf("y")-2)+w):p=null}e=p}}else{let p=e.indexOf("-")>=0?"-":"";if(p===""&&(p=e.indexOf("/")>=0?"/":""),p===""&&(p=e.indexOf(".")>=0?".":""),p&&i.formatString.indexOf("yyyy")>=0){const v=e.split(p);let w=v[v.length-1];if(w.length<4){const C=i.yearCutoff.toString(),x=parseInt(C.slice(2),10);let L=parseInt(C.slice(0,2),10);w=parseInt(w,10),w<x&&L++,w=w.toString(),w=L+""+"0".repeat(2-w.length)+w,v[v.length-1]=w,e=v.join(p)}}}if(e!==void 0&&(i._value=Smart.Utilities.DateTime.validateDate(e,r,i.formatString)),i._value===null)return void i._setNullValue(r);let o=i._value;for(;i._isRestricted(o)===!0;)o.addDays(1,!1);const d=i._rangeValidation(o);a&&i.validation!=="strict"?o.equals(d)===!1&&(i._minMaxChanged=!0):(i._value=d,delete i._minMaxChanged),i.value=i._value.toTimeZone(i._inputTimeZone);const f=i._value;if(f.calendar.days=i._localizedDays,f.calendar.months=i._localizedMonths,f.calendar.locale=i.locale,i._applyFormatString(),i._disableSpinButtons(),r&&typeof r=="string"&&(r=new Smart.Utilities.DateTime(r)),(r===null||f===null)&&r!==f||r!==null&&f!==null&&r.compare&&r.compare(f)!==0){if(n!==!1&&i.isInitialized&&!a&&(i.$.fireEvent("change",{oldValue:r!==null?r.toTimeZone(i._inputTimeZone):null,value:i.value}),i._updateTargetValue()),i._calendarInitiatedChange)return;i.opened?(r!==null&&i.$.calendarDropDown.selectedDates.length!==0&&r.year()===f.year()&&r.month()===f.month()&&r.day()===f.day()&&i.$.calendarDropDown._isDateInView(f.toDate())||(i._disregardCalendarChangeEvent=!0,i.$.calendarDropDown.selectedDates=[f.toDate()]),i._defaultFooterTemplateApplied&&(r!==null&&r.hour()===f.hour()||(i._hourElement.value=f.toString("hh"),i._ampmElement.value=f.toString("tt")),r!==null&&r.minute()===f.minute()||(i._minuteElement.value=f.toString("mm"))),i._timePickerInitialized&&!i._timePickerInitiatedChange&&(i.$.timePickerDropDown.value=f.toDate()),i._toSync=!1):i._toSync=!0}}})},9613:()=>{Smart.Utilities.Assign("Draw",class{constructor(e,t){const n=this;n.host=e,n.renderEngine=t||"",n.refresh();const a=["clear","removeElement","attr","getAttr","line","circle","rect","path","pieslice","pieSlicePath","text","measureText"];for(let i in a)n._addFn(Smart.Utilities.Draw.prototype,a[i])}_addFn(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})}_initRenderer(e){return this.createRenderer(this,e)}_internalRefresh(){const e=this;if(e.renderer||(e.host.innerHTML="",e._initRenderer(e.host)),window.getComputedStyle(e.host).display==="none")return;const t=e.renderer;if(!t)return;const n=t.getRect();e._render({x:1,y:1,width:n.width,height:n.height})}_render(e){this._plotRect=e}refresh(){this._internalRefresh()}getSize(){const e=this._plotRect;return{width:e.width,height:e.height}}toGreyScale(e){if(e.indexOf("#")===-1)return e;const t=this.cssToRgb(e);t[0]=t[1]=t[2]=Math.round(.3*t[0]+.59*t[1]+.11*t[2]);const n=this.rgbToHex(t[0],t[1],t[2]);return"#"+n[0]+n[1]+n[2]}decToHex(e){return e.toString(16)}hexToDec(e){return parseInt(e,16)}rgbToHex(e,t,n){return[this.decToHex(e),this.decToHex(t),this.decToHex(n)]}hexToRgb(e,t,n){return[this.hexToDec(e),this.hexToDec(t),this.hexToDec(n)]}cssToRgb(e){return e.indexOf("rgb")<=-1?this.hexToRgb(e.substring(1,3),e.substring(3,5),e.substring(5,7)):e.substring(4,e.length-1).split(",")}hslToRgb(e){let t,n,a;const i=parseFloat(e[0]),r=parseFloat(e[1]),o=parseFloat(e[2]);if(r===0)t=n=a=o;else{const d=o<.5?o*(1+r):o+r-o*r,f=2*o-d;t=this.hueToRgb(f,d,i+.3333333333333333),n=this.hueToRgb(f,d,i),a=this.hueToRgb(f,d,i-.3333333333333333)}return[255*t,255*n,255*a]}hueToRgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<.16666666666666666?e+6*(t-e)*n:n<.5?t:n<.6666666666666666?e+(t-e)*(.6666666666666666-n)*6:e}rgbToHsl(e){const t=parseFloat(e[0])/255,n=parseFloat(e[1])/255,a=parseFloat(e[2])/255,i=Math.max(t,n,a),r=Math.min(t,n,a);let o,d,f=(i+r)/2;if(i===r)o=d=0;else{const p=i-r;switch(d=f>.5?p/(2-i-r):p/(i+r),i){case t:o=(n-a)/p+(n<a?6:0);break;case n:o=(a-t)/p+2;break;case a:o=(t-n)/p+4}o/=6}return[o,d,f]}swap(e,t){}getNum(e){if(e.constructor!==Array){if(isNaN(e))return 0}else for(let t=0;t<e.length;t++)if(!isNaN(e[t]))return e[t];return 0}_ptRotate(e,t,n,a,i){const r=Math.sqrt(Math.pow(Math.abs(e-n),2)+Math.pow(Math.abs(t-a),2)),o=Math.asin((e-n)/r)+i;return{x:e=n+Math.cos(o)*r,y:t=a+Math.sin(o)*r}}log(e,t){return Math.log(e)/(t?Math.log(t):1)}_mod(e,t){const n=Math.abs(e>t?t:e);let a=1;if(n!==0)for(;n*a<100;)a*=10;return(e*=a)%(t*=a)/a}createRenderer(e,t){const n=e;let a=n.renderer=null;return document.createElementNS&&n.renderEngine!=="HTML5"&&(a=new Smart.Utilities.SvgRenderer(this)),a!==null||n.renderEngine!=="HTML5"&&n.renderEngine!==void 0||(a=new Smart.Utilities.HTML5Renderer(this)),a.init(t),n.renderer=a,a}getByPriority(e){let t;for(let n=0;n<e.length;n++){const a=e[n];if(a!=null&&a!==""){t=a;break}}return t}get(e,t,n){return n!==void 0?e[t][n]:e[t]}min(e,t){let n=NaN;for(let a=0;a<e.length;a++){const i=this.get(e,a,t);(isNaN(n)||i<n)&&(n=i)}return n}max(e,t){let n=NaN;for(let a=0;a<e.length;a++){const i=this.get(e,a,t);(isNaN(n)||i>n)&&(n=i)}return n}sum(e,t){let n=0;for(let a=0;a<e.length;a++){const i=this.get(e,a,t);isNaN(i)||(n+=i)}return n}count(e,t){let n=0;for(let a=0;a<e.length;a++){const i=this.get(e,a,t);isNaN(i)||n++}return n}avg(e,t){return this.sum(e,t)/Math.max(1,this.count(e,t))}filter(e,t){if(!t)return e;const n=[];for(let a=0;a<e.length;a++)t(e[a])&&n.push(e[a]);return n}scale(e,t,n,a){if(isNaN(e))return NaN;if((e<Math.min(t.min,t.max)||e>Math.max(t.min,t.max))&&(!a||a.ignore_range!==!0))return NaN;let i=NaN,r=1;if(t.type===void 0||t.type!=="logarithmic"){let o=Math.abs(t.max-t.min);o||(o=1),r=Math.abs(e-Math.min(t.min,t.max))/o}else if(t.type==="logarithmic"){let o=t.base;isNaN(o)&&(o=10);let d=Math.min(t.min,t.max);d<=0&&(d=1);let f=Math.max(t.min,t.max);f<=0&&(f=1);const p=this.log(f,o);f=Math.pow(o,p);const v=this.log(d,o);d=Math.pow(o,v);const w=this.log(e,o);r=Math.abs(w-v)/(p-v)}if(n.type==="logarithmic"){let o=n.base;isNaN(o)&&(o=10);const d=this.log(n.max,o),f=this.log(n.min,o);n.flip&&(r=1-r);const p=Math.min(f,d)+r*Math.abs(d-f);i=Math.pow(o,p)}else i=Math.min(n.min,n.max)+r*Math.abs(n.max-n.min),n.flip&&(i=Math.max(n.min,n.max)-i+n.min);return i}axis(e,t,n){if(n<=1)return[t,e];(isNaN(n)||n<2)&&(n=2);let a=0;for(;Math.round(e)!==e&&Math.round(t)!==t&&a<10;)e*=10,t*=10,a++;let i=(t-e)/n;for(;a<10&&Math.round(i)!==i;)e*=10,t*=10,i*=10,a++;const r=[1,2,5];let o,d=0;for(;;){let C=d%r.length,x=Math.floor(d/r.length),L=Math.pow(10,x)*r[C];if(C=(d+1)%r.length,x=Math.floor((d+1)/r.length),o=Math.pow(10,x)*r[C],i>=L&&i<o)break;d++}const f=o,p=[];let v=this.renderer._rnd(e,f,!1);const w=a<=0?1:Math.pow(10,a);for(;v<t+f;)p.push(v/w),v+=f;return p}_widgetToImage(e,t,n,a,i){let r=e;if(!r)return!1;n!==void 0&&n!==""||(n="image."+t);let o=r.renderEngine,d=r.animation;if(r.animation="none",r.renderEngine="HTML5",r.renderEngine!==o)try{r.refresh()}catch{return r.renderEngine=o,r.refresh(),r.animation=d,!1}let f=r.renderer.getContainer().firstElementChild,p=!0;typeof a=="function"&&(p=a(e,f));let v=!0;return p&&(v=this.exportImage(e,f,t,n,i)),r.renderEngine!==o&&(r.renderEngine=o,r.refresh(),r.animation=d),v}_saveAsImage(e,t){return this._widgetToImage(this,e,t)}saveAsPNG(e){return this._saveAsImage("png",e)}saveAsJPEG(e){return this._saveAsImage("jpeg",e)}exportImage(e,t,n,a,i){if(!t)return!1;let r=n.toLowerCase()==="pdf";r&&(n="jpeg"),a!==void 0&&a!==""||(a="image."+n);let o=!0;if(n!=="print"){try{if(t)if(r){i=i||"portrait";const d={content:{image:t.toDataURL("image/"+n),width:Math.min(t.width/1.35,i==="portrait"?515:762)},pageOrientation:i};try{pdfMake.createPdf(d).download(a)}catch{e.error(e.localize("missingReference",{files:"pdfmake.min.js"}))}}else{Smart.Utilities.DataExporter||e.error(e.localize("missingReference",{files:"smart.export.js"}));const d=new Smart.Utilities.DataExporter;t.toBlob(function(f){d.downloadFile(f,n,a)})}}catch{o=!1}return o}{const d=window.open("","","width=800,height=500"),f=d.document.open(),p='<!DOCTYPE html><html><head><meta charset="utf-8" /><title>jQWidgets Chart</title></head><body><img src="'+t.toDataURL()+'" /></html>';try{f.write(p),f.close(),setTimeout(function(){d.print(),d.close()},100)}catch{}}}}),Smart.Utilities.Assign("Renderer",class{constructor(e){const t=this;t.draw=e,t._gradients={},t._toRadiansCoefficient=2*Math.PI/360}pieSlicePath(e,t,n,a,i,r,o){a||(a=1);const d=Math.abs(i-r),f=d>180?1:0;d>=360&&(r=i+359.99);const p=i*this._toRadiansCoefficient,v=r*this._toRadiansCoefficient;let w=e,C=e,x=t,L=t;const A=!isNaN(n)&&n>0;A&&(o=0);const k=Math.cos(p),B=Math.sin(p),H=Math.cos(v),V=Math.sin(v);if(o+n>0){if(o>0){const ae=(d/2+i)*this._toRadiansCoefficient;e+=o*Math.cos(ae),t-=o*Math.sin(ae)}A&&(w=e+n*k,x=t-n*B,C=e+n*H,L=t-n*V)}const z=e+a*k,N=e+a*H,F=t-a*B,q=t-a*V;let Y="";const X=Math.abs(Math.abs(r-i)-360)>.02;return A?(Y="M "+C+","+L,Y+=" a"+n+","+n,Y+=" 0 "+f+",1 "+(w-C)+","+(x-L),Y+=X?" L"+z+","+F:" M"+z+","+F,Y+=" a"+a+","+a,Y+=" 0 "+f+",0 "+(N-z)+","+(q-F),X&&(Y+=" Z")):(Y="M "+N+","+q,Y+=" a"+a+","+a,Y+=" 0 "+f+",1 "+(z-N)+","+(F-q),X&&(Y+=" L"+e+","+t,Y+=" Z")),Y}measureText(e,t,n,a){const i=this._getTextParts(e,t,n),r=i.width;let o=i.height;a===!1&&(o/=.6);let d={};if(isNaN(t)&&(t=0),t===0)d={width:this._rup(r),height:this._rup(o)};else{const f=t*Math.PI*2/360,p=Math.abs(Math.sin(f)),v=Math.abs(Math.cos(f)),w=Math.abs(r*p+o*v),C=Math.abs(r*v+o*p);d={width:this._rup(C),height:this._rup(w)}}return a&&(d.textPartsInfo=i),d}alignTextInRect(e,t,n,a,i,r,o,d,f,p){const v=f*Math.PI*2/360,w=Math.sin(v),C=Math.cos(v),x=i*w,L=i*C;o==="center"||o===""||o==="undefined"?e+=n/2:o==="right"&&(e+=n),d==="center"||d==="middle"||d===""||d==="undefined"?t+=a/2:d==="bottom"?t+=a-r/2:d==="top"&&(t+=r/2);let A="middle";(p=p||"").indexOf("top")!==-1?A="top":p.indexOf("bottom")!==-1&&(A="bottom");let k="center";return p.indexOf("left")!==-1?k="left":p.indexOf("right")!==-1&&(k="right"),k==="center"?(e-=L/2,t-=x/2):k==="right"&&(e-=L,t-=x),A==="top"?(e-=r*w,t+=r*C):A==="middle"&&(e-=r*w/2,t+=r*C/2),{x:e=this._rup(e),y:t=this._rup(t)}}adjustColor(e,t){if(typeof e!="string")return"#000000";if(e.indexOf("#")===-1)return e;const n=this.draw;let a=n.cssToRgb(e);const i=n.rgbToHsl(a);i[2]=Math.min(1,i[2]*t),i[1]=Math.min(1,i[1]*t*1.1),a=n.hslToRgb(i),e="#";for(let r=0;r<3;r++){let o=Math.round(a[r]);o=n.decToHex(o),o.toString().length===1&&(e+="0"),e+=o}return e.toUpperCase()}_rup(e){let t=Math.round(e);return e>t&&t++,t}_ptdist(e,t,n,a){return Math.sqrt((n-e)*(n-e)+(a-t)*(a-t))}_rnd(e,t,n,a){if(isNaN(e))return e;a===void 0&&(a=!0);let i=e-(a===!0?e%t:this._mod(e,t));return e===i?i:(n?e>i&&(i+=t):i>e&&(i-=t),t===1?Math.round(i):i)}_ptrnd(e){if(!document.createElementNS)return Math.round(e)===e?e:this._rnd(e,1,!1,!0);const t=this._rnd(e,.5,!1,!0);return Math.abs(t-Math.round(t))!==.5?t>e?t-.5:t+.5:t}_getContrastColor(e){if(e===void 0)return;let t=this.draw.hexToRgb(e.slice(1,3),e.slice(3,5),e.slice(5,7));return(.299*t[0]+.61*t[1]+.114*t[2])/255>.6?"#000000":"#FFFFFF"}}),Smart.Utilities.Assign("SvgRenderer",class extends Smart.Utilities.Renderer{constructor(e){super(e);const t=this;t._svgns="http://www.w3.org/2000/svg",t._openGroups=[],t._clipId=0}init(e){const t=document.createElement("div");t.className="drawContainer",t.onselectstart=function(){return!1},e.appendChild(t),this.host=e,this.container=t;try{const n=document.createElementNS(this._svgns,"svg");n.setAttribute("version","1.1"),n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.setAttribute("overflow","hidden"),t.appendChild(n),this.canvas=n}catch{return!1}return this._id=new Date().getTime(),this.clear(),!0}getType(){return"SVG"}refresh(){}getRect(){return{x:0,y:0,width:Math.max(this._rup(this.host.offsetWidth)-1,0),height:Math.max(this._rup(this.host.offsetHeight)-1,0)}}getContainer(){return this.container}clear(){for(;this.canvas.childNodes.length>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)}removeElement(e){if(e!==void 0)try{for(;e.firstChild;)this.removeElement(e.firstChild);e.parentNode?e.parentNode.removeChild(e):this.canvas.removeChild(e)}catch{}}beginGroup(){const e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t}endGroup(){this._openGroups.length!==0&&this._openGroups.pop()}_activeParent(){return this._openGroups.length===0?this.canvas:this._openGroups[this._openGroups.length-1]}createClipRect(e){const t=document.createElementNS(this._svgns,"clipPath"),n=document.createElementNS(this._svgns,"rect");return this.attr(n,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(n),this._defs.appendChild(t),t}getWindowHref(){let e=window.location.href;return e&&(e=e.replace(/([\('\)])/g,"\\$1"),e=e.replace(/#.*$/,""),e)}setClip(e,t){const n="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":n})}addHandler(e,t,n){e.addEventListener(t,n)}removeHandler(){}on(e,t,n){this.addHandler(e,t,n)}off(e,t,n){this.removeHandler(e,t,n)}shape(e,t){const n=document.createElementNS(this._svgns,e);if(n){for(let a in t)n.setAttribute(a,t[a]);return this._activeParent().appendChild(n),n}}_getTextParts(e,t,n){const a={width:0,height:0,parts:[]};if(e===void 0)return a;const i=e.toString().split("<br>"),r=this._activeParent(),o=document.createElementNS(this._svgns,"text");this.attr(o,n);for(let d=0;d<i.length;d++){const f=i[d],p=o.ownerDocument.createTextNode(f);let v;o.appendChild(p),r.appendChild(o);try{v=o.getBBox()}catch{}const w=this._rup(v.width),C=this._rup(.6*v.height);o.removeChild(p),a.width=Math.max(a.width,w),a.height+=C+(d>0?4:0),a.parts.push({width:w,height:C,text:f})}return r.removeChild(o),a}_measureText(e,t,n,a){return super.measureText(e,t,n,a)}measureText(e,t,n){return this._measureText(e,t,n,!1)}text(e,t,n,a,i,r,o,d,f,p,v){const w=this._measureText(e,r,o,!0,this).textPartsInfo,C=w.parts,x=this._getContrastColor(arguments[11]);let L;if(f||(f="center"),p||(p="center"),(C.length>1||d)&&(L=this.beginGroup()),d){const Y=this.createClipRect({x:this._rup(t)-1,y:this._rup(n)-1,width:this._rup(a)+2,height:this._rup(i)+2});this.setClip(L,Y)}let A=this._activeParent(),k=0,B=0;k=w.width,B=w.height,(isNaN(a)||a<=0)&&(a=k),(isNaN(i)||i<=0)&&(i=B);const H=a||0,V=i||0;let z=0;if(!r||r===0){let Y;n+=B,p==="center"||p==="middle"?n+=(V-B)/2:p==="bottom"&&(n+=V-B),a||(a=k),i||(i=B),A=this._activeParent();for(let X=C.length-1;X>=0;X--){Y=document.createElementNS(this._svgns,"text"),this.attr(Y,o),this.attr(Y,{cursor:"default"});const ae=Y.ownerDocument.createTextNode(C[X].text);Y.appendChild(ae);let Q=t;const ie=C[X].width,te=C[X].height;f==="center"?Q+=(H-ie)/2:f==="right"&&(Q+=H-ie),this.attr(Y,{x:this._rup(Q),y:this._rup(n+z),width:this._rup(ie),height:this._rup(te)}),x!==void 0&&(Y.style.fill=x),A.appendChild(Y),z-=C[X].height+4}return L?(this.endGroup(),L):Y}const N=this.alignTextInRect(t,n,a,i,k,B,f,p,r,v);t=N.x,n=N.y;const F=this.shape("g",{transform:"translate("+t+","+n+")"}),q=this.shape("g",{transform:"rotate("+r+")"});F.appendChild(q),z=0;for(let Y=C.length-1;Y>=0;Y--){const X=document.createElementNS(this._svgns,"text");this.attr(X,o),this.attr(X,{cursor:"default"});const ae=X.ownerDocument.createTextNode(C[Y].text);X.appendChild(ae);let Q=0;const ie=C[Y].width,te=C[Y].height;f==="center"?Q+=(w.width-ie)/2:f==="right"&&(Q+=w.width-ie),this.attr(X,{x:this._rup(Q),y:this._rup(z),width:this._rup(ie),height:this._rup(te)}),q.appendChild(X),z-=te+4}return A.appendChild(F),L&&this.endGroup(),F}line(e,t,n,a,i){const r=this.shape("line",{x1:e,y1:t,x2:n,y2:a});return this.attr(r,i),r}path(e,t){const n=this.shape("path");return n.setAttribute("d",e),t&&this.attr(n,t),n}rect(e,t,n,a,i){e=this._ptrnd(e),t=this._ptrnd(t),n=Math.max(1,this._rnd(n,1,!1)),a=Math.max(1,this._rnd(a,1,!1));const r=this.shape("rect",{x:e,y:t,width:n,height:a});return i&&this.attr(r,i),r}circle(e,t,n,a){const i=this.shape("circle",{cx:e,cy:t,r:n});return a&&this.attr(i,a),i}pieslice(e,t,n,a,i,r,o,d){const f=this.pieSlicePath(e,t,n,a,i,r,o),p=this.shape("path");return p.setAttribute("d",f),d&&this.attr(p,d),p}attr(e,t){if(e&&t)for(let n in t)n==="textContent"?e.textContent=t[n]:n==="width"||n==="height"?e.setAttribute(n,Math.max(0,t[n])):e.setAttribute(n,t[n])}removeAttr(e,t){if(e&&t)for(let n in t)n==="textContent"?e.textContent="":e.removeAttribute(t[n])}getAttr(e,t){return e.getAttribute(t)}_toLinearGradient(e,t,n){const a="grd"+this._id+e.replace("#","")+(t?"v":"h"),i="url("+this.getWindowHref()+"#"+a+")";if(this._gradients[i])return i;const r=document.createElementNS(this._svgns,"linearGradient");this.attr(r,{x1:"0%",y1:"0%",x2:t?"0%":"100%",y2:t?"100%":"0%",id:a});for(let o=0;o<n.length;o++){const d=n[o],f=document.createElementNS(this._svgns,"stop"),p="stop-color:"+this.adjustColor(e,d[1]);this.attr(f,{offset:d[0]+"%",style:p}),r.appendChild(f)}return this._defs.appendChild(r),this._gradients[i]=!0,i}_toRadialGradient(e,t,n){const a="grd"+this._id+e.replace("#","")+"r"+(n!==void 0?n.key:""),i="url("+this.getWindowHref()+"#"+a+")";if(this._gradients[i])return i;const r=document.createElementNS(this._svgns,"radialGradient");n===void 0?this.attr(r,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:a}):this.attr(r,{cx:n.x,cy:n.y,r:n.outerRadius,id:a,gradientUnits:"userSpaceOnUse"});for(let o=0;o<t.length;o++){const d=t[o],f=document.createElementNS(this._svgns,"stop"),p="stop-color:"+this.adjustColor(e,d[1]);this.attr(f,{offset:d[0]+"%",style:p}),r.appendChild(f)}return this._defs.appendChild(r),this._gradients[i]=!0,i}}),Smart.Utilities.Assign("HTML5Renderer",class extends Smart.Utilities.Renderer{constructor(e){super(e),this._renderers=new Smart.Utilities.HTML5RenderHelpers(this)}init(e){try{this.host=e;const t=document.createElement("div"),n=document.createElement("canvas");t.className="chartContainer",t.style.position="relative",t.onselectstart=function(){return!1},n.id="__smartCanvasWrap",n.style.width="100%",n.style.height="100%",t.appendChild(n),e.appendChild(t),this.canvas=n,n.width=e.offsetWidth,n.height=e.offsetHeight,this.ctx=n.getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch{return!1}return!0}getType(){return"HTML5"}getContainer(){return this.host.getElementsByClassName("chartContainer")[0]}getRect(){return{x:0,y:0,width:this.canvas.width-1,height:this.canvas.height-1}}beginGroup(){}endGroup(){}setClip(){}createClipRect(){}addHandler(){}removeHandler(){}on(e,t,n){this.addHandler(e,t,n)}off(e,t,n){this.removeHandler(e,t,n)}clear(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0}removeElement(e){e!==void 0&&this._elements[e.id]&&delete this._elements[e.id]}shape(e,t){let n={type:e,id:this._maxId++};for(let a in t)n[a]=t[a];return this._elements[n.id]=n,n}attr(e,t){for(let n in t)e[n]=t[n]}removeAttr(e,t){for(let n in t)delete e[t[n]]}rect(e,t,n,a,i){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(n))throw'Invalid value for "width"';if(isNaN(a))throw'Invalid value for "height"';let r=this.shape("rect",{x:e,y:t,width:n,height:a});return i&&this.attr(r,i),r}path(e,t){let n=this.shape("path",t);return this.attr(n,{d:e}),n}line(e,t,n,a,i){return this.path("M "+e+","+t+" L "+n+","+a,i)}circle(e,t,n,a){let i=this.shape("circle",{x:e,y:t,r:n});return a&&this.attr(i,a),i}pieslice(e,t,n,a,i,r,o,d){let f=this.path(this.pieSlicePath(e,t,n,a,i,r,o),d);return this.attr(f,{x:e,y:t,innerRadius:n,outerRadius:a,angleFrom:i,angleTo:r}),f}_getCSSStyle(e){const t=document.createElement("div");t.className=e,t.style.position="absolute",t.style.visibility="hidden",this.host.appendChild(t);let n=window.getComputedStyle(t);return n={color:n.color,fontFamily:n.fontFamily,fontSize:n.fontSize,fontWeight:n.fontWeight},this.host.removeChild(t),n}_getTextParts(e,t,n){let a="Arial",i="10pt",r="";if(n&&n.class){let f=this._getCSSStyle(n.class);f.fontSize&&(i=f.fontSize),f.fontFamily&&(a=f.fontFamily),f.fontWeight&&(r=f.fontWeight)}this.ctx.font=r+" "+i+" "+a;let o={width:0,height:0,parts:[]},d=e.toString().split("<br>");for(let f=0;f<d.length;f++){let p=d[f],v=this.ctx.measureText(p).width,w=document.createElement("span");w.className="chart",w.font=this.ctx.font,w.textContent=p,this.host.appendChild(w);let C=.6*w.offsetHeight;this.host.removeChild(w),o.width=Math.max(o.width,this._rup(v)),o.height+=C+(f>0?4:0),o.parts.push({width:v,height:C,text:p})}return o}_measureText(e,t,n,a){return super.measureText(e,t,n,a)}measureText(e,t,n){return this._measureText(e,t,n,!1)}text(e,t,n,a,i,r,o,d,f,p,v){let w=this.shape("text",{text:e,x:t,y:n,width:a,height:i,angle:r,clip:d,halign:f,valign:p,rotateAround:v});if(o&&this.attr(w,o),w.fontFamily="Arial",w.fontSize="10pt",w.fontWeight="",w.color=this._getContrastColor(arguments[11]),o&&o.class){let x=this._getCSSStyle(o.class);w.fontFamily=x.fontFamily||w.fontFamily,w.fontSize=x.fontSize||w.fontSize,w.fontWeight=x.fontWeight||w.fontWeight,w.color=w.color||x.color}w.color=w.color||"#000000";let C=this._measureText(e,0,o,!0);return this.attr(w,{textPartsInfo:C.textPartsInfo,textWidth:C.width,textHeight:C.height}),(a<=0||isNaN(a))&&this.attr(w,{width:C.width}),(i<=0||isNaN(i))&&this.attr(w,{height:C.height}),w}_toLinearGradient(e,t,n){if(this._renderers._gradients[e])return e;let a=[];for(let r=0;r<n.length;r++)a.push({percent:n[r][0]/100,color:this.adjustColor(e,n[r][1])});let i="gr"+this._gradientId++;return this.createGradient(i,t?"vertical":"horizontal",a),i}_toRadialGradient(e,t){if(this._renderers._gradients[e])return e;let n=[];for(let i=0;i<t.length;i++)n.push({percent:t[i][0]/100,color:this.adjustColor(e,t[i][1])});let a="gr"+this._gradientId++;return this.createGradient(a,"radial",n),a}createGradient(e,t,n){this._renderers.createGradient(this,e,t,n)}refresh(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(let e in this._elements){let t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}}),Smart.Utilities.Assign("HTML5RenderHelpers",class{constructor(e){this.HTML5Renderer=e,this._cmds="mlcazq"}ptrnd(e){if(Math.abs(Math.round(e)-e)===.5)return e;let t=Math.round(e);return t<e&&(t-=1),t+.5}createGradient(e,t,n,a){e._gradients[t]={orientation:n,colorStops:a}}setStroke(e,t){let n=e.ctx,a=t["stroke-width"];n.strokeStyle=t.stroke||"transparent",n.lineWidth=a===0?.01:a!==void 0?a:1,t["fill-opacity"]!==void 0?n.globalAlpha=t["fill-opacity"]:t.opacity!==void 0?n.globalAlpha=t.opacity:n.globalAlpha=1,n.setLineDash&&(t["stroke-dasharray"]?n.setLineDash(t["stroke-dasharray"].split(",")):n.setLineDash([]))}setFillStyle(e,t){let n=e.ctx;if(n.fillStyle="transparent",t["fill-opacity"]!==void 0?n.globalAlpha=t["fill-opacity"]:t.opacity!==void 0?n.globalAlpha=t.opacity:n.globalAlpha=1,t.fill&&t.fill.indexOf("#")===-1&&e._gradients[t.fill]){let a,i=e._gradients[t.fill].orientation!=="horizontal",r=e._gradients[t.fill].orientation==="radial",o=this.ptrnd(t.x),d=this.ptrnd(t.y),f=this.ptrnd(t.x+(i?0:t.width)),p=this.ptrnd(t.y+(i?t.height:0));if((t.type==="circle"||t.type==="path"||t.type==="rect")&&r){let w=this.ptrnd(t.x),C=this.ptrnd(t.y);const x=t.innerRadius||0,L=t.outerRadius||t.r||0;t.type==="rect"&&(w+=t.width/2,C+=t.height/2),a=n.createRadialGradient(w,C,x,w,C,L)}r||((isNaN(o)||isNaN(f)||isNaN(d)||isNaN(p))&&(o=0,d=0,f=i?0:n.canvas.width,p=i?n.canvas.height:0),a=n.createLinearGradient(o,d,f,p));let v=e._gradients[t.fill].colorStops;for(let w=0;w<v.length;w++)a.addColorStop(v[w].percent,v[w].color);n.fillStyle=a}else t.fill&&(n.fillStyle=t.fill)}rect(e,t){t.width!==0&&t.height!==0&&(e.fillRect(this.ptrnd(t.x),this.ptrnd(t.y),t.width,t.height),e.strokeRect(this.ptrnd(t.x),this.ptrnd(t.y),t.width,t.height))}circle(e,t){t.r!==0&&(e.beginPath(),e.arc(this.ptrnd(t.x),this.ptrnd(t.y),t.r,0,2*Math.PI,!1),e.closePath(),e.fill(),e.stroke())}_parsePoint(e){return{x:this._parseNumber(e),y:this._parseNumber(e)}}_parseNumber(e){let t,n=!1;for(t=this._pos;t<e.length;t++)if(e[t]>="0"&&e[t]<="9"||e[t]==="."||e[t]==="e"||e[t]==="-"&&!n||e[t]==="-"&&t>=1&&e[t-1]==="e")n=!0;else{if(n||e[t]!==" "&&e[t]!==",")break;this._pos++}let a=parseFloat(e.substring(this._pos,t));if(!isNaN(a))return this._pos=t,a}_isRelativeCmd(e){return this._cmds.indexOf(e)!==-1}_parseCmd(e){for(let t=this._pos;t<e.length;t++){if(this._cmds.toLowerCase().indexOf(e[t].toLowerCase())!==-1)return this._pos=t+1,this._lastCmd=e[t],this._lastCmd;if(e[t]!==" "){if(e[t]>="0"&&e[t]<="9"){if(this._pos=t,this._lastCmd==="")break;return this._lastCmd}}else this._pos++}}_toAbsolutePoint(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}}path(e,t){let n,a=t.d;for(this._pos=0,this._lastCmd="",this._currentPoint={x:0,y:0},e.beginPath();this._pos<a.length;){let i=this._parseCmd(a);if(i===void 0)break;if(i!=="M"&&i!=="m")if(i!=="L"&&i!=="l")if(i!=="A"&&i!=="a")if(i!=="Z"&&i!=="z"||n===void 0)if(i!=="C"&&i!=="c"){if(!(i!=="Q"&&i!=="q")){let r=this._parsePoint(a),o=this._parsePoint(a);e.quadraticCurveTo(r.x,r.y,o.x,o.y),this._currentPoint=o}}else{let r=this._parsePoint(a),o=this._parsePoint(a),d=this._parsePoint(a);e.bezierCurveTo(r.x,r.y,o.x,o.y,d.x,d.y),this._currentPoint=d}else e.lineTo(n.x,n.y),this._currentPoint=n;else{let r=this._parseNumber(a),o=this._parseNumber(a),d=this._parseNumber(a)*(Math.PI/180),f=this._parseNumber(a),p=this._parseNumber(a),v=this._parsePoint(a);if(this._isRelativeCmd(i)&&(v=this._toAbsolutePoint(v)),r===0||o===0)continue;let w=this._currentPoint,C={x:Math.cos(d)*(w.x-v.x)/2+Math.sin(d)*(w.y-v.y)/2,y:-Math.sin(d)*(w.x-v.x)/2+Math.cos(d)*(w.y-v.y)/2},x=Math.pow(C.x,2)/Math.pow(r,2)+Math.pow(C.y,2)/Math.pow(o,2);x>1&&(r*=Math.sqrt(x),o*=Math.sqrt(x));let L=(f===p?-1:1)*Math.sqrt((Math.pow(r,2)*Math.pow(o,2)-Math.pow(r,2)*Math.pow(C.y,2)-Math.pow(o,2)*Math.pow(C.x,2))/(Math.pow(r,2)*Math.pow(C.y,2)+Math.pow(o,2)*Math.pow(C.x,2)));isNaN(L)&&(L=0);let A={x:L*r*C.y/o,y:L*-o*C.x/r},k={x:(w.x+v.x)/2+Math.cos(d)*A.x-Math.sin(d)*A.y,y:(w.y+v.y)/2+Math.sin(d)*A.x+Math.cos(d)*A.y},B=function(Q){return Math.sqrt(Math.pow(Q[0],2)+Math.pow(Q[1],2))},H=function(Q,ie){return(Q[0]*ie[0]+Q[1]*ie[1])/(B(Q)*B(ie))},V=function(Q,ie){return(Q[0]*ie[1]<Q[1]*ie[0]?-1:1)*Math.acos(H(Q,ie))},z=V([1,0],[(C.x-A.x)/r,(C.y-A.y)/o]),N=[(C.x-A.x)/r,(C.y-A.y)/o],F=[(-C.x-A.x)/r,(-C.y-A.y)/o],q=V(N,F);H(N,F)<=-1&&(q=Math.PI),H(N,F)>=1&&(q=0),p===0&&q>0&&(q-=2*Math.PI),p===1&&q<0&&(q+=2*Math.PI);let Y=r>o?r:o,X=r>o?1:r/o,ae=r>o?o/r:1;e.translate(k.x,k.y),e.rotate(d),e.scale(X,ae),e.arc(0,0,Y,z,z+q,1-p),e.scale(1/X,1/ae),e.rotate(-d),e.translate(-k.x,-k.y)}else{let r=this._parsePoint(a);if(r===void 0)break;e.lineTo(r.x,r.y),this._currentPoint=r}else{let r=this._parsePoint(a);if(r===void 0)break;e.moveTo(r.x,r.y),this._currentPoint=r,n===void 0&&(n=r)}}e.fill(),e.stroke(),e.closePath()}text(e,t){let n=this.ptrnd(t.x),a=this.ptrnd(t.y),i=this.ptrnd(t.width),r=this.ptrnd(t.height),o=t.halign,d=t.valign,f=t.angle,p=t.rotateAround,v=t.textPartsInfo,w=v.parts,C=t.clip;C===void 0&&(C=!0),e.save(),o||(o="center"),d||(d="center"),C&&(e.rect(n,a,i,r),e.clip());let x=t.textWidth,L=t.textHeight,A=i||0,k=r||0;if(e.fillStyle=t.color,e.font=t.fontWeight+" "+t.fontSize+" "+t.fontFamily,!f||f===0){a+=L,d==="center"||d==="middle"?a+=(k-L)/2:d==="bottom"&&(a+=k-L),i||(i=x),r||(r=L);let N=0;for(let F=w.length-1;F>=0;F--){let q=w[F],Y=n,X=w[F].width;o==="center"?Y+=(A-X)/2:o==="right"&&(Y+=A-X),e.fillText(q.text,Y,a+N),N-=q.height+(F>0?4:0)}return void e.restore()}let B=this.HTML5Renderer.alignTextInRect(n,a,i,r,x,L,o,d,f,p);n=B.x,a=B.y;let H=f*Math.PI*2/360;e.translate(n,a),e.rotate(H);let V=0,z=v.width;for(let N=w.length-1;N>=0;N--){let F=0;o==="center"?F+=(z-w[N].width)/2:o==="right"&&(F+=z-w[N].width),e.fillText(w[N].text,F,V),V-=w[N].height+4}e.restore()}}),Smart.Utilities.Assign("Plot",class{constructor(e){this.renderer=e}get(e,t,n){return n!==void 0?e[t][n]:e[t]}min(e,t){let n=NaN;for(let a=0;a<e.length;a++){let i=this.get(e,a,t);(isNaN(n)||i<n)&&(n=i)}return n}max(e,t){let n=NaN;for(let a=0;a<e.length;a++){let i=this.get(e,a,t);(isNaN(n)||i>n)&&(n=i)}return n}sum(e,t){let n=0;for(let a=0;a<e.length;a++){let i=this.get(e,a,t);isNaN(i)||(n+=i)}return n}count(e,t){let n=0;for(let a=0;a<e.length;a++){let i=this.get(e,a,t);isNaN(i)||n++}return n}avg(e,t){return this.sum(e,t)/Math.max(1,this.count(e,t))}filter(e,t){if(!t)return e;let n=[];for(let a=0;a<e.length;a++)t(e[a])&&n.push(e[a]);return n}scale(e,t,n,a){if(isNaN(e))return NaN;if((e<Math.min(t.min,t.max)||e>Math.max(t.min,t.max))&&(!a||a.ignore_range!==!0))return NaN;let i=NaN,r=1;if(t.type===void 0||t.type!=="logarithmic"){let o=Math.abs(t.max-t.min);o||(o=1),r=Math.abs(e-Math.min(t.min,t.max))/o}else if(t.type==="logarithmic"){let o=t.base;isNaN(o)&&(o=10);let d=Math.min(t.min,t.max);d<=0&&(d=1);let f=Math.max(t.min,t.max);f<=0&&(f=1);let p=Math.log(f)/Math.log(o);f=Math.pow(o,p);let v=Math.log(d)/Math.log(o);d=Math.pow(o,v);let w=Math.log(e)/Math.log(o);r=Math.abs(w-v)/(p-v)}if(n.type==="logarithmic"){let o=n.base;isNaN(o)&&(o=10);let d=Math.log(n.max)/Math.log(o),f=Math.log(n.min)/Math.log(o);n.flip&&(r=1-r);let p=Math.min(f,d)+r*Math.abs(d-f);i=Math.pow(o,p)}else i=Math.min(n.min,n.max)+r*Math.abs(n.max-n.min),n.flip&&(i=Math.max(n.min,n.max)-i+n.min);return i}axis(e,t,n){if(n<=1)return[t,e];(isNaN(n)||n<2)&&(n=2);let a=0;for(;Math.round(e)!==e&&Math.round(t)!==t&&a<10;)e*=10,t*=10,a++;let i=(t-e)/n;for(;a<10&&Math.round(i)!==i;)e*=10,t*=10,i*=10,a++;let r,o=[1,2,5],d=0;for(;;){let C=d%o.length,x=Math.floor(d/o.length),L=Math.pow(10,x)*o[C];if(C=(d+1)%o.length,x=Math.floor((d+1)/o.length),r=Math.pow(10,x)*o[C],i>=L&&i<r)break;d++}let f=r,p=[],v=this.renderer._rnd(e,f,!1),w=a<=0?1:Math.pow(10,a);for(;v<t+f;)p.push(v/w),v+=f;return p}})},7650:()=>{Smart("smart-drop-down-list",class extends Smart.ContentElement{static get properties(){return{autoCloseDelay:{value:100,type:"number"},dataSource:{value:null,type:"any",reflectToAttribute:!1},displayLoadingIndicator:{value:!1,type:"boolean"},displayMember:{value:"",type:"string"},displayMode:{allowedValues:["outlined","filled","underlined"],value:"outlined",type:"string"},dropDownAppendTo:{value:null,type:"any"},dropDownButtonPosition:{allowedValues:["none","left","right","top","bottom"],value:"right",defaultReflectToAttribute:!0,type:"string"},dropDownMinHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownOpenMode:{allowedValues:["none","default","dropDownButton","auto"],value:"default",type:"string"},dropDownOverlay:{value:!1,type:"boolean"},dropDownPlaceholder:{value:"No Items",type:"string"},dropDownPosition:{allowedValues:["auto","top","bottom","overlay-top","overlay-center","overlay-bottom","center-bottom","center-top"],value:"auto",type:"string"},dropDownMinWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxWidth:{value:"",type:"any",validator:"_propertyValidator"},filterable:{value:!1,type:"boolean"},filterInputPlaceholder:{value:"",type:"string"},filterCallback:{value:null,type:"function?"},filterMode:{value:"startsWithIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase","custom"],type:"string"},grouped:{value:!1,type:"boolean"},groupMember:{value:"",type:"string"},hint:{value:"",type:"string"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},incrementalSearchDelay:{value:700,type:"number?"},incrementalSearchMode:{value:"startsWithIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string"},itemMeasureMode:{value:"auto",allowedValues:["auto","precise"],type:"string"},inputMember:{value:"label",type:"string"},itemTemplate:{value:null,type:"any"},itemHeight:{value:null,type:"number?"},label:{value:"",type:"string"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},messages:{extend:!0,value:{en:{invalidNode:'{{elementType}}: Invalid parameter "{{node}}" when calling {{method}}.'}},type:"object"},name:{value:"",type:"string"},opened:{value:!1,type:"boolean"},placeholder:{value:"",type:"string"},resizeMode:{value:"none",allowedValues:["none","horizontal","vertical","both"],type:"string"},resizeIndicator:{value:!1,type:"boolean"},selectionDisplayMode:{value:"plain",allowedValues:["plain","placeholder","tokens"],type:"string"},selectionMode:{value:"zeroAndOne",allowedValues:["none","oneOrManyExtended","zeroOrMany","oneOrMany","zeroOrOne","zeroAndOne","one","checkBox","radioButton"],type:"string"},selectedIndexes:{value:[],type:"array"},selectedValues:{value:[],type:"array"},sorted:{value:!1,type:"boolean"},sortDirection:{value:"asc",type:"string"},tokenTemplate:{value:null,type:"any"},type:{value:"list",type:"string",defaultReflectToAttribute:!0,readonly:!0},valueMember:{value:"",type:"string"},virtualized:{value:!1,type:"boolean"},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}static get listeners(){return{"actionButton.down":"_buttonsDownHandler","actionButton.mouseenter":"_buttonsMouseEventsHandler","actionButton.mouseleave":"_buttonsMouseEventsHandler","actionButton.focus":"_buttonsFocusHandler","actionButton.blur":"_buttonsFocusHandler","document.selectstart":"_selectStartHandler","document.dragstart":"_dragStartHandler","document.down":"_documentDownHandler","document.up":"_documentUpHandler","document.move":"_documentMoveHandler","dropDownButton.down":"_buttonsDownHandler","dropDownButton.mouseenter":"_buttonsMouseEventsHandler","dropDownButton.mouseleave":"_buttonsMouseEventsHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",focus:"_focusEventHandler",blur:"_blurEventHandler","dropDownButton.focus":"_buttonsFocusHandler","dropDownButton.blur":"_buttonsFocusHandler","dropDownContainer.transitionend":"_dropDownTransitionendHandler","listBox.change":"_listBoxChangeHandler","listBox.itemClick":"_listBoxItemClickHandler","listBox.keydown":"_listBoxKeyDownHandler","listBox.bindingComplete":"_bindingCompleteHandler","listBox.scrollBottomReached":"_scrollBottomReachedHandler","listBox.scrollTopReached":"_scrollTopReachedHandler",mouseenter:"_mouseEnterHandler",mouseleave:"_mouseLeaveHandler",resize:"_resizeHandler","resizeBar.move":"_resizeBarMoveHandler",styleChanged:"_styleChangedHandler",wheel:"_mouseWheelHandler"}}template(){return`<div id="container" role="presentation">
                    <span class="smart-label" id="label">[[label]]</span>
                    <div id="content" class="smart-content" role="presentation">
                        <div class="smart-buttons-container" id="buttonsContainer" role="presentation">
                            <span id="actionButton" class ="smart-action-button" role="presentation">[[placeholder]]</span>
                            <span id="dropDownButton" class="smart-drop-down-button">
                                <span class ="smart-drop-down-button-icon" id="arrow" aria-hidden="true"></span>
                            </span>
                        </div>
                        <div id="dropDownContainer" class="smart-drop-down smart-drop-down-container smart-visibility-hidden" role="presentation">
                            <smart-list-box id="listBox" unfocusable
                                    animation="[[animation]]"
                                    data-source="[[dataSource]]"
                                    disabled="[[disabled]]"
                                    display-loading-indicator="[[displayLoadingIndicator]]"
                                    display-member="[[displayMember]]"
                                    filterable="[[filterable]]"
                                    filter-callback="[[filterCallback]]"
                                    filter-mode="[[filterMode]]"
                                    filter-input-placeholder="[[filterInputPlaceholder]]"
                                    grouped="[[grouped]]"
                                    group-member="[[groupMember]]"
                                    item-height="[[itemHeight]]"
                                    item-measure-mode="[[itemMeasureMode]]"
                                    item-template="[[itemTemplate]]"
                                    incremental-search-delay="[[incrementalSearchDelay]]"
                                    incremental-search-mode="[[incrementalSearchMode]]"
                                    loading-indicator-placeholder="[[loadingIndicatorPlaceholder]]"
                                    loading-indicator-position="[[loadingIndicatorPosition]]"
                                    name="[[name]]"
                                    placeholder="[[dropDownPlaceholder]]"
                                    right-to-left="[[rightToLeft]]"
                                    readonly="[[readonly]]"
                                    selected-indexes="{{selectedIndexes}}"
                                    selection-mode="[[selectionMode]]"
                                    selected-values="{{selectedValues}}"
                                    sorted="[[sorted]]"
                                    sort-direction="[[sortDirection]]"
                                    theme="[[theme]]"
                                    value-member="[[valueMember]]"
                                    horizontal-scroll-bar-visibility="[[horizontalScrollBarVisibility]]"
                                    vertical-scroll-bar-visibility="[[verticalScrollBarVisibility]]"
                                    virtualized="[[virtualized]]">
                                <content></content>
                            </smart-list-box>
                            <div id="resizeBar" class="smart-drop-down-resize-bar" aria-label="Resize">
                                <div></div>
                            </div>
                         </div>
                    </div>
                    <span class="smart-hint smart-hidden" id="hint">[[hint]]</span>
                    <input id="hiddenInput" type="hidden" name="[[name]]">
                </div>`}static get styleUrls(){return["smart.dropdownlist.css","smart.dropdown.css"]}dataBind(){this.$.listBox.dataBind()}propertyChangedHandler(e,t,n){super.propertyChangedHandler(e,t,n);const a=this;switch(e){case"animation":a.$.dropDownContainer.setAttribute("animation",a.animation);break;case"disabled":a._setFocusable(),a.close(),a._positionDetection.handleAutoPositioning();break;case"dataSource":case"displayMember":case"inputMember":a.$.actionButton&&(a.$.actionButton.innerHTML=a.placeholder),a._setDropDownSize(),a._positionDetection.checkBrowserBounds("vertically"),a._positionDetection.positionDropDown(),a._positionDetection.checkBrowserBounds("horizontally");break;case"dropDownAppendTo":a._positionDetection.dropDownAppendToChangedHandler();break;case"dropDownOpenMode":a._setFocusable(),a.$dropDownContainer.addClass("smart-visibility-hidden"),a.$.dropDownContainer.setAttribute("drop-down-open-mode",n),a.$.dropDownButton.removeAttribute("selected"),a.removeAttribute("drop-down-button-focus"),a.removeAttribute("action-button-focus"),a.opened=!1,a._ariaButton&&a._ariaButton.setAttribute("aria-expanded",!1),a._setAriaRelations();break;case"dropDownOverlay":n||a._positionDetection.removeOverlay();break;case"dropDownPosition":a._positionDetection.dropDownPositionChangedHandler();break;case"dropDownMinWidth":case"dropDownWidth":case"dropDownMaxWidth":case"dropDownHeight":case"dropDownMinHeight":case"dropDownMaxHeight":a._setDropDownSize();break;case"filterable":a.$.listBox.filterable=n,a._dropDownSize&&a._dropDownSize.height==="auto"&&a._setDropDownSize();break;case"label":if(!a._ariaButton)return;n?a._ariaButton.setAttribute("aria-labelledby",a.$.label.id):a.elementName==="DropDownList"&&a._ariaButton.setAttribute("aria-labelledby",a.$.actionButton.id);break;case"opened":if(a.disabled||a.readonly)return;n?a.open():a.close();break;case"placeholder":a._applySelection();break;case"readonly":a.close();break;case"resizeIndicator":n?a.$.dropDownContainer.setAttribute("resize-indicator",""):a.$.dropDownContainer.removeAttribute("resize-indicator");break;case"resizeMode":a.$.dropDownContainer.setAttribute("resize-mode",a.resizeMode);break;case"selectedValues":case"selectedIndexes":n.length===0?a.$.actionButton.innerHTML=a.placeholder:a._applySelection(),a.$.hiddenInput.value=a.selectedValues.toString();break;case"selectionMode":a.$.listBox&&(a.$.listBox[e]=n,n!=="checkBox"&&n!=="radioButton"&&t!=="checkBox"&&t!=="radioButton"||a._setDropDownSize());break;case"selectionDisplayMode":a._applySelection();break;case"tokenTemplate":a._tokenTemplate=a._validateTemplate(a.tokenTemplate),a._applySelection();break;case"unfocusable":a._setFocusable()}}_updateTargetValue(){const e=this;if(e.dataset.target){const t=document.querySelector(e.dataset.target);if(t){const n=e.dataset.property,a=e.value;n&&t[n]!==void 0&&(t[n]=a)}}}appendChild(e){const t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e?(t.$.listBox.appendChild(e),t._dropDownSize&&t._dropDownSize.height==="auto"&&t._setDropDownSize()):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}attached(){const e=this;super.attached(),e.isCompleted&&e.$.dropDownContainer&&(e._positionDetection.dropDownAttached("_setDropDownSize"),e._positionDetection.checkBrowserBounds(),e.selectedIndexes&&e._applySelection())}detached(){const e=this;super.detached(),e.$.dropDownContainer&&(e.close(),e._positionDetection&&e._positionDetection.dropDownDetached())}clearItems(){const e=this;e.$.listBox&&(e.$.listBox.clearItems(),e.$.actionButton.innerHTML=e.placeholder)}clearSelection(){const e=this;e.$.listBox&&(e.$.listBox.clearSelection(),e.$.actionButton.innerHTML=e.placeholder)}close(){const e=this;e.$dropDownContainer.hasClass("smart-visibility-hidden")||e.$.fireEvent("closing").defaultPrevented||(e.$dropDownContainer.addClass("smart-visibility-hidden"),e.$.fireEvent("close"),e.$.dropDownButton&&e.$.dropDownButton.removeAttribute("selected"),e.opened=!1,e._ariaButton&&e._ariaButton.setAttribute("aria-expanded",!1),e._preventDropDownClose=!1,e._positionDetection.removeOverlay(!0),e.$.listBox.removeAttribute("focus"),e._edgeMacFF&&!e.hasAnimation&&e.$.dropDownContainer&&(e.$.dropDownContainer.style.top=e.$.dropDownContainer.style.left="",e.$dropDownContainer.addClass("not-in-view")))}cloneNode(){const e=this;if(!e.$.listBox)return;let t=HTMLElement.prototype.cloneNode.apply(e,Array.prototype.slice.call(arguments,0,1));return t.dataSource=e.dataSource,t}ensureVisible(e){this.$.listBox&&this.$.listBox.ensureVisible(e)}getItem(e){if(this.$.listBox)return this.$.listBox.getItem(e)}get items(){const e=this;return e.$&&e.$.listBox?e.$.listBox.items:[]}get _focusedItem(){const e=this;return e.$&&e.$.listBox?e.$.listBox._focusedItem:null}add(e){const t=this;t.$.listBox&&e&&(e&&Array.isArray(e)&&e.length===0||(t.$.listBox.add(e),t._applySelection(),t._dropDownSize&&t._dropDownSize.height==="auto"&&t._setDropDownSize()))}insert(e,t){const n=this;n.$.listBox&&(n.$.listBox.insert(e,t),n._applySelection(),n._dropDownSize&&n._dropDownSize.height==="auto"&&n._setDropDownSize())}insertBefore(e,t){const n=this;if(!n.isCompleted){const a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(n,a.concat(Array.prototype.slice.call(arguments)))}e&&t?n.$.listBox&&(n.$.listBox.insertBefore(e,t),n._dropDownSize&&n._dropDownSize.height==="auto"&&n._setDropDownSize()):n.error(n.localize("invalidNode",{elementType:n.nodeName.toLowerCase(),method:"insertBefore",node:"newNode/referenceNode"}))}toggle(){const e=this;e.opened?e.close():e.open()}open(){const e=this,t=function(){for(let n=0;n<e.items.length;n++)if(!e.items[n].disabled)return e.items[n]};if(!e.disabled&&e.offsetHeight&&e.$dropDownContainer.hasClass("smart-visibility-hidden")){if(e.$dropDownContainer.hasClass("not-in-view")&&e.$dropDownContainer.removeClass("not-in-view"),e.$.dropDownContainer.style.transition=null,e.dropDownAppendTo){const n=e.getBoundingClientRect();if(e.$.container.contains(e.$.dropDownContainer)){let a=0;const i=setInterval(function(){const r=e.getBoundingClientRect();a++,r.top===e._positionTop&&a<10||(e.open(),clearInterval(i),e._positionTop=r.top)},100);return}n.top!==e._positionTop&&(e._positionTop=n.top)}e.$.fireEvent("opening").defaultPrevented||(e._shadowDOMStylesDelay&&(e._setDropDownSize(),delete e._shadowDOMStylesDelay),e.opened=!0,e._ariaButton&&e._ariaButton.setAttribute("aria-expanded",!0),e.$.listBox.setAttribute("focus",""),e._positionDetection.placeOverlay(),e._positionDetection.checkBrowserBounds("vertically"),e._positionDetection.positionDropDown(),e._positionDetection.checkBrowserBounds("horizontally"),e.$dropDownContainer.removeClass("smart-visibility-hidden"),e.$.fireEvent("open"),e.$.dropDownButton&&(e.dropDownOpenMode==="dropDownButton"?e.$.dropDownButton.setAttribute("selected",""):e.$.dropDownButton.removeAttribute("selected")),(e.$.listBox&&!e._focusedItem||e._focusedItem&&!e._focusedItem._focused)&&(e.selectedIndexes.length>0?e._focus(e.items[e.selectedIndexes[0]]):e._focus(t)),e.$.input&&!Smart.Utilities.Core.isMobile&&e.$.input.focus())}}ready(){super.ready()}render(){const e=this;e.rightToLeft&&(e.dropDownButtonPosition=e.dropDownButtonPosition==="right"?"left":"right"),e.classList.add("smart-drop-down-box"),e.$.dropDownContainer&&(e._positionDetection=new Smart.Utilities.PositionDetection(e,e.$.dropDownContainer,e.$.container,"close"),e._positionDetection.getDropDownParent(!0),e._positionDetection.setDropDownPosition(),e._calculateDropDownSize(),e.$.dropDownContainer.setAttribute("resize-mode",e.resizeMode),e.$.dropDownContainer.setAttribute("drop-down-open-mode",e.dropDownOpenMode),e.resizeIndicator&&e.$.dropDownContainer.setAttribute("resize-indicator",""),e._positionDetection.handleAutoPositioning()),e.opened&&e.open(),e._positionTop=e.getBoundingClientRect().top,e._edgeMacFF=Smart.Utilities.Core.Browser.Edge||Smart.Utilities.Core.Browser.Firefox&&navigator.platform.toLowerCase().indexOf("mac")!==-1,e._edgeMacFF&&e.hasAnimation&&e.$.dropDownContainer&&e.$dropDownContainer.addClass("not-in-view"),e.$.label&&!e.$.label.id&&(e.$.label.id=e.id+"Label"),e.$.actionButton&&!e.$.actionButton.id&&(e.$.actionButton.id=e.id+"ActionButton"),e.$.hint&&!e.$.hint.id&&(e.$.hint.id=e.id+"Hint"),e._createElement(),super.render()}removeAt(e){const t=this;t.$.listBox&&(t.$.listBox.removeAt(e),t._applySelection(),t._dropDownSize&&t._dropDownSize.height==="auto"&&t._setDropDownSize())}removeChild(e){const t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e&&e instanceof Smart.ListItem?(t.$.listBox.removeChild(e),t._dropDownSize&&t._dropDownSize.height==="auto"&&t._setDropDownSize()):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}get value(){const e=this;return e.isRendered&&e.$.listBox?e.$.listBox.value:null}set value(e){const t=this;return t.isRendered&&t.$.listBox?void(t.$.listBox.value=e):null}select(e){this.$.listBox&&this.$.listBox.select(e)}_setFocusable(){const e=this;if(e.disabled||e.unfocusable)return e.removeAttribute("tabindex"),e.$.actionButton.removeAttribute("tabindex"),void e.$.dropDownButton.removeAttribute("tabindex");let t=e.tabIndex>0?e.tabIndex:0;e.tabIndex=t,e.dropDownOpenMode==="dropDownButton"?(e.removeAttribute("tabindex"),e.$.actionButton.setAttribute("tabindex",t),e.$.dropDownButton.setAttribute("tabindex",t)):(e.$.actionButton.removeAttribute("tabindex"),e.$.dropDownButton.removeAttribute("tabindex"))}static get requires(){return{"Smart.ListBox":"smart.listbox.js"}}unselect(e){this.$.listBox&&this.$.listBox.unselect(e)}update(e,t){const n=this;n.$.listBox&&(n.$.listBox.update(e,t),n._applySelection())}_resizeBarMoveHandler(e){e.originalEvent.type==="touchmove"&&e.originalEvent.preventDefault()}_createToken(){const e=this;let t,n=!1;const a=document.createDocumentFragment(),i=e.selectedIndexes[e.selectedIndexes.length-1];e.selectionDisplayMode!=="plain"||e.selectionMode!=="one"&&e.selectionMode!=="zeroAndOne"&&e.selectionMode!=="zeroOrOne"&&e.selectionMode!=="radioButton"?e.selectionDisplayMode==="tokens"?e.selectedIndexes.length===1&&["oneOrManyExtended","oneOrMany","zeroAndOne","one","radioButton"].indexOf(e.selectionMode)>-1?t="":(t="&#10006",n=!0):t=e.selectedIndexes.length===1?"":",":t="";const r=e.selectedIndexes,o=e.$.listBox._items;for(let d=0;d<r.length;d++){const f=r[d];o[f]&&a.appendChild(e._applyTokenTemplate(o[f][e.inputMember],e.selectionDisplayMode!=="tokens"&&f===i?"":t,n))}return a}_applySelection(){const e=this;if(e.selectionDisplayMode!=="placeholder"&&e.selectedIndexes.length!==0){if(e.$.listBox._items&&e.$.listBox._items.length!==0){if(e.selectionDisplayMode==="plain"){const t=e.$.listBox.selectedIndexes,n=e.$.listBox._items;let a=[];for(let i=0;i<t.length;i++){const r=t[i];n[r]&&a.push(n[r][e.inputMember])}return e.$.actionButton.innerHTML=a.length?`<span class="smart-token">${a.join(", ").trim()}</span>`:"",void(e.$.hiddenInput.value=e.selectedValues.toString())}e.$.actionButton.innerHTML="",e.$.actionButton.appendChild(e._createToken()),e.$.hiddenInput.value=e.selectedValues.toString()}}else e.$.actionButton.innerHTML=e.placeholder}_applyTokenTemplate(e,t,n){const a=this,i=document.createElement("span"),r=function(){return`<span class='smart-drop-down-list-selection-label' role="presentation">`+e+`</span><span class='smart-drop-down-list-unselect-button' role="button"${n?' aria-label="Unselect"':""}>${t}</span>`};if(i.classList.add("smart-token"),a._tokenTemplate){let o=document.importNode(a._tokenTemplate.content,!0);const d=o.childNodes.length,f=/{{\w+}}/g;let p;for(let v=0;v<d;v++)p=f.exec(o.childNodes[v].innerHTML),p&&(o.childNodes[v].innerHTML=o.childNodes[v].innerHTML.replace(p[0],r())),o.childNodes[v].outerHTML&&(i.innerHTML+=o.childNodes[v].outerHTML)}else typeof a.tokenTemplate=="function"?a.tokenTemplate(i,{label:e,iconSeparator:t}):i.innerHTML=r();return i}_bindingCompleteHandler(){const e=this;e.$.listBox&&requestAnimationFrame(()=>{e._setDropDownSize(),e._positionDetection.checkBrowserBounds()})}_buttonsDownHandler(e){const t=this;if(!t.disabled){if(t.hasRippleAnimation)if(t.$.buttonsContainer&&t.dropDownOpenMode!=="dropDownButton"){const n=t.$.buttonsContainer;n.firstElementChild.noRipple=!0,Smart.Utilities.Animation.Ripple.animate(n,e.pageX,e.pageY),n.firstElementChild.noRipple=!1}else Smart.Utilities.Animation.Ripple.animate(e.target,e.pageX,e.pageY);t._preventsSelectStart=!0,t.tagName.toLowerCase().indexOf("smart-drop-down-")>-1&&t.dropDownOpenMode==="dropDownButton"&&e.target===t.$.actionButton&&t.$.actionButton.setAttribute("active",""),t.opened&&(t._preventDropDownClose=!0)}}_buttonsMouseEventsHandler(e){const t=this;t.disabled||(e.type==="mouseenter"?(t.setAttribute("hover",""),e.target.setAttribute("hover",""),t.dropDownOpenMode==="dropDownButton"&&e.target===t.$.dropDownButton&&t.setAttribute("drop-down-button-hover","")):(t.removeAttribute("hover"),t.removeAttribute("drop-down-button-hover"),e.target.removeAttribute("hover")))}_calculateDropDownSize(){const e=this;e._dropDownSize={};const t=window.getComputedStyle(e.$.dropDownContainer),n=parseFloat(t.getPropertyValue("border-top-width").trim()),a=parseFloat(t.getPropertyValue("border-bottom-width").trim()),i=parseFloat(t.getPropertyValue("margin-top").trim()),r=parseFloat(t.getPropertyValue("margin-bottom").trim()),o=parseFloat(t.getPropertyValue("padding-top").trim()),d=parseFloat(t.getPropertyValue("padding-bottom").trim());Smart.Utilities.Core.CSSVariablesSupport()&&(e._dropDownSize.width=t.getPropertyValue("--smart-drop-down-list-drop-down-width").trim(),e._dropDownSize.height=t.getPropertyValue("--smart-drop-down-list-drop-down-height").trim()),(!e._dropDownSize.width||e._dropDownSize.width.indexOf("initial")>-1)&&(e._dropDownSize.width=e.offsetWidth),e._dropDownSize.height||(e._dropDownSize.height="auto"),e._dropDownSize.minHeight=parseFloat(t.getPropertyValue("min-height").trim()),e._dropDownSize.maxHeight=parseFloat(t.getPropertyValue("max-height").trim()),e._dropDownSize.borderWidth=(isNaN(n)?0:n)+(isNaN(a)?0:a),e._dropDownSize.paddingWidth=(isNaN(o)?0:o)+(isNaN(d)?0:d),e._dropDownSize.marginWidth=(isNaN(i)?0:i)+(isNaN(r)?0:r)}_createElement(){const e=this;e._tokenTemplate=e._validateTemplate(e.tokenTemplate),e._applySelection(),e._setDropDownSize(),e._setFocusable(),e.dropDownAppendTo&&e.name&&(e.$.listBox.name=""),e.$.arrow.noRipple=!0,e._shadowDOMStylesDelay=e.shadowRoot,e._setAriaRelations(!0)}_documentDownHandler(e){const t=this;if(t.disabled||t.readonly)return;let n=e.originalEvent.target;if(n===t._overlay&&(t._overlayDown=!0),t.shadowRoot){n=e.originalEvent.composedPath()[0];let i=n.getRootNode().host;for(;i;)i.closest(".smart-drop-down-container")===t.$.dropDownContainer&&(t._isDropDownClicked=!0),i=i.getRootNode().host}else t.isInShadowDOM&&(n=e.originalEvent.composedPath()[0]),t._isDropDownClicked=n.closest(".smart-drop-down-container")===t.$.dropDownContainer;if(t._buttonClicked=n.closest(".smart-action-button")||n.closest(".smart-drop-down-button"),t.$.listBox){let i=n.closest("smart-list-item");t.$.listBox.contains(i)||(i=void 0),t.hasRippleAnimation&&i&&Smart.Utilities.Animation.Ripple.animate(i,e.pageX,e.pageY),(i||n===t.$.listBox.$.filterInput||n.closest(".smart-token"))&&(t._preventDropDownClose=!0)}if(t._isDropDownClicked&&(t._preventDropDownClose=!0),n!==t.$.resizeBar||t.resizeMode==="none")return;t._resizeDetails||(t._resizeDetails={});const a=t.$.dropDownContainer.getBoundingClientRect();t._resizeDetails.started=!0,t._resizeDetails.x=e.pageX,t._resizeDetails.y=e.pageY,t._resizeDetails.width=t.$.dropDownContainer.offsetWidth,t._resizeDetails.height=t.$.dropDownContainer.offsetHeight,t._resizeDetails.offsetXL=e.clientX-a.left,t._resizeDetails.offsetXR=a.left+t.$.dropDownContainer.offsetWidth-e.clientX,t._resizeDetails.offsetY=a.top+t.$.dropDownContainer.offsetHeight-e.clientY,t._resizeDetails.offsetYtop=e.clientY-a.top,t._preventDropDownClose=!0}_documentMoveHandler(e){const t=this,n=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(t.dropDownOpenMode==="auto"&&t.dropDownAppendTo!==null&&(t.contains(n)||t.$.dropDownContainer.contains(n)?t._isElementHovered=!0:(t._isElementHovered=!1,t._autoClose())),!t._resizeDetails||t._resizeDetails&&!t._resizeDetails.started)return;t.setAttribute("resizing",""),t._resizeDetails.resizeEventFired||(t.$.fireEvent("resizeStart",{position:{left:e.pageX,top:e.pageY}}),t._resizeDetails.resizeEventFired=!0);const a=document.documentElement,i=t.$.dropDownContainer.getBoundingClientRect(),r=t.getBoundingClientRect(),o=t.$.dropDownContainer.hasAttribute("top")?"top":"bottom";let d;function f(){if(d=e.pageY-t._resizeDetails.y,o==="bottom")t._resizeDetails.height=Math.min(a.clientHeight-i.top-6,Math.max(0,t._resizeDetails.height+d)),t._resizeDetails.y=Math.max(i.top+a.scrollTop-t._resizeDetails.offsetY,Math.min(a.clientHeight+a.scrollTop-1.5*t._resizeDetails.offsetY,e.pageY));else{if(t._resizeDetails.height=Math.min(t._dropDownSize.maxHeight,Math.max(0,Math.min(r.top,t._resizeDetails.height-d))),d=Math.max(0,i.top+(i.height-Math.max(t._dropDownSize.minHeight,t._resizeDetails.height))),t.dropDownAppendTo){const w=Math.abs(parseFloat(getComputedStyle(t.$.dropDownContainer).getPropertyValue("margin-bottom")))||0;t.$.dropDownContainer.style.top=t.dropDownAppendTo?w+d+"px":""}const v=r.top+a.scrollTop+t._resizeDetails.offsetYtop;t._resizeDetails.y=Math.max(t._resizeDetails.offsetYtop,Math.min(v,Math.max(v-t._dropDownSize.maxHeight,e.pageY)))}t.$.dropDownContainer.style.height=t._resizeDetails.height+"px"}function p(){d=e.pageX-t._resizeDetails.x,t._resizeDetails.width=Math.min(a.clientWidth-i.left-6,Math.max(0,t._resizeDetails.width+d)),t.$.dropDownContainer.style.width=t._resizeDetails.width+"px",t._resizeDetails.x=Math.max(i.left+a.scrollLeft-t._resizeDetails.offsetXR,Math.min(a.clientWidth+a.scrollLeft-1.5*t._resizeDetails.offsetXR,e.pageX))}switch(t.resizeMode){case"vertical":f();break;case"horizontal":p();break;case"both":p(),f()}}_documentUpHandler(e){const t=this;if(t.$.actionButton.removeAttribute("active"),t._resizeDetails&&t._resizeDetails.started)return t._resizeDetails.started=t._resizeDetails.resizeEventFired=!1,t.removeAttribute("resizing"),t._preventDropDownClose=!1,t.focus(),void t.$.fireEvent("resizeEnd",{position:{left:e.pageX,top:e.pageY}});if(t.disabled||t._isDropDownClicked||t.readonly)return void delete t._isDropDownClicked;if(t._overlayDown)return t.close(),void delete t._overlayDown;let n=e.originalEvent.target,a=n.closest?n.closest("smart-drop-down-list"):void 0;if((t.enableShadowDOM||t.isInShadowDOM)&&(n=e.originalEvent.composedPath()[0],a=n.getRootNode().host),t._preventsSelectStart=!1,n===void 0||n===t.$.resizeBar)return;if(t.selectionDisplayMode==="tokens"&&n.classList.contains("smart-drop-down-list-selection-label")&&a===t){t.dropDownOpenMode!=="none"&&t.open();let o=t.$.listBox._items.filter(d=>d[t.inputMember].toString()===n.textContent)[0];return t.$.listBox._scrollView.scrollTop=o.offsetTop,void t._focus(o)}if(t.selectionDisplayMode==="tokens"&&n.classList.contains("smart-drop-down-list-unselect-button")&&a===t)return t.selectedIndexes.length===1&&["zeroOrMany","zeroOrOne","checkBox"].indexOf(t.selectionMode)<0?void 0:void t.unselect(t.$.listBox._items.filter(o=>o[t.inputMember].toString()===n.previousElementSibling.textContent)[0]);const i=!(!n||!n.closest)&&n.closest(".smart-action-button");let r;if(t._buttonClicked&&(t.dropDownOpenMode==="dropDownButton"&&i&&t._buttonClicked===t.$.actionButton?t.$.fireEvent("actionButtonClick"):n.closest(".smart-drop-down-button")!==t._buttonClicked&&i!==t._buttonClicked||(r=!0,t.$.fireEvent("dropDownButtonClick"))),t._buttonClicked=void 0,i===t.$.actionButton||n&&n.closest&&n.closest(".smart-drop-down-button")===t.$.dropDownButton)return t.dropDownOpenMode==="dropDownButton"&&i===t.$.actionButton?void t.close():void(t.$dropDownContainer.hasClass("smart-visibility-hidden")&&t.dropDownOpenMode!=="none"&&r&&e.originalEvent.type!=="pointercancel"?t.open():t.close());n=t._getUpEventTarget(n),n!==void 0&&(n!=="dropDownContainer"&&n!=="item"||n==="item"&&t.selectionMode!=="checkBox"&&t.selectionMode.indexOf("Many")<0)&&t.close()}_dragStartHandler(e){this._resizeDetails&&this._resizeDetails.started&&e.preventDefault()}_dropDownTransitionendHandler(){const e=this;e._edgeMacFF&&!e.opened&&e.hasAnimation&&(e.$.dropDownContainer.style.top=e.$.dropDownContainer.style.left="",e.$dropDownContainer.addClass("not-in-view"))}_focus(e){this.$.listBox._focus(e)}_blurEventHandler(){const e=this;e.$.dropDownButton&&(e.removeAttribute("focus"),e.$.dropDownButton.removeAttribute("focus")),e.$.actionButton&&(e.removeAttribute("focus"),e.$.actionButton.removeAttribute("focus")),e.nodeName&&e.nodeName.toLowerCase()==="smart-drop-down-list"&&!e._preventDropDownClose&&e.close()}_focusEventHandler(){const e=this;e.$.dropDownButton&&(e.setAttribute("focus",""),e.$.dropDownButton.setAttribute("focus","")),e.$.actionButton&&(e.setAttribute("focus",""),e.$.actionButton.setAttribute("focus","")),e.removeAttribute("drop-down-button-focus"),e.removeAttribute("action-button-focus")}_buttonsFocusHandler(e){const t=this;e.target===t.$.dropDownButton?e.type==="focus"?t.setAttribute("drop-down-button-focus",""):(t.removeAttribute("drop-down-button-focus"),t.nodeName&&t.nodeName.toLowerCase()==="smart-drop-down-list"&&!t._preventDropDownClose&&t.close()):e.type==="focus"?t.setAttribute("action-button-focus",""):t.removeAttribute("action-button-focus")}_getUpEventTarget(e){const t=this;let n=e;for(n=n.parentElement===void 0?n.getRootNode().host:n.parentElement;n;){if(n===t.$.dropDownContainer){n="dropDownContainer";break}n=n.parentElement===void 0?n.getRootNode().host:n.parentElement}return n}_keyDownHandler(e){const t=this,n=t.enableShadowDOM&&t.shadowRoot.activeElement||document.activeElement,a=t.enableShadowDOM?e.composedPath()[0]:e.target;if(!(t.$.listBox&&a===t.$.listBox.$.filterInput||n!==t&&n!==t.$.dropDownButton&&n!==t.$.actionButton)||e.key==="Tab")switch(e.key){case"Tab":if(t.filterable&&t.opened){const i=function(){for(let r=0;r<t.items.length;r++)if(!t.items[r].disabled)return t.items[r]};t.$.listBox.$.filterInput&&!Smart.Utilities.Core.isMobile&&document.activeElement!==t.$.listBox.$.filterInput?(t.$.listBox.$.filterInput.focus(),t._preventDropDownClose=!0):t.$.listBox&&(t.focus(),t.selectedIndexes.length>0?t._focus(t.items[t.selectedIndexes[0]]):t._focus(i),t._preventDropDownClose=!0),e.preventDefault()}break;case"Enter":case" ":e.preventDefault(),a!==t.$.actionButton&&(t._keyPressed=!0,t.opened?(t._focusedItem&&t.select(t._focusedItem),(e.key==="Enter"&&["none"].indexOf(t.selectionMode)<0||e.key===" "&&["none","zeroAndOne","one","radioButton"].indexOf(t.selectionMode)>-1)&&t.close()):t.opened||t.readonly||t.dropDownOpenMode==="none"||t.open()),t.dropDownOpenMode==="dropDownButton"&&a.setAttribute("active","");break;case"End":case"Home":case"PageUp":case"PageDown":case"ArrowUp":case"ArrowDown":if(t.readonly)return;if(e.altKey)return t._keyPressed=!1,void(t.$dropDownContainer.hasClass("smart-visibility-hidden")?t.open():t.close());e.preventDefault(),t.$.listBox._handleKeyStrokes(e.key);break;case"Escape":e.preventDefault(),t.close();break;default:if(t.readonly)return;t.selectionMode==="oneOrManyExtended"&&(t.$.listBox._keysPressed[e.key]=!0),t.$.listBox._applyIncrementalSearch(e.key)}}_keyUpHandler(e){const t=this,n=t.enableShadowDOM?e.composedPath()[0]:e.target;t.$.listBox&&n===t.$.listBox.$.filterInput||(e.key!=="Enter"&&e.key!==" "||(n.removeAttribute("active"),t.$dropDownContainer.hasClass("smart-visibility-hidden")||(t._keyPressed=!1)),t.$.listBox&&t.selectionMode==="oneOrManyExtended"&&(t.$.listBox._keysPressed[e.key]=!1))}_listBoxChangeHandler(e){const t=this;if(e.target===t.$.listBox){if(t.autoComplete==="list"&&e.detail){const n=t.$.listBox._items[e.detail.index];t._lastSelectedItem=n&&n.selected?n:void 0}t._applySelection(t.selectionMode,e.detail),t._updateTargetValue(),(t.dropDownAppendTo||t.enableShadowDOM)&&t.$.fireEvent("change",e.detail)}else e.stopPropagation()}_listBoxItemClickHandler(e){const t=this;(t.dropDownAppendTo||t.enableShadowDOM)&&t.$.fireEvent(e.type,e.detail),t.selectionMode!=="checkBox"&&t.selectionMode.indexOf("Many")<0&&t.close(),Smart.Utilities.Core.isMobile||t.focus(),delete t._isDropDownClicked}_listBoxKeyDownHandler(e){const t=this;if(e.key==="Enter")return t.close(),t.dropDownOpenMode==="dropDownButton"?t.$.dropDownButton.focus():t.focus(),void e.stopPropagation();e.key!=="Escape"||t.close()}_scrollBottomReachedHandler(e){const t=this,n="onScrollBottomReached";t[n]?t[n](e):t[n.toLowerCase()]?t[n.toLowerCase()](e):t.dropDownAppendTo&&t.$.fireEvent(n)}_scrollTopReachedHandler(e){const t=this,n="onScrollTopReached";t[n]?t[n](e):t[n.toLowerCase()]?t[n.toLowerCase()](e):t.dropDownAppendTo&&t.$.fireEvent(n)}_mouseEnterHandler(){const e=this;e._isElementHovered=!0,e.tagName.toLowerCase().indexOf("smart-drop-down-")>-1&&e.dropDownOpenMode==="auto"&&!e.disabled&&!e.readonly&&e.open()}_mouseLeaveHandler(){const e=this;e.removeAttribute("hover"),e._isElementHovered=!1,e.dropDownOpenMode!=="auto"||e.disabled||e.readonly||e._autoClose()}_mouseWheelHandler(e){const t=this;t.disabled||t.readonly||t.items&&t.items.length===0||t.$dropDownContainer&&!t.$dropDownContainer.hasClass("smart-visibility-hidden")||t.$.listBox&&(e.preventDefault(),t.$.listBox._handleKeyStrokes(e.deltaY>0?"ArrowDown":"ArrowUp"))}_autoClose(){const e=this;e._autoCloseTimeout=setTimeout((function(){e._isElementHovered||e.close(),clearTimeout(e._autoCloseTimeout)}).bind(e),e.autoCloseDelay)}_propertyValidator(e,t){return typeof t!="number"&&typeof t!="string"?e:t}_resizeHandler(){this.refresh()}refresh(){const e=this;e.resizeMode==="none"&&(e._calculateDropDownSize(),e._setDropDownSize())}_selectStartHandler(e){this._preventsSelectStart&&e.preventDefault()}_setAriaRelations(e){const t=this;let n,a;t.dropDownOpenMode!=="dropDownButton"?(n=t.$.dropDownButton,n.setAttribute("aria-hidden",!0),a=t,t.$.actionButton.removeAttribute("role")):(n=t,a=t.$.dropDownButton,a.removeAttribute("aria-hidden"),t.$.actionButton.setAttribute("role","button")),t._ariaButton=a,a.setAttribute("role","button"),a.setAttribute("aria-haspopup","listbox"),a.setAttribute("aria-owns",t.$.listBox.id),a.setAttribute("aria-describedby",t.$.hint.id),t.label?a.setAttribute("aria-labelledby",t.$.label.id):t.elementName==="DropDownList"&&a.setAttribute("aria-labelledby",t.$.actionButton.id),n.setAttribute("role","presentation"),n.removeAttribute("aria-owns"),e?a.setAttribute("aria-expanded",t.opened):(n.removeAttribute("aria-describedby"),n.removeAttribute("aria-expanded"),n.removeAttribute("aria-haspopup"),n.removeAttribute("aria-labelledby"))}_setDropDownSize(){const e=this,t=e.$.listBox;let n;if(e._dropDownSize||e._calculateDropDownSize(),["dropDownMinWidth","dropDownMaxWidth"].forEach(a=>{e.$.dropDownContainer.style[a.replace("dropDown","").replace(/^./,"m")]=e[a]==="initial"?e.offsetWidth+"px":e[a]?parseFloat(e[a])+(e[a].toString().endsWith("%")?"%":"px"):null}),["dropDownMinHeight","dropDownMaxHeight"].forEach(a=>{e.$.dropDownContainer.style[a.replace("dropDown","").replace(/^./,"m")]=e[a]?parseFloat(e[a])+(e[a].toString().endsWith("%")?"%":"px"):null}),e.dropDownWidth?e.dropDownWidth!=="auto"?e.$.dropDownContainer.style.width=(e.dropDownWidth==="initial"?e.offsetWidth:parseFloat(e.dropDownWidth))+"px":e.$.dropDownContainer.style.width="auto":e.$.dropDownContainer.style.width=e._dropDownSize.width==="auto"?"auto":(parseFloat(e._dropDownSize.width)||0)+"px",e.dropDownHeight&&e.dropDownHeight!=="auto")e.$.dropDownContainer.style.height=parseFloat(e.dropDownHeight)+((e.dropDownHeight+"").indexOf("%")>-1?"%":"px");else if(!e.$.listBox||e._dropDownSize.height!=="auto"&&e.dropDownHeight!=="auto")e.$.dropDownContainer.style.height=e._dropDownSize.height;else{e.$.dropDownContainer.style.height="";let a=0;if(t.$.itemsContainer&&(a=2*parseInt(window.getComputedStyle(t.$.itemsContainer).getPropertyValue("--smart-list-item-vertical-offset"))),isNaN(a)&&(a=6),n=a,t.items&&t.items.length>0?t.items.map(i=>n+=i.height||i.offsetHeight):n=t.$.placeholder?Math.max(e._dropDownSize.minHeight,t.$.placeholder.offsetHeight):200,e.filterable){const i=t.$.filterInputContainer;n+=i.offsetHeight+i.offsetTop}n=n+e._dropDownSize.paddingWidth+e._dropDownSize.borderWidth,e.$.dropDownContainer.style.height=n+"px"}if(t){if(n===void 0||!t.$)return void t._refreshLayout();const a=t.$.horizontalScrollBar?t.$.horizontalScrollBar.offsetHeight:0,i=Math.max(0,e._dropDownSize.minHeight-(n-a));i?e.$.dropDownContainer.style.height=n+i+"px":a&&(e.$.dropDownContainer.style.height=parseInt(e.$.dropDownContainer.style.height)+a+5+"px"),!e.opened&&e.virtualized&&t.refresh()}}_styleChangedHandler(e){const t=this;if(t.dropDownAppendTo){const n=e.detail.styleProperties,a=["font-size","font-family","font-style","font-weight"];for(let i=0;i<a.length;i++)n[a[i]]&&(t.$.dropDownContainer.style[a[i]]=n[a[i]].value)}t._dropDownSize.height==="auto"&&t._setDropDownSize()}_validateTemplate(e){const t=this;if(e&&typeof e!="function")if("content"in document.createElement("template")){if(e instanceof HTMLTemplateElement||(e=document.getElementById(e)),e!==null&&"content"in e)return e;t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"tokenTemplate"}))}else t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()}))}})},6321:()=>{(function(){if(typeof window===void 0)return;const e="21.0.0",t=[];let n="Smart";if(window[n]&&window[n].Version){if(window[n].Version===e)return;if(window[n].Version!==e)n+=e;else{let m=2;for(;window[n];)n+=m.toString(),m++}}const a=navigator.userAgent.indexOf("Edge")>-1&&navigator.appVersion.indexOf("Edge")>-1;document.elementsFromPoint||(document.elementsFromPoint=document.msElementsFromPoint);class i{static isBoolean(c){return typeof c=="boolean"}static isFunction(c){return!!(c&&c.constructor&&c.call&&c.apply)}static isArray(c){return Array.isArray(c)}static isObject(c){return c&&(typeof c=="object"||this.isFunction(c))||!1}static isDate(c){return c instanceof Date}static isString(c){return typeof c=="string"}static isNumber(c){return typeof c=="number"}static getType(c){const y=this,b=["Boolean","Number","String","Function","Array","Date","Object"].find(S=>{if(y["is"+S](c))return S});return b?b.toLowerCase():void 0}}class r{static animate(c,y,b,S){const D=c;if(!D||D instanceof HTMLElement==0)return;if(D.getElementsByClassName("smart-ripple").length===0){const me=document.createElement("span");me.classList.add("smart-ripple"),me.setAttribute("role","presentation");let ge=!0,we=null;if(window[n].EnableShadowDOM&&D.enableShadowDOM&&D.isInShadowDOM!==!0){for(let Me=0;Me<D.shadowRoot.host.shadowRoot.children.length;Me++)D.shadowRoot.host.shadowRoot.children[Me].tagName.toLowerCase()!=="link"&&(we=D.shadowRoot.host.shadowRoot.children[Me]);D.shadowRoot.host.shadowRoot.querySelector(".smart-ripple")&&(ge=!1)}else we=D.firstElementChild;ge&&(we&&!we.noRipple&&we.offsetHeight>0?we.appendChild(me):D.appendChild(me))}let M=null;if(M=window[n].EnableShadowDOM&&D.shadowRoot?D.shadowRoot.host.shadowRoot.querySelector(".smart-ripple"):D.getElementsByClassName("smart-ripple")[0],!M)return;M.innerHTML="",M.classList.remove("smart-animate"),M.style.height=M.style.width=Math.max(D.offsetHeight,D.offsetWidth)+"px";const $=window.getComputedStyle(M.parentElement),P=parseInt($.borderLeftWidth)||0,G=parseInt($.borderTopWidth)||0,Z=D.getBoundingClientRect(),ee=y-(Z.left+window.pageXOffset)-M.offsetWidth/2-P,de=b-(Z.top+window.pageYOffset)-M.offsetHeight/2-G;M.style.left=ee+"px",M.style.top=de+"px",M.classList.add("smart-animate"),M.addEventListener("animationend",function me(){M.parentElement&&M.parentElement.removeChild(M),S&&S(),M.removeEventListener("animationend",me),M.removeEventListener("animationcancel",me)}),M.addEventListener("animationcancel",function me(){M.parentElement&&M.parentElement.removeChild(M),S&&S(),M.removeEventListener("animationcancel",me),M.removeEventListener("animationend",me)})}}class o{static easeInQuad(c,y,b,S){return b*(c/=S)*c+y}static easeOutQuad(c,y,b,S){return-b*(c/=S)*(c-2)+y}static easeInOutQuad(c,y,b,S){return(c/=S/2)<1?b/2*c*c+y:-b/2*(--c*(c-2)-1)+y}static easeInCubic(c,y,b,S){return b*(c/=S)*c*c+y}static easeOutCubic(c,y,b,S){return b*((c=c/S-1)*c*c+1)+y}static easeInOutCubic(c,y,b,S){return(c/=S/2)<1?b/2*c*c*c+y:b/2*((c-=2)*c*c+2)+y}static easeInQuart(c,y,b,S){return b*(c/=S)*c*c*c+y}static easeOutQuart(c,y,b,S){return-b*((c=c/S-1)*c*c*c-1)+y}static easeInOutQuart(c,y,b,S){return(c/=S/2)<1?b/2*c*c*c*c+y:-b/2*((c-=2)*c*c*c-2)+y}static easeInQuint(c,y,b,S){return b*(c/=S)*c*c*c*c+y}static easeOutQuint(c,y,b,S){return b*((c=c/S-1)*c*c*c*c+1)+y}static easeInOutQuint(c,y,b,S){return(c/=S/2)<1?b/2*c*c*c*c*c+y:b/2*((c-=2)*c*c*c*c+2)+y}static easeInSine(c,y,b,S){return-b*Math.cos(c/S*(Math.PI/2))+b+y}static easeOutSine(c,y,b,S){return b*Math.sin(c/S*(Math.PI/2))+y}static easeInOutSine(c,y,b,S){return-b/2*(Math.cos(Math.PI*c/S)-1)+y}static easeInExpo(c,y,b,S){return c===0?y:b*Math.pow(2,10*(c/S-1))+y}static easeOutExpo(c,y,b,S){return c===S?y+b:b*(1-Math.pow(2,-10*c/S))+y}static easeInOutExpo(c,y,b,S){return c===0?y:c===S?y+b:(c/=S/2)<1?b/2*Math.pow(2,10*(c-1))+y:b/2*(2-Math.pow(2,-10*--c))+y}static easeInCirc(c,y,b,S){return-b*(Math.sqrt(1-(c/=S)*c)-1)+y}static easeOutCirc(c,y,b,S){return b*Math.sqrt(1-(c=c/S-1)*c)+y}static easeInOutCirc(c,y,b,S){return(c/=S/2)<1?-b/2*(Math.sqrt(1-c*c)-1)+y:b/2*(Math.sqrt(1-(c-=2)*c)+1)+y}static easeInElastic(c,y,b,S){let D=1.70158,M=0,$=b;return c===0?y:(c/=S)==1?y+b:(M||(M=.3*S),$<Math.abs(b)?($=b,D=M/4):D=M/(2*Math.PI)*Math.asin(b/$),-$*Math.pow(2,10*(c-=1))*Math.sin((c*S-D)*(2*Math.PI)/M)+y)}static easeOutElastic(c,y,b,S){let D=1.70158,M=0,$=b;return c===0?y:(c/=S)==1?y+b:(M||(M=.3*S),$<Math.abs(b)?($=b,D=M/4):D=M/(2*Math.PI)*Math.asin(b/$),$*Math.pow(2,-10*c)*Math.sin((c*S-D)*(2*Math.PI)/M)+b+y)}static easeInOutElastic(c,y,b,S){let D=1.70158,M=0,$=b;return c===0?y:(c/=S/2)==2?y+b:(M||(M=S*.44999999999999996),$<Math.abs(b)?($=b,D=M/4):D=M/(2*Math.PI)*Math.asin(b/$),c<1?$*Math.pow(2,10*(c-=1))*Math.sin((c*S-D)*(2*Math.PI)/M)*-.5+y:$*Math.pow(2,-10*(c-=1))*Math.sin((c*S-D)*(2*Math.PI)/M)*.5+b+y)}static easeInBack(c,y,b,S,D){return D===void 0&&(D=1.70158),b*(c/=S)*c*((D+1)*c-D)+y}static easeOutBack(c,y,b,S,D){return D===void 0&&(D=1.70158),b*((c=c/S-1)*c*((D+1)*c+D)+1)+y}static easeInOutBack(c,y,b,S,D){return D===void 0&&(D=1.70158),(c/=S/2)<1?b/2*(c*c*((1+(D*=1.525))*c-D))+y:b/2*((c-=2)*c*((1+(D*=1.525))*c+D)+2)+y}static easeInBounce(c,y,b,S){return b-this.easeOutBounce(S-c,0,b,S)+y}static easeOutBounce(c,y,b,S){return(c/=S)<.36363636363636365?b*(7.5625*c*c)+y:c<.7272727272727273?b*(7.5625*(c-=.5454545454545454)*c+.75)+y:c<.9090909090909091?b*(7.5625*(c-=.8181818181818182)*c+.9375)+y:b*(7.5625*(c-=.9545454545454546)*c+.984375)+y}static easeInOutBounce(c,y,b,S){return c<S/2?.5*this.easeInBounce(2*c,0,b,S)+y:.5*this.easeOutBounce(2*c-S,0,b,S)+.5*b+y}}class d{static get isMobile(){return/(iphone|ipod|ipad|android|iemobile|blackberry|bada)/.test(window.navigator.userAgent.toLowerCase())||["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}static get Browser(){let c;const y=function(S){let D=S.indexOf(c);if(D===-1)return;const M=S.indexOf("rv:");return parseFloat(c==="Trident"&&M!==-1?S.substring(M+3):S.substring(D+c.length+1))};let b={};return b[function(){const S=[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"IE"},{string:navigator.userAgent,subString:"Trident",identity:"IE"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}];for(let D=0;D<S.length;D++){let M=S[D].string;if(c=S[D].subString,M.indexOf(S[D].subString)!==-1)return S[D].identity}return"Other"}()]=!0,b.version=y(navigator.userAgent)||y(navigator.appVersion)||"Unknown",b}static toCamelCase(c){return c.replace(/-([a-z])/g,function(y){return y[1].toUpperCase()})}static toDash(c){return c.split(/(?=[A-Z])/).join("-").toLowerCase()}static unescapeHTML(c){return new DOMParser().parseFromString(c,"text/html").documentElement.textContent}static escapeHTML(c){const y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(c).replace(/[&<>"'`=\/]/g,b=>y[b])}static sanitizeHTML(c){if(c&&(c.indexOf("onclick")>=0||c.indexOf("onload")>=0||c.indexOf("onerror")>=0))return this.escapeHTML(c);const y=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig");return String(c).replace(y,b=>this.escapeHTML(b))}static createGUID(){function c(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c()}static getScriptLocation(){return window[n].BaseUrl!=="./"?window[n].BaseUrl:function(){if(document.currentScript){let D=document.currentScript.src,M=D.lastIndexOf("/");return D=D.substring(0,M),D}const c=new Error;let y="(",b=")";if(Smart.Utilities.Core.Browser.Safari&&(y="@",b=`
`),c.fileName)return c.fileName.replace("/smart.element.js","");let S=c.stack.split(y);return S=S[1],S=S.split(b)[0],S=S.split(":"),S.splice(-2,2),S=S.join(":"),S.replace("/smart.element.js","")}()}static CSSVariablesSupport(){return window.CSS&&window.CSS.supports&&window.CSS.supports("(--fake-var: 0)")}static assign(c,y){const b=D=>D&&typeof D=="object"&&!Array.isArray(D)&&D!==null;let S=Object.assign({},c);return b(c)&&b(y)&&Object.keys(y).forEach(D=>{b(y[D])?D in c?S[D]=this.assign(c[D],y[D]):Object.assign(S,{[D]:y[D]}):Object.assign(S,{[D]:y[D]})}),S}static html(c,y){const b=this;let S="",D=c.childNodes;if(!y){for(let M,$=0,P=D.length;$<P&&(M=D[$]);$++){const G=["strong"];if(M instanceof HTMLElement||M.tagName&&G.indexOf(M.tagName.toLowerCase())>=0){const Z=M.tagName.toLowerCase(),ee=M.attributes;let de="<"+Z;for(let me,ge=0;me=ee[ge];ge++)de+=" "+me.name+'="'+me.value.replace(/[&\u00A0"]/g,B.Core.escapeHTML)+'"';de+=">",["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"][Z]&&(S+=de),S=S+de+b.html(M)+"</"+Z+">"}else{if(M.nodeType===8)continue;S+=M.textContent.replace(/[&\u00A0<>]/g,B.Core.escapeHTML)}}return S}{const M=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;c.innerHTML=y.replace(M,"<$1></$2>")}}}let f=[];class p{static watch(c){switch(c.nodeName.toLowerCase()){case"smart-grid":case"smart-kanban":case"smart-table":case"smart-pivot-table":case"smart-scheduler":case"smart-tabs":case"smart-card-view":case"smart-list-box":case"smart-combo-box":case"smart-drop-down-list":case"smart-calendar":case"smart-gauge":case"smart-numeric-text-box":case"smart-menu":case"smart-tree":f.push(c);break;default:return}p.start()}static start(){p.isStarted||(p.isStarted=!0,p.interval&&clearInterval(p.interval),f.length===0||document.hidden?p.isStarted=!1:p.interval=setInterval(function(){p.observe()},100))}static stop(){p.isStarted=!1,p.interval&&clearInterval(p.interval)}static observeElement(c){const y=c;if(window.Smart.Mode==="test"||document.hidden)return void(p.interval&&clearInterval(p.interval));let b=c._computedStyle||y.hasStyleObserver!=="resize"?document.defaultView.getComputedStyle(y,null):{},S=!0,D=y.hasStyleObserver!=="resize"?["paddingLeft","paddingRight","paddingTop","paddingBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","display","visibility","font-size","font-family","font-style","font-weight","max-height","min-height","max-width","min-width","overflow","overflow-x","overflow-y"]:[];if(c.styleProperties&&(D=D.concat(c.styleProperties)),c.observableStyleProperties&&(D=c.observableStyleProperties),!y._styleInfo){y._styleInfo=[];for(let $=0;$<D.length;$++){const P=D[$],G=P.startsWith("--")?b.getPropertyValue(P):b[P];y._styleInfo[P]=G}return}if(c.isHidden||b.display!=="none"&&(c.offsetWidth!==0&&c.offsetHeight!==0||(c.isHidden=!0)),c.isHidden){if(c.visibilityChangedHandler(),c.isHidden)return;S=!1}let M=[];for(let $=0;$<D.length;$++){const P=D[$],G=P.startsWith("--")?b.getPropertyValue(P):b[P];y._styleInfo[P]!==G&&(M[P]={oldValue:y._styleInfo[P],value:G},M.length++),y._styleInfo[P]=G}M.length>0&&(y.$.fireEvent("styleChanged",{styleProperties:M},{bubbles:!1,cancelable:!0}),M.display&&S&&y.$.fireEvent("resize",y,{bubbles:!1,cancelable:!0}))}static observe(){for(let c=0;c<f.length;c++){const y=f[c];this.observeElement(y)}}static unwatch(c){p.stop();const y=f.indexOf(c);y!==-1&&f.splice(y,1),p.start()}}let v=[];const w=[],C=["resize","down","up","move","tap","taphold","swipeleft","swiperight","swipetop","swipebottom"];class x{constructor(c){const y=this;y.target=c,y.$target=new A(c),y.$document=c.$document?c.$document:new A(document),y.id=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase();let b={handlers:{},boundEventTypes:[],listen:y.listen.bind(y),unlisten:y.unlisten.bind(y)};return y.tapHoldDelay=750,y.swipeMin=10,y.swipeMax=5e3,y.swipeDelay=1e3,y.tapHoldDelay=750,y.inputEventProperties=["clientX","clientY","pageX","pageY","screenX","screenY"],C.forEach(S=>{b[S]=D=>{b.handlers[S]=D},y[S]=D=>{if(!b.handlers[D.type]){if((D.type==="mousemove"||D.type==="pointermove"||D.type==="touchmove")&&b.handlers.move){const M=y.createEvent(D,"move");b.handlers.move(M)}return!0}return b.handlers[D.type](D)}}),y.listen(),y.handlers=b.handlers,b}listen(c){const y=this;if(c==="resize"&&y.target!==document&&y.target!==window&&y.target.hasResizeObserver!==!1){if(Smart.Utilities.Core.Browser.Firefox){if(!y.target.resizeObserver){let b,S,D,M=!1,$=y.target.offsetWidth,P=y.target.offsetHeight;const G=new ResizeObserver(()=>{if(!M)return void(M=!0);const Z=new CustomEvent("resize",{bubbles:!1,cancelable:!0});S=y.target.offsetWidth,D=y.target.offsetHeight,b=S!==$||D!==P,y.target.requiresLayout&&(b=!0),b&&(y.resize(Z),y.target.requiresLayout=!1,$=S,P=D)});G.observe(y.target),y.target.resizeObserver=G}}else if(!y.target.resizeTrigger){const b=document.createElement("div");b.className="smart-resize-trigger-container",b.innerHTML='<div class="smart-resize-trigger-container"><div class="smart-resize-trigger"></div></div><div class="smart-resize-trigger-container"><div class="smart-resize-trigger-shrink"></div></div>',b.setAttribute("aria-hidden",!0),window[n].EnableShadowDOM&&y.target.shadowRoot?y.target.shadowRoot.appendChild(b):y.target.appendChild(b),y.target.resizeTrigger=b;const S=b.childNodes[0],D=S.childNodes[0],M=b.childNodes[1],$=function(){D.style.width="100000px",D.style.height="100000px",S.scrollLeft=1e5,S.scrollTop=1e5,M.scrollLeft=1e5,M.scrollTop=1e5};let P,G,Z,ee,de=y.target.offsetWidth,me=y.target.offsetHeight;if(de===0||me===0){const ge=function(){$(),y.target.removeEventListener("resize",ge)};y.target.addEventListener("resize",ge),$()}else $();y.target.resizeHandler=function(){G||(G=requestAnimationFrame(function(){if(G=0,Z=y.target.offsetWidth,ee=y.target.offsetHeight,P=Z!==de||ee!==me,y.target.requiresLayout&&(P=!0),!P)return;de=Z,me=ee;const ge=new CustomEvent("resize",{bubbles:!1,cancelable:!0});y.resize(ge),y.target.requiresLayout=!1})),$()},S.addEventListener("scroll",y.target.resizeHandler),M.addEventListener("scroll",y.target.resizeHandler)}}y.isListening||(y.isListening=!0,y.isPressed=!1,y.isReleased=!1,y.isInBounds=!1,window.PointerEvent?(y.$target.listen("pointerdown.inputEvents"+y.id,y.pointerDown.bind(y)),y.$target.listen("pointerup.inputEvents"+y.id,y.pointerUp.bind(y)),y.$target.listen("pointermove.inputEvents"+y.id,y.pointerMove.bind(y)),y.$target.listen("pointercancel.inputEvents"+y.id,y.pointerCancel.bind(y))):("ontouchstart"in window&&(y.$target.listen("touchmove.inputEvents"+y.id,y.touchMove.bind(y)),y.$target.listen("touchstart.inputEvents"+y.id,y.touchStart.bind(y)),y.$target.listen("touchend.inputEvents"+y.id,y.touchEnd.bind(y)),y.$target.listen("touchcancel.inputEvents"+y.id,y.touchCancel.bind(y))),y.$target.listen("mousedown.inputEvents"+y.id,y.mouseDown.bind(y)),y.$target.listen("mouseup.inputEvents"+y.id,y.mouseUp.bind(y)),y.$target.listen("mousemove.inputEvents"+y.id,y.mouseMove.bind(y)),y.$target.listen("mouseleave.inputEvents"+y.id,y.mouseLeave.bind(y))),y.target._handleDocumentUp||(y.target._handleDocumentUp=y.handleDocumentUp.bind(y),y.target._handleDocumentUpId=y.id,y.$document.listen("mouseup.inputEvents"+y.target._handleDocumentUpId,y.target._handleDocumentUp)))}unlisten(c){const y=this;if(y.isListening=!1,window.PointerEvent?(y.$target.unlisten("pointerdown.inputEvents"+y.id),y.$target.unlisten("pointerup.inputEvents"+y.id),y.$target.unlisten("pointermove.inputEvents"+y.id),y.$target.unlisten("pointercancel.inputEvents"+y.id)):("ontouchstart"in window&&(y.$target.unlisten("touchstart.inputEvents"+y.id),y.$target.unlisten("touchmove.inputEvents"+y.id),y.$target.unlisten("touchend.inputEvents"+y.id),y.$target.unlisten("touchcancel.inputEvents"+y.id)),y.$target.unlisten("mousedown.inputEvents"+y.id),y.$target.unlisten("mouseup.inputEvents"+y.id),y.$target.unlisten("mousemove.inputEvents"+y.id),y.$target.unlisten("mouseleave.inputEvents"+y.id)),y.target._handleDocumentUp&&(y.$document.unlisten("mouseup.inputEvents"+y.target._handleDocumentUpId,y.target._handleDocumentUp),delete y.target._handleDocumentUp,delete y.target._handleDocumentUpId),c==="resize"){if(Smart.Utilities.Core.Browser.Firefox)y.target.resizeObserver&&(y.target.resizeObserver.unobserve(y.target),delete y.target.resizeObserver);else if(y.target.resizeTrigger){const b=y.target.resizeTrigger,S=b.childNodes[0],D=b.childNodes[1];S.removeEventListener("scroll",y.target.resizeHandler),D.removeEventListener("scroll",y.target.resizeHandler),y.target.resizeHandler=null,b.parentNode.removeChild(b),delete y.target.resizeTrigger}}}handleDocumentUp(c){const y=this;y.isPressed=!1,y.isReleased=!1,y.resetSwipe(c)}createEvent(c,y){const b=this,S=c.touches,D=c.changedTouches,M=S&&S.length?S[0]:D&&D.length?D[0]:void 0,$=new CustomEvent(y,{bubbles:!0,cancelable:!0,composed:b.$target.element.getRootNode().host!==void 0});if($.originalEvent=c,M){for(let P=0;P<b.inputEventProperties.length;P++){const G=b.inputEventProperties[P];$[G]=M[G]}return $}for(let P in c)P in $||($[P]=c[P]);return $}fireTap(c){const y=this;if(clearTimeout(this.tapHoldTimeout),!this.tapHoldFired&&this.isInBounds){const b=y.createEvent(c,"tap");y.tap(b)}}initTap(c){const y=this;y.isInBounds=!0,y.tapHoldFired=!1,y.tapHoldTimeout=setTimeout(function(){if(y.isInBounds){y.tapHoldFired=!0;const b=y.createEvent(c,"taphold");y.taphold(b)}},y.tapHoldDelay)}pointerDown(c){return this.handleDown(c)}mouseDown(c){const y=this;if(!(y.isPressed||y.touchStartTime&&new Date-y.touchStartTime<500))return y.handleDown(c)}touchStart(c){const y=this;return y.touchStartTime=new Date,y.isTouchMoved=!0,y.handleDown(c)}mouseUp(c){const y=this;if(!(y.isReleased||y.touchEndTime&&new Date-y.touchEndTime<500))return y.handleUp(c)}handleDown(c){const y=this;y.isReleased=!1,y.isPressed=!0;const b=y.createEvent(c,"down");return(y.handlers.tap||y.handlers.taphold)&&y.initTap(b),(y.handlers.swipeleft||y.handlers.swiperight||y.handlers.swipetop||y.handlers.swipebottom)&&y.initSwipe(b),y.down(b)}handleUp(c){const y=this;y.isReleased=!0,y.isPressed=!1;const b=y.createEvent(c,"up"),S=y.up(b);return(y.handlers.tap||y.handlers.taphold)&&y.fireTap(b),y.resetSwipe(b),S}handleMove(c){const y=this;let b=y.move(c);return y.isPressed&&(y._maxSwipeVerticalDistance=Math.max(y._maxSwipeVerticalDistance,Math.abs(y._startY-c.pageY)),y._maxSwipeHorizontalDistance=Math.max(y._maxSwipeHorizontalDistance,Math.abs(y._startX-c.pageX)),b=y.handleSwipeEvents(c)),b}touchEnd(c){return this.touchEndTime=new Date,this.handleUp(c)}pointerUp(c){return this.handleUp(c)}pointerCancel(c){this.pointerUp(c)}touchCancel(c){this.touchEnd(c)}mouseLeave(){this.isInBounds=!1}mouseMove(c){if(!this.isTouchMoved)return this.handleMove(c)}pointerMove(c){return this.handleMove(c)}touchMove(c){const y=this,b=c.touches,S=c.changedTouches,D=b&&b.length?b[0]:S&&S.length?S[0]:void 0;for(let M=0;M<y.inputEventProperties.length;M++){const $=y.inputEventProperties[M];c[$]===void 0&&(c[$]=D[$])}return y.isTouchMoved=!0,y.handleMove(c)}handleSwipeEvents(c){const y=this;let b=!0;return(y.handlers.swipetop||y.handlers.swipebottom)&&(b=this.handleVerticalSwipeEvents(c)),b===!1||(y.handlers.swipeleft||y.handlers.swiperight)&&(b=this.handleHorizontalSwipeEvents(c)),b}handleVerticalSwipeEvents(c){let y,b;return y=c.pageY,b=y-this._startY,this.swiped(c,b,"vertical")}handleHorizontalSwipeEvents(c){let y,b;return y=c.pageX,b=y-this._startX,this.swiped(c,b,"horizontal")}swiped(c,y,b){const S=this;if(b=b||0,Math.abs(y)>=S.swipeMin&&!S._swipeEvent&&!S._swipeLocked){let D=y<0?"swipeleft":"swiperight";if(b==="horizontal"?S._swipeEvent=S.createEvent(c,D):(D=y<0?"swipetop":"swipebottom",S._swipeEvent=S.createEvent(c,y<0?"swipetop":"swipebottom")),S[D]&&(S[D](this._swipeEvent),Math.abs(y)<=this.swipeMax))return c.stopImmediatePropagation(),!1}return!0}resetSwipe(){this._swipeEvent=null,clearTimeout(this._swipeTimeout)}initSwipe(c){const y=this;y._maxSwipeVerticalDistance=0,y._maxSwipeHorizontalDistance=0,y._startX=c.pageX,y._startY=c.pageY,y._swipeLocked=!1,y._swipeEvent=null,y._swipeTimeout=setTimeout(function(){y._swipeLocked=!0},y.swipeDelay)}}class L{get scrollWidth(){const c=this;return c.horizontalScrollBar?c.horizontalScrollBar.max:-1}set scrollWidth(c){const y=this;c<0&&(c=0),y.horizontalScrollBar&&(y.horizontalScrollBar.max=c)}get scrollHeight(){const c=this;return c.verticalScrollBar?c.verticalScrollBar.max:-1}set scrollHeight(c){const y=this;c<0&&(c=0),y.verticalScrollBar&&(y.verticalScrollBar.max=c)}get scrollLeft(){const c=this;return c.horizontalScrollBar?c.horizontalScrollBar.value:-1}set scrollLeft(c){const y=this;c<0&&(c=0),y.horizontalScrollBar&&(y.horizontalScrollBar.value=c)}get scrollTop(){const c=this;return c.verticalScrollBar?c.verticalScrollBar.value:-1}set scrollTop(c){const y=this;c<0&&(c=0),y.verticalScrollBar&&(y.verticalScrollBar.value=c)}get vScrollBar(){return this.verticalScrollBar}get hScrollBar(){return this.horizontalScrollBar}constructor(c,y,b){const S=this;S.container=c,S.horizontalScrollBar=y,S.verticalScrollBar=b,S.disableSwipeScroll=!1,S.listen()}listen(){const c=this,y=d.isMobile,b=c.horizontalScrollBar,S=c.verticalScrollBar;let D,M,$,P,G,Z,ee,de;c.inputEvents=new x(c.container);const me=function(ye){return{amplitude:0,delta:0,initialValue:0,min:0,max:ye.max,previousValue:0,pointerPosition:0,targetValue:0,scrollBar:ye,value:0,velocity:0}},ge=me(b),we=me(S),Me=function(){const ye=c.container.touchVelocityCoefficient||50;Z=Date.now(),ee=Z-P,P=Z;const je=function(Le){Le.delta=Le.value-Le.previousValue,Le.previousValue=Le.value;let et=ye*Le.delta/(1+ee);Le.velocity=.8*et+.2*Le.velocity};je(we),je(ge)},ke=function(ye){return de.value=ye>de.max?de.max:ye<de.min?de.min:ye,de.scrollBar.value=de.value,ye>de.max?"max":ye<de.min?"min":"value"};function xe(){let ye,je;de.amplitude&&(c.container.$.fireEvent("kineticScroll"),ye=Date.now()-P,je=-de.amplitude*Math.exp(-ye/500),je>5||je<-5?(ke(de.targetValue+je),cancelAnimationFrame(M),M=0,M=requestAnimationFrame(xe)):ke(de.targetValue))}let Ve;c.inputEvents.down(function(ye){if(!y)return;const je=ye.originalEvent.target,Le=je&&je.closest?je.closest("smart-scroll-bar"):void 0;if(Le===c.horizontalScrollBar||Le===c.verticalScrollBar)return;$=!0,D=!1;const et=function(Ye,ut){Ye.amplitude=0,Ye.pointerPosition=ut,Ye.previousValue=Ye.value,Ye.value=Ye.scrollBar.value,Ye.initialValue=Ye.value,Ye.max=Ye.scrollBar.max};et(we,ye.clientY),et(ge,ye.clientX),P=Date.now(),clearInterval(G),G=setInterval(Me,500)}),c.inputEvents.up(function(){if(!$)return!0;if(clearInterval(G),c.disableSwipeScroll)return void($=!1);const ye=function(je){de=je,je.amplitude=.8*je.velocity,je.targetValue=Math.round(je.value+je.amplitude),P=Date.now(),cancelAnimationFrame(M),M=requestAnimationFrame(xe),je.velocity=0};we.velocity>10||we.velocity<-10?ye(we):(ge.velocity>10||ge.velocity<-10)&&ye(ge),$=!1}),c.inputEvents.move(function(ye){if(!$)return!0;if(c.disableSwipeScroll||(D&&(ye.originalEvent.preventDefault(),ye.originalEvent.stopPropagation()),ge.visible=c.scrollWidth>0,we.visible=c.scrollHeight>0,!$||!ge.visible&&!we.visible))return;const je=c.container.touchScrollRatio,Le=c.container;let et,Ye;je&&(typeof je=="number"?(et=-je,Ye=-je):typeof je=="function"&&(et=je(we.max,Le.offsetHeight),Ye=je(ge.max,Le.offsetWidth))),we.ratio=et||-we.max/Le.offsetHeight,we.delta=(ye.clientY-we.pointerPosition)*we.ratio,ge.ratio=Ye||-ge.max/Le.offsetWidth,ge.delta=(ye.clientX-ge.pointerPosition)*ge.ratio;let ut="value";const Ne=function(Be,Ke,Ht){return Be.delta>5||Be.delta<-5?(de=Be,ut=Be.initialValue+Be.delta>de.max?"max":Be.initialValue+Be.delta<de.min?"min":"value",ut==="min"&&Be.initialValue===0||ut==="max"&&Be.initialValue===Be.max||!Be.visible||(c.container.$.fireEvent("kineticScroll"),ke(Be.initialValue+Be.delta),Me(),Ht.originalEvent.preventDefault(),Ht.originalEvent.stopPropagation(),D=!0,!1)):null};let mt=Ne(we,ye.clientY,ye);if(mt!==null)return mt;{let Be=Ne(ge,ye.clientX,ye);if(Be!==null)return Be}}),c.scrollTo=function(ye,je){const Le=je===!1?ge:we;let et=!1;P||(P=Date.now()),Ve||(Ve=Date.now()),Math.abs(Date.now()-Ve)>375?P=Date.now():et=!0,Ve=Date.now(),Le.value=Le.scrollBar.value,Le.delta=ye-Le.value,Le.max=Le.scrollBar.max,ye<=Le.min&&(ye=Le.min),ye>=Le.max&&(ye=Le.max),Le.targetValue=ye;const Ye=ye;let ut=Le.value;Le.velocity=100*Le.delta/(1+Le.max),Le.from=ut;const Ne=function(Be){return Le.value=Be>Le.max?Le.max:Be<Le.min?Le.min:Be,Le.scrollBar.value=Le.value,Be>Le.max?"max":Be<Le.min?"min":"value"},mt=function(){let Be,Ke=Date.now()-Ve,Ht=Math.min(1e3,Date.now()-P),ft=Le.velocity*Math.exp(Ht/175);if(et)(ft<0&&Le.value<=ye||ft>0&&Le.value>=ye)&&(ft=0),(Le.value+ft<=Le.min||Le.value+ft>=Le.max)&&(ft=0),ft>.5||ft<-.5?(Ne(Le.value+ft),cancelAnimationFrame(M),M=0,M=requestAnimationFrame(mt)):Ne(Le.targetValue);else{if(Ke>=175)return cancelAnimationFrame(M),c.container.$.fireEvent("kineticScroll"),void(M=0);Be=B.Animation.Easings.easeInSine(Ke,ut,Ye-ut,175),Ne(Be),cancelAnimationFrame(M),M=0,M=requestAnimationFrame(mt)}};cancelAnimationFrame(M),M=requestAnimationFrame(mt)},c.inputEvents.listen()}unlisten(){const c=this;c.inputEvents&&c.inputEvents.unlisten(),delete c.inputEvents}}class A{constructor(c){this.events={},this.handlers={},this.element=c}hasClass(c){const y=this,b=c.split(" ");for(let S=0;S<b.length;S++)if(!y.element.classList.contains(b[S]))return!1;return!0}addClass(c){const y=this;if(y.hasClass(c))return;const b=c.split(" ");for(let S=0;S<b.length;S++)y.element.classList.add(b[S]);y.isNativeElement||p.observeElement(y.element)}removeClass(c){const y=this;if(arguments.length===0)return void y.element.removeAttribute("class");const b=c.split(" ");for(let S=0;S<b.length;S++)y.element.classList.remove(b[S]);y.element.className===""&&y.element.removeAttribute("class"),y.isNativeElement||p.observeElement(y.element)}get isCustomElement(){const c=this;return!!c.element.tagName.startsWith(n)||c.element instanceof window[n].BaseElement==1||c.element.tagName!=="DIV"&&c.element.tagName!=="SPAN"&&c.element.tagName!=="BUTTON"&&c.element.tagName!=="INPUT"&&c.element.tagName!=="UL"&&c.element.tagName!=="LI"&&document.createElement(c.element.nodeName)instanceof window[n].BaseElement==1}get isNativeElement(){return!this.isCustomElement}dispatch(c){const y=this,b=y.events[c.type];let S=!1;if(b.length>1)for(let D=0;D<b.length;D++){const M=b[D];if(M.namespace&&M.namespace.indexOf("_")>=0){S=!0;break}}S&&b.sort(function(D,M){let $=D.namespace,P=M.namespace;return $=$.indexOf("_")===-1?0:parseInt($.substring($.indexOf("_")+1)),P=P.indexOf("_")===-1?0:parseInt(P.substring(P.indexOf("_")+1)),$<P?-1:$>P?1:0});for(let D=0;D<b.length;D++){const M=b[D];if(c.namespace=M.namespace,c.context=M.context,c.defaultPrevented)break;const $=M.handler.apply(y.element,[c]);if($!==void 0&&(c.result=$,$===!1)){c.preventDefault(),c.stopPropagation();break}}return c.result}fireEvent(c,y,b){const S=this;b||(b={bubbles:!0,cancelable:!0,composed:S.element.getRootNode().host!==null}),b.detail=y||{};const D=new CustomEvent(c,b);if(D.originalStopPropagation=D.stopPropagation,D.stopPropagation=function(){return D.isPropagationStopped=!0,D.originalStopPropagation()},S.dispatchEvent(D),window[n].isVue){const M=B.Core.toDash(c);if(M!==c){const $=new CustomEvent(M,b);$.originalStopPropagation=D.stopPropagation,$.stopPropagation=function(){return $.isPropagationStopped=!0,$.originalStopPropagation()},S.dispatchEvent($)}}return D}get isPassiveSupported(){const c=this;if(c.supportsPassive!==void 0)return c.supportsPassive;c.supportsPassive=!1;try{let y=Object.defineProperty({},"passive",{get:function(){c.supportsPassive=!0}});window.addEventListener("testPassive",null,y),window.removeEventListener("testPassive",null,y)}catch{}return c.supportsPassive}dispatchEvent(c){const y=this,b=c.type,S=y.element.context,D=b.substring(0,1).toUpperCase()+b.substring(1);y.element.context=document,y.element["on"+D]?y.element["on"+D](c):y.element["on"+b.toLowerCase()]?y.element["on"+b.toLowerCase()](c):y.element.dispatchEvent(c),y.element.context=S}listen(c,y){const b=this,S=c.split("."),D=S.slice(1).join("."),M=S[0];b.events[M]||(b.events[M]=[]);const $={type:M,handler:y,context:b.element,namespace:D};C.indexOf(M)>=0&&(b.inputEvents||(b.inputEvents=new x(b.element)),b.inputEvents[M](function(P){b.dispatchEvent(P)}),b.inputEvents.boundEventTypes.push(M),b.inputEvents.listen(M)),b.events[M].length===0&&(b.handlers[M]=b.dispatch.bind(b),M==="wheel"?b.element.addEventListener("wheel",b.handlers[M],!!b.isPassiveSupported&&{passive:!1}):M==="touchmove"||M==="touchstart"||M==="touchend"?b.element.addEventListener(M,b.handlers[M],!!b.isPassiveSupported&&{passive:!1}):b.element.addEventListener(M,b.handlers[M],!1)),b.events[M].push($)}unlisten(c){const y=this,b=c.split("."),S=b.slice(1).join("."),D=b[0];let M=y.events[D];if(y.inputEvents&&y.inputEvents.boundEventTypes.indexOf(D)>=0&&(y.inputEvents.boundEventTypes.splice(y.inputEvents.boundEventTypes.indexOf(D),1),y.inputEvents.boundEventTypes.length===0&&y.inputEvents.unlisten(D)),M){for(let $=0;$<M.length;$++){if(S!==""){let P=M.findIndex(G=>G.namespace===S);M.splice(P,1);break}M=[]}M.length===0&&(y.element.removeEventListener(D,y.handlers[D]),y.events[D]=[],delete y.handlers[D])}}getAttributeValue(c,y){const b=this,S=b.element.getAttribute(c);if(b.isNativeElement)return b.deserialize(S,y);const D=b.element.propertyByAttributeName[c];return D.deserialize===void 0?b.deserialize(S,y,D.nullable):b.element[D.deserialize](S)}setAttributeValue(c,y,b){const S=this;let D,M=!1;if(S.isNativeElement){if(D=S.serialize(y,b),b==="boolean"&&["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(c)>=0)return void(y?S.element.setAttribute(c,""):S.element.removeAttribute(c))}else{const $=S.element.propertyByAttributeName[c];M=!$||$.nullable,D=$&&$.serialize?S.element[$.serialize](y):S.serialize(y,b,M)}b!=="array"&&b!=="object"||D!=="[]"&&D!=="{}"?D===void 0?(S.element.removeAttribute(c),S.element.shadowRoot&&S.element.$.root&&S.element.$.root.removeAttribute(c)):(S.element.setAttribute(c,D),S.element.shadowRoot&&S.element.$.root&&S.element.$.root.setAttribute(c,D)):S.element.removeAttribute(c)}serialize(c,y,b){if(y===void 0&&(y=B.Types.getType(c)),c!==void 0&&(b||c!==null)){if(b&&c===null)return"null";if(y==="string")return c;if(y==="boolean"||y==="bool"){if(c===!0||c==="true"||c===1||c==="1")return"";if(c===!1||c==="false"||c===0||c==="0")return}return y==="array"?JSON.stringify(c):["string","number","int","integer","float","date","any","function"].indexOf(y)>=0?c.toString():y==="object"?JSON.stringify(c):void 0}}deserialize(c,y,b){const S=c==="null";if(c!==void 0&&(!S||b)){if(S&&b)return null;if(y==="boolean"||y==="bool")return c!==null;if(y==="number"||y==="float")return c==="NaN"?NaN:c==="Infinity"?1/0:c==="-Infinity"?-1/0:parseFloat(c);if(y==="int"||y==="integer")return c==="NaN"?NaN:c==="Infinity"?1/0:c==="-Infinity"?-1/0:parseInt(c);if(y==="string"||y==="any")return c;if(y==="date")return new Date(c);if(y==="function"){if(typeof window[c]=="function")return window[c]}else if(y==="array"||y==="object")try{const D=JSON.parse(c);if(D)return D}catch{if(window[c]&&typeof window[c]=="object")return window[c];if(y==="object"&&c.indexOf("{")>=0){let M=(c=c.replace(/{/gi,"").replace(/}/gi,"").replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim()).trim().split(","),$={};for(let P=0;P<M.length;P++){const G=M[P].split(":")[0].trim(),Z=M[P].split(":")[1].trim();$[G]=Z}return $}if(y==="array"&&c.indexOf("[")>=0){if(c.indexOf("{")>=0){let M=c.replace(/{/gi,"").replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim();M=M.split("},");for(let $=0;$<M.length;$++){let P={},G=M[$].trim().split(",");for(let Z=0;Z<G.length;Z++){const ee=G[Z].split(":")[0].trim(),de=G[Z].split(":")[1].trim();P[ee]=de}M[$]=P}return M}return c.replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim().split(",")}}}}}class k{static get Ripple(){return r}static get Easings(){return o}}class B{static get Types(){return i}static get Core(){return d}static get Animation(){return k}static get Scroll(){return L}static get InputEvents(){return x}static Extend(c){return new A(c)}static Assign(c,y){if(c.indexOf(".")>=0){const b=c.split(".");return B[b[0]]||(B[b[0]]={}),void(B[b[0]][b[1]]=y)}B[c]=y}}const H=B.Extend(document);let V=null;document.addEventListener("click",()=>{p.start(),V&&clearTimeout(V),V=setTimeout(()=>{p.stop()},1e4)}),document.addEventListener("mouseenter",()=>{p.start()}),document.addEventListener("mouseleave",()=>{p.stop()});class z{}z.cache={};class N extends HTMLElement{static get properties(){return{animation:{value:"advanced",type:"string",allowedValues:["none","simple","advanced"]},unfocusable:{value:!1,type:"boolean"},disabled:{value:!1,type:"boolean"},dataContext:{value:null,reflectToAttribute:!1,type:"any"},debugMode:{value:!0,type:"boolean",reflectToAttribute:!1},unlockKey:{value:"",type:"string",reflectToAttribute:!1},locale:{value:"en",type:"string",reflectToAttribute:!1},localizeFormatFunction:{value:null,type:"any",reflectToAttribute:!1},messages:{value:{en:{propertyUnknownName:"Invalid property name: '{{name}}'!",propertyUnknownType:"'{{name}}' property is with undefined 'type' member!",propertyInvalidValue:"Invalid '{{name}}' property value! Actual value: '{{actualValue}}', Expected value: '{{value}}'!",propertyInvalidValueType:"Invalid '{{name}}' property value type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",methodInvalidValueType:"Invalid '{{name}}' method argument value type! Actual type: '{{actualType}}', Expected type: '{{type}}' for argument with index: '{{argumentIndex}}'!",methodInvalidArgumentsCount:"Invalid '{{name}}' method arguments count! Actual arguments count: '{{actualArgumentsCount}}', Expected at least: '{{argumentsCount}}' argument(s)!",methodInvalidReturnType:"Invalid '{{name}}' method return type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",elementNotInDOM:"Element does not exist in DOM! Please, add the element to the DOM, before invoking a method.",moduleUndefined:"Module is undefined.",missingReference:"{{elementType}}: Missing reference to '{{files}}'.",htmlTemplateNotSuported:"{{elementType}}: Web Browser doesn't support HTMLTemplate elements.",invalidTemplate:"{{elementType}}: '{{property}}' property accepts a string that must match the id of an HTMLTemplate element from the DOM."}},reflectToAttribute:!1,inherit:!0,type:"object"},props:{value:null,reflectToAttribute:!1,isHierarchicalProperty:!0,type:"any"},readonly:{value:!1,type:"boolean"},renderMode:{value:"auto",type:"string",reflectToAttribute:!1,allowedValues:["auto","manual"]},rightToLeft:{value:!1,type:"boolean"},rethrowError:{value:!0,type:"boolean",reflectToAttribute:!1},theme:{value:window[n].Theme,type:"string"},visibility:{value:"visible",allowedValues:["visible","collapsed","hidden"],type:"string"},wait:{value:!1,type:"boolean"}}}getBindings(c,y){const b=this;let S=0,D={},M=($=>{if($ instanceof HTMLElement)return b.parseAttributes($);{let P=b.parseProperty($.data?$.data.trim():null,"textContent",$);if(P)return b&&$.parentNode===b.$.content&&(P.value=b.$.html!==""?b.$.html:void 0,b.innerHTML=""),{textContent:P}}})(c);M&&(D.data=M),y||(D.mapping=[],y=D),c.getAttribute&&(D.nodeId=c.getAttribute("smart-id"),y&&M&&(y.mapping[D.nodeId]=M)),D.node=c,c.firstChild&&(D.children={});for(let $=c.firstChild;$;$=$.nextSibling)D.children[S++]=b.getBindings($,y);return D}_addRemovePropertyBinding(c,y,b,S,D){if(!c||!y||!b)return;const M=this,$=M.bindings,P=b.getAttribute("smart-id"),G=c.indexOf("{{")>=0;let Z=!1;(c=c.replace("{{","").replace("}}","").replace("[[","").replace("]]","")).indexOf("!")>=0&&(c=c.replace("!",""),Z=!0);const ee=M._properties[c],de={name:c,reflectToAttribute:ee.reflectToAttribute,twoWay:G,type:ee.type,not:Z};if(D&&!S){const ge={},we={name:c,targetPropertyName:y,reflectToAttribute:ee.reflectToAttribute,twoWay:G,type:ee.type,not:Z};ge[c]=we,$.mapping[P]=ge}const me=function(ge){for(let we in ge){const Me=ge[we];if(Me.nodeId===P){Me.data||(Me.data={}),S?(Me.data[y]=null,delete Me.data[y]):Me.data[y]=de;break}if(Me.children)me(Me.children);else if(Me.node&&Me.node.children&&Me.node===b.parentElement){const ke=Me.node;if(!ke.firstChild)continue;Me.children={};let xe=0;for(let Ve=ke.firstChild;Ve;Ve=Ve.nextSibling)Me.children[xe++]=M.getBindings(Ve);me(Me.children)}}};me($.children),S?delete M.boundProperties[c]:M.boundProperties[c]=!0,M.updateBoundNodes(c)}addPropertyBinding(c,y,b,S){this._addRemovePropertyBinding(c,y,b,!1,S)}removePropertyBinding(c,y,b,S){this._addRemovePropertyBinding(c,y,b,!0,S)}parseAttributes(c){const y=this;let b;for(let S=0;S<c.attributes.length;S++){const D=c.attributes[S],M=D.name,$=D.value;z.cache["toCamelCase"+M]||(z.cache["toCamelCase"+M]=B.Core.toCamelCase(M));const P=z.cache["toCamelCase"+M];if(M.indexOf("(")>=0){let Z=M.substring(1,M.length-1);if(y&&!y.dataContext){y.templateListeners[c.getAttribute("smart-id")+"."+Z]=$,c.removeAttribute(M);continue}{b||(b={});const ee=$.substring(0,$.indexOf("("));b[P]={isEvent:!0,name:Z,value:ee};continue}}let G=y.parseProperty($,M,c);G&&(b||(b={}),b[P]=G)}return b}parseProperty(c,y){if(!c||!c.length)return;const b=this;let S,D=c.length,M=0,$=0,P=0,G=!0;for(;$<D;){M=c.indexOf("{{",$);let de=c.indexOf("[[",$),me="}}";if(de>=0&&(M<0||de<M)&&(M=de,G=!1,me="]]"),P=M<0?-1:c.indexOf(me,M+2),P<0)return;S=S||{};let ge=c.slice(M+2,P).trim();S.name=ge,$=P+2}const Z=S.name,ee=b?b._properties[Z]:null;return S.twoWay=G,S.ready=!1,b&&(Z.indexOf("::")>=0?b.boundProperties[Z.substring(0,Z.indexOf("::"))]=!0:b.boundProperties[Z]=!0),ee?(S.type=ee.type,S.reflectToAttribute=ee.reflectToAttribute):(["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(y)>=0?S.type="boolean":S.type="string",S.reflectToAttribute=!0),S}updateTextNodes(){const c=this;c.updateTextNode(c.shadowRoot||c,c.bindings,c)}updateTextNode(c,y,b){const S=this;if(!y)return;let D=0;for(let M=c.firstChild;M&&y.children;M=M.nextSibling)S.updateTextNode(M,y.children[D++],b);if(y&&y.data)for(let M in y.data){const $=y.data[M],P=$.name;M==="textContent"&&$.twoWay&&!$.updating&&$.value!==void 0&&(b[P]=$.value)}}updateBoundProperty(c,y){if(y.updating)return;const b=this;y.updating=!0,b[c]=y.value,y.updating=!1}updateBoundNodes(c){const y=this;if(y.updateBoundNode(y.shadowRoot||y,y.bindings,y,c),y.detachedChildren.length>0)for(let b=0;b<y.detachedChildren.length;b++){const S=y.detachedChildren[b],D=S.getAttribute("smart-id"),M=function(P){if(P.nodeId===D)return P;for(let G in P.children){const Z=P.children[G];if((Z.getAttribute?Z.getAttribute("smart-id"):"")===D)return P;if(Z.children){const ee=M(Z);if(ee)return ee}}return null},$=M(y.bindings);if($)y.updateBoundNode(S,$,y,c,!0);else if(S.getAttribute&&y.bindings.mapping){const P=y,G=y.bindings;if(G)for(let Z in G.mapping){const ee=P.querySelector('[smart-id="'+Z+'"]');if(ee){const de=G.mapping[Z];y.updateBoundData(ee,de,P,c)}}}}}updateBoundMappedNodes(){const c=this,y=c.bindings,b=c;if(y.mapping)for(let S in y.mapping){let D=b.querySelector('[smart-id="'+S+'"]');if(b.shadowRoot&&(D=b.querySelector('[id="'+S+'"]'),D||(D=b.shadowRoot.querySelector('[id="'+S+'"]')||b.shadowRoot.querySelector('[smart-id="'+S+'"]'))),D){const M=y.mapping[S];c.updateBoundData(D,M,b)}else if(b.getAttribute("aria-controls")){let M=document.getElementById(b.getAttribute("aria-controls"));if(!M&&b.shadowRoot&&(M=b.shadowRoot.getElementById(b.getAttribute("aria-controls"))),D=M.querySelector('[smart-id="'+S+'"]'),D){const $=y.mapping[S];c.updateBoundData(D,$,b)}}}}updateBoundNode(c,y,b,S,D){const M=this;if(!y)return;let $=0;if(D){if(D&&!y.data)for(let G=c.firstChild;G&&y.children;G=G.nextSibling)if(G.getAttribute){const Z=G.getAttribute("smart-id"),ee=function(){for(let de in y.children)if(y.children[de].nodeId===Z)return y.children[de]}();M.updateBoundNode(G,ee,b,S),$++}else M.updateBoundNode(G,y.children[$++],b,S,D)}else for(let G=c.firstChild;G&&y.children;G=G.nextSibling)if(G.getAttribute){const Z=G.getAttribute("smart-id"),ee=function(){for(let de in y.children)if(y.children[de].nodeId===Z)return y.children[de]}();M.updateBoundNode(G,ee,b,S),$++}else M.updateBoundNode(G,y.children[$++],b,S);if(!y||!y.data)return;const P=y.data;M.updateBoundData(c,P,b,S)}updateBoundData(c,y,b,S){const D=this;for(let M in y){const $=y[M];let P=$.name;if(!$.updating&&(P.indexOf("::")>=0&&(P=P.substring(0,P.indexOf("::"))),S===void 0||S===P)){if(P.indexOf("(")>=0){let G=P.substring(P.indexOf("("));const Z=P.substring(0,P.indexOf("("));if(G=G.substring(1,G.length-1),G=G.replace(/ /gi,""),G=G.split(","),G.length>0&&G[0]!==""){let ee=[];for(let de=0;de<G.length;de++)ee.push(b[G[de]]);$.value=b[Z].apply(b,ee)}else $.value=b[Z]();$.type=typeof $.value}else $.value=b[P];if(P==="innerHTML"){if(c[M].toString().trim()!==b[P].toString().trim()){if(window.smartBlazor&&c[M].indexOf("<!--")>=0){($.ready||b._properties[P].defaultValue!==$.value)&&(c[M]=$.value.toString());continue}($.ready||b._properties[P].defaultValue!==$.value)&&(c[M]=$.value.toString().trim())}}else $.not?(c[M]=!$.value,$.targetPropertyName&&(c[$.targetPropertyName]=!$.value)):(c[M]=$.value,$.targetPropertyName&&(c[$.targetPropertyName]=$.value));if(c.$&&c.$.isNativeElement){z.cache["toDash"+M]||(z.cache["toDash"+M]=B.Core.toDash(M));const G=z.cache["toDash"+M],Z=c.$.getAttributeValue(G,$.type);!$.reflectToAttribute||Z===$.value&&$.ready||c.$.setAttributeValue(G,$.value,$.type),$.reflectToAttribute||c.$.setAttributeValue(G,null,$.type)}if(!$.ready){if(c.$&&c.$.isCustomElement){z.cache["toDash"+M]||(z.cache["toDash"+M]=B.Core.toDash(M));const G=z.cache["toDash"+M];c._properties||(c._beforeCreatedProperties=c._properties=c.propertyByAttributeName=[]),c._properties[M]||(c._properties[M]={attributeName:G},c._beforeCreatedProperties&&(c._beforeCreatedProperties[M]=c._properties[M]),c.propertyByAttributeName[G]=c._properties[M]);const Z=c._properties[M];Z.isUpdating=!0,$.reflectToAttribute&&($.not?c.$.setAttributeValue(Z.attributeName,!$.value,$.type):c.$.setAttributeValue(Z.attributeName,$.value,$.type)),$.reflectToAttribute||c.$.setAttributeValue(Z.attributeName,null,$.type),Z.isUpdating=!1}if($.twoWay){const G=function(Z){if($.value=Z,c.$&&c.$.isNativeElement){z.cache["toDash"+M]||(z.cache["toDash"+M]=B.Core.toDash(M));const ee=z.cache["toDash"+M],de=c.$.getAttributeValue(ee,$.type);$.reflectToAttribute&&de!==$.value&&c.$.setAttributeValue(ee,$.value,$.type),$.reflectToAttribute||c.$.setAttributeValue(ee,null,$.type)}};if($.name.indexOf("::")>=0){const Z=$.name.indexOf("::"),ee=$.name.substring(Z+2);D["$"+c.getAttribute("smart-id")].listen(ee,function(){G(c[M]);const de=$.name.substring(0,$.name.indexOf("::"));D.updateBoundProperty(de,$)})}if(c.$&&c.$.isCustomElement){c._properties[M]&&(c._properties[M].notify=!0),z.cache["toDash"+M]||(z.cache["toDash"+M]=B.Core.toDash(M));const Z=z.cache["toDash"+M];D["$"+c.getAttribute("smart-id")].listen(Z+"-changed",function(ee){let de=ee.detail;G(de.value);const me=D.context;ee.context!==document&&(D.context=D),D.updateBoundProperty($.name,$),D.context=me})}}}$.ready=!0}}}static clearCache(){this.cache={}}addMessages(c,y){Object.assign(this.messages[c],y)}localize(c,y){const b=this;if(!b.messages||!b.messages[b.locale])return;let S=b.messages[b.locale][c];if(S==="")return"";if(!S){const M=b.messages.en;if(M){let $=M[c];if($){for(let P in y){let G=y[P];$=$.replace(new RegExp("{{"+P+"}}","g"),G)}return $}return c}}const D=S;for(let M in y){let $=y[M];S=S.replace(new RegExp("{{"+M+"}}","g"),$)}if(b.localizeFormatFunction){const M=b.localizeFormatFunction(D,S,y,c);if(M!==void 0)return M}return S}static get requires(){return{}}static get listeners(){return{"theme-changed":function(c){this.theme=c.detail.newValue}}}static get methods(){return{}}get classNamesMap(){return{animation:"smart-animate",rippleAnimation:"smart-ripple"}}get hasAnimation(){return this.animation!=="none"}get hasRippleAnimation(){return this.animation!=="none"&&this.animation==="advanced"}static get modules(){return window[n].Modules}get properties(){const c=this;return c._properties||(c._properties=[]),c._properties}get parents(){const c=this;let y=[],b=c.parentNode;for(;b&&b.nodeType!==9;)b instanceof HTMLElement==1&&y.push(b),b=b.parentNode;const S=c.getRootNode();if(S.host){const D=M=>{let $=[M],P=M.parentNode;for(;P&&P.nodeType!==9;)P instanceof HTMLElement==1&&$.push(P),P=P.parentNode;return $};y=y.concat(D(S.host))}return window[n].EnableShadowDOM&&c.isInShadowDOM&&c.shadowParent&&(y=y.concat(c.shadowParent.parents)),y}log(c){this._logger("log",c)}warn(c){this._logger("warn",c)}error(c){this._logger("error",c)}_logger(c,y){if(this.debugMode){const b=y instanceof Error?y.message:y.toString();console[c](b)}if(this.rethrowError&&c==="error")throw y}get focused(){return this.contains(document.activeElement)}template(){return"<div></div>"}registered(){const c=this;c.onRegistered&&c.onRegistered()}created(){const c=this;c.isReady=!1,c._initElement(c),c._setModuleState("created"),c.onCreated&&c.onCreated()}completed(){const c=this;c.isCompleted=!0,c._onCompleted&&c._onCompleted(),c.onCompleted&&c.onCompleted()}whenReady(c){const y=this;y.isCompleted?c():(y.whenReadyCallbacks||(y.whenReadyCallbacks=[]),y.whenReadyCallbacks.push(c))}whenRendered(c){const y=this;y.isRendered?c():(y.whenRenderedCallbacks||(y.whenRenderedCallbacks=[]),y.whenRenderedCallbacks.push(c))}addThemeClass(){const c=this;c.theme!==""&&c.classList.add("smart-"+c.theme)}addDefaultClass(){const c=this;c.classList.add(n.toLowerCase()+"-element"),c.classList.add(c.nodeName.toLowerCase())}_renderShadowRoot(){const c=this;if(c.shadowRoot){c.$.root.classList.add(c.nodeName.toLowerCase());for(let y=0;y<c.attributes.length;y++){const b=c.attributes[y];b.name==="class"||b.name==="id"||b.name==="style"||b.name==="tabindex"||b.name.indexOf("aria")>=0||c.$.root.setAttribute(b.name,b.value)}for(let y=0;y<c.classList.length;y++){const b=c.classList[y];b!=="smart-element-init"&&b!=="smart-element"&&b!=="smart-hidden"&&b!=="smart-visibility-hidden"&&c.$.root.classList.add(b)}}}render(){const c=this;if(!c.isRendered&&(c.isRendered=!0,c.isRendering=!1,c.context=document,c._renderShadowRoot(),c.whenRenderedCallbacks)){for(let y=0;y<c.whenRenderedCallbacks.length;y++)c.whenRenderedCallbacks[y]();c.whenRenderedCallbacks=[]}c.onRender&&c.onRender(),c.disabled&&c.setAttribute("aria-disabled",!0),c.readonly&&["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(c.getAttribute("role"))!==-1&&c.setAttribute("aria-readonly",!0)}ready(){const c=this;if(c._setId(),c.addThemeClass(),c.addDefaultClass(),c.visibility==="collapsed"?c.classList.add("smart-hidden"):c.visibility==="hidden"&&c.classList.add("smart-visibility-hidden"),c.dataContext&&c.applyDataContext(),c.onReady&&c.onReady(),c.shadowRoot&&Smart(c._selector)){if(Smart(c._selector).styleUrls){const y=Smart(c._selector).styleUrls;for(let b=0;b<y.length;b++)c.importStyle(y[b])}if(Smart(c._selector).styles){const y=document.createElement("style");y.innerHTML=Smart(c._selector).styles,c.shadowRoot.insertBefore(y,c.shadowRoot.firstChild)}}Smart(c._selector)&&Smart(c._selector).ready&&Smart(c._selector).ready()}_setId(){const c=this;if(!c.id){const y=c.elementName;c.id=y.slice(0,1).toLowerCase()+y.slice(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}}checkLicense(){const c=this;if(window[n].License==="Evaluation"&&window.location.hostname.indexOf("htmlelements")===-1&&window[n].License!=="8414516F-15A2-4D84-A7AF-A9A72400DB02"){if(c.unlockKey==="8414516F-15A2-4D84-A7AF-A9A72400DB02")return;if(document.body.hasAttribute("smart-license")&&document.body.getAttribute("smart-license")==="8414516F-15A2-4D84-A7AF-A9A72400DB02")return void(window[n].License="8414516F-15A2-4D84-A7AF-A9A72400DB02");c.logWatermark(),c.logLicense(),window[n].License="8414516F-15A2-4D84-A7AF-A9A72400DB02"}}logWatermark(){const c=document.createElement("a");c.href="https://www.htmlelements.com/",c.innerHTML="https://www.htmlelements.com/",c.style.position="absolute",c.style.right="5px",c.style.bottom="5px",c.style.color="#fff",c.style.padding="20px",c.style.borderRadius="5px",c.style.background="#0C3D78",c.style.cursor="pointer",c.style.zIndex="999999",c.style.display="block",c.style.fontSize="24px",c.style.textDecoration="none",c.style.fontWeight="bold",c.style.opacity=0,c.style.transition="opacity .35s ease-in-out",c.id="watermark",document.getElementById("watermark")||setTimeout(()=>{document.getElementById("watermark")||(document.body.appendChild(c),setTimeout(()=>{c.style.opacity=1}),setTimeout(()=>{c.style.opacity=0,setTimeout(()=>{c.parentNode.removeChild(c)},350)},6e3))},1e3)}logLicense(){console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("*jQWidgets License Key Not Found."),console.log("*This is an EVALUATION only Version, it is NOT Licensed for software projects intended for PRODUCTION."),console.log("*if you want to hide this message, please send an email to: sales@jqwidgets.com for a license."),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************")}get _selector(){const c=this;return c.id?"#"+c.id:c.classList.length>0?"."+c.classList[0]:""}applyDataContext(c){const y=this;let b=typeof y.dataContext=="string"?window[y.dataContext]||document[y.dataContext]:y.dataContext;if(c&&(b=c,y.dataContext=c),b){if(!b._uid){b._uid=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),b._properties=[];for(let S in b){const D=b[S];typeof D!="function"&&S!=="_properties"&&S!=="_uid"&&(b._properties[S]=D,Object.defineProperty(b,S,{configurable:!1,enumerable:!0,get:()=>b._properties[S],set(M){const $=b._properties[S];b._properties[S]=M;let P=[];P[S]={oldValue:$,value:M},P.length++,y.updatingDataContext=!0,H.fireEvent("dataContextPropertyChanged",{dataContext:b,properties:P},{bubbles:!1,cancelable:!0}),y.updatingDataContext=!1}}))}}if(y.dataContextProperties=y.parseAttributes(y),y.dataContextPropertiesMap={},y.dataContextListeners={},y.dataContextProperties){y.updatingDataContext=!0;for(let S in y.dataContextProperties){const D=y.dataContextProperties[S],M=D.name;if(D.propertyName=S,y.dataContextPropertiesMap[M]=S,z.cache["toDash"+S]||(z.cache["toDash"+S]=B.Core.toDash(M)),D.isEvent){const $=D.value;y.dataContextListeners[M]&&y.removeEventListener(M,y.dataContextListeners[M]),y.dataContextListeners[M]=function(P){b[$](P)},y.addEventListener(M,y.dataContextListeners[M])}if(M.indexOf(".")>=0){const $=M.split(".");let P=b[$[0]];for(let G=1;G<$.length;G++)P=P[$[G]];P!==void 0&&(y[S]=P)}else y[S]=b[M]}y.dataContextPropertyChangedHandler=function(S){const D=S.detail.properties;if(S.detail.dataContext===(typeof y.dataContext=="string"?window[y.dataContext]||document[y.dataContext]:y.dataContext))for(let M in D){const $=y.dataContextPropertiesMap[M],P=y.context;$&&(y.context=document,y[$]=D[M].value,y.context=P)}},H.listen("dataContextPropertyChanged",y.dataContextPropertyChangedHandler),y.updatingDataContext=!1}else y.dataContextProperties=null}else{y.dataContextProperties=null;const S=function(){(typeof y.dataContext=="string"?window[y.dataContext]||document[y.dataContext]:y.dataContext)&&(y.applyDataContext(),window.removeEventListener("load",S))};window.addEventListener("load",S)}}updateDataContextProperty(c){const y=this,b=typeof y.dataContext=="string"?window[y.dataContext]||document[y.dataContext]:y.dataContext,S=y.dataContextProperties[c];if(!y.updatingDataContext&&S.twoWay){const D=S.name;if(D.indexOf(".")>=0){const M=D.split(".");let $=b[M[0]];for(let P=1;P<M.length;P++)$=$[M[P]];$!==void 0&&($=y[c],v[b._uid]&&(v[b._uid][c]=$))}else b[D]=y[c],v[b._uid]&&(v[b._uid][c]=b[D])}}static get version(){return window[n].Version}initProperties(){const c=this;if(Smart(c._selector)&&Smart(c._selector).properties&&(c._initProperties=Smart(c._selector).properties),c.hasAttribute("props")&&!c.props?c._initProperties=window[c.getAttribute("props")]:c.props&&(c._initProperties=c.props),c._initProperties){const y=Object.keys(c._initProperties);for(let b=0;b<y.length;b++){const S=y[b],D=c._initProperties[S];if(D!=null){if(D.constructor===Smart.ObservableArray||D instanceof Smart.ObservableArray){c[S]=D.toArray();continue}if(D.constructor===Smart.DataAdapter||D.constructor.name==="smartDataAdapter"||typeof D=="object"&&Smart.DataAdapter&&D instanceof Smart.DataAdapter||D instanceof Smart.Observable||D.constructor===Smart.Observable||typeof D!="object"||B.Types.isArray(D)||D instanceof Date){if(c[S]===void 0&&["onReady","onAttached","onDetached","onCreated","onCompleted"].indexOf(S)===-1){const M=c.localize("propertyUnknownName",{name:S});c.log(M)}c[S]=D;continue}}if(S!=="messages")if(S!=="dataSourceMap"&&S!=="rowCSSRules")if(S!=="keys"){if(D&&typeof D=="object"){const M=function($,P){const G=Object.keys($);for(let Z=0;Z<G.length;Z++){const ee=G[Z],de=$[ee],me=c._properties[P+"_"+ee];if(me&&me.value===null){if(c[P+"_"+ee]===void 0){const ge=c.localize("propertyUnknownName",{name:P+"_"+ee});c.log(ge)}c[P+"_"+ee]=de}else if(typeof de=="object"&&!B.Types.isArray(de)&&de&&de.constructor!==Date)M(de,P+"_"+ee);else{if(c[P+"_"+ee]===void 0){const ge=c.localize("propertyUnknownName",{name:P+"_"+ee});c.log(ge)}c[P+"_"+ee]=de}}};M(D,S)}}else c[S]=D;else c[S]=D;else c[S]=Object.assign(c[S],D)}}}setProperties(c){const y=this,b=Object.keys(c);for(let S=0;S<b.length;S++){const D=b[S],M=c[D];if(M.constructor===Smart.ObservableArray||M instanceof Smart.ObservableArray)y[D]=M.toArray();else if(M.constructor===Smart.DataAdapter||M.constructor.name==="smartDataAdapter"||typeof M=="object"&&Smart.DataAdapter&&M instanceof Smart.DataAdapter||M instanceof Smart.Observable||M.constructor===Smart.Observable||typeof M!="object"||B.Types.isArray(M)||M instanceof Date){if(y[D]===void 0&&["onReady","onAttached","onDetached","onCreated","onCompleted"].indexOf(D)===-1)continue;const $=y._properties[D];$.type==="int"||$.type==="number"&&typeof subPropertyValue=="string"?$.type==="int"?y[D]=parseInt(M):y[D]=parseFloat(M):y[D]=M}else if(D!=="messages"&&D!=="dataSourceMap"){if(typeof M=="object"){const $=function(P,G){const Z=Object.keys(P);for(let ee=0;ee<Z.length;ee++){const de=Z[ee],me=P[de],ge=y._properties[G+"_"+de];if(ge&&ge.value===null){if(y[G+"_"+de]===void 0)continue;const we=y._properties[G+"_"+de];we.type==="int"||we.type==="number"&&typeof me=="string"?we.type==="int"?y[G+"_"+de]=parseInt(me):y[G+"_"+de]=parseFloat(me):y[G+"_"+de]=me}else if(typeof me=="object"&&!B.Types.isArray(me)&&me&&me.constructor!==Date)$(me,G+"_"+de);else{if(y[G+"_"+de]===void 0)continue;const we=y._properties[G+"_"+de];we.type==="int"||we.type==="number"&&typeof me=="string"?we.type==="int"?y[G+"_"+de]=parseInt(me):y[G+"_"+de]=parseFloat(me):y[G+"_"+de]=me}}};$(M,D)}}else y[D]=M}}setup(){const c=this;if(c.context=this,c.isReady&&!c.isCompleted)return;if(c.isReady)return c._setModuleState("attached"),c.isAttached=!0,c.attached(),c._handleListeners("listen"),void(c.context=document);c.ownerElement&&c.ownerElement.detachedChildren.indexOf(c)>=0&&c.ownerElement.detachedChildren.splice(c.ownerElement.detachedChildren.indexOf(c),1),c.isReady=!0,c.methods=c.getStaticMember("methods"),c.initProperties(),d.isMobile&&c.classList.add("smart-mobile");for(let S=0;S<c.attributes.length;S+=1){const D=c.propertyByAttributeName[c.attributes[S].name];if(!D)continue;let M=c.$.getAttributeValue(D.attributeName,D.type);const $=M?M.toString():"";if(!($.indexOf("{{")>=0||$.indexOf("[[")>=0||D.type!=="object"&&D.type!=="array"&&(c.attributes[S].value.indexOf("{{")>=0||c.attributes[S].value.indexOf("[[")>=0)||M===void 0||D.value===M)){const P=B.Types.getType(M),G=c.attributes[S].value;if((D.type==="any"||D.type==="object")&&""+c[D.name]===M||D.type==="array"&&c[D.name]&&JSON.stringify(c[D.name])===M)continue;if(P==="number"&&isNaN(M)&&G!=="NaN"&&G!=="Infinity"&&G!=="-Infinity"){const Z=c.localize("propertyInvalidValueType",{name:D.name,actualType:"string",type:D.type});c.log(Z)}D.isUpdatingFromAttribute=!0,c[D.name]=M,D.isUpdatingFromAttribute=!1}}for(let S in c._properties){const D=c._properties[S];if(S==="innerHTML"&&D.value===D.defaultValue&&(D.value=D.defaultValue=B.Core.html(c)),D.type!=="boolean"&&D.type!=="bool"||c.getAttribute(D.attributeName)==="false"&&(D.isUpdating=!0,c.setAttribute(D.attributeName,""),D.isUpdating=!1),D.defaultReflectToAttribute&&D.reflectToAttribute){if(D.defaultReflectToAttribute&&D.defaultReflectToAttributeConditions){let M=!0;for(let $=0;$<D.defaultReflectToAttributeConditions.length;$++){const P=D.defaultReflectToAttributeConditions[$];let G,Z;for(let ee in P)G=ee,Z=P[ee];c._properties[G]&&c._properties[G].value!==Z&&(M=!1)}if(!M)continue}D.isUpdating=!0,c.$.setAttributeValue(D.attributeName,D.value,D.type),D.isUpdating=!1}}const y=[];if(c.children.length>0)for(let S=0;S<c.children.length;S++){const D=c.children[S];B.Extend(D).isCustomElement&&y.push(D)}c.applyTemplate(),c.complete=function(){if(!c.templateBindingsReady){const D=M=>{M.templateBindingsReady||(M.templateBindingsReady=!0,M.updateTextNodes(),M.updateBoundNodes())};if(c.ownerElement){let M=c.ownerElement,$=[];for(;M;)$.push(M),M=M.ownerElement;for(let P=$.length-1;P>=0;P--)D($[P]);D(c)}else D(c)}const S=()=>{if(c._setModuleState("ready"),c.ready(),c.renderMode!=="auto"||c.isRendered||c.render(),c.isAttached=!0,c._setModuleState("attached"),c.attached(),c._handleListeners("listen"),c.isHidden||c.offsetWidth!==0&&c.offsetHeight!==0||(c.isHidden=!0),c.completed(),c.isRendered&&(c.context=document),c.whenReadyCallbacks){for(let D=0;D<c.whenReadyCallbacks.length;D++)c.whenReadyCallbacks[D]();c.whenReadyCallbacks=[]}};if(c.wait)c.classList.add("smart-visibility-hidden");else if(c.classList.contains("smart-async"))requestAnimationFrame(()=>{S()});else{const D=c.shadowParent;c.shadowParent=null;const M=c.parents;if(c.shadowParent=D,M.length===0)return;const $=()=>{let P=c.ownerElement,G=[];for(;P;)G.push(P),P=P.ownerElement;for(let Z=G.length-1;Z>=0;Z--)G[Z].updateBoundMappedNodes()};c.ownerElement&&M[M.length-1].nodeName!=="HTML"?c.getRootNode().host?S():c.ownerElement&&c.ownerElement.parents[c.ownerElement.parents.length-1].nodeName==="HTML"?($(),S()):c.checkIsInDomInterval=setInterval(()=>{const P=c.parents;P[P.length-1].nodeName==="HTML"&&(clearInterval(c.checkIsInDomInterval),$(),S())},100):S()}};let b=[].slice.call(c.querySelectorAll("[smart-id]")).concat(y);if(window[n].EnableShadowDOM&&c.isInShadowDOM!==!0&&(b=[].slice.call(c.shadowRoot.querySelectorAll("[smart-id]")).concat(y)),b.length===0)c.complete();else{c._completeListeners=0;for(let S=0;S<b.length;S++){const D=b[S];if(B.Extend(D).isCustomElement){const M=(function(){c._completeListeners--,c._completeListeners===0&&(c.complete(),delete c._completeListeners)}).bind(c);D.isCompleted||D.isUtilityElement||D.wait===!0||(c._completeListeners++,D._onCompleted||(D.completeHandlers=[],D._onCompleted=function(){for(let $=0;$<D.completeHandlers.length;$++)D.completeHandlers[$]()}),D.completeHandlers.push(M))}}c._completeListeners===0&&c.complete()}}visibilityChangedHandler(){const c=this;c.isReady&&requestAnimationFrame(()=>{c.offsetWidth===0||c.offsetHeight===0?c.isHidden=!0:(c.isHidden=!1,c.$.fireEvent("resize",c,{bubbles:!1,cancelable:!0}))})}attributeChangedCallback(c,y,b){const S=this,D=S.propertyByAttributeName[c];if(c!=="class"&&c!=="style"||S.visibilityChangedHandler(),D||S.attributeChanged(c,y,b),S.onAttributeChanged&&S.onAttributeChanged(c,y,b),!D||D&&D.isUpdating)return;let M=S.$.getAttributeValue(D.attributeName,D.type);b!==void 0&&S[D.name]!==M&&(D.isUpdatingFromAttribute=!0,S[D.name]=M!==void 0?M:S._properties[D.name].defaultValue,D.isUpdatingFromAttribute=!1)}attributeChanged(c,y,b){}set hasStyleObserver(c){const y=this;y._hasStyleObserver===void 0&&(y._hasStyleObserver=c),c?p.watch(y):p.unwatch(y)}get hasStyleObserver(){const c=this;return c._hasStyleObserver===void 0||c._hasStyleObserver}attached(){const c=this;c.hasStyleObserver&&p.watch(c),c.onAttached&&c.onAttached(),Smart(c._selector)&&Smart(c._selector).attached&&Smart(c._selector).attached()}detached(){const c=this;c.hasStyleObserver&&p.unwatch(c),c._setModuleState("detached"),c.isAttached=!1,c.ownerElement&&c.ownerElement.detachedChildren.indexOf(c)===-1&&c.ownerElement.detachedChildren.push(c),c._handleListeners("unlisten"),c.onDetached&&c.onDetached(),Smart(c._selector)&&Smart(c._selector).detached&&Smart(c._selector).detached(),w&&w[c._selector]&&delete w[c._selector]}propertyChangedHandler(c,y,b){const S=this;y!==b&&(c==="theme"&&(y!==""&&S.classList.remove("smart-"+y),b!==""&&S.classList.add("smart-"+b)),c==="visibility"?(y==="collapsed"?S.classList.remove("smart-hidden"):y==="hidden"&&S.classList.remove("smart-visibility-hidden"),b==="collapsed"?S.classList.add("smart-hidden"):b==="hidden"&&S.classList.add("smart-visibility-hidden")):(c==="disabled"||c==="readonly")&&S._ariaPropertyChangedHandler(c,b),S.propertyChanged&&S.propertyChanged(c,y,b))}_ariaPropertyChangedHandler(c,y){const b=this;c==="readonly"&&["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(b.getAttribute("role"))===-1||(y?b.setAttribute("aria-"+c,!0):b.removeAttribute("aria-"+c))}_handleListeners(c){const y=this,b=y.tagName.toLowerCase(),S=D=>{for(let M in D){const $=M.split(".");let P=$[0],G=y.$;if($[1])if(P=$[1],G=y["$"+$[0]],$[0]==="document"){let de=y.smartId;de===""&&(de=B.Core.toCamelCase(b)),P=P+"."+de}else y.smartId&&(P=P+"."+y.smartId+"_"+y.parents.length);else y.smartId&&(P=P+"."+y.smartId);const Z=D[M],ee=function(de){const me=y.context;y.context=y,y[Z]&&y[Z].apply(y,[de]),y.context=me};G&&G[c](P,ee)}};S(y.getStaticMember("listeners")),S(y.templateListeners),Smart(y._selector)&&Smart(y._selector).properties&&S(Smart(y._selector).listeners)}parseTemplate(){const c=this,y=c.template(),b=document.createDocumentFragment();if(t[c.nodeName]&&!a)return t[c.nodeName].cloneNode(!0);if(y==="")return null;let S=document.createElement("div");b.appendChild(S),S.innerHTML=y;let D=S.childNodes;S.parentNode.removeChild(S);for(let M=0;M<D.length;M++)b.appendChild(D[M]);return t[c.nodeName]=b,a?b:b.cloneNode(!0)}applyTemplate(){const c=this,y=c.parseTemplate();if(!y||!y.hasChildNodes)return;const b=y.childNodes[0],S=($,P)=>{c["$"+$]=P.$=B.Extend(P),c.$[$]=P,P.ownerElement=c};let D=b;if(b.getElementsByTagName("content").length>0){let $=b.getElementsByTagName("content")[0];D=$.parentNode,D.removeChild($)}else{const $=y.querySelectorAll("[inner-h-t-m-l]");$&&$.length>0&&(D=$[0])}c.$.template=b.nodeName.toLowerCase()==="template"?b:b.querySelector("template");let M=y.querySelectorAll("[id]");M.length===0&&(M=y.querySelectorAll("*")),S("root",b),S("content",D),c.$.html=c.innerHTML.toString().trim();for(let $=0;$<M.length;$+=1){let P=M[$];P.id===""&&(P.id="child"+$),S(P.id,P),P.setAttribute("smart-id",P.id),c.shadowRoot?P.shadowParent=c:P.removeAttribute("id")}for(c.hasTemplateBindings!==!1?c.bindings=c.getBindings(y):c.bindings=[],c.$root.addClass("smart-container");c.childNodes.length;)D.appendChild(c.firstChild);if(c.appendTemplate(y),c.$.template){const $=document.createElement("div");$.classList.add("smart-template-container"),c.$.templateContainer=$,c.$.template.parentNode.insertBefore($,c.$.template),c.refreshTemplate()}}refreshTemplate(){const c=this;if(!c.$.templateContainer)return;c.templateDetached(c.$.templateContainer);const y=c.$.template.content.cloneNode(!0);c.templateBindings=c.getBindings(y),c.templateProperties=[];let b=document.createDocumentFragment();const S=function(D,M,$){for(let P in D){const G=D[P],Z=G.node.cloneNode();M.appendChild(Z);let ee=[],de=!1;if(G.data)for(let me in G.data){const ge=G.data[me],we=ge.name;if(c.templateProperties[we]=!0,Z.removeAttribute(B.Core.toDash(me)),me==="*items")ee=c[we],de=!0;else if(we.indexOf("item.")>=0&&$!==void 0)ge.value=$[we.substring(5)],Z[me]=ge.value;else if(we.indexOf("item")>=0&&$!==void 0)ge.value=$,Z[me]=ge.value;else if(me==="*if")if(we.indexOf("(")>=0){let Me,ke=we.substring(we.indexOf("("));const xe=we.substring(0,we.indexOf("("));if(ke=ke.substring(1,ke.length-1),ke=ke.replace(/ /gi,""),ke=ke.split(","),ke.length>0&&ke[0]!==""){let Ve=[];for(let ye=0;ye<ke.length;ye++)Ve.push(c[ke[ye]]);Me=c[xe].apply(c,Ve)}else Me=c[xe]();Me===!1&&M.removeChild(Z)}else c[we]||M.removeChild(Z);else c.updateBoundNode(Z,G,c,we)}if(ee.length>0||de){for(let me=0;me<ee.length;me++)G.children&&S(G.children,Z,ee[me]);if(typeof ee=="number")for(let me=0;me<ee;me++)G.children&&S(G.children,Z,me)}else G.children&&S(G.children,Z,$)}};S(c.templateBindings.children,b),c.$.templateContainer.innerHTML="",c.$.templateContainer.appendChild(b),c.templateAttached(c.$.templateContainer)}templateAttached(){}templateDetached(){}appendTemplate(c){this.appendChild(c)}defineElementModules(){const c=this,y=c.constructor.prototype;if(y.elementName==="BaseElement"){y.modules=c.constructor.modules;const b=y.modules;for(let S=0;S<b.length;S+=1)c.addModule(b[S])}else{const b=y.modules;if(!b)return;for(let S=0;S<b.length;S+=1){const D=b[S],M=D.prototype;c.defineElementMethods(M.methodNames,M),c.defineElementProperties(D.properties)}}}watch(c,y){const b=this;b._watch=c!==null&&y!==null?{properties:c,propertyChangedCallback:y}:null}unwatch(){this._watch=null}set(c,y,b){const S=this,D=S.context;S.context=b===!0?document:S,S[c]=y,S.context=D}get(c){return this[c]}_setModuleState(c,y){const b=this,S="is"+c.substring(0,1).toUpperCase()+c.substring(1),D="on"+c.substring(0,1).toUpperCase()+c.substring(1);for(let M=0;M<b.modulesList.length;M++){const $=b.modulesList[M];$[S]=!0,$[c]&&$[c](y),$[D]&&$[D](y)}}addModule(c,y){const b=this;if(!c)return;const S=b.modules.slice(0),D=c.prototype,M=Object.getPrototypeOf(c);if(M.name&&M.name!==c.name&&b.addModule(M),!c.moduleName&&c.name&&(c.moduleName=c.name),S.findIndex($=>c.moduleName===$.moduleName)===-1&&S.push(c),b.defineModule(c),b.defineElementMethods(D.methodNames,D),b.defineElementProperties(c.properties),b.constructor.prototype.modules=S,y)for(let $ in Smart.Elements.tagNames){const P=Smart.Elements.tagNames[$];let G=Object.getPrototypeOf(P),Z=[];for(;G!==HTMLElement;)Z.push(G.prototype),G=Object.getPrototypeOf(G);Z.indexOf(b)>=0&&P!==b&&P.prototype.addModule(c)}}defineModule(c){if(c.isDefined)return;c.prototype._initModule=function(D){this.ownerElement=D};const y=c.properties||{},b=Object.keys(y),S=Object.getOwnPropertyNames(c.prototype);c.prototype.methodNames=S;for(let D=0;D<b.length;D+=1){const M=b[D],$=y[M];Object.defineProperty(c.prototype,M,{configurable:!1,enumerable:!0,get(){return this.ownerElement?this.ownerElement[M]:$.value},set(P){this.ownerElement[M]=P}})}c.isDefined=!0}getStaticMember(c,y){const b=window[n][this.elementName],S=b[c];y||(y="");let D=y==="array"?[]:y==="string"?"":{},M=Object.getPrototypeOf(b),$=[];for(;M[c];)$.push(M[c]),M=Object.getPrototypeOf(M);for(let P=$.length-1;P>=0;P--)if(y==="array")for(let G=0;G<$[P].length;G++)D.indexOf($[P][G])===-1&&D.push($[P][G]);else y==="string"?D.indexOf($[P])===-1&&(D+=$[P]):D=B.Core.assign(D,$[P]);if(y==="array"){for(let P=0;P<S.length;P++)D.indexOf(S[P])===-1&&D.push(S[P]);return D}return y==="string"?(D.indexOf(S)===-1&&(D+=S),D):B.Core.assign(D,S)}defineElementHierarchicalProperties(c,y){const b=this,S=[];(function(D){const M=Object.keys(D);for(let $=0;$<M.length;$++){const P=M[$];if(P==="messages"||P==="keys")continue;const G=D[P],Z=Object.keys(G),ee=Z.indexOf("value")>=0&&Z.indexOf("type")>=0&&typeof G.value=="object";if(G.type==="propertyObject"||ee){const de=function(me,ge){if(!me.value)return;const we=Object.keys(me.value);for(let Me=0;Me<we.length;Me++){const ke=we[Me],xe=me.value[ke],Ve=ge+"_"+ke;if(typeof xe!="object"||xe===null)break;const ye=Object.keys(xe);if(!(ye.indexOf("value")>=0&&ye.indexOf("type")>=0))break;if(me.type!=="array"&&(me.isHierarchicalProperty=!0),xe.parentPropertyName=ge,y){const je=y._properties[Ve];if(me.value.hasOwnProperty(ke)){if(je.isDefined)continue;delete me.value[ke]}je.isDefined=!0,Object.defineProperty(me.value,ke,{configurable:!1,enumerable:!0,get:()=>y._properties[Ve].value,set(Le){y.updateProperty(y,y._properties[Ve],Le)}})}S[Ve]||(S[Ve]=xe,S.length++),(xe.type==="propertyObject"||typeof xe.value=="object"&&xe.type!=="array")&&de(y?y._properties[Ve]:xe,Ve)}};de(G,P)}}})(c),S.length>0&&!y&&b.defineElementProperties(S)}defineElement(){const c=this,y=c.constructor.prototype,b=c.getStaticMember("properties"),S=Object.getOwnPropertyNames(y);y.extendedProperties={},y.boundProperties={},y.templateListeners={},c.defineElementModules(),c.defineElementMethods(S,y),c.defineElementProperties(b),c.defineElementHierarchicalProperties(c.extendedProperties),y._initElement=function(){const D=this,M=y.extendedProperties,$=Object.keys(M),P=D.modules;D.$=B.Extend(D),D.$document=H,D.smartId=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),D.isCreated||(D.modulesList=[],D._properties=[],D._beforeCreatedProperties&&(D._properties=D._beforeCreatedProperties,delete D._beforeCreatedProperties),D.detachedChildren=[],D.propertyByAttributeName=[]);for(let Z=0;Z<P.length;Z+=1){let ee=new P[Z];ee._initModule(D),D.modulesList.push(ee)}const G=[];for(let Z=0;Z<$.length;Z+=1){const ee=$[Z],de=M[ee];let me=de.value;if(D._properties[ee]){if(D._properties[ee].notify!==void 0)continue;delete D._properties[ee]}if(X&&ee==="innerHTML"&&delete D[ee],window.navigator.userAgent.indexOf("PhantomJS")===-1&&D.hasOwnProperty(ee))if(de.isHierarchicalProperty&&D[ee]){const we=D[ee];G.push({name:ee,value:we}),me=de.value,delete D[ee]}else me=D[ee],delete D[ee];if(de.type==="array"&&me!=null&&(me=me.slice(0)),de.type==="object"&&me!=null&&(me=Array.isArray(me)?me.slice(0):Object.assign({},me)),D._properties[ee]={name:ee,notify:de.notify,allowedValues:de.allowedValues,type:de.type,nullable:de.nullable,reflectToAttribute:de.reflectToAttribute,defaultReflectToAttribute:de.defaultReflectToAttribute,defaultReflectToAttributeConditions:de.defaultReflectToAttributeConditions,value:me,readOnly:de.readOnly,defaultValue:me,attributeName:de.attributeName,observer:de.observer,inherit:de.inherit,extend:de.extend,validator:de.validator},D.propertyByAttributeName[de.attributeName]=D._properties[ee],!de.hasOwnProperty("type")){const we=D.localize("propertyUnknownType",{name:ee});D.log(we)}if(de.type==="any"||de.type==="propertyObject")continue;const ge=B.Types.getType(me);if(me!=null&&de.type!==ge&&!de.validator){if(de.type==="object"&&ge==="array"||ge==="number"&&["integer","int","float"].findIndex(Me=>Me===de.type)>=0)continue;const we=D.localize("propertyInvalidValueType",{name:ee,actualType:ge,type:de.type});D.log(we)}}if(D.defineElementHierarchicalProperties(D._properties,D),G.length&&window[n].RenderMode!=="manual")for(let Z=0;Z<G.length;Z++){const ee=G[Z];D[ee.name]=ee.value}D.isCreated=!0},y.registered()}defineElementMethods(c,y){const b=this.constructor.prototype,S=function(M,$){const P=Array.prototype.slice.call(arguments,2);return function(){if(!this.isReady&&$!=="localize"&&$!=="localize"&&$!=="cloneNode"&&$!=="importStyle"&&$!=="log"&&$!=="parseAttributes"){const Me=this.localize("elementNotInDOM");this.log(Me)}let Z=this;for(let Me=0;Me<this.modulesList.length;Me++){let ke=this.modulesList[Me];if($ in ke){Z=ke;break}}const ee=this.context,de=P.concat(Array.prototype.slice.call(arguments));let me=null;const ge=function(Me,ke){return Me===ke||Me==="number"&&(ke==="int"||ke==="integer"||ke==="float")||Me==="bool"&&ke==="boolean"||Me==="boolean"&&ke==="bool"||Me==="object"&&ke==="any"||void 0};if(this.methods){const Me=this.methods[$];if(Me){const ke=Me.split(":");me=ke[ke.length-1].trim();const xe=[],Ve=Me.substring(1+Me.indexOf("("),Me.lastIndexOf(")")).split(",");let ye="";for(let Le=0;Le<Ve.length;Le++){const et=Ve[Le];ye+=et,et.indexOf(":")>=0?(xe.push(ye),ye=""):ye+=","}let je=xe.length;for(let Le=0;Le<xe.length;Le++){const et=xe[Le].trim().split(":"),Ye=et[0].split("=")[0].trim().indexOf("?")>=0,ut=et[1].indexOf("?")>=0,Ne=et[1].replace(/\?/gi,"").trim(),mt=Ne.split("|");let Be=et[0].split("=")[1];const Ke=B.Types.getType(de[Le]);if(de[Le]===void 0&&Be){switch(Be=Be.trim(),Ne[0]){case"date":{let Ht=Be.substring(Be.indexOf("(")+1,Be.lastIndexOf(")"));Ht=Ht.length>0?Ht.split(",").map(ft=>parseInt(ft)):[],Be=Ht.length===0?new Date:new Date(Ht[0],Ht[1],Ht[2]);break}case"bool":case"boolean":Be=Be==="true"||Be==="1";break;case"int":case"integer":Be=parseInt(Be);break;case"float":case"number":Be=parseFloat(Be);break;case"any":case"object":Be=Be.indexOf("{")>=0?JSON.parse(Be):Be}de.push(Be)}else Ye&&je--;if(Ne!==Ke&&Ke){let Ht=!0;for(let ft=0;ft<mt.length;ft++)if(ge(Ke,mt[ft])){Ht=!1;break}if(Ht&&(de[Le]!==null||!ut)){const ft=this.localize("methodInvalidValueType",{name:$,actualType:Ke,type:Ne,argumentIndex:Le});this.log(ft)}}if(de.length<je){const Ht=this.localize("methodInvalidArgumentsCount",{name:$,actualArgumentsCount:de.length,argumentsCount:je});this.log(Ht)}}}}this.context=this;const we=M.apply(Z,de);if(me){const Me=B.Types.getType(we)===void 0?"void":B.Types.getType(we);if(!ge(Me,me)){const ke=this.localize("methodInvalidReturnType",{name:$,actualType:Me,type:me});this.log(ke)}}return this.context=ee,we}},D=["constructor","ready","created","render","attached","detached","appendChild","insertBefore","removeChild","connect","disconnectedCallback","connectedCallback","attributeChangedCallback","propertyChangedHandler","enableShadowDOM","isInShadowDOM","addPropertyBindings"];for(let M in c){let $=c[M];$&&$.startsWith&&$.startsWith("_")||D.find(P=>P===$)!==void 0||b.extendedProperties[$]||B.Types.isFunction(y[$])&&(b[$]=S(y[$],$))}}defineElementProperties(c){if(!c)return;const y=this,b=y.constructor.prototype,S=Object.keys(c),D=y.getStaticMember("properties");Object.assign(b.extendedProperties,c),y.updateProperty=function(M,$,P){const G=M;if(!$||$.readOnly)return;if($.allowedValues){let de=!1;for(let me=0;me<$.allowedValues.length;me++)if($.allowedValues[me]===P){de=!0;break}if(!de){const me=JSON.stringify($.allowedValues).replace(/\[|\]/gi,"").replace(",",", ").replace(/"/gi,"'"),ge="'"+P+"'",we=G.localize("propertyInvalidValue",{name:$.name,actualValue:ge,value:me});return void G.log(we)}}const Z=$.name,ee=G._properties[Z].value;if($.validator&&G[$.validator]){const de=G.context;G.context=G;const me=G[$.validator](ee,P);me!==void 0&&(P=me),G.context=de}if(ee!==P){if(G.propertyChanging){const de=G.propertyChanging(Z,ee,P);if(de===!1||de===null)return}if(!$.hasOwnProperty("type")){const de=G.localize("propertyUnknownType",{name:Z});G.log(de)}if($.type!=="array"||JSON.stringify(ee)!==JSON.stringify(P)){if(P!=null&&$.type!=="any"&&$.type!=="propertyObject"&&$.type!==B.Types.getType(P)&&!$.validator||P===null&&!$.nullable){let de=!0;if($.type==="object"&&B.Types.getType(P)==="array"&&(de=!1),B.Types.getType(P)==="number"&&["integer","int","float"].findIndex(me=>me===$.type)>=0&&(de=!1),de){const me=G.localize("propertyInvalidValueType",{name:Z,actualType:B.Types.getType(P),type:$.type});return void G.error(me)}}if($.isUpdating=!0,$.isHierarchicalProperty){const de=function(me,ge){if(!me)return;const we=Object.keys(me);for(let Me=0;Me<we.length;Me++){const ke=we[Me],xe=me[ke];typeof xe=="object"&&!B.Types.isArray(xe)&&xe&&xe.constructor!==Date?de(xe,ge+"_"+ke):G[ge+"_"+ke]=xe}};de(P,Z)}else G._properties[Z].value=P;if(!$.isUpdatingFromAttribute&&$.reflectToAttribute&&G.$.setAttributeValue($.attributeName,P,$.type),G.isReady&&(!G.ownerElement||G.ownerElement&&G.ownerElement.isReady)){if(Z==="wait"&&(P||!ee||G.isCompleted||(G.classList.remove("smart-visibility-hidden"),G.ownerElement&&G.ownerElement.updateBoundMappedNodes(),G.updateBoundMappedNodes(),G.complete())),Z==="renderMode")return;if(G.context!==G&&!G.wait){const me=G.context;G.context=G,G.propertyChangedHandler(Z,ee,P),G.context=me,$.observer&&G[$.observer]&&(G.context=G,G[$.observer](ee,P),G.context=document),G._watch&&G._watch.properties.indexOf(Z)>=0&&G._watch.propertyChangedCallback(Z,ee,P)}const de=$.notify||G.boundProperties[Z];de&&(G.$.fireEvent($.attributeName+"-changed",{context:G.context,oldValue:ee,value:G[Z]}),G.boundProperties[Z]&&G.updateBoundNodes(Z)),de&&G.templateProperties&&G.templateProperties[Z]&&G.refreshTemplate(),G.dataContextProperties&&(Z==="dataContext"?G.applyDataContext():G.dataContextProperties[Z]&&G.updateDataContextProperty(Z))}$.isUpdating=!1}}};for(let M=0;M<S.length;M+=1){const $=S[M],P=c[$],G=B.Core.toDash($),Z=P.type||"any",ee=Z.indexOf("?")>=0||Z==="any";ee&&Z!=="any"&&(P.type=Z.substring(0,Z.length-1)),P.nullable=ee,P.attributeName=G.toLowerCase(),P.name=$,P.reflectToAttribute=P.reflectToAttribute===void 0||P.reflectToAttribute,P.inherit&&D[$]&&(P.value=D[$].value),P.extend&&D[$]&&B.Core.assign(P.value,D[$].value),b.hasOwnProperty($)||Object.defineProperty(b,$,{configurable:!1,enumerable:!0,get(){if(this._properties[$])return this._properties[$].value},set(de){const me=this;me.updateProperty(me,me._properties[$],de)}})}}}let F=[],q=[],Y=[],X=!1;const ae=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);ae&&parseInt(ae[2],10)<=50&&(X=!0);class Q{static register(c,y){const b=y.prototype;let S=d.toCamelCase(c).replace(/[a-z]+/,""),D=y.version||window[n].Version;if(window.customElements.get(c)&&window.customElements.get(c).version===D)return;let M=c;for(D=D.split(".");window.customElements.get(c);)c=M+"-"+D.join("."),D[2]=parseInt(D[2])+1;if(!F[c]){if(c.startsWith(n.toLowerCase()))F[c]=window[n][S]=window[n.toLowerCase()+S]=y;else{let $=c.split("-")[0];$=$.substring(0,1).toUpperCase()+$.substring(1),window[n][$]||(window[n][$]={}),F[c]=window[n][$][S]=window[$.toLowerCase()+S]=y,window[n][S]&&(S=d.toCamelCase(c)),window[n][S]=y}b.elementName=S,b.defineElement(),q[c]&&q[c](b),window.customElements.define(c,y)}}static registerElements(){const c=this;if(c.toRegister){c.isRegistering=!0;for(let y=0;y<c.toRegister.length;y++){const b=c.toRegister[y];c.register(b.tagName,b.element)}c.isRegistering=!1}}static get(c){if(F[c])return F[c]}static whenRegistered(c,y){if(!c)throw new Error("Syntax Error: Invalid tag name");const b=q[c],S=this.get(c),D=S?S.modules.length:3;try{b||S?!b&&S?(y(S.prototype),q[c]=void 0):b&&!S?q[c]=function(M){b(M),y(M)}:b&&S&&(S.proto&&(b(S.proto),y(S.proto)),q[c]=void 0):q[c]=function(M){try{y(M)}catch($){const P=$ instanceof Error?$.message:$.toString();console.log(P)}}}catch(M){const $=M instanceof Error?M.message:M.toString();console.log($)}if(S&&D!==S.prototype.modules.length){const M=document.querySelectorAll(c);for(let $=0;$<M.length;$++){const P=M[$];P.isCreated&&P._initElement()}}}}Q.lazyRegister=!1,Q.tagNames=[];class ie{constructor(){const c=this;c.name="observableArray",c.observables=arguments.length<3?null:arguments[2];const y=new Proxy(c,{deleteProperty:function(b,S){return delete b[S],!0},apply:function(b,S,D){return b.apply(S,D)},get:function(b,S){return typeof(D=S)=="symbol"||typeof D=="object"&&Object.prototype.toString.call(D)==="[object Symbol]"||b[S]||isNaN(parseInt(S))?b[S]:c.getItem(parseInt(S));var D},set:function(b,S,D){return b[S]||isNaN(parseInt(S))?(b[S]=D,!0):(c.setItem(parseInt(S),D),!0)}});if(c._addArgs={eventName:"change",object:y,action:"add",index:null,removed:new Array,addedCount:1},c._removeArgs={eventName:"change",object:y,action:"remove",index:null,removed:null,addedCount:0},arguments.length>=1&&Array.isArray(arguments[0])){c._array=[];const b=arguments[0];for(let S=0,D=b.length;S<D;S++){const M=c._getItem(c._array.length,b[S]);c._array.push(M)}}else c._array=Array.apply(null,arguments);return arguments.length===2&&(c.notifyFn=arguments[1]),y}get canNotify(){const c=this;return c._canNotify===void 0&&(c._canNotify=!0),c._canNotify}set canNotify(c){this._canNotify=c}_notify(c){const y=this;y.canNotify&&y.notifyFn&&y.notifyFn(c)}notify(c){c&&(this.notifyFn=c)}toArray(){return this._array}_getItem(c,y){const b=this;return typeof y=="string"||typeof y=="number"||y===void 0?y:new Proxy(y,{deleteProperty:function(S,D){return delete S[D],!0},set:function(S,D,M){const $=S[D];return S[D]=M,!b._canNotify||S.canNotify===!1||(b.observables&&!b.observables[D]||b._notify({eventName:"change",object:b,target:S,action:"update",index:c,path:c+"."+D,oldValue:$,newValue:M,propertyName:D}),!0)}})}getItem(c){return this._array[c]}setItem(c,y){const b=this,S=b._array[c];b._array[c]=b._getItem(c,y),b._notify({eventName:"change",object:b._array,action:"update",index:c,removed:[S],addedCount:1})}get length(){return this._array.length}set length(c){const y=this;i.isNumber(c)&&y._array&&y._array.length!==c&&y.splice(c,y._array.length-c)}toString(){return this._array.toString()}toLocaleString(){return this._array.toLocaleString()}concat(){const c=this;c._addArgs.index=c._array.length;const y=c._array.concat.apply(c._array,arguments);return new Smart.ObservableArray(y)}join(c){return this._array.join(c)}pop(){const c=this;c._removeArgs.index=c._array.length-1,delete c[c._array.length-1];const y=c._array.pop();return c._removeArgs.removed=[y],c._notify(c._removeArgs),c._notifyLengthChange(),y}push(){const c=this;if(c._addArgs.index=c._array.length,arguments.length===1&&Array.isArray(arguments[0])){const y=arguments[0];for(let b=0,S=y.length;b<S;b++){const D=c._getItem(c._array.length,y[b]);c._array.push(D)}}else{const y=c._getItem(c._addArgs.index,arguments[0]);c._array.push.apply(c._array,[y])}return c._addArgs.addedCount=c._array.length-c._addArgs.index,c._notify(c._addArgs),c._notifyLengthChange(),c._array.length}_notifyLengthChange(){const c=this;if(!c.canNotify)return;const y=c._createPropertyChangeData("length",c._array.length);c._notify(y)}_createPropertyChangeData(c,y,b){return{eventName:"change",object:this,action:c,value:y,oldValue:b}}reverse(){return this._array.reverse()}shift(){const c=this,y=c._array.shift();return c._removeArgs.index=0,c._removeArgs.removed=[y],c._notify(c._removeArgs),c._notifyLengthChange(),y}slice(c,y){return this._array.slice(c,y)}sort(c){return this._array.sort(c)}splice(c,y,b){const S=this,D=S._array.length;let M;if(b&&b.length)for(let $=0;$<b.length;$++)M=S._array.splice(c+$,y,b[$]);else M=S._array.splice.apply(S._array,arguments);if(b){let $=S.canNotify;if(S.canNotify=!1,b.length)for(let P=0;P<b.length;P++)S.setItem(c+P,b[P]);else S.setItem(c,b);S.canNotify=$,S._notify({eventName:"change",object:this,action:"add",index:c,added:M,addedCount:S._array.length>D?S._array.length-D:0})}else S._notify({eventName:"change",object:this,action:"remove",index:c,removed:M,addedCount:S._array.length>D?S._array.length-D:0});return S._array.length!==D&&S._notifyLengthChange(),M}unshift(){const c=this,y=c._array.length,b=c._array.unshift.apply(c._array,arguments);return c._addArgs.index=0,c._addArgs.addedCount=b-y,c._notify(this._addArgs),c._notifyLengthChange(),b}indexOf(c,y){const b=this;for(let S=y||0,D=b._array.length;S<D;S++)if(b._array[S]===c)return S;return-1}lastIndexOf(c,y){const b=this;for(let S=y||b._array.length-1;S>=0;S--)if(b._array[S]===c)return S;return-1}find(c,y){return this._array.find(c,y)}findIndex(c,y){return this._array.findIndex(c,y)}every(c,y){return this._array.every(c,y)}some(c,y){return this._array.some(c,y)}forEach(c,y){this._array.forEach(c,y)}map(c,y){return this._array.map(c,y)}filter(c,y){return this._array.filter(c,y)}reduce(c,y){return y!==void 0?this._array.reduce(c,y):this._array.reduce(c)}reduceRight(c,y){return y!==void 0?this._array.reduceRight(c,y):this._array.reduceRight(c)}move(c,y){this.splice(y,0,this.splice(c,1)[0])}}let te={};window[n]&&(te=window[n]),window[n]=function(m,c){let y=m;if(m){if(m.indexOf("#")>=0||m.indexOf(".")>=0)return w[m]?w[m]:c?(w[m]=new c,function(b,S){const D=S.properties;S._properties=[];const M=function(P,G){const Z=Object.keys(P);for(let ee=0;ee<Z.length;ee++){const de=Z[ee],me=P[de];S._properties[G+de]=me,Array.isArray(me)?S._properties[G+de]=new ie(me,function(ge){const we=de+"."+ge.path,Me=ge.newValue,ke=document.querySelector(b);if(ke){const xe=we.split(".");let Ve=ke;for(let ye=0;ye<xe.length;ye++)Ve=Ve[xe[ye]];Ve=Me}}):(Object.defineProperty(P,de,{configurable:!1,enumerable:!0,get:()=>S._properties[G+de],set(ge){S._properties[G+de]=ge}}),me&&me.constructor.name==="DataAdapter"||me&&typeof me=="object"&&Smart.DataAdapter&&me instanceof Smart.DataAdapter||typeof me=="object"&&me&&Object.keys(me).length>0&&M(me,G+de+"."))}};M(D,""),Object.defineProperty(S,"properties",{configurable:!1,enumerable:!0,get:()=>D});const $=document.querySelector(b);if($&&$.isReady)for(let P in D)if(P==="properties"){const G=D[P];for(let Z in G)$[Z]=G[Z]}else $[P]=D[P];else if($){$.props={};for(let P in D)$.props[P]=D[P]}}(m,w[m]),w[m]):void 0;if(c){if(Q.tagNames[m]=c,Q.lazyRegister){Q.toRegister||(Q.toRegister=[]);const b=d.toCamelCase(y).replace(/[a-z]+/,"");return window[n][b]=c,void Q.toRegister.push({tagName:y,element:c})}Q.register(y,c)}}},window.addEventListener("load",function(){const m=window[n].Elements.tagNames;let c=[];for(let y in m){const b=m[y];let S=document.querySelectorAll("["+y+"]");for(let M=0;M<S.length;M++){const $=S[M];$ instanceof HTMLDivElement&&($.__proto__=b.prototype,$.created(),$.connectedCallback()),$.classList.add("smart-element-ready")}let D=b.name;D==="Item"&&(D="ListItem"),S=document.querySelectorAll('[is="'+n.toLocaleLowerCase()+D+'"]');for(let M=0;M<S.length;M++)c.push(S[M])}if(c.length>0){const y=b=>{let S=[],D=b.parentNode;for(;D&&D.nodeType!==9;)D instanceof HTMLElement==1&&S.push(D),D=D.parentNode;return S};c.sort(function(b,S){let D=y(b).length,M=y(S).length;return D<M?1:D>M?-1:0});for(let b=0;b<c.length;b++){const S=c[b],D=S.getAttribute("is");let M;M=D==="smartItem"?new window.smartListItem(S):new window[D](S),M.removeAttribute("is")}}});const E=function(){if(document.readyState==="complete"&&window[n].RenderMode!=="manual"){Y.sort(function(m,c){let y=m.element.parents.length,b=c.element.parents.length;return y<b?-1:y>b?1:0});for(let m=0;m<Y.length;m++)window[n].RenderMode="",Y[m].element.isLoading=!1,Y[m].callback(),window[n].RenderMode="";Y=[],document.removeEventListener("readystatechange",E)}};Object.assign(window[n],{Elements:Q,Modules:[],BaseElement:class extends N{static get observedAttributes(){let m=this,c=["external-style"];for(let y in m.prototype.extendedProperties){const b=m.prototype.extendedProperties[y];c.push(b.attributeName)}return c}static get styleUrls(){return[]}static get styles(){return""}get styleUrl(){return this._styleUrl}set styleUrl(m){this._styleUrl=m}get isInShadowDOM(){const m=this,c=m.getRootNode();return!m.hasAttribute("smart-blazor")&&c!==document&&c!==m}getShadowRootOrBody(){const m=this;return m.isInShadowDOM&&m.getRootNode().host?m.getRootNode().host.shadowRoot:document.body}get enableShadowDOM(){return window[n].EnableShadowDOM}importStyle(m,c){this._importStyle(m,c)}_importStyle(m,c){const y=this;if(!y.shadowRoot||!m)return;const b=M=>{const $=y.shadowRoot.children;for(let G=0;G<$.length;G++){const Z=$[G];if(Z instanceof HTMLLinkElement&&Z.href===M)return c&&c(),null}const P=document.createElement("link");return P.rel="stylesheet",P.type="text/css",P.href=M,P.onload=c,P},S=(()=>{const M=y.shadowRoot.children;let $=null;for(let P=0;P<M.length;P++){const G=M[P];G instanceof HTMLLinkElement&&($=G)}return $})(),D=(M,$)=>{$.parentNode.insertBefore(M,$.nextSibling)};if(Array.isArray(m)){const M=document.createDocumentFragment();for(let $=0;$<m.length;$++){const P=b(m[$]);P&&M.appendChild(P)}S?D(M,S):y.shadowRoot.insertBefore(M,y.shadowRoot.firstChild)}else{const M=b(m);if(!M)return;S?D(M,S):y.shadowRoot.insertBefore(M,y.shadowRoot.firstChild)}}attributeChanged(m,c,y){m==="style-url"&&(this.styleUrl=y)}attributeChangedCallback(m,c,y){this.isReady&&super.attributeChangedCallback(m,c,y)}constructor(m,c){super();const y=this;if(m){c&&(y._initProperties=c);const b=S=>{if(typeof S=="string"?document.querySelector(S):S){const D=typeof S=="string"?document.querySelector(S):S;if(D instanceof HTMLDivElement){const M=document.createElement(y.tagName);for(let $ of D.attributes)M.setAttribute($.name,D.getAttribute($.name));for(;D.childNodes.length;)M.appendChild(D.firstChild);return typeof S=="string"&&(M.id=S.substring(1)),M._initProperties=c,D.parentNode&&D.parentNode.replaceChild(M,D),M}if(c){const M=D.context;if(D._initProperties=c,D.isReady){D.context=D;const $={},P={};for(let G in c)$[G]=D[G],P[G]=c[G];Object.getOwnPropertyNames(c).length>0&&(D.initProperties(),D.propertyChangedHandler(c,$,P)),D.context=M}}return D}};if(typeof m=="string"){const S=document.querySelectorAll(m),D=[];if(S.length>1){for(let M=0;M<S.length;M++){const $=b(S[M]);D.push($)}return D}}else if(m&&m.length>0){const S=m;if(S.length>1){for(let D=0;D<S.length;D++){const M=b(S[D]);F.push(M)}return F}}return b(m)}y._styleUrl="",y.isUtilityElement||y.created()}_getRootShadowParent(){let m=this.shadowParent;for(;m;){if(!m.shadowParent)return m;m=m.shadowParent}return m||this.shadowParent}_getStyleUrl(m){let c=B.Core.getScriptLocation()+window[n].StyleBaseUrl+m;return this.shadowParent&&(c=c.replace("scoped/","")),c}_getStyleUrls(){const m=this;m.nodeName.startsWith(n);const c=m.getStaticMember("styleUrls","array"),y=[];for(let b=0;b<c.length;b++){const S=c[b],D=m._getStyleUrl(S);y.push(D)}return y}_setupShadowRoot(){const m=this;m.classList.add("smart-element-init");const c=y=>{y.$.root&&(y.$.root.classList.add(n.toLowerCase()+"-element"),y.$.root.classList.add(m.nodeName.toLowerCase())),y.setup(),y.classList.remove("smart-element-init")};if(document.adoptedStyleSheets)if(window[n].AdoptedStyleSheets)window[n].AdoptedStyleSheetsLoaded?(m.shadowRoot.adoptedStyleSheets=window[n].AdoptedStyleSheets,c(m)):(m.shadowRoot.adoptedStyleSheets=window[n].AdoptedStyleSheets,window[n].AdoptedStyleSheetsLoadedQueue||(window[n].AdoptedStyleSheetsLoadedQueue=[]),window[n].AdoptedStyleSheetsLoadedQueue.push(m));else{const y=new CSSStyleSheet;let b=B.Core.getScriptLocation()+"/styles/smart.default.css";y.replace('@import url("'+b+'")').then(()=>{if(c(m),window[n].AdoptedStyleSheetsLoaded=!0,window[n].AdoptedStyleSheetsLoadedQueue){const S=window[n].AdoptedStyleSheetsLoadedQueue;for(let D=0;D<S.length;D++){const M=S[D];c(M)}delete window[n].AdoptedStyleSheetsLoadedQueue}}).catch(S=>{console.error("Failed to load:",S)}),window[n].AdoptedStyleSheets=[y],document.adoptedStyleSheets=[y],m.shadowRoot.adoptedStyleSheets=window[n].AdoptedStyleSheets}}connect(){const m=this;window[n].EnableShadowDOM&&!m.shadowRoot&&m.isInShadowDOM!==!0&&(m.attachShadow({mode:"open"}),m.shadowRoot&&m.$.root&&(m.shadowRoot.appendChild(m.$.root),m.$.root.classList.add(m.nodeName.toLowerCase()))),m.shadowRoot||m.shadowParent?m.shadowRoot?m._setupShadowRoot():(m.shadowParent&&window[n].EnableShadowDOM,m.setup()):m.setup()}connectedCallback(){const m=this;if(m.isLoading||m.isUtilityElement)return;m.classList.add("smart-element-init");const c=function(){m.classList.remove("smart-element-init")};if(document.readyState==="complete"&&(window[n].isAngular===void 0&&(window[n].isAngular=document.body.querySelector("[ng-version]")!==null),window[n].isVue===void 0&&(window[n].isVue=document.querySelector(".vue-root")!==null),window[n].isAngular)){for(let y=0;y<m.parents.length&&!m.parents[y].nodeName.toLowerCase().startsWith(n.toLowerCase()+"-");y++)if(m.parents[y].hasAttribute("ng-version")&&!m.classList.contains("smart-angular")){window[n].RenderMode="manual";break}}if(document.readyState==="complete"&&window[n].RenderMode!=="manual"){const y=m.parents;y.length&&y[y.length-1].nodeName==="HTML"||m.getRootNode().host?(m.checkIsInDomTimer&&clearInterval(m.checkIsInDomTimer),c(),m.connect()):(m.checkIsInDomTimer&&clearInterval(m.checkIsInDomTimer),y.length>0&&(m.checkIsInDomTimer=setInterval(()=>{const b=m.parents;b.length===0&&clearInterval(m.checkIsInDomTimer),b.length>0&&b[b.length-1].nodeName==="HTML"&&(clearInterval(m.checkIsInDomTimer),c(),m.connect())},100)))}else m.isLoading=!0,Y.push({element:this,callback:(function(){this.isReady||(c(),this.connect())}).bind(m)})}disconnectedCallback(){const m=this;m.isAttached?(m.shadowParent=null,m.detached()):m._resetShadowParent()}adoptedCallback(){this.setup()}appendTemplate(m){const c=this;c.shadowRoot?c.shadowRoot.appendChild(m):c.appendChild(m)}_resetShadowParent(){const m=this;if(!window[n].EnableShadowDOM||m.shadowParent===null)return;const c=[];let y=m.parentNode;for(;y&&y.nodeType!==9;){if(y instanceof HTMLElement==1)c.push(y);else if(y.nodeType===11&&y.host){y=y.host;continue}y=y.parentNode}for(let b=0;b<c.length;b++)if(c[b]===m.shadowParent)return;c.length>0&&c[c.length-1].nodeName==="HTML"&&(m.shadowParent=null)}},Utilities:B,Import:function(m,c){let y=0;const b=function(S,D){return new Promise(M=>{const $=document.createElement("script");$.src=S,$.onload=M;for(let P=0;P<document.head.children.length;P++){const G=document.head.children[P];if(G.src&&G.src.toString().indexOf(D)>=0)return void M()}document.head.appendChild($)})};return new Promise(S=>{const D=B.Core.getScriptLocation(),M=function($){if(!m[$])return;const P=D+"/"+m[$];b(P,m[$]).then(function(){y++,y===m.length&&S(),M($+1)})};if(c)for(let $=0;$<m.length;$++){const P=D+"/"+m[$];b(P,m[$]).then(function(){y++,y===m.length&&S()})}else M(0)})},ObservableArray:ie,Observable:class{constructor(m,c){const y=this;var b;return this.name="observable",m&&Object.assign(y,m),b=m,Object.getOwnPropertyNames(Object.getPrototypeOf(b)).forEach(S=>S==="constructor"||!!S.startsWith("_")||void(y[S]=b[S])),new Proxy(y,{deleteProperty:function(S,D){return delete S[D],!0},get:function(S,D){return S[D]},set:function(S,D,M){const $=S[D];return $===M||(S[D]=M,!(D!=="notifyFn"&&!D.startsWith("_")&&D!=="canNotify"&&(!c||c.indexOf(D)!==-1)&&y.canNotify&&(y._notify({target:S,propertyName:D,oldValue:$,newValue:M}),0)))}})}get canNotify(){const m=this;return m._canNotify===void 0&&(m._canNotify=!0),m._canNotify}set canNotify(m){this._canNotify=m}_notify(m){const c=this;if(c.canNotify&&c.notifyFn)for(let y=0;y<c.notifyFn.length;y++)c.notifyFn[y](m)}notify(m){const c=this;m&&(c.notifyFn||(c.notifyFn=[]),c.notifyFn.push(m))}},Component:class{constructor(m,c){const y=this.name;let b=null;return m?b=new window[y](m,c):(b=new window[y],b._initProperties=c),this._element=b,b}get name(){return"Component"}get element(){return this._element}},Theme:te.Theme||"",EnableShadowDOM:te.ShadowDom||!1,BaseUrl:"./",StyleBaseUrl:"/styles/default/",Version:e,Templates:t,RenderMode:te.RenderMode||"auto",Render:function(){const m=()=>{window[n].RenderMode="",E()};document.readyState==="complete"?m():(window.removeEventListener("load",m),window.addEventListener("load",m))},Data:w,Mode:te.Mode||"production",License:te.License||"Evaluation"});let l=window[n].Theme;window[n].RenderMode!=="manual"&&document.addEventListener("readystatechange",E),Object.defineProperty(window[n],"Theme",{configurable:!1,enumerable:!0,get:()=>l,set(m){const c=l;l=m,H.fireEvent("theme-changed",{oldValue:c,newValue:m},{bubbles:!0,cancelable:!0})}}),window[n]("smart-base-element",window[n].BaseElement),window[n]("smart-content-element",class extends window[n].BaseElement{static get properties(){return{content:{type:"any",reflectToAttribute:!1},innerHTML:{type:"string",reflectToAttribute:!1}}}template(){return"<div inner-h-t-m-l='[[innerHTML]]'></div>"}ready(){super.ready(),this.applyContent()}refresh(){}clearContent(){const m=this;for(;m.$.content.firstChild;)m.$.content.removeChild(m.$.content.firstChild)}applyContent(){const m=this;if(m.content===void 0)return void(m.content=m.$.content);if(m.content===""||m.content===null)return void m.clearContent();if(m.content instanceof HTMLElement)return m.clearContent(),void m.$.content.appendChild(m.content);const c=document.createDocumentFragment();let y=document.createElement("div");c.appendChild(y),m.content instanceof HTMLElement?y.appendChild(m.content):y.innerHTML=m.content;let b=Array.from(y.childNodes);y.parentNode.removeChild(y);for(let S=0;S<b.length;S++)c.appendChild(b[S]);m.clearContent(),m.$.content.appendChild(c)}propertyChangedHandler(m,c,y){super.propertyChangedHandler(m,c,y);const b=this;c!==y&&(m==="innerHTML"&&(b.content=y,b.applyContent(),b.innerHTML=b.content=B.Core.html(b.$.content)),m==="content"&&b.applyContent())}}),window[n]("smart-scroll-viewer",class extends window[n].ContentElement{static get properties(){return{autoRefresh:{type:"boolean",value:!1},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},touchScrollRatio:{type:"any",value:null},touchVelocityCoefficient:{type:"number",value:50},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}static get listeners(){return{touchmove:"_touchmoveHandler",touchstart:"_touchstartHandler",wheel:"_mouseWheelHandler","document.up":"_upHandler"}}static get styleUrls(){return["smart.scrollviewer.css"]}template(){return`<div id="container" class="smart-container" role="presentation">
                        <div id="scrollViewerContainer" class="smart-scroll-viewer-container" role="presentation">
                            <div id="scrollViewerContentContainer" inner-h-t-m-l='[[innerHTML]]' class="smart-scroll-viewer-content-container" role="presentation">
                                <content></content>
                            </div>
                        </div>
                        <smart-scroll-bar id="verticalScrollBar" theme="[[theme]]"  animation="[[animation]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]" orientation="vertical"></smart-scroll-bar>
                        <smart-scroll-bar id="horizontalScrollBar" theme="[[theme]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]"></smart-scroll-bar>
                    </div>`}appendChild(m){const c=this;if(m){if(!c.isCompleted||m.classList&&m.classList.contains("smart-resize-trigger-container")){const y=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(c,y.concat(Array.prototype.slice.call(arguments)))}c.$.scrollViewerContentContainer.appendChild(m)}}removeChild(m){const c=this;if(m){if(!c.isCompleted||m.classList&&m.classList.contains("smart-resize-trigger-container")){const y=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(c,y.concat(Array.prototype.slice.call(arguments)))}c.$.scrollViewerContentContainer.removeChild(m)}}removeAll(){const m=this;m.isCompleted&&(m.$.scrollViewerContentContainer.innerHTML="")}_horizontalScrollbarHandler(m){const c=this;c.$.scrollViewerContentContainer.style.left=(c.rightToLeft?1:-1)*c.scrollLeft+"px",m.stopPropagation&&m.stopPropagation(),c.onHorizontalChange&&c.onHorizontalChange(m)}_verticalScrollbarHandler(m){const c=this;c.$.scrollViewerContentContainer.style.top=-c.scrollTop+"px",m.stopPropagation&&m.stopPropagation(),c.onVerticalChange&&c.onVerticalChange(m)}_touchmoveHandler(m){const c=this;if(c._touchmoveInside&&m.cancelable)return m.preventDefault(),void m.stopPropagation();const y=c.scrollHeight>0,b=c.scrollWidth>0,S=c._touchCoords;if(!y&&!b||!S)return;const D=m.touches[0];let M,$,P,G;c._touchCoords=[D.pageX,D.pageY],y?(M=c.scrollTop,$=c.scrollHeight,P=D.pageY,G=S[1]):(M=c.scrollLeft,$=c.scrollWidth,P=D.pageX,G=S[0]);const Z=parseFloat(P.toFixed(5)),ee=parseFloat(G.toFixed(5));M===0&&Z>=ee||M===$&&Z<=ee||(P!==G&&(c._touchmoveInside=!0),m.cancelable&&(m.preventDefault(),m.stopPropagation()))}_touchstartHandler(m){const c=m.touches[0];this._touchCoords=[c.pageX,c.pageY]}_mouseWheelHandler(m){const c=this;if(!c.disabled&&(c.computedHorizontalScrollBarVisibility||c.computedVerticalScrollBarVisibility)){if(m.shiftKey&&c.computedHorizontalScrollBarVisibility){const y=c.scrollLeft;return y===0&&m.deltaX<0||y===c.scrollHeight&&m.deltaX>0?void 0:(m.stopPropagation(),m.preventDefault(),void(c.scrollWidth>0&&c.scrollTo(void 0,c.scrollLeft+c._getScrollCoefficient(m,c.offsetWidth))))}if(c.computedVerticalScrollBarVisibility){const y=c.scrollTop;if(y===0&&m.deltaY<0||y===c.scrollHeight&&m.deltaY>0)return;if(m.stopPropagation(),m.preventDefault(),c.scrollHeight>0){c._wheelrafId=0;const b=()=>{c.scrollTop+=m.deltaY};cancelAnimationFrame(c._wheelrafId),c._wheelrafId=0,c._wheelrafId=requestAnimationFrame(b)}}}}_overriddenHandler(){}_upHandler(){delete this._touchCoords,delete this._touchmoveInside}_getScrollCoefficient(m,c){const y=m.deltaMode,b=Math.abs(m.deltaY);let S;return y===0?S=b<33.333333333333336?b:c:y===1?S=b<1?b*33.333333333333336:c:y===2&&(S=c),m.deltaY<0?-S:S}applyContent(){super.applyContent(),this.refresh()}get computedHorizontalScrollBarVisibility(){const m=this;return m._scrollView&&m._scrollView.hScrollBar?!m._scrollView.hScrollBar.$.hasClass("smart-hidden"):null}get computedVerticalScrollBarVisibility(){const m=this;return m._scrollView&&m._scrollView.vScrollBar?!m._scrollView.vScrollBar.$.hasClass("smart-hidden"):null}scrollTo(m,c){const y=this;y._scrollView&&(m!==void 0&&y._scrollView.scrollTo(m),c!==void 0&&y._scrollView.scrollTo(c,!1))}refreshScrollBarsVisibility(){const m=this;m._scrollView&&(m._scrollView.hScrollBar.disabled=m.disabled,m._scrollView.vScrollBar.disabled=m.disabled,m.horizontalScrollBarVisibility==="disabled"&&(m._scrollView.hScrollBar.disabled=!0),m.verticalScrollBarVisibility==="disabled"&&(m._scrollView.vScrollBar.disabled=!0),m.scrollWidth>0?m._scrollView.hScrollBar.$.removeClass("smart-hidden"):m.horizontalScrollBarVisibility!=="visible"&&m._scrollView.hScrollBar.$.addClass("smart-hidden"),m.scrollHeight>0?m._scrollView.vScrollBar.$.removeClass("smart-hidden"):m.verticalScrollBarVisibility!=="visible"&&m._scrollView.vScrollBar.$.addClass("smart-hidden"),m.horizontalScrollBarVisibility==="hidden"&&m._scrollView.hScrollBar.$.addClass("smart-hidden"),m.verticalScrollBarVisibility==="hidden"&&m._scrollView.vScrollBar.$.addClass("smart-hidden"),m.horizontalScrollBarVisibility==="visible"&&m._scrollView.hScrollBar.$.removeClass("smart-hidden"),m.verticalScrollBarVisibility==="visible"&&(m._scrollView.vScrollBar.$.removeClass("smart-hidden"),m.disabled||(m._scrollView.vScrollBar.disabled=m.scrollHeight<=0)),m.computedHorizontalScrollBarVisibility&&m.computedVerticalScrollBarVisibility?(m._scrollView.hScrollBar.$.addClass("bottom-corner"),m._scrollView.vScrollBar.$.addClass("bottom-corner")):(m._scrollView.hScrollBar.$.removeClass("bottom-corner"),m._scrollView.vScrollBar.$.removeClass("bottom-corner")))}ready(){super.ready();const m=this;m.$.verticalScrollBar.onChange=c=>{c.detail=c,m._verticalScrollbarHandler(c)},m.$.horizontalScrollBar.onChange=c=>{c.detail=c,m._horizontalScrollbarHandler(c)},m.$.verticalScrollBar.setAttribute("aria-controls",m.id),m.$.horizontalScrollBar.setAttribute("aria-controls",m.id),m._customScrollView||(m._scrollView=new Smart.Utilities.Scroll(m,m.$.horizontalScrollBar,m.$.verticalScrollBar)),m.refresh()}refresh(){const m=this;function c(){const D=m.$.scrollViewerContainer.classList.contains("vscroll");m.$.scrollViewerContainer.classList.remove("vscroll");const M=m.$.scrollViewerContentContainer.offsetWidth-m.$.scrollViewerContainer.offsetWidth;return M>0&&m.horizontalScrollBarVisibility!=="hidden"||m.horizontalScrollBarVisibility==="visible"?m.$.scrollViewerContainer.classList.add("hscroll"):m.$.scrollViewerContainer.classList.remove("hscroll"),D&&m.$.scrollViewerContainer.classList.add("vscroll"),M}function y(){let D;const M=m.$.scrollViewerContainer.classList.contains("hscroll");if(m.$.scrollViewerContainer.classList.remove("hscroll"),Smart.Utilities.Core.Browser.Safari){const $=m.$.scrollViewerContentContainer.getBoundingClientRect().height,P=m.$.scrollViewerContainer.getBoundingClientRect().height;D=$&&P?parseInt($)-parseInt(P):m.$.scrollViewerContentContainer.offsetHeight-m.$.scrollViewerContainer.offsetHeight}else D=m.$.scrollViewerContentContainer.offsetHeight-m.$.scrollViewerContainer.offsetHeight;return m.virtualScrollHeight&&(D=m.virtualScrollHeight),D>0&&m.verticalScrollBarVisibility!=="hidden"||m.verticalScrollBarVisibility==="visible"?m.$.scrollViewerContainer.classList.add("vscroll"):m.$.scrollViewerContainer.classList.remove("vscroll"),M&&m.$.scrollViewerContainer.classList.add("hscroll"),D}if(!m.$.scrollViewerContentContainer)return;m.verticalScrollBarVisibility==="hidden"&&m.$.scrollViewerContentContainer.setAttribute("disable-vertical",""),m.horizontalScrollBarVisibility==="hidden"&&m.$.scrollViewerContentContainer.setAttribute("disable-horizontal","");let b=m.scrollWidth,S=m.scrollHeight;m.scrollWidth=c(),m.scrollHeight=y(),m.scrollHeight&&S===m.scrollHeight||(m.scrollWidth=c()),m.scrollWidth&&b===m.scrollWidth||(m.scrollHeight=y()),m.computedVerticalScrollBarVisibility&&(m.scrollHeight+=m._scrollView.hScrollBar.offsetHeight),m.computedHorizontalScrollBarVisibility&&(m.scrollWidth+=m._scrollView.vScrollBar.offsetWidth),m.scrollHeight===0&&m.scrollWidth>0&&m.$.container.offsetHeight-m.$.content.offsetHeight<5&&(m.$.container.style.paddingBottom=m._scrollView.hScrollBar.offsetHeight+"px"),m.autoRefresh&&(m.$.scrollViewerContainer.scrollLeft=0,m.$.scrollViewerContainer.scrollTop=0)}attached(){const m=this;super.attached(),m._scrollView||m._customScrollView||(m._scrollView=new Smart.Utilities.Scroll(m,m.$.horizontalScrollBar,m.$.verticalScrollBar))}detached(){const m=this;super.detached(),m._scrollView&&(m._scrollView.unlisten(),delete m._scrollView)}get scrollWidth(){const m=this;return m._scrollView&&m._scrollView.hScrollBar?m._scrollView.hScrollBar.max===1&&m.horizontalScrollBarVisibility==="visible"?0:m._scrollView.hScrollBar.max:-1}set scrollWidth(m){const c=this;m<0&&(m=0),c._scrollView&&c._scrollView.hScrollBar&&(m===0&&c.horizontalScrollBarVisibility==="visible"?c._scrollView.hScrollBar.max=0:c._scrollView.hScrollBar.max=m,c.refreshScrollBarsVisibility())}get scrollHeight(){const m=this;return m._scrollView&&m._scrollView.vScrollBar?m._scrollView.vScrollBar.max===1&&m.verticalScrollBarVisibility==="visible"?0:m._scrollView.vScrollBar.max:0}set scrollHeight(m){const c=this;m<0&&(m=0),c._scrollView&&c._scrollView.vScrollBar&&(m===0&&c.verticalScrollBarVisibility==="visible"?c._scrollView.vScrollBar.max=1:c._scrollView.vScrollBar.max=m,c.refreshScrollBarsVisibility())}get scrollLeft(){const m=this;return m._scrollView&&m._scrollView.hScrollBar?m._scrollView.hScrollBar.value:0}set scrollLeft(m){const c=this;m<0&&(m=0),c._scrollView&&c._scrollView.hScrollBar&&(c._scrollView.hScrollBar.value=m)}get scrollTop(){const m=this;return m._scrollView&&m._scrollView.vScrollBar?m._scrollView.vScrollBar.value:0}set scrollTop(m){const c=this;m<0&&(m=0),c._scrollView&&c._scrollView.vScrollBar&&(c._scrollView.vScrollBar.value=m)}propertyChangedHandler(m,c,y){const b=this;super.propertyChangedHandler(m,c,y),m!=="animation"&&m!=="theme"&&b.refresh()}}),window[n].Utilities.Assign("PositionDetection",class{constructor(m,c,y,b){const S=this;if(c){const D="dropDown"+Math.floor(65536*(1+Math.random())).toString(16).substring(1);c.id=D,m.setAttribute("aria-owns",D)}S.context=m,S.dropDown=c,S.defaultParent=y,S.closeMethod=b}handleAutoPositioning(){const m=this,c=m.context;if(c.dropDownPosition!=="auto"||c.disabled||c.isHidden)return;const y=window.requestAnimationFrame;let b,S=Date.now();return b=y(function D(){c.isHidden||document.hidden||(b=y(D),c.dropDownPosition==="auto"&&!c.disabled&&(c.isInShadowDOM?document.body.contains(c.shadowParent):document.body.contains(c))||cancelAnimationFrame(b),c.isHidden&&cancelAnimationFrame(b),Date.now()-S>=200&&(m.scrollHandler(),S=Date.now()))})}checkBrowserBounds(m){const c=this.context;if(c.dropDownPosition==="auto"&&!c.disabled)switch(m){case"vertically":this.checkBrowserBoundsVertically();break;case"horizontally":this.checkBrowserBoundsHorizontally();break;default:this.checkBrowserBoundsVertically(),this.checkBrowserBoundsHorizontally()}}checkBrowserBoundsHorizontally(){const m=this.context,c=this.dropDown;let y,b=0;d.isMobile||window.innerWidth===document.documentElement.clientWidth||(b=window.innerWidth-document.documentElement.clientWidth),m._dropDownParent!==null?y=!0:c.style.left="";const S=window.innerWidth-b;let D=m.getBoundingClientRect().left;if(D<0&&(c.style.left=(y?0:Math.abs(D))+"px",D=parseFloat(c.style.left)),D+c.offsetWidth>S){let M=D-Math.abs(S-D-c.offsetWidth);y&&(M+=window.pageXOffset),c.style.left=(y?M:M-D)+"px",window.innerWidth===document.documentElement.clientWidth&&(c.style.left=parseFloat(c.style.left)+b+"px"),y&&window.innerHeight===document.documentElement.clientHeight&&this.positionDropDown(!0)}}checkBrowserBoundsVertically(m){const c=this.context,y=this.dropDown,b=c._dropDownListPosition;m||(m=c.getBoundingClientRect()),m.height!==0&&(document.documentElement.clientHeight-Math.abs(m.top+m.height+y.offsetHeight)>=0?c._dropDownListPosition="bottom":m.top-y.offsetHeight>=0?c._dropDownListPosition="top":c._dropDownListPosition="overlay-center",this.updatePositionAttribute(b,c._dropDownListPosition))}scrollHandler(){const m=this.context;if(!m.parentElement)return;const c=m.getBoundingClientRect();if(c.top===m._positionTop)return;const y=m._dropDownListPosition;this.checkBrowserBoundsVertically(c),m._dropDownListPosition!==y&&this.positionDropDown(),m._positionTop=c.top}getDropDownParent(m){const c=this.context,y=this.dropDown;let b=c.dropDownAppendTo;c._positionedParent=null,b===null?c._dropDownParent=null:b==="body"||b===document.body?c.getRootNode().host?c._dropDownParent=c.getRootNode().host.shadowRoot:c._dropDownParent=document.body:b instanceof HTMLElement?c._dropDownParent=b:typeof b=="string"?(b=document.getElementById(b),b instanceof HTMLElement?c._dropDownParent=b:(c.dropDownAppendTo=null,c._dropDownParent=null)):(c.dropDownAppendTo=null,c._dropDownParent=null);let S=c._dropDownParent;if(S!==null){for(;S&&S instanceof HTMLElement&&window.getComputedStyle(S).position==="static"&&S!==c.getShadowRootOrBody();)S=S.parentElement;S===document.body?c._positionedParent=null:c._positionedParent=S,y&&(y.setAttribute("animation",c.animation),c.theme!==""&&y.$.addClass(c.theme),m&&(c._dropDownParent.appendChild(y),y.$.addClass("smart-drop-down-repositioned")),c.detachedChildren.indexOf(y)===-1&&c.detachedChildren.push(y))}}dropDownAppendToChangedHandler(){const m=this.context,c=this.dropDown,y=m._dropDownParent;this.getDropDownParent(),m._dropDownParent!==y&&(m[this.closeMethod](),["left","top","font-size","font-family","font-style","font-weight"].forEach(b=>c.style[b]=null),m._dropDownParent===null?(this.defaultParent.appendChild(c),c.$.removeClass("smart-drop-down-repositioned")):(m._dropDownParent.appendChild(c),c.$.addClass("smart-drop-down-repositioned")))}dropDownPositionChangedHandler(){const m=this;m.dropDown.style.transition="none",m.context[m.closeMethod](),m.setDropDownPosition(),m.handleAutoPositioning()}dropDownAttached(m){const c=this.context;c._dropDownParent!==null&&(c._dropDownParent.appendChild(this.dropDown),this.handleAutoPositioning(),m&&c[m]())}dropDownDetached(){const m=this.context;m._dropDownParent!==null&&document.body.contains(this.dropDown)&&document.body.contains(m._dropDownParent)&&m._dropDownParent.removeChild(this.dropDown)}setDropDownPosition(){const m=this.context,c=m.dropDownPosition,y=m._dropDownListPosition;c==="auto"?this.checkBrowserBounds():m._dropDownListPosition=c,this.updatePositionAttribute(y,m._dropDownListPosition)}updatePositionAttribute(m,c){const y=this.context,b=this.dropDown;y.$.dropDownButton&&!y.$.dropDownButton.hasAttribute(c)&&(y.$.dropDownButton.removeAttribute(m),y.$.dropDownButton.setAttribute(c,"")),b.hasAttribute(c)||(b.style.transition="none",b.removeAttribute(m),b.setAttribute(c,""),requestAnimationFrame(function(){b.style.transition=null}))}positionDropDown(m){const c=this.context,y=this.dropDown;if(!c.opened||c._dropDownParent===null)return;const b=c.getBoundingClientRect();let S,D;if(this.customPositionDropDown){const $=this.customPositionDropDown(b);S=$.left,D=$.top}else switch(S=b.left,D=b.top,c._dropDownListPosition){case"bottom":D+=c.$.container.offsetHeight-1;break;case"center-bottom":D+=c.$.container.offsetHeight-1,S+=c.offsetWidth-y.offsetWidth/2;break;case"center-top":D-=y.offsetHeight-1,S+=c.offsetWidth-y.offsetWidth/2;break;case"top":D-=y.offsetHeight-1;break;case"overlay-bottom":break;case"overlay-center":D-=y.offsetHeight/2-c.offsetHeight/2;break;case"overlay-top":D-=y.offsetHeight-c.offsetHeight}const M=this.getDropDownOffset();y.style.top=D+M.y+"px",m||(y.style.left=S+M.x+"px")}getDropDownOffset(){const m=this.context._positionedParent;let c,y;if(m&&m.nodeName!=="#document-fragment"){const b=m.getBoundingClientRect();c=-b.left,y=-b.top}else c=window.pageXOffset,y=window.pageYOffset;return{x:c,y}}placeOverlay(){const m=this.context;if(!m.dropDownOverlay||m._overlay)return;const c=document.createElement("div");c.classList.add("smart-drop-down-overlay"),c.style.width=document.documentElement.scrollWidth+"px",c.style.height=document.documentElement.scrollHeight+"px",document.body.appendChild(c),m._overlay=c}removeOverlay(m){const c=this,y=c.context;y._overlay&&(y.hasAnimation&&m?requestAnimationFrame(function b(){c.dropDown.getBoundingClientRect().height>0?requestAnimationFrame(b):(document.body.removeChild(y._overlay),delete y._overlay)}):(document.body.removeChild(y._overlay),delete y._overlay))}}),window.Smart.Color=class{constructor(m){if(window.Smart._colors||(window.Smart._colors=[]),window.Smart._colors[m]){const y=window.Smart._colors[m];return this.hex=y.hex,this.r=y.r,this.g=y.g,void(this.b=y.b)}this.r=this.g=this.b=0,this.hex="";const c=this.getStandardizedColor(m);c&&(this.setHex(c.substring(1)),window.Smart._colors[m]={hex:this.hex,r:this.r,g:this.g,b:this.b})}getStandardizedColor(m){const c=document.createElement("canvas").getContext("2d");return c.fillStyle=m,c.fillStyle}getInvertedColor(){if(this.hex==="")return"transparent";const m={"#DD5347":"#F8DCDA","#8E24AA":"#F9EEFB","#D50000":"#FFD5D5","#E67C73":"#F9DBD9","#F4511E":"#FDD6C8","#F6BF26":"#FDF2D7","#0B8043":"#DAFCEA","#33B679":"#DFF7EC","#3F51B5":"#E2E6F5","#039BE5":"#E8F8FF","#7986CB":"#DCDFF1","#8C47FF":"#EADDFF","#FF36C2":"#FFDFF5","#FFCFC9":"#C9403E","#FF9EB7":"#FF2058","#FFD66D":"#AA7B00","#FFEBB6":"#C18C00","#93DF89":"#29721F","#D1F7C4":"#619414","#9DC7FF":"#003377","#D0F0FD":"#098FCA","#7D2FFF":"#1BB4F5","#ECE1FD":"#7D30F1","#FA9DE2":"#860666","#FFDAF6":"#FF1AC6","#CBCBCB":"#6B6B6B","#EDEDED":"#909090","#CDAFFF":"#4600BB"};return m["#"+this.hex.toUpperCase()]?m["#"+this.hex.toUpperCase()]:255-(.299*this.r+.587*this.g+.114*this.b)<105?"Black":"White"}hexToRgb(m){let c="00",y="00",b="00";return(m=this.validateHex(m)).length===6?(c=m.substring(0,2),y=m.substring(2,4),b=m.substring(4,6)):(m.length>4&&(c=m.substring(4,m.length),m=m.substring(0,4)),m.length>2&&(y=m.substring(2,m.length),m=m.substring(0,2)),m.length>0&&(b=m.substring(0,m.length))),{r:this.hexToInt(c),g:this.hexToInt(y),b:this.hexToInt(b)}}validateHex(m){return(m=(m=new String(m).toUpperCase()).replace(/[^A-F0-9]/g,"0")).length>6&&(m=m.substring(0,6)),m}webSafeDec(m){return m=Math.round(m/51),m*=51}hexToWebSafe(m){let c,y,b;return m.length===3?(c=m.substring(0,1),y=m.substring(1,1),b=m.substring(2,1)):(c=m.substring(0,2),y=m.substring(2,4),b=m.substring(4,6)),this.intToHex(this.webSafeDec(this.hexToInt(c)))+this.intToHex(this.webSafeDec(this.hexToInt(y)))+this.intToHex(this.webSafeDec(this.hexToInt(b)))}rgbToWebSafe(m){return{r:this.webSafeDec(m.r),g:this.webSafeDec(m.g),b:this.webSafeDec(m.b)}}rgbToHex(m){return this.intToHex(m.r)+this.intToHex(m.g)+this.intToHex(m.b)}intToHex(m){let c=parseInt(m).toString(16);return c.length===1&&(c="0"+c),c.toUpperCase()}hexToInt(m){return parseInt(m,16)}setRgb(m,c,y){let b=function(S){return S<0||S>255||isNaN(parseInt(S))?0:S};this.r=b(m),this.g=b(c),this.b=b(y),this.hex=this.rgbToHex(this)}setHex(m){this.hex=m;let c=this.hexToRgb(this.hex);this.r=c.r,this.g=c.g,this.b=c.b}}})()},6802:()=>{(()=>{var e=`\r
`;function t(a,i,r){if(!i&&i!==""&&i!==0)return"";let o=i;return typeof i=="boolean"&&r&&(o=r(i)),` ${a}="${o}"`}var n=class{static createHeader(a={}){const i=["version"];return a.version||(a.version="1.0"),a.encoding&&i.push("encoding"),a.standalone&&i.push("standalone"),`<?xml ${i.map(r=>`${r}="${a[r]}"`).join(" ")} ?>`}static createXml(a,i){let r="";a.properties&&(a.properties.prefixedAttributes&&a.properties.prefixedAttributes.forEach(d=>{Object.keys(d.map).forEach(f=>{r+=t(d.prefix+f,d.map[f],i)})}),a.properties.rawMap&&Object.keys(a.properties.rawMap).forEach(d=>{r+=t(d,a.properties.rawMap[d],i)}));let o="<"+a.name+r;return a.children||a.textNode!=null?a.textNode!=null?o+">"+a.textNode+"</"+a.name+">"+e:(o+=`>\r
`,a.children&&a.children.forEach(d=>{o+=this.createXml(d,i)}),o+"</"+a.name+">"+e):o+"/>"+e}};Smart.Utilities.Assign("DataExporter",class{constructor(a,i,r,o){const d=this;a||(a={}),d.style=a.style,d.header=a.header,d.exportHeader=a.exportHeader===void 0||a.exportHeader,d.hierarchical=a.hierarchical,d.expandChar=a.expandChar||"+",d.collapseChar=a.collapseChar||"-",d.pageOrientation=a.pageOrientation,d.allowNull=a.allowNull||!1,d.spreadsheets=a.spreadsheets||null,d._media=[],!d.hierarchical&&i&&i.length>0?d.groupBy=i:d.mergedCells=a.mergedCells,!d.groupBy&&r&&Object.keys(r).length>0&&(d.filterBy=r),o&&(d.conditionalFormatting=o),d.timeBetween1900And1970=new Date(1970,0,1,0,0,0).getTime()-new Date(1900,0,1,0,0,0).getTime()}downloadFile(a,i,r){let o;if(!r)return a;if(o=a instanceof Blob?a:new Blob([a],{type:i}),window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(o,r);else{const d=document.createElement("a"),f=URL.createObjectURL(o);d.href=f,d.download=r,d.style.position="absolute",d.style.visibility="hidden",document.body.appendChild(d),d.click(),setTimeout(function(){document.body.removeChild(d),window.URL.revokeObjectURL(f)},100)}}exportData(a,i,r,o){const d=this;if(d.actualHierarchy=d.hierarchical,i=i.toLowerCase(),d.exportHeader&&(d.header?((a=a.slice(0)).length===0&&(d.actualHierarchy=!1),d.processComplexHeader(d.header,a,i)):a.length===1&&(d.actualHierarchy=!1)),a.length===0)return void console.warn("No data to export.");if(i==="xlsx"){d.xlsxStartIndex=d.complexHeader?d.complexHeader.length:+d.exportHeader;const p=d.headerContent?d.headerContent.length:0;d.xlsxStartIndex=d.xlsxStartIndex+p}d.actualHierarchy&&(a=d.processHierarchicalData(a,i)),d.getDatafields(a),r&&r.slice(r.length-i.length-1,r.length)!=="."+i&&(r+="."+i);let f=null;switch(i){case"csv":f=d.exportToCSVAndTSV(a,{delimiter:", ",MIME:"text/csv;charset=utf-8;",toRemove:2},r);break;case"html":f=d.exportToHTML(a,r);break;case"jpeg":case"png":d.exportToImage(a,r,i,o);break;case"json":f=d.exportToJSON(a,r);break;case"pdf":f=d.exportToPDF(a,r);break;case"tsv":f=d.exportToCSVAndTSV(a,{delimiter:"	",MIME:"text/tab-separated-values",toRemove:1},r);break;case"xlsx":f=d.exportToXLSX(a,r,o);break;case"xml":f=d.exportToXML(a,r);break;case"md":f=d.exportToMD(a,r)}return o&&f&&o(f),delete d.complexHeader,f}exportToCSVAndTSV(a,i,r){const o=this,d=o.datafields;let f="";for(let v=0;v<a.length;v++){const w=a[v];let C="";for(let x=0;x<d.length;x++)o.actualHierarchy&&x===0?C+=('""'+i.delimiter).repeat(w._level-1)+'"'+w[d[x]]+'"'+i.delimiter+('""'+i.delimiter).repeat(o.maxLevel-w._level):C+='"'+w[d[x]]+'"'+i.delimiter;C=C.slice(0,C.length-i.toRemove)+`
`,f+=C}if(!r)return f;const p="\uFEFF"+f;return this.downloadFile(p,i.MIME,r)}exportToHTML(a,i){const r=this,o=r.datafields,d=r.style;let f="",p=0,v="";a=r.processGroupingInformation(a),r.data=a,r.exportHeader&&(f=r.getHTMLHeader(o,a),p=1),arguments[2]&&(v=`<script type="text/javascript" src="${Array.from(document.getElementsByTagName("script")).find(A=>A.src.indexOf("html2canvas")!==-1).src}"><\/script>`);let w=`<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style type="text/css">
${r.getRowStyle()}${r.getColumnStyle()}
    </style>${v}${r.toggleableFunctionality()}
</head>
<body>
    <table${r.getTableStyle()}>${f}
        <tbody>
`;const C={},x={},L=[];r.getMergedCellsInfo(C,x);e:for(let A=p;A<a.length;A++){const k=a[A],B=A-p;let H=r.getAlternationIndex(B," rowN"),V="",z="",N="",F=0;if(r.actualHierarchy)k._collapsed&&(V=" collapsed"),z=` level="${k._level}"`;else if(r.groupBy)for(let Y=0;Y<r.groupBy.length;Y++){const X=r.groupBy[Y],ae=k[X],Q=r.groups[X][ae];if(N+=ae,L.indexOf(N)===-1){w+=`            <tr class="row">
                <td class="column group" style="padding-left: ${25*F}px;" colspan="${r.datafields.length}">${Q}</td>
            </tr>`,L.push(N),A--;continue e}F++}let q=`            <tr class="row row${B}${H}${V}"${z}`;i||(q+=' style="page-break-inside: avoid;"'),q+=`>
`;for(let Y=0;Y<o.length;Y++){const X=Y+","+B;let ae=1,Q=1;if(C[X])ae=C[X].colspan,Q=C[X].rowspan;else if(x[X])continue;const ie=o[Y];let te=k[ie],E="";if(r.actualHierarchy&&Y===0){let m="";k._expanded?m=r.collapseChar:k._expanded===!1&&(m=r.expandChar),E=`<div class="toggle-element" style="margin-left: ${25*(k._level-1)+5}px;" expanded>${m}</div>`}te=r.getFormattedValue(te,ie),typeof te=="string"&&(te.indexOf("base64")>=0||te.indexOf(".png")>=0||te.indexOf(".jpeg")>=0)&&(te=`<img height="30" src="${te}"/>`);let l="";if(d&&d.columns&&d.columns[ie]&&d.columns[ie][B]){const m=d.columns[ie][B];l+=`border-color: ${m.border}; background-color: ${m.background}; color: ${m.color};"`}Y===0&&F>1&&(l+=`padding-left: ${25*(F-1)}px;"`),l&&(l=` style="${l}"`),q+=`                <td class="column column${ie}"${l} colspan="${ae}" rowspan="${Q}">${E+te}</td>
`}w+=q+`            </tr>
`}return w+=`        </tbody>
    </table>
</body>
</html>`,arguments[2]?w:this.downloadFile(w,"text/html",i)}exportToImage(a,i,r,o){try{html2canvas}catch{throw new Error("smart-grid: Missing reference to 'html2canvas.min.js'.")}let d=null;const f=this.exportToHTML(a,i,!0),p=document.createElement("iframe");return p.style.position="absolute",p.style.top=0,p.style.left=0,p.style.border="none",p.style.width="100%",p.style.height="100%",p.style.opacity=0,p.style.pointerEvents="none",document.body.appendChild(p),p.contentDocument.write(f),function v(){p.contentDocument.body&&p.contentDocument.body.firstElementChild?p.contentWindow.html2canvas(p.contentDocument.body.firstElementChild).then(w=>{const C=new Smart.Utilities.Draw(document.createElement("div"));d=w.toDataURL("image/png"),o?o(d):(document.body.appendChild(w),C.exportImage(void 0,w,r,i)),p.remove(),w.remove()}):requestAnimationFrame(v)}(),d}getMergedCellsInfo(a,i,r){const o=this;if(!o.mergedCells)return;const d=r&&r[o.datafields.length-1]!==0;o.mergedCellsPDF=o.mergedCells.slice(0);for(let f=0;f<o.mergedCellsPDF.length;f++){const p=o.mergedCellsPDF[f];let v=p.colspan,w=p.rowspan;if(w<2&&v<2)continue;const C=p.cell[1];let x=p.cell[0];if(d&&v>1){const L=r[x],A=r[x+v-1],k=[];if(A>L){let B=L,H=x,V=0;e:for(let z=L;z<=A;z++){let N=H,F=0;for(;r[H]===B;)if(H++,V++,F++,V===v){k.push({start:N,span:F});break e}k.push({start:N,span:F}),B=r[H]}v=k[0].span;for(let z=1;z<k.length;z++)o.mergedCellsPDF.push({cell:[k[z].start,C],colspan:k[z].span,rowspan:w,originalCell:x})}}for(let L=x;L<x+v;L++)for(let A=C;A<C+w;A++){const k=L+","+A;L!==x||A!==C?i[k]=!0:a[k]={colspan:v,rowspan:w,originalCell:p.originalCell}}}}getAlternationIndex(a,i){if(!this.style)return"";const r=this.style.rows;return r&&r.alternationCount&&((r.alternationStart===void 0||a>=r.alternationStart)&&(r.alternationEnd===void 0||a<=r.alternationEnd)||r.alternationStart===r.alternationEnd)?i+a%r.alternationCount:""}getFormattedValue(a,i){const r=this,o=r.style;if(a===null)return r.allowNull?"null":"";if(i&&o&&o.columns&&o.columns[i]&&o.columns[i].format){if(typeof a=="number")return r.formatNumber(a,o.columns[i].format);if(a instanceof Date)return r.formatDate(a,o.columns[i].format)}else if(a instanceof Date)return r.formatDate(a,"d");return a}exportToJSON(a,i){return this.downloadFile(JSON.stringify(a,this.datafields.concat("rows")),"application/json",i)}exportToMD(a,i){const r=this.datafields;let o="";for(let d=0,f=a.length;d<f;d+=1)for(let p=0,v=r.length;p<v;p+=1){const w=a[d][r[p]];typeof w=="string"&&(o+=w)}return this.downloadFile(o,"application/text",i)}exportToPDF(a,i){try{pdfMake}catch{throw new Error("Missing reference to 'pdfmake.min.js'.")}const r=this,o=r.datafields,d=+r.exportHeader,f=[],p={},v={},w={},C=d?r.complexHeader?r.complexHeader.length:1:0,x={pageOrientation:r.pageOrientation||"portrait"};let L,A=[],k=[];function B(){let V=[];for(let z=0;z<L.length;z++)V.push([]);return V}a=r.processGroupingInformation(a),r.data=a,r.headerRows=C,r.getPDFStyle();const H=r.styleInfo;L=H?r.wrapPDFColumns(x,w):[{body:A,datafields:o}],d&&(A=r.getPDFHeader(o,L,w)),r.getMergedCellsInfo(p,v,w);e:for(let V=d;V<a.length;V++){const z=a[V];let N="",F=0;if(r.groupBy)for(let ae=0;ae<r.groupBy.length;ae++){const Q=r.groupBy[ae],ie=z[Q],te=r.groups[Q][ie];if(N+=ie,f.indexOf(N)===-1){r.createGroupHeaderRow(L,{text:te,style:["row","cell","group"],marginLeft:7.5*F}),f.push(N),V--;continue e}F++}const q=B(),Y=V-d;let X=r.getAlternationIndex(Y,"");for(let ae=0;ae<o.length;ae++){const Q=o[ae],ie={style:["row","row"+Y,"cell","cell"+Q]},te=w[ae]||0;if(X!==void 0&&ie.style.splice(1,0,"rowN"+X),r.mergedCellsPDF){const l=ae+","+Y,m=p[l];if(m){if(ie.colSpan=m.colspan,ie.rowSpan=m.rowspan,m.originalCell!==void 0){ie.text="",ie.style[ie.style.length-1]="cell"+o[m.originalCell],q[te].push(ie);continue}}else if(v[l]){q[te].push({});continue}}const E=r.getFormattedValue(z[Q],Q);ie.text=E.toString(),r.getUniqueStylePDF(ie,Q,Y),r.setIndentation(ie,{j:ae,currentRecord:z,value:E,outlineLevel:F}),q[te].push(ie)}for(let ae=0;ae<L.length;ae++)L[ae].body.push(q[ae])}if(H){for(let V=0;V<L.length;V++){const z=L[V].body;for(let N=C-1;N>=0;N--)z.unshift(A[V][N]);k.push({table:{headerRows:C,widths:L[V].widths,heights:function(N){return H.heights[N]?H.heights[N]:H.defaultHeight?H.defaultHeight:void 0},body:z},pageBreak:"after"})}delete k[L.length-1].pageBreak,x.styles=H.styles}else{const V=L[0].body;for(let z=C-1;z>=0;z--)V.unshift(A[0][z]);k=[{table:{headerRows:C,body:V}}],x.styles={header:{bold:!0},group:{bold:!0}}}if(x.content=k,!i){const V=pdfMake.createPdf(x);return delete r.mergedCellsPDF,delete r.styleInfo,V}pdfMake.createPdf(x).download(i),delete r.mergedCellsPDF,delete r.styleInfo}getPDFStyle(){const a=this,i=a.style;if(!i)return"";const r=a.data[0],o=i.header,d=i.columns,f=i.rows,p={heights:[],widths:Array(a.datafields.length).fill("*"),styles:{header:{},row:{},cell:{},group:{fillColor:"#FFFFFF",color:"#000000",bold:!0}}};function v(w,C){if(w){for(let x in w)if(Object.prototype.hasOwnProperty.call(w,x))if(r[x]===void 0)if(x==="height"&&C==="header")for(let L=0;L<a.headerRows;L++)p.heights[L]=parseInt(w[x],10)/a.headerRows/1.4;else a.storePDFStyle({prop:x,value:w[x],toUpdate:C});else for(let L in w[x]){if(!isNaN(L)||!Object.prototype.hasOwnProperty.call(w[x],L))continue;const A=w[x][L],k=a.datafields.indexOf(x);L==="width"&&p.widths[k]==="*"?p.widths[k]=A:a.storePDFStyle({prop:L,value:A,toUpdate:C+x})}}}if(a.styleInfo=p,v(o,"header"),v(d,"cell"),f){for(let w in f){if(!Object.prototype.hasOwnProperty.call(f,w)||w.indexOf("alt")!==-1)continue;const C=f[w];if(isNaN(w))w==="height"?p.defaultHeight=parseFloat(C)/1.4:a.storePDFStyle({prop:w,value:C,toUpdate:"row"});else for(let x in C)Object.prototype.hasOwnProperty.call(C,x)&&(x==="height"?p.heights[parseFloat(w)+a.headerRows]=parseFloat(C[x])/1.4:a.storePDFStyle({prop:x,value:C[x],toUpdate:"row"+w}))}if(f.alternationCount)for(let w=0;w<f.alternationCount;w++){const C={};f[`alternationIndex${w}Color`]&&(C.color=f[`alternationIndex${w}Color`]),f[`alternationIndex${w}BackgroundColor`]&&(C.fillColor=f[`alternationIndex${w}BackgroundColor`]),p.styles["rowN"+w]=C}}}storePDFStyle(a){const i=this;let r=i.styleInfo.styles[a.toUpdate];r||(r={},i.styleInfo.styles[a.toUpdate]=r);let o=a.value;switch(a.prop){case"backgroundColor":r.fillColor=o;break;case"color":r.color=o;break;case"fontSize":r.fontSize=parseFloat(o);break;case"fontStyle":o==="italic"&&(r.italics=!0);break;case"fontWeight":o==="bold"&&(r.bold=!0);break;case"textAlign":r.alignment=o}}wrapPDFColumns(a,i){const r=this,o=this.styleInfo,d=a.pageOrientation==="portrait"?655:1155,f=[];let p=0;for(let v=0;v<o.widths.length;v++){let w,C=o.widths[v];if(C==="*"?w=d/6:typeof C=="string"&&C.indexOf("%")!==-1?(w=Math.min(d,Math.floor(parseFloat(C)/100*d)),w===d&&(C="*")):(C=parseFloat(C),C>=d?(w=d,C="*"):(w=C,C/=1.4)),f[p]===void 0){const L=[];f[p]={body:L,width:w,widths:[C],datafields:[r.datafields[v]]},i[v]=p;continue}const x=f[p];x.width+w>d?(p++,v--):(i[v]=p,x.width+=w,x.widths.push(C),x.datafields.push(r.datafields[v]))}return f}getPDFHeader(a,i,r){const o=this,d=[],f=o.headerRows,p=[],v=[];let w,C,x=[];o.complexHeader?(w=o.complexHeader,C=o.complexDataFieldsHeader):(w=[Object.values(o.data[0])],C=w);for(let A=0;A<f;A++){const k=w[A],B=C[A];for(let H=0;H<k.length;H++){let V=r[H]||0;p[V]||(p[V]=[],v[V]=[]),p[V][A]||(p[V][A]=[],v[V][A]=[]),p[V][A].push(k[H]),v[V][A].push(B[H])}}function L(A,k,B,H){for(let V=0;V<f;V++){const z=A[V],N=k[V],F=[];for(let q=0;q<z.length;q++){const Y=N[q];let X=1,ae=1;if(N[q-1]&&N[q-1]===Y||k[V-1]&&k[V-1][q]===Y){F.push({});continue}let Q=q+1;for(;N[Q]&&N[Q]===N[Q-1];)X++,Q++;for(Q=V+1;k[Q]&&k[Q][q]===Y;)ae++,Q++;const ie=V===f-1||ae+V===f?H.datafields[q]:null,te={text:z[q],colSpan:X,rowSpan:ae};ie?te.style=["header","header"+ie]:(te.alignment="center",te.style="header"),F.push(te)}B.push(F)}}for(let A=0;A<i.length;A++)x=[],L(p[A],v[A],x,i[A]),d.push(x);return d}createGroupHeaderRow(a,i){for(let r=0;r<a.length;r++){const o=Object.assign({},i),d=a[r].datafields.length,f=[o];o.colSpan=d,f.length=d,f.fill({},1,d-1),a[r].body.push(f)}}getUniqueStylePDF(a,i,r){const o=this.style;if(!o||!o.columns||!o.columns[i])return;const d=o.columns[i][r];d&&(a.fillColor=function(f){const p=/rgba\((\d+),(\d+),(\d+)\,(\d*.\d+|\d+)\)/gi.exec(f.replace(/\s/g,""));if(p===null)return f;const v=parseFloat(p[1]).toString(16).toUpperCase(),w=parseFloat(p[2]).toString(16).toUpperCase(),C=parseFloat(p[3]).toString(16).toUpperCase();return"#"+"0".repeat(2-v.length)+v+"0".repeat(2-w.length)+w+"0".repeat(2-C.length)+C}(d.background),a.color=d.color.toLowerCase())}setIndentation(a,i){if(i.j!==0)return;const r=this;if(r.actualHierarchy){const o=i.currentRecord;o._expanded!==void 0?(a.marginLeft=25*(o._level-1),a.text=r.collapseChar+" "+i.value):a.marginLeft=25*(o._level-1)+6}else i.outlineLevel>1&&(a.marginLeft=7.5*(i.outlineLevel-1))}addBodyImageToMap(a,i,r,o){const{row:d,column:f}=a.position||{},p=a;o&&(i===null||r===null||d&&f||(a.position||(a.position={}),a.position=Object.assign({},a.position,{row:i,column:o.indexOf(r)+1})),p.totalWidth=p.width,p.totalHeight=p.height),this.buildImageMap({imageToAdd:p,idx:1});let v=this.worksheetImageIds.get(1);v||(v=new Map,this.worksheetImageIds.set(1,v));const w=this.worksheetImages.get(1);w?w.push(p):this.worksheetImages.set(1,[p]),v.get(a.id)||v.set(a.id,{index:v.size,type:a.imageType})}buildImageMap(a){const{imageToAdd:i,idx:r}=a,o=this.images.get(i.id);if(o){const d=o.find(f=>f.sheetId===r);d?d.image.push(i):o.push({sheetId:r,image:[i]})}else this.images.set(i.id,[{sheetId:r,image:[i]}]),this.workbookImageIds.set(i.id,{type:i.imageType,index:this.workbookImageIds.size})}createXmlPart(a,i){const r=n.createHeader({encoding:"UTF-8",standalone:"yes"}),o=n.createXml(a);return i?o:`${r}${o}`}generateWorksheetImages(a,i,r){const o=this;this.images=new Map,this.worksheetImages=new Map,this.worksheetHeaderFooterImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map;let d=0,f=0,p=0;if(o.addImageToCell){for(let ae=1+(o.headerContent?o.headerContent.length:0);ae<r.length;ae++){const Q=r[ae];for(let ie=0;ie<o.datafields.length;ie++){const te=o.datafields[ie];let E=Q[te];if(E&&Array.isArray(E)){for(let m=0;m<E.length;m++){const c=o.addImageToCell(ae+p++,te,E[m],E,Q,m);c&&(Q[te]="",this.addBodyImageToMap(c.image,1+ae,te,o.datafields))}continue}const l=o.addImageToCell(ae+p++,te,E,E,Q,0);l&&(Q[te]="",l.value&&l.value!==E&&(Q[te]=l.value),this.addBodyImageToMap(l.image,1+ae,te,o.datafields))}}if(o.headerContent)for(let ae=0;ae<o.headerContent.length;ae++){const Q=r[ae];for(let ie=0;ie<o.datafields.length;ie++){const te=o.datafields[ie],E=Q[te],l=o.addImageToCell(ae+1,te,E,E,Q,0);l&&(Q[te]="",this.addBodyImageToMap(l.image,1+ae,te,o.datafields))}}this.images.forEach(ae=>{const Q=ae[0].image[0],{base64:ie,imageType:te}=Q,E=te==="jpg"?"jpeg":te,l=(c,y)=>{c||(c="");const b=atob(c),S=new Array(b.length);for(let M=0;M<b.length;M++)S[M]=b.charCodeAt(M);const D=new Uint8Array(S);return new Blob([D],{type:y})};let m;m=ie&&Array.isArray(ie)?l(ie[0].split(",")[1],"image/"+E):l(ie.split(",")[1],"image/"+E),a.file(`xl/media/image${++f}.${E}`,m,!0)})}let v=0;var w=ae=>Math.ceil(9525*ae),C=(ae,Q,ie,te)=>({name:"xdr:pic",children:[k(ae,Q+1),x(ae,ie+1),L(ae,te)]}),x=(ae,Q)=>{let ie;if(ae.transparency){const te=Math.min(Math.max(ae.transparency,0),100);ie=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*te)}}}]}if(ae.recolor)switch(ie||(ie=[]),ae.recolor.toLocaleLowerCase()){case"grayscale":ie.push({name:"a:grayscl"});break;case"sepia":ie.push(getDuoTone({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":ie.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":`rId${Q}`,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:ie},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},L=(ae,Q)=>{const ie={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:Q.width,cy:Q.height}}}]};if(ae.rotation){const te=ae.rotation;ie.properties={rawMap:{rot:6e4*Math.min(Math.max(te,0),360)}}}return{name:"xdr:spPr",children:[ie,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},A=ae=>{const Q=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(ae.recolor&&ae.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":Q.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:Q}},k=(ae,Q)=>({name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:Q,name:ae.id,descr:ae.altText!=null?ae.altText:void 0}},children:[A(ae)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}),B=(ae,Q)=>({name:`xdr:${ae}`,children:[{name:"xdr:col",textNode:Q.col.toString()},{name:"xdr:colOff",textNode:Q.offsetX.toString()},{name:"xdr:row",textNode:Q.row.toString()},{name:"xdr:rowOff",textNode:Q.offsetY.toString()}]}),H={getTemplate(ae){const{sheetIndex:Q}=ae,ie=o.worksheetImages.get(Q),te=o.worksheetImageIds.get(Q);return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"}},children:ie.map((E,l)=>{const m=(c=>{c.fitCell=!!c.fitCell||!c.width||!c.height;const{position:y={},fitCell:b,width:S=0,height:D=0,totalHeight:M,totalWidth:$}=c,{offsetX:P=0,offsetY:G=0,row:Z=1,rowSpan:ee=1,column:de=1,colSpan:me=1}=y;return{from:{row:Z-1,col:de-1,offsetX:w(P),offsetY:w(G)},to:{row:Z-1+(b?1:ee-1),col:de-1+(b?1:me-1),offsetX:w(S+P),offsetY:w(D+G)},height:w(M||D),width:w($||S)}})(E);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[B("from",m.from),B("to",m.to),C(E,l,te.get(E.id).index,m),{name:"xdr:clientData"}]}})}}};const V=ae=>this.createXmlPart(H.getTemplate({sheetIndex:ae}));var z={getTemplate(ae){const{Id:Q,Type:ie,Target:te}=ae;return{name:"Relationship",properties:{rawMap:{Id:Q,Type:ie,Target:te}}}}},N={getTemplate:ae=>({name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:ae.map(Q=>z.getTemplate(Q))})},F=N;const q=ae=>{const Q=this.worksheetImageIds.get(ae)||[],ie=[];for(const[te,E]of Q)ie.push({Id:`rId${E.index+1}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/image${this.workbookImageIds.get(te).index+1}.${E.type}`});return this.createXmlPart(N.getTemplate(ie))};var Y=(ae,Q)=>{const ie=`xl/drawings/drawing${Q+1}.xml`,te=`xl/drawings/_rels/drawing${Q+1}.xml.rels`;a.file(te,q(ae)),a.file(ie,V(ae))};for(let ae=1;ae<r.length;ae++)this.worksheetImages.has(ae)&&(Y(ae,v),d=v,v++);var X=this.exportAsTable?1:0;a.file("xl/worksheets/_rels/sheet1.xml.rels",(({drawingIndex:ae,tableIndex:Q}={})=>{if(ae===void 0&&Q===void 0)return"";const ie=[];ae!==null&&f>0&&ie.push({Id:`rId${ie.length+1}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/drawing${ae+1}.xml`}),Q!==null&&ie.push({Id:`rId${ie.length+1}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table",Target:"../tables/table1.xml"});const te=F.getTemplate(ie);return this.createXmlPart(te)})({tableIndex:X,drawingIndex:d}))}exportToXLSX(a,i,r){try{JSZip}catch{throw new Error("Missing reference to 'jszip.min.js'.")}const o=this;let d=o.style;if(a=o.processGroupingInformation(a,!0),o.data=a,o.getColumnsArray(),o.complexHeaderMergedCells=[],o.complexHeaderMergeInfo){for(let q in o.complexHeaderMergeInfo)if(Object.prototype.hasOwnProperty.call(o.complexHeaderMergeInfo,q)){const Y=o.complexHeaderMergeInfo[q];if(Y.from[0]===Y.to[0]&&Y.from[1]===Y.to[1])continue;o.complexHeaderMergedCells.push({from:o.columnsArray[Y.from[1]]+(Y.from[0]+1),to:o.columnsArray[Y.to[1]]+(Y.to[0]+1)})}}o.getConditionalFormatting(),d||(d=o.generateDefaultStyle(a));const f=new JSZip,p=f.folder("_rels"),v=f.folder("docProps"),w=f.folder("xl");if(o.headerContent){const q=o.headerContent,Y=[];for(let X=0;X<q.length;X++){const ae=q[X].cells;let Q={};for(let ie=0;ie<o.datafields.length;ie++){const te=o.datafields[ie];ae[te]?Q[te]=ae[te]:Q[te]=null}Y.push(Q)}a=[...Y,...a]}if(o.footerContent){const q=o.footerContent,Y=[];for(let X=0;X<q.length;X++){const ae=q[X].cells;let Q={};for(let ie=0;ie<o.datafields.length;ie++){const te=o.datafields[ie];ae[te]?Q[te]=ae[te]:Q[te]=null}Y.push(Q)}a=[...a,...Y]}this.generateWorksheetImages(f,w,a);const C=o.generateSharedStrings(a),x=C.collection,L=C.xml,A=o.generateStyles(d),k=o.groupBy?o.generateSheet1WithGrouping(a,x):o.generateSheet1(a,x,o.datafields,o.columnsArray),B=o.generateAuxiliaryFiles();let H=!1;const V=this.worksheetImages.get(1);V&&V.length&&(H=!0);const z=w.folder("_rels"),N=w.folder("theme"),F=w.folder("worksheets");if(H&&(w.folder("media"),w.folder("drawings"),w.folder("drawings/_rels")),p.file(".rels",B._relsRels),v.file("app.xml",B.docPropsAppXml),v.file("core.xml",B.docPropsCoreXml),z.file("workbook.xml.rels",B.xl_relsWorkbookXmlRels),N.file("theme1.xml",B.xlThemeTheme1Xml),F.file("sheet1.xml",k),w.file("sharedStrings.xml",L),w.file("styles.xml",A),w.file("workbook.xml",B.xlWorkbookXml),f.file("[Content_Types].xml",B.Content_TypesXml),this.spreadsheets){let q=2;for(let Y=0;Y<this.spreadsheets.length;Y++){const X=this.spreadsheets[Y],ae=X.dataFields;let Q=[...X.dataSource],ie=[];for(let E=0;E<X.columns.length;E++){const l=X.columns[E];typeof l=="string"?ie[l]=l:ie[l.dataField]=l.label}Q.splice(0,0,ie);const te=o.generateSheet1(Q,x,ae,o.getColumnsArrayFromDataFields(ae),q);F.file("sheet"+q+++".xml",te)}}if(this.exportAsTable){const q=Object.values(o.data[0]),Y=o.groupBy&&o.groupBy.length?o.groupDimensionEnd:o.columnsArray[o.columnsArray.length-1]+(a.length-1);let X=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision" xmlns:xr3="http://schemas.microsoft.com/office/spreadsheetml/2016/revision3" mc:Ignorable="xr xr3" id="1" name="Table1" displayName="Table1" ref="A${this.xlsxStartIndex}:${Y}" totalsRowShown="0">
<autoFilter ref="A${this.xlsxStartIndex}:${Y}">`;for(let Q=0;Q<q.length;Q++)X+=`<filterColumn colId="${Q}" hiddenButton="0"/>
`;X+="</autoFilter>";let ae=`
<tableColumns count="${q.length}">`;for(let Q=0;Q<q.length;Q++)ae+=`<tableColumn id="${Q+1}" name="${q[Q]}" dataCellStyle="Normal"/>
`;ae+=`
</tableColumns>`,X+=ae,X+=`
    <tableStyleInfo name="TableStyleLight1" showFirstColumn="0" showLastColumn="0" showRowStripes="1" showColumnStripes="0"/>
</table>`,w.folder("tables").file("table1.xml",X)}f.generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}).then(function(q){return!i&&r&&r(q),o.downloadFile(q,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",i)}),delete o.conditionalFormattingXLSX,delete o.complexHeaderMergeInfo,delete o.defaultRowHeight,delete o.rowHeight}processGroupingInformation(a,i){const r=this;if(!r.groupBy)return a;let o;if(a=a.slice(0),r.exportHeader&&(i&&r.complexHeader?(o=a.slice(0,r.complexHeader.length),a.splice(0,r.complexHeader.length)):(o=[a[0]],a.splice(0,1))),a.length>1){const d=function(f,p){let v;switch(typeof f){case"string":v=new Intl.Collator().compare;break;case"number":v=function(w,C){return w-C};break;case"boolean":case"bool":v=function(w,C){return w===C?0:w===!1?-1:1};break;case"date":case"time":case"dateTime":f instanceof Date?v=function(w,C){return w.getTime()-C.getTime()}:(f instanceof Smart.Utilities.DateTime||f instanceof Smart.Utilities.BigNumber)&&(v=function(w,C){return w.compare(C)});break;case"object":if(f instanceof Date)v=function(w,C){return w.getTime()-C.getTime()};else if(f instanceof Smart.Utilities.DateTime||f instanceof Smart.Utilities.BigNumber)v=function(w,C){return w.compare(C)};else if(f instanceof Smart.Utilities.Complex||window.NIComplex&&f instanceof window.NIComplex){const w=new Smart.Utilities.ComplexNumericProcessor;v=function(C,x){return w.compareComplexNumbers(C,x)}}}return v};(function(f,p,v,w){if(!f||!Array.isArray(f)||f.length===0||!p||Array.isArray(p)&&p.length===0)return;typeof p=="string"&&(p=[p]);const C=[],x=[];v===void 0&&(v=[]);for(let L=0;L<p.length;L++)v[L]===void 0||v[L]==="asc"||v[L]==="ascending"?C[L]=1:C[L]=-1,x[L]=d(f[0][p[L]]);f.sort(function(L,A){for(let k=0;k<p.length;k++){const B=x[k](L[p[k]],A[p[k]]);if(B===0){if(p[k+1])continue;return L._index!==void 0?(L._index-A._index)*C[k]:0}return B*C[k]}})})(a,r.groupBy)}return o&&(a=o.concat(a)),r.getGroupLabels(a),a}exportToXML(a,i){const r=this.datafields.slice(0);let o=`<?xml version="1.0" encoding="UTF-8" ?>
<table>
`;return r.indexOf("rows")===-1&&r.push("rows"),o+=function d(f,p){let v="";for(let w=0;w<f.length;w++){const C=f[w];v+=p+`<row>
`;for(let x=0;x<r.length;x++){const L=r[x];if(L!=="rows")v+=p+`    <${L}>${C[L]}</${L}>
`;else{if(!C.rows)continue;v+=`${p}    <rows>
${d(C.rows,p+"        ")}${p}    </rows>
`}}v+=p+`</row>
`}return v}(a,"    ")+"</table>",i?this.downloadFile(o,"application/xml",i):o}formatDate(a,i){if(!Smart.Utilities.DateTime)return a;try{return new Smart.Utilities.DateTime(a).toString(i)}catch{return a}}formatNumber(a,i){if(!Smart.Utilities.NumberRenderer)return a;const r=new Smart.Utilities.NumberRenderer().formatNumber(a,i);return r===void 0?a:r}generateAuxiliaryFiles(){const a=new Date().toISOString(),i=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>Smart HTML Elements</dc:creator><cp:lastModifiedBy>Smart HTML Elements</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">${a}</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">${a}</dcterms:modified></cp:coreProperties>`;let r='<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/>',o=1;if(this.spreadsheets)for(let L=0;L<this.spreadsheets.length;L++){const A=2+L;o++,r+=`<Relationship Id="rId${A}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet${A}.xml"/>`}const d=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">${r}<Relationship Id="rId${++o}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId${++o}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId${++o}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>`;let f='<sheet name="Sheet1" sheetId="1" r:id="rId1"/>';if(this.spreadsheets)for(let L=0;L<this.spreadsheets.length;L++){const A=2+L;f+=`<sheet name="${this.spreadsheets[L].label}" sheetId="${A}" r:id="rId${A}"/>`}const p=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15 xr xr6 xr10 xr2" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision" xmlns:xr6="http://schemas.microsoft.com/office/spreadsheetml/2016/revision6" xmlns:xr10="http://schemas.microsoft.com/office/spreadsheetml/2016/revision10" xmlns:xr2="http://schemas.microsoft.com/office/spreadsheetml/2015/revision2"><fileVersion appName="xl" lastEdited="7" lowestEdited="7" rupBuild="20325"/><workbookPr defaultThemeVersion="166925"/><mc:AlternateContent xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"><mc:Choice Requires="x15"><x15ac:absPath url="C:UsersjqwidgetsDesktop" xmlns:x15ac="http://schemas.microsoft.com/office/spreadsheetml/2010/11/ac"/></mc:Choice></mc:AlternateContent><xr:revisionPtr revIDLastSave="0" documentId="13_ncr:1_{0DEDCB6D-5403-4CD8-AAA5-59B6D238A8B6}" xr6:coauthVersionLast="34" xr6:coauthVersionMax="34" xr10:uidLastSave="{00000000-0000-0000-0000-000000000000}"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="19200" windowHeight="6950" xr2:uid="{0CB664E6-3800-4A88-B158-B46A682E7484}"/></bookViews><sheets>${f}</sheets><calcPr calcId="179021"/><extLst><ext uri="{140A7094-0E35-4892-8432-C4D2E57EDEB5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:workbookPr chartTrackingRefBase="1"/></ext></extLst></workbook>`,v=this.worksheetImages.get(1);let w="";v&&v.length&&(w='<Override PartName="/xl/drawings/drawing1.xml" ContentType="application/vnd.openxmlformats-officedocument.drawing+xml"/>');let C="";this.exportAsTable&&(C='<Override PartName="/xl/tables/table1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"/>');let x='<Override PartName = "/xl/worksheets/sheet1.xml" ContentType = "application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />';if(this.spreadsheets)for(let L=0;L<this.spreadsheets.length;L++)x+=`<Override PartName = "/xl/worksheets/sheet${L+2}.xml" ContentType = "application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />`;return{_relsRels:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>`,docPropsAppXml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>`,docPropsCoreXml:i,xl_relsWorkbookXmlRels:d,xlThemeTheme1Xml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="游ゴシック Light"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="等线 Light"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="游ゴシック"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="等线"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>`,xlWorkbookXml:p,Content_TypesXml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="bin" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings"/><Default Extension="jpeg" ContentType="image/jpeg"/><Default Extension="png" ContentType="image/png"/><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/><Default Extension="xml" ContentType="application/xml"/><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>${x}<Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>${C}${w}<Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/></Types>`}}generateDefaultStyle(a){const i=this,r={},o=i.datafields,d=i.complexHeader?a[i.complexHeader.length]:a[+i.exportHeader];if(!d)return r;for(let f=0;f<o.length;f++)d[o[f]]instanceof Date&&(r.columns||(r.columns=[]),r.columns[o[f]]={format:"d"});return r}generateGroupRow(a){const i=a.rowNumber,r="A"+i,o=`        <row r="${i}" outlineLevel="${a.outlineLevel}" spans="1:${a.numberOfColumns}"${this.getCustomRowHeight(i-1)} x14ac:dyDescent="0.45">
            <c r="${r}" t="s" s="0">
                <v>${a.sharedStringIndex}</v>
            </c>
        </row>
`;return a.mergedCells.push({from:r,to:this.columnsArray[a.numberOfColumns-1]+i}),o}generateSharedStrings(a){const i=this,r=i.datafields,o=[];let d="",f=0,p=0;function v(C){f++,o.indexOf(C)===-1&&(p++,o.push(C),C=(C=(C=(C=(C=C.replace(/&(?!amp;)/g,"&amp;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")).replace(/>/g,"&gt;")).replace(/</g,"&lt;"),d+=`<si><t>${C}</t></si>`)}const w=(C,x)=>{for(let L=0;L<C.length;L++){const A=C[L];for(let k=0;k<x.length;k++){let B=A[x[k]];B!==null||i.allowNull||(B=""),typeof B=="string"&&v(B)}}};if(w(a,r),i.spreadsheets)for(let C=0;C<i.spreadsheets.length;C++){const x=i.spreadsheets[C],L=x.dataFields;let A=[...x.dataSource],k=[];for(let B=0;B<x.columns.length;B++){const H=x.columns[B];typeof H=="string"?k[H]=H:k[H.dataField]=H.label}A.splice(0,0,k),w(A,L)}if(i.groupLabels)for(let C=0;C<i.groupLabels.length;C++)v(i.groupLabels[C]);return d=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${f}" uniqueCount="${p}">${d}</sst>`,{collection:o,xml:d}}generateSheet1(a,i,r,o,d){const f=this,p=o.length,v=a.length,w=o[p-1]+v,C=f.getFilters(),x=[].concat(f.complexHeaderMergedCells);let L=0;const A=f.freezeHeader?`<sheetView rightToLeft="0" workbookViewId="0">
         <pane state="frozen" topLeftCell="A${f.xlsxStartIndex+1}" ySplit="${f.xlsxStartIndex}"/>
        </sheetView>`:"";let k=f.getCustomColumnWidths(o);if(d>1){let V="<cols>";for(let z=0;z<o.length;z++)V+='<col min="1" max="1" width="25" hidden="0" bestFit="0" customWidth="1"/>';V+="</cols>",k=V}let B=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac xr xr2 xr3" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision" xmlns:xr2="http://schemas.microsoft.com/office/spreadsheetml/2015/revision2" xmlns:xr3="http://schemas.microsoft.com/office/spreadsheetml/2016/revision3" xr:uid="{7F25248B-C640-4C64-AD47-C0EA0E5D90D0}">
    <sheetPr filterMode="${C!==""}" />
    <dimension ref="A1:${w}" />
    <sheetViews>
        <sheetView ${d<=1?'tabSelected="1"':""} workbookViewId="0" />
        ${A}
    </sheetViews>
    <sheetFormatPr defaultRowHeight="14.5" x14ac:dyDescent="0.35" />${k}
    <sheetData>
`;function H(V,z){return o[V]+z}for(let V=0;V<=a.length;V++){const z=a[V],N=V+1;let F="";if(f.actualHierarchy){const Y=a[V-1];Y&&Y._collapsed&&(!z||Y._level>z._level)&&(F=' collapsed="true"')}if(V===a.length){F&&(B+=`        <row r="${N}" outlineLevel="${Math.max(a[V-1]._level-2,0)}" hidden="false" collapsed="true" />
`);break}let q=`        <row r="${N}"${f.getOutlineLevel(z)} hidden="${z._hidden||z._collapsed||!1}"${F} spans="1:${p}"${f.getCustomRowHeight(N-1)} customHeight="1" x14ac:dyDescent="0.45">
`;for(let Y=0;Y<r.length;Y++){const X=f.getXLSXCellStyle(H(Y,N));q+=f.getActualCellData(z[r[Y]],{r:H(Y,N),s:X},i,N,r[Y])}q+=`        </row>
`,B+=q}if(f.headerContent)for(let V=0;V<f.headerContent.length;V++){const z=f.headerContent[V];z.style&&z.style.mergeAcross&&x.push({from:"A"+(V+1),to:o[p-1]+(V+1)})}if(f.footerContent)for(let V=0;V<f.footerContent.length;V++){const z=f.footerContent[V];z.style&&z.style.mergeAcross&&x.push({from:"A"+(a.length-V),to:o[p-1]+(a.length-V)})}return B+=`    </sheetData>${f.conditionalFormattingXLSX.conditions}${C}${f.getMergedCells(x)}
    <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />
    <pageSetup paperSize="9" orientation="portrait" r:id="rId1" />
    ${(V=>{let z="";const N=this.worksheetImages.get(V);return N&&N.length&&(z+=`<drawing r:id="rId${++L}"/>`),z})(1)}
    ${f.exportAsTable?`<tableParts count="1">
                <tablePart r:id="rId${++L}"/>
            </tableParts>`:""}
</worksheet>`,B}generateSheet1WithGrouping(a,i){const r=this,o=r.columnsArray.length,d=a.length,f=r.columnsArray[o-1]+d,p=r.datafields,v=[].concat(r.complexHeaderMergedCells);let w=0,C=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac xr xr2 xr3" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision" xmlns:xr2="http://schemas.microsoft.com/office/spreadsheetml/2015/revision2" xmlns:xr3="http://schemas.microsoft.com/office/spreadsheetml/2016/revision3" xr:uid="{7F25248B-C640-4C64-AD47-C0EA0E5D90D0}">
    <dimension ref="A1:${f}" />
    <sheetViews>
        <sheetView tabSelected="1" workbookViewId="0" />
        ${r.freezeHeader?`<sheetView rightToLeft="0" workbookViewId="0">
         <pane state="frozen" topLeftCell="A${r.xlsxStartIndex+1}" ySplit="${r.xlsxStartIndex}"/>
        </sheetView>`:""}
    </sheetViews>
    <sheetFormatPr defaultRowHeight="14.5" x14ac:dyDescent="0.35" />${r.getCustomColumnWidths()}
    <sheetData>
`,x=0,L=[];function A(k,B){return r.columnsArray[k]+B}e:for(let k=0;k<a.length;k++){const B=a[k],H=k+1+x;let V=0,z="";if(!r.exportHeader||!r.complexHeader&&k!==0||r.complexHeader&&k>=r.complexHeader.length){let F="";for(let q=0;q<r.groupBy.length;q++){const Y=r.groupBy[q],X=B[Y],ae=r.groups[Y][X];if(F+=X,L.indexOf(F)===-1){let Q=i.indexOf(ae);C+=r.generateGroupRow({rowNumber:H,outlineLevel:V,numberOfColumns:o,sharedStringIndex:Q,mergedCells:v}),L.push(F),k--,x++;continue e}V++}z=` outlineLevel="${V}"`}let N=`        <row r="${H}"${z} spans="1:${o}"${r.getCustomRowHeight(H-1)} customHeight="1" x14ac:dyDescent="0.45">
`;for(let F=0;F<p.length;F++){const q=r.getXLSXCellStyle(A(F,k+1));N+=r.getActualCellData(B[p[F]],{r:A(F,H),s:q},i,H,p[F])}N+=`        </row>
`,C+=N}return C+=`    </sheetData>${r.exportAsTable?"":r.getMergedCells(v)}
    <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />
    <pageSetup paperSize="9" orientation="portrait" r:id="rId1" />
    ${(k=>{let B="";const H=this.worksheetImages.get(k);return H&&H.length&&(B+=`<drawing r:id="rId${++w}"/>`),B})(1)}
    ${r.exportAsTable?`<tableParts count="1">
                <tablePart r:id="rId${++w}"/>
            </tableParts>`:""}
</worksheet>`,r.groupDimensionEnd=r.columnsArray[o-1]+(d+x),r.groupRowsCount=d+x,C}isFormula(a){return a!==null&&this.autoConvertFormulas&&a.toString().startsWith("=")}getActualCellData(a,i,r){const o=i.r,d=i.s||' s="0"';return a!==null||this.allowNull||(a=""),a&&this.isFormula(a)?`            <c r="${o}" t="s"${d}>
                <f>${a.slice(1)}</f>
            </c>
`:typeof a=="string"?`            <c r="${o}" t="s"${d}>
                <v>${r.indexOf(a)}</v>
            </c>
`:typeof a=="boolean"?`            <c r="${o}" t="b"${d}>
                <v>${+a}</v>
            </c>
`:a instanceof Date?`            <c r="${o}"${d}>
                <v>${2+Math.round(this.timeBetween1900And1970/864e5)+(a.getTime()-60*a.getTimezoneOffset()*1e3)/864e5}</v>
            </c>
`:`            <c r="${o}"${d}>
                <v>${a}</v>
            </c>
`}getColumnsArray(){const a=this.datafields.length,i=[];function r(o){return o<26?"":String.fromCharCode(64+Math.floor(o/26))}for(let o=0;o<a;o++)i.push(r(o)+String.fromCharCode(65+(o<26?o:o%26)));this.columnsArray=i}getColumnsArrayFromDataFields(a){const i=a.length,r=[];function o(d){return d<26?"":String.fromCharCode(64+Math.floor(d/26))}for(let d=0;d<i;d++)r.push(o(d)+String.fromCharCode(65+(d<26?d:d%26)));return r}getColumnStyle(){const a=this,i=a.style;if(!i)return`        .header { border: 1px solid black; padding: 5px; }
        .column { border: 1px solid black; padding: 5px; }
        .group { background-color: #FFFFFF; color: #000000; font-weight: bold; }`;let r;r=i.removeDefault?{header:"",column:"",group:""}:{header:"border: 1px solid black; padding: 5px; ",column:"white-space: nowrap; overflow: hidden; border: 1px solid black; padding: 5px; ",group:"background-color: #FFFFFF; color: #000000; font-weight: bold; "};const o=a.data[0];let d="";const f=i.header||{};for(let v in f){if(!Object.prototype.hasOwnProperty.call(f,v))continue;const w=f[v];if(o[v]){r["header"+v]||(r["header"+v]="");for(let C in w)if(Object.prototype.hasOwnProperty.call(w,C)){const x=Smart.Utilities.Core.toDash(C)+": "+w[C]+"; ";r["header"+v]+=x,C==="width"&&(r["column"+v]||(r["column"+v]=""),r["column"+v]+=x)}}else v==="height"&&a.complexHeader?r.header+="height: "+parseInt(f[v],10)/a.complexHeader.length+"px; ":r.header+=Smart.Utilities.Core.toDash(v)+": "+f[v]+"; "}const p=i.columns||{};for(let v in p){if(!Object.prototype.hasOwnProperty.call(p,v))continue;const w=p[v];if(o[v]){r["column"+v]||(r["column"+v]="");for(let C in w)isNaN(C)&&Object.prototype.hasOwnProperty.call(w,C)&&C!=="format"&&(r["column"+v]+=Smart.Utilities.Core.toDash(C)+": "+w[C]+"; ")}else r.column+=Smart.Utilities.Core.toDash(v)+": "+w+"; "}for(let v in r)Object.prototype.hasOwnProperty.call(r,v)&&(d+=`        .${v} { ${r[v]}}
`);return i.custom&&(d+=`${i.custom}
`),d}getCustomColumnWidths(a){const i=this;if(a!==i.columnsArray||!i.style||!i.columnWidth||i.columnWidth.length===0)return"";let r=`
    <cols>
`;for(let o=0;o<i.columnWidth.length;o++){let d=i.columnWidth[o];d!==void 0&&(d=Math.round(parseFloat(d))/7,r+=`        <col min="${o+1}" max="${o+1}" width="${d}" customWidth="1" />
`)}return r+="    </cols>",r}getCustomFilter(a,i){let r,o="equal";switch(a instanceof Date&&(a=(a.getTime()+this.timeBetween1900And1970)/864e5+2),i=i.toUpperCase()){case"EMPTY":r="";break;case"NOT_EMPTY":r="",o="notEqual";break;case"CONTAINS":case"CONTAINS_CASE_SENSITIVE":r=`*${a}*`;break;case"DOES_NOT_CONTAIN":case"DOES_NOT_CONTAIN_CASE_SENSITIVE":r=`*${a}*`,o="notEqual";break;case"STARTS_WITH":case"STARTS_WITH_CASE_SENSITIVE":r=`${a}*`;break;case"ENDS_WITH":case"ENDS_WITH_CASE_SENSITIVE":r=`*${a}`;break;case"EQUAL":case"EQUAL_CASE_SENSITIVE":r=a;break;case"NULL":r=null;break;case"NOT_NULL":r=null,o="notEqual";break;case"NOT_EQUAL":r=a,o="notEqual";break;case"LESS_THAN":r=a,o="lessThan";break;case"LESS_THAN_OR_EQUAL":r=a,o="lessThanOrEqual";break;case"GREATER_THAN":r=a,o="greaterThan";break;case"GREATER_THAN_OR_EQUAL":r=a,o="greaterThanOrEqual"}return`                <customFilter val="${r}" operator="${o}"/>
`}getCustomRowHeight(a){const i=this;return i.style&&(i.rowHeight[a]||i.defaultRowHeight)||""}getDatafields(a){const i=a[0],r=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&o.charAt(0)!=="_"&&r.push(o);this.datafields=r}getFilters(){const a=this,i=a.filterBy;if(!i)return"";let r="";for(let o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const d=a.datafields.indexOf(o);if(d===-1)continue;const f=i[o],p=f.filters;r+=`        <filterColumn colId="${d}">
            <customFilters and="${!f.operator}">
`;for(let v=0;v<p.length;v++)r+=a.getCustomFilter(p[v].value,p[v].condition);r+=`            </customFilters>
        </filterColumn>`}return r?(r=`
    <autoFilter ref="A1:${a.columnsArray[a.columnsArray.length-1]+a.data.length}">
${r}
    </autoFilter>`,r):""}getGroupLabels(a){const i=this,r=i.xlsxStartIndex!==void 0?i.xlsxStartIndex:+i.exportHeader,o={},d=[];for(let f=r;f<a.length;f++){const p=a[f];for(let v=0;v<i.groupBy.length;v++){const w=i.groupBy[v],C=p[w];let x=o[w];x===void 0&&(o[w]={},x=o[w]),x[C]===void 0&&(x[C]=(i.exportHeader?a[r-1][w]:w)+": "+C,d.push(x[C]))}}i.groups=o,i.groupLabels=d}getHTMLHeader(a,i){const r=this;let o=`
        <thead>
`;if(!r.complexHeader){o+=`            <tr>
`;for(let d=0;d<a.length;d++){const f=a[d];o+=`                <th class="header header${f}">${i[0][f]}</th>
`}return o+=`            </tr>
        </thead>`,o}for(let d=0;d<r.complexDataFieldsHeader.length;d++){const f=r.complexDataFieldsHeader[d];o+=`            <tr>
`;for(let p=0;p<f.length;p++){const v=f[p];let w=1,C=1;if(f[p-1]&&f[p-1]===v||r.complexDataFieldsHeader[d-1]&&r.complexDataFieldsHeader[d-1][p]===v)continue;let x=p+1;for(;f[x]&&f[x]===f[x-1];)w++,x++;for(x=d+1;r.complexDataFieldsHeader[x]&&r.complexDataFieldsHeader[x][p]===v;)C++,x++;o+=`                <th class="header${d===r.complexHeader.length-1||C+d===r.complexHeader.length?" header"+a[p]:""}" colspan="${w}" rowspan="${C}">${r.complexHeader[d][p]}</th>
`}o+=`            </tr>
`}return o+="        </thead>",o}getConditionalFormatting(){const a=this,i=a.conditionalFormatting;if(!i)return void(a.conditionalFormattingXLSX={conditions:"",styles:""});const r=[];let o="",d="";for(let f=i.length-1;f>=0;f--){const p=i[f],v=a.columnsArray[a.datafields.indexOf(p.column)],w=v+(a.xlsxStartIndex+1),C=w+":"+v+a.data.length,x=p.background+p.color,L=a.getConditionalAttributes(p,w);let A=r.indexOf(x);A===-1&&(d+=`        <dxf>
            <font>
                <b val="0"/>
                <i val="0"/>
                <color rgb="${p.color==="White"?"FFFFFFFF":"FF000000"}"/>
                <sz val="10"/>
            </font>
            <fill>
                <patternFill>
                    <bgColor rgb="${a.toARGB(p.background)}"/>
                </patternFill>
            </fill>
        </dxf>
`,A=r.length,r.push(x)),o+=`    <conditionalFormatting sqref="${C}">
        <cfRule dxfId="${A}" text="${L.text}" rank="${L.rank}" percent="${L.percent}" bottom="${L.bottom}" equalAverage="${L.equalAverage}" aboveAverage="${L.aboveAverage}"${L.operator}${L.timePeriod} priority="${f+2}" type="${L.type}">
${L.formula}        </cfRule>
    </conditionalFormatting>
`}d=`    <dxfs count="${r.length}">
${d}    </dxfs>`,a.conditionalFormattingXLSX={conditions:o,styles:d}}getConditionalAttributes(a,i){let r=a.condition,o=a.comparator,d="",f=0,p=0,v=0,w=0,C="",x="",L="",A="";switch(r){case"equal":C="equal",L="cellIs",A=`            <formula>${o}</formula>
`;break;case"lessThan":C="lessThan",L="cellIs",A=`            <formula>${o}</formula>
`;break;case"greaterThan":C="greaterThan",L="cellIs",A=`            <formula>${o}</formula>
`;break;case"notEqual":C="notEqual",L="cellIs",A=`            <formula>${o}</formula>
`;break;case"between":C="between",L="cellIs",A=`            <formula>${a.min}</formula>
            <formula>${a.max}</formula>
`;break;case"duplicate":L="duplicateValues",A=`            <formula>0</formula>
`;break;case"topNItems":f=o,L="top10";break;case"bottomNItems":f=o,v=1,L="top10";break;case"topNPercent":f=o,p=1,L="top10";break;case"bottomNPercent":f=o,p=1,v=1,L="top10";break;case"aboveAverage":w=1,L="aboveAverage",A=`            <formula>0</formula>
`;break;case"belowAverage":L="aboveAverage",A=`            <formula>0</formula>
`;break;case"contains":d=o,C="containsText",L="containsText",A=`            <formula>NOT(ISERROR(SEARCH("${o}",${i})))</formula>
`;break;case"doesNotContain":d=o,C="notContains",L="notContainsText",A=`            <formula>ISERROR(SEARCH("${o}",${i}))</formula>
`;break;case"dateOccur":x=` timePeriod="${o}"`,L="timePeriod"}return C&&(C=` operator="${C}" `),{text:d,rank:f,percent:p,bottom:v,equalAverage:0,aboveAverage:w,operator:C,timePeriod:x,type:L,formula:A}}getMergedCells(a){const i=this;let r="";for(let o=0;o<a.length;o++)a[o].from!==a[o].to&&(r+=`
        <mergeCell ref="${a[o].from}:${a[o].to}" />
`);if(i.mergedCells)for(let o=0;o<i.mergedCells.length;o++){const d=i.mergedCells[o];d.rowspan<2&&d.colspan<2||(r+=`
        <mergeCell ref="${i.columnsArray[d.cell[0]]+(d.cell[1]+i.xlsxStartIndex+1)}:${i.columnsArray[d.cell[0]+d.colspan-1]+(d.cell[1]+i.xlsxStartIndex+d.rowspan)}" />
`)}return r&&(r=`
    <mergeCells count="${a.length}">${r}    </mergeCells>`),r}getNumFmtIndex(a,i){let r=i.collection.indexOf(a);return r===-1?(r=i.collection.length+100,i.collection.push(a),i.xml+=`<numFmt numFmtId="${r}" formatCode="${a}"/>`):r+=100,r}getOutlineLevel(a){return this.actualHierarchy&&a._level!==1?` outlineLevel="${a._level-1}"`:""}getRowStyle(){const a=this.style;if(!a)return"";const i=a.rows;if(!i)return"";const r={row:""};let o="";for(let f in i){if(!Object.prototype.hasOwnProperty.call(i,f)||f==="alternationCount"||f==="alternationStart"||f==="alternationEnd")continue;const p=i[f];if(f.indexOf("alt")===-1)if(isNaN(f))r.row+=Smart.Utilities.Core.toDash(f)+": "+i[f]+"; ";else{r["row"+f]||(r["row"+f]="");for(let v in p)Object.prototype.hasOwnProperty.call(p,v)&&(r["row"+f]+=Smart.Utilities.Core.toDash(v)+": "+p[v]+"; ")}else{const v=f.slice(16,17),w=f.slice(17);r["rowN"+v]||(r["rowN"+v]=""),r["rowN"+v]+=w==="Color"?"color : "+p+"; ":w==="BorderColor"?"border-color : "+p+"; ":"background-color : "+p+"; "}}let d=Object.keys(r);d.sort(function(f,p){if(f==="row")return-1;if(p==="row")return 1;const v=!isNaN(f.slice(3)),w=!isNaN(p.slice(3));return v&&!w?1:!v&&w?-1:+(f<p)});for(let f=0;f<d.length;f++)o+=`        .${d[f]} { ${r[d[f]]}}
`;return o}getTableStyle(){const a=this.style;if(!a)return' style="table-layout: fixed; border: 1px solid black; border-collapse: collapse;"';let i="table-layout: fixed; ";for(let r in a)Object.prototype.hasOwnProperty.call(a,r)&&["header","columns","rows","removeDefault","custom"].indexOf(r)===-1&&(i+=Smart.Utilities.Core.toDash(r)+": "+a[r]+"; ");return i&&(i=' style="'+i+'"'),i}getXLSXCellStyle(a){const i=this;return i.cellStyleMapping[a]!==void 0?` s="${i.cellStyleMapping[a]}"`:""}getXLSXFormat(a,i){if(typeof i=="number"){let r="$";if(a&&typeof a=="string"&&a.indexOf("c")>=0&&a.indexOf("x")>=0&&(r=a.substring(0,a.indexOf("x")),a=a.substring(1+a.indexOf("x"))),!/^([a-zA-Z]\d*)$/g.test(a))return a;let o=parseFloat(a.slice(1))||0,d=o>0?"."+"0".repeat(o):"";switch(a=a.slice(0,1)){case"C":case"c":return r!=="$"?"#,0"+d+" "+r:r+"#,0"+d;case"D":case"d":return o?"#,0"+d:"0";case"E":case"e":return"0"+d+a+"000";case"F":case"f":return"0"+d;case"N":case"n":return"#,0"+d;case"P":case"p":return"#,0"+d+" %";default:return}}else if(i instanceof Date){switch(a){case"d":return"m/d/yyyy";case"D":return"nnnnmmmm dd, yyyy";case"t":return"h:m AM/PM";case"T":return"h:mm:ss AM/PM";case"f":return"nnnnmmmm dd, yyyy h:m AM/PM";case"F":return"nnnnmmmm dd, yyyy h:mm:ss AM/PM";case"M":return"mmmm d";case"Y":return"yyyy mmmm";case"FP":case"PP":return"yyyy-mm-dd hh:mm:ss";case"FT":case"PT":return"hh:mm:ss"}return a=(a=(a=(a=a.replace(/f|u|n|p|e|a|x|o/gi,"")).replace(/tt/gi,"AM/PM")).replace(/:{2,}|:\s|:$|\.$/g,"")).trim()}}processColumnStyle(a){const i=this,r=a.header,o=a.columns,d=i.data[0],f=i.xlsxStartIndex;if(i.columnWidth=[],f&&r)for(let p=0;p<i.columnsArray.length;p++){const v=i.columnsArray[p],w=v+f,C=r[i.datafields[p]];for(let x in r)if(Object.prototype.hasOwnProperty.call(r,x)&&d[x]===void 0)if(i.complexHeader)for(let L=0;L<i.complexHeader.length;L++)x!=="height"?i.storeCellStyle(v+(L+1),x,r[x]):i.rowHeight[L]=` ht="${parseFloat(r.height)/i.complexHeader.length/2}"`;else{if(x==="height"){i.rowHeight[f-1]=` ht="${parseFloat(r.height)/2}"`;continue}i.storeCellStyle(w,x,r[x])}if(C){for(let x in C)if(Object.prototype.hasOwnProperty.call(C,x)){if(x==="width"){i.columnWidth[p]=C.width;continue}i.storeCellStyle(w,x,C[x])}}}else if(r)for(let p=0;p<i.columnsArray.length;p++){const v=r[i.datafields[p]];v&&v.width!==void 0&&(i.columnWidth[p]=v.width)}if(!o)return"";for(let p=f;p<i.data.length;p++)for(let v=0;v<i.columnsArray.length;v++){const w=i.columnsArray[v]+(p+1),C=i.datafields[v],x=o[C];for(let L in o)Object.prototype.hasOwnProperty.call(o,L)&&d[L]===void 0&&i.storeCellStyle(w,L,o[L]);if(x){for(let L in x)isNaN(L)&&Object.prototype.hasOwnProperty.call(x,L)&&i.storeCellStyle(w,L,x[L],i.data[p][C]);if(x[p]){const L=x[p];for(let A in L)isNaN(A)&&Object.prototype.hasOwnProperty.call(L,A)&&L[A]&&i.storeCellStyle(w,A,L[A],i.data[p][C])}}}if(i.headerContent&&i.headerContent.length)for(let p=0;p<i.headerContent.length;p++){const v=(C,x,L)=>{for(let A=0;A<i.columnsArray.length;A++){const k=i.columnsArray[A]+C;i.storeCellStyle(k,x,L)}},w=p+1;if(i.headerContent[p].style){const C=i.headerContent[p].style,x=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),L=k=>isNaN(k)?"00":x[(k-k%16)/16]+x[k%16],A=k=>k.startsWith("#")?k.toUpperCase():(k=k.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))?"#"+L(k[1])+L(k[2])+L(k[3]).toUpperCase():null;for(let k in C){let B=C[k];k!=="height"?(k!=="color"&&k!=="backgroundColor"||(B=A(B)),v(w,k,B)):i.rowHeight[w-1]=` ht="${parseFloat(B)}"`}}}if(i.footerContent&&i.footerContent.length)for(let p=0;p<i.footerContent.length;p++){const v=(x,L,A)=>{for(let k=0;k<i.columnsArray.length;k++){const B=i.columnsArray[k]+x;i.storeCellStyle(B,L,A)}};let w=i.headerContent&&i.headerContent.length?i.headerContent.length:0;const C=1+i.data.length+p+w;if(i.footerContent[p].style){const x=i.footerContent[p].style,L=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),A=B=>isNaN(B)?"00":L[(B-B%16)/16]+L[B%16],k=B=>B.startsWith("#")?B.toUpperCase():(B=B.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))?"#"+A(B[1])+A(B[2])+A(B[3]).toUpperCase():null;for(let B in x){let H=x[B];B!=="height"?(B!=="color"&&B!=="backgroundColor"||(H=k(H)),v(C,B,H)):i.rowHeight[C-1]=` ht="${parseFloat(H)}"`}}}}processComplexHeader(a,i,r){const o=this,d={},f=["html","jpeg","pdf","png","xlsx"].indexOf(r)!==-1&&a.columngroups,p=[],v={},w={},C=[],x=[];let L=0;function A(B){for(let H=0;H<a.columngroups.length;H++){const V=a.columngroups[H];if(V.name===B)return V}}function k(B,H){const V=[];for(;B;){if(V.unshift(B[H]),!B.parentGroup)return V;B=A(B.parentGroup)}}if(f){for(let B=0;B<a.columngroups.length;B++){const H=a.columngroups[B],V=k(H,"label");v[H.name]=V,w[H.name]=k(H,"name"),L=Math.max(L,V.length)}L++;for(let B=0;B<L;B++)C[B]=[],x[B]=[]}for(let B=0;B<a.columns.length;B++){const H=a.columns[B];if(d[H.dataField]=H.label,!f||(p[B]=H.dataField,C[L-1][B]=H.label,x[L-1][B]=H.dataField,!H.columnGroup))continue;const V=v[H.columnGroup],z=w[H.columnGroup];if(V)for(let N=0;N<V.length;N++)C[N][B]=V[N],x[N][B]=z[N]}if(C.length>1){const B=Object.keys(d).length;for(let H=0;H<L-1;H++){const V={};for(let z=0;z<B;z++){if(C[H][z]===void 0){let N=H+1;for(;C[N][z]===void 0;)N++;C[H][z]=C[N][z],x[H][z]=x[N][z]}V[p[z]]=C[H][z]}r==="xlsx"&&i.splice(H,0,V)}if(o.complexHeader=C,o.complexDataFieldsHeader=x,r!=="xlsx")i.unshift(d);else{i.splice(L-1,0,d);const H={};for(let V=0;V<L;V++)for(let z=0;z<B;z++){const N=x[V][z];if(H[N]){const F=H[N].to;if(V-F[0]>1||z-F[1]>1){H[N+Math.random().toString(36)]=H[N],H[N]={from:[V,z],to:[V,z]};continue}H[N].to=[V,z]}else H[N]={from:[V,z]},H[N].to=H[N].from}o.complexHeaderMergeInfo=H}}else i.unshift(d)}processHierarchicalData(a,i){const r=this,o=i!=="xlsx"?+r.exportHeader:r.xlsxStartIndex,d={},f=[];let p=0,v=!1;if(a[o]._keyDataField===void 0)return r.processNestedData(a,i,o);for(let w=o;w<a.length;w++){const C=Object.assign({},a[w]);let x=C._parentDataField;x===void 0&&(x=null),d[x]===void 0?d[x]=[C]:d[x].push(C)}if(o)for(let w=0;w<o;w++)f.push(Object.assign({},a[w])),["json","pdf","xml"].indexOf(i)===-1&&(f[w]._level=1);return i!=="json"&&i!=="xml"?function w(C,x,L){const A=d[C];if(p=Math.max(p,x),A!==void 0)for(let k=0;k<A.length;k++){const B=A[k],H=B._keyDataField;B._collapsed=L,B._level=x,f.push(B),d[H]&&(v=!0,B._expanded=B._expanded===void 0||B._expanded,w(H,x+1,L||!B._expanded))}}(null,1,!1):function w(C,x,L){const A=d[C];if(p=Math.max(p,x),A!==void 0)for(let k=0;k<A.length;k++){const B=A[k],H=B._keyDataField;let V;if(i==="json"){V={};for(let z in B)Object.prototype.hasOwnProperty.call(B,z)&&z.charAt(0)!=="_"&&(V[z]=B[z])}else V=Object.assign({},B);L.push(V),d[H]&&(v=!0,V.rows=[],w(H,x+1,V.rows))}}(null,1,f),v||(r.actualHierarchy=!1),r.maxLevel=p,f}processNestedData(a,i,r){const o=this,d=[];let f=0,p=!1;if(r)for(let v=0;v<r;v++)d.push(Object.assign({},a[v])),["json","pdf","xml"].indexOf(i)===-1&&(d[v]._level=1);return i!=="json"&&i!=="xml"?function v(w,C,x,L){f=Math.max(f,x);for(let A=w;A<C.length;A++){const k=Object.assign({},C[A]);k._collapsed=L,k._level=x,d.push(k),k.children&&k.children.length>0&&(p=!0,k._expanded=k._expanded===void 0||k._expanded,v(0,k.children,x+1,L||!k._expanded)),delete k.children}}(r,a,1,!1):function v(w,C,x,L){f=Math.max(f,L);for(let A=w;A<C.length;A++){const k=Object.assign({},C[A]);L===1?d[A]=k:x[A]=k,k.children&&k.children.length>0&&(p=!0,k.rows=[],v(0,k.children,k.rows,L+1)),delete k.children}}(r,a,void 0,1),p||(o.actualHierarchy=!1),o.maxLevel=f,d}processRowStyle(a){const i=this,r=a.rows;if(i.rowHeight=[],!r)return;const o=i.xlsxStartIndex;function d(p,v,w){for(let C=0;C<i.columnsArray.length;C++){const x=i.columnsArray[C]+(p+1+o);i.storeCellStyle(x,v,w)}}r.height&&(r.height||(r.height=15),i.defaultRowHeight=` ht="${parseFloat(r.height)/2}"`);for(let p=o;p<i.data.length;p++){const v=p-o;for(let w in r)Object.prototype.hasOwnProperty.call(r,w)&&w.indexOf("alt")===-1&&isNaN(w)&&w!=="height"&&d(v,w,r[w]);if(r.alternationCount&&((r.alternationStart===void 0||v>=r.alternationStart)&&(r.alternationEnd===void 0||v<=r.alternationEnd)||r.alternationStart===r.alternationEnd)){const w=(v-(r.alternationStart||0))%r.alternationCount;r[`alternationIndex${w}Color`]&&d(v,"color",r[`alternationIndex${w}Color`]),r[`alternationIndex${w}BorderColor`]&&d(v,"borderColor",r[`alternationIndex${w}BorderColor`]),r[`alternationIndex${w}BackgroundColor`]&&d(v,"backgroundColor",r[`alternationIndex${w}BackgroundColor`])}if(i.setRowHeight){const w=i.setRowHeight(v);if(w){i.rowHeight[p]=` ht="${parseFloat(w)}"`;continue}}if(r[v]){for(let w in r[v])if(Object.prototype.hasOwnProperty.call(r[v],w)){if(w==="height"){i.rowHeight[p]=` ht="${parseFloat(r[v].height)/2}"`;continue}if(i.data[p]&&i.data[p][w]){let C=function(x,L,A,k){const B=i.datafields?i.datafields.indexOf(k):-1;if(B>=0){const H=i.columnsArray[B]+(x+1+o);i.storeCellStyle(H,L,A)}};var f=C;for(let x in r[v][w])C(v,x,r[v][w][x],w);continue}d(v,w,r[v][w])}}}}storeCellStyle(a,i,r){const o=this.styleMap[a];switch(i){case"backgroundColor":o.fills.fgColor=r;break;case"color":o.fonts.color=r;break;case"fontFamily":o.fonts.name=r.replace(/"/g,"'");break;case"fontSize":o.fonts.sz=Math.round(parseFloat(r)/1.3333333333333333);break;case"fontStyle":r==="italic"?o.fonts.i=!0:delete o.fonts.i;break;case"fontWeight":r==="bold"?o.fonts.b=!0:delete o.fonts.b;break;case"numFmt":o.numFmt=r;break;case"textAlign":o.alignment.horizontal=r;break;case"textDecoration":r==="underline"?o.fonts.u=!0:delete o.fonts.u;break;case"verticalAlign":r==="middle"&&(r="center"),o.alignment.vertical=r}}toARGB(a){a=a.replace(/\s/g,"");const i=/rgb\((\d+),(\d+),(\d+)\)/gi.exec(a);if(i!==null){const d=parseFloat(i[1]).toString(16).toUpperCase(),f=parseFloat(i[2]).toString(16).toUpperCase(),p=parseFloat(i[3]).toString(16).toUpperCase();return"FF"+"0".repeat(2-d.length)+d+"0".repeat(2-f.length)+f+"0".repeat(2-p.length)+p}const r=/rgba\((\d+),(\d+),(\d+)\,(\d*.\d+|\d+)\)/gi.exec(a);if(r!==null){const d=Math.round(255*parseFloat(r[4])).toString(16).toUpperCase(),f=parseFloat(r[1]).toString(16).toUpperCase(),p=parseFloat(r[2]).toString(16).toUpperCase(),v=parseFloat(r[3]).toString(16).toUpperCase();return"0".repeat(2-d.length)+d+"0".repeat(2-f.length)+f+"0".repeat(2-p.length)+p+"0".repeat(2-v.length)+v}const o=/^#(.)(.)(.)$/gi.exec(a);if(o!==null){const d=o[1].toUpperCase(),f=o[2].toUpperCase(),p=o[3].toUpperCase();return"FF"+d+d+f+f+p+p}return"FF"+a.toUpperCase().slice(1)}toggleableFunctionality(){const a=this;return a.actualHierarchy?`
    <style type="text/css">
        .toggle-element {
            width: 5px;
            height: 1px;
            padding-right: 5px;
            float: left;
            text-align: right;
            cursor: pointer;
            user-select: none;
        }

        .collapsed {
            display: none;
        }
    </style>
    <script type="text/javascript">
        window.onload = function () {
            var expandChar = '${a.expandChar}',
                collapseChar = '${a.collapseChar}',
                toggleElements = document.getElementsByClassName('toggle-element');

            function getParent(child) {
                var prevSibling = child.previousElementSibling;

                while (prevSibling) {
                    if (child.getAttribute('level') > prevSibling.getAttribute('level')) {
                        return prevSibling;
                    }

                    prevSibling = prevSibling.previousElementSibling;
                }

            }

            function getFirstCollapsedAncestor(child) {
                var parent = getParent(child);

                while (parent) {
                    if (parent.firstElementChild.firstElementChild.innerHTML === expandChar) {
                        return parent;
                    }

                    parent = getParent(parent);
                }
            }

            for (var i = 0; i < toggleElements.length; i++) {
                toggleElements[i].addEventListener('click', function (event) {
                    var expanded = this.innerHTML === collapseChar,
                        row = this.parentElement.parentElement,
                        sibling = row.nextElementSibling;

                    if (expanded) {
                        this.innerHTML = expandChar;
                    }
                    else {
                        this.innerHTML = collapseChar;
                    }

                    while (sibling && row.getAttribute('level') < sibling.getAttribute('level')) {
                        if (expanded) {
                            sibling.style.display = 'none';
                        }
                        else {
                            var firstCollapsedAncestor = getFirstCollapsedAncestor(sibling);

                            if (!firstCollapsedAncestor || firstCollapsedAncestor === row) {
                                sibling.classList.remove('collapsed');
                                sibling.style.display = null;
                            }

                        }

                        sibling = sibling.nextElementSibling;
                    }
                });
            }
        }
    <\/script>`:""}generateStyles(a){const i=this;if(i.cellStyleMapping={},Object.keys(a).length===0&&!i.complexHeader)return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac x16r2 xr" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:x16r2="http://schemas.microsoft.com/office/spreadsheetml/2015/02/main" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision"><fonts count="1" x14ac:knownFonts="1"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><charset val="204"/><scheme val="minor"/></font></fonts><fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>${i.conditionalFormattingXLSX.styles||'<dxfs count="0"/>'}<tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>`;i.styleMap={};let r=i.headerContent?i.headerContent.length:0;r+=i.footerContent?i.footerContent.length:0;let o=i.data.length+r;i.groupBy&&i.groupBy.length&&(o+=50);for(let C=0;C<o;C++)for(let x=0;x<i.columnsArray.length;x++)i.styleMap[i.columnsArray[x]+(C+1)]={numFmts:{},fonts:{},fills:{},borders:{},alignment:{}};if(a&&a.columns)for(let C=0;C<i.columnsArray.length;C++){const x=i.datafields[C];if(!a.columns[x]||!a.columns[x].format)continue;const L=i.getXLSXFormat(a.columns[x].format,i.data[1][x]),A=i.getXLSXFormat(a.columns[x].format,i.data[i.data.length-1][x]);if(A)a.columns[x].numFmt=A;else if(L)a.columns[x].numFmt=L;else if(a.columns[x].format&&(x.toLowerCase().indexOf("date")>=0||a.columns[x].format.indexOf("d/")>=0)){let k=a.columns[x].format;switch(k){case"d":k="m/d/yyyy";break;case"D":k="nnnnmmmm dd, yyyy";break;case"t":k="h:m AM/PM";break;case"T":k="h:mm:ss AM/PM";break;case"f":k="nnnnmmmm dd, yyyy h:m AM/PM";break;case"F":k="nnnnmmmm dd, yyyy h:mm:ss AM/PM";break;case"M":k="mmmm d";break;case"Y":k="yyyy mmmm";break;case"FP":case"PP":k="yyyy-mm-dd hh:mm:ss";break;case"FT":case"PT":k="hh:mm:ss"}k=k.replace(/f|u|n|p|e|a|x|o/gi,""),k=k.replace(/tt/gi,"AM/PM"),k=k.replace(/:{2,}|:\s|:$|\.$/g,""),k=k.trim(),a.columns[x].numFmt=k}}i.processRowStyle(a),i.processColumnStyle(a);const d={};for(let C=0;C<i.complexHeaderMergedCells.length;C++){const x=i.complexHeaderMergedCells[C];parseFloat(x.to[1])!==i.complexHeader.length?(i.styleMap[x.from].alignment.horizontal="center",i.styleMap[x.from].alignment.vertical="center"):d[x.to]=x.from}const f={xml:'<font><sz val="11" /><color theme="1" /><name val="Calibri" /><family val="2" /><charset val="204" /><scheme val="minor" /></font>',collection:["default"]},p={xml:'<fill><patternFill patternType="none" /></fill><fill><patternFill patternType="gray125" /></fill>',collection:["default","gray125"]},v={xml:"",collection:[]},w={xml:'<xf fontId="0" fillId="0" borderId="1"/>',collection:["default"]};for(let C=0;C<o;C++)for(let x=0;x<i.columnsArray.length;x++){const L=i.columnsArray[x]+(C+1),A=i.styleMap[L];let k="",B="",H="",V=[],z=[],N=[],F=[];for(let Y in A.fonts)if(Object.prototype.hasOwnProperty.call(A.fonts,Y)){const X=A.fonts[Y];switch(Y){case"color":V[0]=X,k+=`<color rgb="${i.toARGB(X)}" />`;break;case"name":V[1]=X,k+=`<name val="${X}" />`;break;case"sz":V[2]=X,k+=`<sz val="${X}" />`;break;case"i":V[3]=X,k+="<i />";break;case"b":V[4]=X,k+="<b />";break;case"u":V[5]=X,k+="<u />"}}for(let Y in A.fills)if(Object.prototype.hasOwnProperty.call(A.fills,Y)){const X=A.fills[Y];switch(Y){case"fgColor":z[0]=X,B+=`<fgColor rgb="${i.toARGB(X)}" />`}}for(let Y in A.alignment)if(Object.prototype.hasOwnProperty.call(A.alignment,Y)){const X=A.alignment[Y];switch(Y){case"horizontal":N[0]=X,H+=`horizontal="${X}" `;break;case"vertical":N[1]=X,H+=`vertical="${X}" `}}if(V=V.toString(),z=z.toString(),k!==""){let Y=f.collection.indexOf(V);Y===-1&&(Y=f.collection.length,f.xml+="<font>"+k+"</font>",f.collection.push(V)),F[0]=Y}if(B!==""){let Y=p.collection.indexOf(z);Y===-1&&(Y=p.collection.length,p.xml+='<fill><patternFill patternType="solid">'+B+"</patternFill></fill>",p.collection.push(z)),F[1]=Y}N.length>0&&(F[2]=H),A.numFmt!==void 0&&(F[3]=i.getNumFmtIndex(A.numFmt,v));const q=F.toString();if(q!==""){let Y=w.collection.indexOf(q);if(Y===-1){let X="<xf ";Y=w.collection.length,F[0]!==void 0&&(X+=`fontId="${F[0]}" `),F[1]!==void 0&&(X+=`fillId="${F[1]}" `),F[3]!==void 0&&(X+=`numFmtId="${F[3]}" `),F[2]!==void 0?X+=`applyAlignment="1" borderId="1"><alignment ${H}/></xf>`:X+=' borderId="1"/>',w.xml+=X,w.collection.push(q)}i.cellStyleMapping[d[L]||L]=Y}}return v.collection.length&&(v.xml=`<numFmts count="${v.collection.length}">${v.xml}</numFmts>`),`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac x16r2 xr" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:x16r2="http://schemas.microsoft.com/office/spreadsheetml/2015/02/main" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision">${v.xml}<fonts count="${f.collection.length}" x14ac:knownFonts="1">${f.xml}</fonts><fills count="${p.collection.length}">${p.xml}</fills><borders count="2"><border><left/><right/><top/><bottom/></border><border><left style="hair"/><right style="hair"/><top style="hair"/><bottom style="hair"/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="${w.collection.length}">${w.xml}</cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>${i.conditionalFormattingXLSX.styles}<dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>`}})})()},8588:()=>{Smart("smart-input",class extends Smart.BaseElement{static get properties(){return{autoCompleteDelay:{value:100,type:"number"},dataSource:{type:"any",value:[],reflectToAttribute:!1},dropDownClassList:{value:[],type:"array",reflectToAttribute:!1},dropDownDataSource:{type:"any",reflectToAttribute:!1,value:[]},dropDownHeight:{type:"any",value:200},dropDownOpenMode:{allowedValues:["default","manual"],value:"default",type:"string"},dropDownAppendTo:{value:null,type:"any"},dropDownWidth:{type:"any",value:null},dropDownButtonPosition:{allowedValues:["none","left","right"],value:"none",type:"string"},dropDownOpenPosition:{allowedValues:["bottom","top","auto"],value:"bottom",type:"string"},dropDownPlaceholder:{type:"string",value:""},hint:{type:"string",value:""},inputPurpose:{type:"string",value:"off"},items:{type:"number",value:8},minLength:{type:"number",value:1},maxLength:{type:"number",value:99999999},name:{value:"",type:"string"},prefix:{value:"",type:"string",reflectToAttribute:!1},suffix:{value:"",type:"string",reflectToAttribute:!1},onAffixClick:{value:null,type:"any",reflectToAttribute:!1},opened:{value:!1,type:"boolean"},query:{type:"string",value:""},queryMode:{allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string",value:"containsIgnoreCase"},placeholder:{value:"",type:"string"},readonly:{type:"boolean",value:!1},sorted:{value:!1,type:"boolean"},sortDirection:{value:"asc",type:"string"},selectedIndex:{type:"number",value:-1},selectedValue:{type:"any",value:""},selectedValues:{value:[],type:"array"},type:{type:"string"},value:{type:"string",value:""},innerHTML:{type:"string",reflectToAttribute:!1}}}static get styleUrls(){return["smart.textbox.css"]}template(){return`<div id="inputContainer" role="presentation"><div id="optionsContainer" inner-h-t-m-l='{{innerHTML}}' class="smart-hidden"></div><span class="smart-input-prefix" id="prefix" inner-h-t-m-l='{{prefix}}'></span><input maxlength='[[maxLength]]'  class="smart-input" id='input' readonly='[[readonly]]' placeholder='[[placeholder]]' type='[[type]]' name='[[name]]' value='{{value::keyup}}' disabled='[[disabled]]' /><span class="smart-hidden smart-hint" id="span">[[hint]]</span><span id="suffix"  class="smart-input-suffix" inner-h-t-m-l='{{suffix}}'></span><div id="dropDownButton" tabindex=-1 class="smart-drop-down-button" role="button" aria-label="Toggle popup"><div id="arrow" class="arrow" aria-hidden="true"></div></div></div>`}static get listeners(){return{"input.focus":"_focusHandler","input.blur":"_blurHandler","input.keydown":"_keyDownHandler","input.keyup":"_keyUpHandler","input.keypress":"_keyPressHandler","input.paste":"_pasteHandler","prefix.click":"_prefixClick","suffix.click":"_suffixClick","dropDownButton.down":"_dropDownButtonDownHandler","inputContainer.down":"_downHandler","document.up":"_documentUpHandler"}}_prefixClick(e){const t=this;if(t.onAffixClick)if(typeof t.onAffixClick=="string"){const n=t.onAffixClick.replace("()","");window[n]&&window[n].apply(t,e)}else t.onAffixClick(e)}_suffixClick(e){const t=this;if(typeof t.onAffixClick=="string"){const n=t.onAffixClick.replace("()","");window[n]&&window[n].apply(t,e)}else t.onAffixClick(e)}get selectedIndexes(){return this.isCompleted?[this.selectedIndex]:[]}set selectedIndexes(e){if(!this.isCompleted)return;const t=this;if(e&&e[0]!==void 0){if(this.selectedIndex=e[0],this.dataSource===null)return;const n=this.dataSource[this.selectedIndex];if(!n)return;const a=this.context;this.context=this,this.$.input.dataValue=this.selectedValue=typeof n=="string"?n:n.value,this.setAttribute("data-value",this.$.input.dataValue);let i=t.dataSource;typeof i=="string"&&(i=t.$.deserialize(i,"array"));for(let r=0;r<i.length;r++){let o=i[r];typeof o!="string"&&typeof o!="number"&&(o.value===t.$.input.dataValue?o.selected=!0:o.selected=!1)}this.context=a}else{const n=this.context;this.context=this,this.$.input.dataValue=this.selectedValue="",this.setAttribute("data-value",this.$.input.dataValue),this.selectedIndex=-1;let a=t.dataSource;if(typeof a=="string"&&(a=t.$.deserialize(a,"array")),a&&Array.isArray(a))for(let i=0;i<a.length;i++){let r=a[i];typeof r!="string"&&(r.value===t.$.input.dataValue?r.selected=!0:r.selected=!1)}this.context=n}}focus(){this.$.input.focus()}select(){const e=this;e.readonly?e.$.input.focus():e.$.input.select()}_documentUpHandler(e){const t=this,n=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;n!==t&&n!==t.$.dropDownButton&&n!==t.$.input&&n!==t.$.arrow?t.$.scrollView.contains(n.shadowParent||n)?t._isPointerDown&&(t._isPointerDown=!1,t.opened&&(t._preventLookup=!0),t.$.input.focus()):(t.opened&&(t._preventLookup=!0),t.dropDownOpenMode==="manual"||t._isPointerDown||t.close(),t._isPointerDown=!1):t._isPointerDown=!1}_focusHandler(){const e=this;e.setAttribute("focus",""),e.readonly||e.minLength!==0||e.$.input.value.length!==0||e._preventLookup?(e.$.fireEvent("focus"),delete e._preventLookup):e._lookup()}_blurHandler(){const e=this;e.opened||e.removeAttribute("focus"),e.opened||e.$.fireEvent("blur"),e._refreshSelectedIndex(),delete e._preventLookup}_pasteHandler(e){const t=this,n=t.$.input,a=n.value,i=n.selectionStart,r=n.selectionEnd;if(!e.clipboardData&&!window.clipboardData||t.disabled)return;const o=(e.clipboardData||window.clipboardData).getData("text");let d=a.slice(0,i)+o;d.length,d+=a.slice(r),t.setAttribute("data-value",d),t._refreshSelectedIndex()}_refreshSelectedIndex(){const e=this;let t=e.dataSource;if(t){let n=-1,a=null;if(e.dataSource instanceof Promise||typeof e.dataSource=="function")return;typeof t=="string"&&(t=e.$.deserialize(t,"array"));for(let i=0;i<t.length;i++){let r=t[i];if(typeof r!="number"&&typeof r!="boolean"||(r=""+r),typeof r=="string"){if(r===e.value){n=i,a=e.value;break}}else r&&(delete r.selected,r.label===e.value&&(n=i,a=r.value,r.selected=!0))}e.set("selectedIndex",n,!1),e.set("selectedValue",a,!1),e.selectedIndex===-1&&(e.$.input.dataValue=null)}}selectItem(e){const t=this;let n=t.dataSource;if(typeof n=="string"&&(n=t.$.deserialize(n,"array")),n)for(let a=0;a<n.length;a++){const i=n[a];if(t.set("selectedIndex",-1),t.set("value",""),t.$.input.dataValue=null,typeof i=="string"){if(i===e)return t.set("selectedIndex",a,!1),t.set("value",t.$.input.dataValue=e),void t.setAttribute("data-value",t.$.input.dataValue)}else if(i.value===e)return t.set("selectedIndex",a,!1),t.set("value",i.label),t.$.input.dataValue=e,void t.setAttribute("data-value",t.$.input.dataValue)}else t.set("value",t.$.input.dataValue=e),t.setAttribute("data-value",t.$.input.dataValue),t.set("selectedIndex",-1,!1)}getItem(e){const t=this;if(t.dataSource)for(let n=0;n<t.dataSource.length;n++){const a=t.dataSource[n];if(a.value===e)return a}return null}getPrevItem(){const e=this,t=e.getSelectedItem();if(e.dataSource&&t){for(let n=0;n<e.dataSource.length;n++)if(e.dataSource[n].value===t.value)return e.dataSource[n-1]}return null}getNextItem(){const e=this,t=e.getSelectedItem();if(e.dataSource&&t){for(let n=0;n<e.dataSource.length;n++)if(e.dataSource[n].value===t.value)return e.dataSource[n+1]}return null}getSelectedItem(){const e=this;return e.dataSource&&e.dataSource.length===0?{label:e.value,value:e.$.input.dataValue?e.$.input.dataValue:e.value}:{label:e.value,value:e.$.input.dataValue!==void 0?e.$.input.dataValue:e.value}}_refreshMenu(){const e=this;e.$.menu.classList.remove("scroll"),e.$.scrollView.computedVerticalScrollBarVisibility&&e.$.menu.classList.add("scroll")}_fromHTMLEntities(e){const t=this,n=t._textArea?t._textArea:document.createElement("textarea");return n.innerHTML=e,t._textArea=n,n.value}_performSelect(){const e=this,t=e.$.menu.querySelector(".active");let n="",a="";t&&(n=t.getAttribute("data-label"),n=e._fromHTMLEntities(n),a=t.dataValue);let i=e.value,r=e.$.input.dataValue;e.set("value",n),e.$.input.dataValue=a,e.setAttribute("data-value",a),t&&e.set("selectedIndex",t.index),e.set("selectedValues",[e.$.input.dataValue]),e.set("selectedValue",e.$.input.dataValue);let o=e.dataSource;if(typeof o=="string"&&(o=e.$.deserialize(o,"array")),o&&Array.isArray(o))for(let d=0;d<o.length;d++){let f=o[d];typeof f!="string"&&typeof f!="number"&&(f.value===e.$.input.dataValue?f.selected=!0:f.selected=!1)}e.close(),n===i&&a===r||(e.$.fireEvent("change",{value:a,label:n,oldValue:r,oldLabel:i}),e._updateTargetValue())}_open(){const e=this;if(e.opened)return;const t=window.scrollX,n=window.scrollY;let a=e.getBoundingClientRect(),i=0,r=0;if(e.timer&&clearTimeout(e.timer),e.getRootNode()&&e.getRootNode().host)e.getRootNode().host.shadowRoot.appendChild(e.$.scrollView);else if(e.dropDownAppendTo){if(e.dropDownAppendTo==="body"||e.dropDownAppendTo===document.body)document.body.appendChild(e.$.scrollView);else if(e.dropDownAppendTo instanceof HTMLElement)e.dropDownAppendTo.appendChild(e.$.scrollView);else if(typeof dropDownAppendTo=="string"){let o=document.getElementById(e.dropDownAppendTo);o instanceof HTMLElement?o.appendChild(e.$.scrollView):document.body.appendChild(e.$.scrollView)}}else document.body.appendChild(e.$.scrollView);if(e.setAttribute("aria-owns",e.$.scrollView.id),e.readonly||e.$.input.setAttribute("aria-controls",e.$.scrollView.id),e.$.scrollView.enableShadowDOM&&!e._importedStyle&&(e.$.scrollView.importStyle(e._getStyleUrl("smart.textbox.css")),e._importedStyle=!0),getComputedStyle(document.body).position!=="static"){const o=document.body.getBoundingClientRect();i=o.left,r=o.top}if(e.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",""),e.$.scrollView.style.left=-3+a.left+t-i+"px",e.$.scrollView.classList.remove("open"),e.$.scrollView.removeAttribute("top"),e.dropDownOpenPosition==="bottom")e.$.scrollView.style.top=a.bottom+n-r+1+"px";else if(e.dropDownOpenPosition==="top")e.$.scrollView.style.top=a.top-e.$.scrollView.offsetHeight+n-r-2+"px",e.$.scrollView.setAttribute("top","");else if(e.dropDownOpenPosition==="auto"){e.$.scrollView.style.top=a.bottom+n-r+1+"px";const o=a.top-e.$.scrollView.offsetHeight+n-r-2;window.innerHeight<parseInt(e.$.scrollView.style.top)+e.$.scrollView.offsetHeight-n?o>=0&&(e.$.scrollView.style.top=o+"px",e.$.scrollView.setAttribute("top","")):e.$.scrollView.style.top=a.bottom+n-r+1+"px"}if(e.dropDownAppendTo&&e.dropDownAppendTo!=="body"){e.$.scrollView.style.position="absolute",e.$.scrollView.style.width="auto",e.$.scrollView.style.height="auto";const o=e.$.scrollView.parentNode.getBoundingClientRect();e.$.scrollView.style.top=a.bottom-o.top+"px",e.dropDownOpenPosition==="top"&&(e.$.scrollView.style.top=a.top-o.top-e.$.scrollView.offsetHeight+"px"),e.$.scrollView.style.left=-3+a.left-o.left+"px",e.dropDownHeight&&(e.$.scrollView.style.height=e.dropDownHeight),e.dropDownWidth&&(e.$.scrollView.style.width=e.dropDownWidth)}e.opening=!0,e._positionTimer&&clearInterval(e._positionTimer),e.dropDownAppendTo||(e._positionTimer=setInterval(()=>{const o=e.getBoundingClientRect();if(e.opening)e.opening=!1,a=o;else if(Math.abs(parseInt(o.top)-parseInt(a.top))>=10||Math.abs(parseInt(o.left)-parseInt(a.left))>=10){const d=window.scrollX,f=window.scrollY;return e.$.scrollView.style.left=-3+o.left+d-i+"px",void(e.dropDownOpenPosition==="bottom"?e.$.scrollView.style.top=o.bottom+f-r+1+"px":e.dropDownOpenPosition==="top"?e.$.scrollView.style.top=o.top-e.$.scrollView.offsetHeight+f-r+1+"px":e.dropDownOpenPosition==="auto"&&(e.$.scrollView.removeAttribute("top"),e.$.scrollView.style.top=o.bottom+f-r+1+"px",window.innerHeight<parseInt(e.$.scrollView.style.top)+e.$.scrollView.offsetHeight-f?(e.$.scrollView.style.top=o.top-e.$.scrollView.offsetHeight+f-r+1+"px",e.$.scrollView.setAttribute("top","")):e.$.scrollView.style.top=o.bottom+f-r+1+"px"))}},50)),e.$.scrollView.onpointerdown=function(o){e._isPointerDown=!0,o.stopPropagation(),o.preventDefault()},requestAnimationFrame(function(){const o=e.dropDownWidth;if(e.$.scrollView.refresh&&e.$.scrollView.refresh(),e._refreshMenu(),e.$.scrollView.setAttribute("open",""),e.setAttribute("open",""),e.$.dropDownButton.setAttribute("open",""),e.$.input.setAttribute("open",""),o&&typeof o=="string"&&o.indexOf("%")!==-1){const p=parseFloat(o)/100;e.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",e.offsetWidth*p+"px")}else if(o!=="auto"&&o)e.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",parseFloat(o)+"px");else if(o==="auto"){if(e.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",""),e.$.scrollView.$.scrollViewerContainer.classList.contains("vscroll")){const p=e.$.scrollView.offsetWidth+parseFloat(getComputedStyle(e.$.scrollView).getPropertyValue("--smart-scroll-bar-size"));e.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",p+"px")}}else{e.$.menu.style.width="auto";let p=e.$.menu.offsetWidth;const v=e.$.menu.querySelectorAll("li");for(let w=0;w<v.length;w++)e._maxDropDownWidth=Math.max((v[w].firstElementChild||v[w]).offsetWidth,e._maxDropDownWidth);e.$.scrollView.computedVerticalScrollBarVisibility&&(p+=e.$.scrollView.$&&e.$.scrollView.$.verticalScrollBar?e.$.scrollView.$.verticalScrollBar.offsetWidth:30),e.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",Math.max(p,e.offsetWidth-8)+"px"),e.$.menu.style.width=""}const d=parseInt(e.$.scrollView.style.left),f=e.$.scrollView.offsetWidth;d+f>document.body.offsetWidth&&(e.$.scrollView.style.left=-3+a.right+t-i-f+"px"),(e.shadowRoot||e.isInShadowDOM)&&e.$.scrollView._scrollView&&Smart.ScrollBar&&requestAnimationFrame(()=>{e.$.scrollView._scrollView&&e.$.scrollView._scrollView.vScrollBar.refresh()})}),e.$.scrollView.refresh&&e.$.scrollView.refresh(),e._refreshMenu(),e.set("opened",!0),e.setAttribute("aria-expanded",!0),e.$.fireEvent("open")}close(){const e=this;return!!e.opened&&(e.timer&&clearTimeout(e.timer),e.timer=setTimeout(function(){e.$.scrollView.parentNode&&!e.opened&&(e.$.scrollView.remove(),e.removeAttribute("aria-owns"),e.readonly||e.$.input.removeAttribute("aria-controls"))},1e3),e._positionTimer&&clearInterval(e._positionTimer),e.$.scrollView.removeAttribute("open"),e.$.dropDownButton.removeAttribute("open"),e.$.input.removeAttribute("open"),e.removeAttribute("open"),e.set("opened",!1),e.setAttribute("aria-expanded",!1),e.$.input.focus(),e.$.fireEvent("close"),!0)}refresh(){const e=this;e.$.scrollView.refresh&&e.$.scrollView.refresh(),e._getDataSourceFromOption(),e.close()}_lookup(e){const t=this;t.query=t.$.input.value;const n=t.context;if(t.context=t,t.selectedIndex=-1,t.selectedValue=null,t.context=n,t.$.input.readonly&&(t._incrementalSearchQuery||(t._incrementalSearchQuery=""),t._incrementalSearchQuery+=e.key,t._incrementalSearchTimer&&clearTimeout(t._incrementalSearchTimer),t.query=t._incrementalSearchQuery,t._incrementalSearchTimer=setTimeout(function(){t._incrementalSearchQuery=""},700)),t.query.length<t.minLength)return void t.close();const a=function(i){clearTimeout(t._autoCompleteTimeout),t._autoCompleteTimeout=setTimeout(()=>{const r=t.context;t.context=t,t._process(i),t.context=r},t.autoCompleteDelay)};typeof t.dataSource=="function"?t.dataSource(t.query,a):a(t.dataSource)}_downHandler(e){const t=this;t.readonly&&t._dropDownButtonDownHandler(e)}_dropDownButtonDownHandler(e){const t=this;return t.dropDownOpenMode!=="manual"&&(t._toggle(),t.focus()),e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),t._isPointerDown=!0,!1}_toggle(){const e=this;e.opened?e.close():e.open()}open(){const e=this;function t(n){e._process(n);const a=e.$.menu.querySelector(".active");if(a){const i=e.$.input.dataValue;for(let r=0;r<e.$.menu.children.length;r++){const o=e.$.menu.children[r],d=o.getAttribute("data-label"),f=o.dataValue;if(i!==void 0&&f===i||i===void 0&&d===e.$.input.value){a.classList.remove("active"),o.classList.add("active"),e._setActiveDescendant(o),e.$.input.dataValue=f,e.setAttribute("data-value",f);break}}}e.ensureVisible(),e.$.input.focus(),setTimeout(function(){e.$.input.focus()},25)}e.dropDownDataSource&&(Array.isArray(e.dropDownDataSource)&&e.dropDownDataSource.length>0||typeof e.dropDownDataSource=="function")?(e.query="",typeof e.dropDownDataSource=="function"?e.dropDownDataSource(e.query,t):t(e.dropDownDataSource)):(e.query="",typeof e.dataSource=="function"?e.dataSource(e.query,t):t(e.dataSource))}_process(e){const t=this;typeof e=="string"&&(e=t.$.deserialize(e,"array")),t.readonly,e=e.filter(function(n){return n===""||(t.matcher?t.matcher(n):t._matcher(n))}),e=t._sorter(e),t.sorted&&(e.sort((n,a)=>n.label!==void 0?n.label.localeCompare(a.label):n.localeCompare(a)),t.sortDirection==="desc"&&e.reverse()),!e.length&&t.opened&&t.dropDownPlaceholder===""&&t.close(),e.length===0&&t.allowItemsAdd!==!0&&t.dropDownPlaceholder===""||(t.query.length>0?t.readonly?t._render(e):t._render(e.slice(0,t.items)):t._render(e),t._open(),t.$.scrollView.refresh&&t.$.scrollView.refresh(),t._refreshMenu(),t.ensureVisible())}_matcher(e){const t=this.query;switch(e===null&&(e="null"),e=""+(e=e.label||e),this.queryMode){case"startsWith":return e.startsWith(t);case"startsWithIgnoreCase":return e.toLowerCase().startsWith(t.toLowerCase());case"doesNotContain":return e.indexOf(t)<0;case"doesNotContainIgnoreCase":return e.toLowerCase().indexOf(t.toLowerCase())<0;case"contains":return e.indexOf(t)>-1;default:case"containsIgnoreCase":return~e.toLowerCase().indexOf(t.toLowerCase());case"equals":return e.localeCompare(t)===0;case"equalsIgnoreCase":return e.toLowerCase().localeCompare(t.toLowerCase())===0;case"endsWith":return e.endsWith(t);case"endsWithIgnoreCase":return e.toLowerCase().endsWith(t.toLowerCase())}}_sorter(e){const t=this;let n,a=[],i=[],r=[];if(e&&e[0]==="")return e;for(;n=e.shift();){let o=n.label||n;o=""+o,o.toLowerCase().indexOf(t.query.toLowerCase())?~o.indexOf(t.query)?i.push(n):r.push(n):a.push(n)}return a.concat(i,r)}_highlighter(e){const t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return this.query?e.replace(new RegExp("("+t+")","ig"),function(n,a){return"<strong>"+a+"</strong>"}):e}_render(e){const t=this;let n=0,a=-1,i=null;const r=e.map(function(d){let f=d,p=d;typeof d=="object"&&(f=d.label,p=d.value!==void 0?d.value:f),f=""+f,f=f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;");const v=document.createElement("li"),w=document.createElement("a");if(w.href="javascript:void(0)",v.id=t.id+"Item"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),v.setAttribute("data-label",f),v.index=n++,v.dataValue=p,typeof p=="string"?v.setAttribute("value",p):v.setAttribute("value",JSON.stringify(p)),v.setAttribute("role","option"),v.setAttribute("aria-label",f),d.menuLabel!==void 0?(f=d.menuLabel,w.innerHTML=f):w.innerHTML=t.highlighter?t.highlighter(f):t._highlighter(f),w.setAttribute("aria-hidden",!0),d.disabled&&v.classList.add("smart-disabled"),d.visible!==void 0&&d.visible===!1&&v.classList.add("smart-hidden"),d.icon&&(w.classList.add("icon"),w.classList.add(d.icon)),d.prefix){const C=document.createElement("span");C.innerHTML=d.prefix,w.classList.add("has-prefix"),w.innerHTML=C.innerHTML+w.innerHTML}if(d.suffix){const C=document.createElement("span");C.innerHTML=d.suffix,w.classList.add("has-suffix"),w.innerHTML=w.innerHTML+C.innerHTML}if(d.dataset)for(let C in d.dataset)v.setAttribute("data-"+C,d.dataset[C]);if(d.className){const C=d.className.split(" ");for(let x=0;x<C.length;x++)v.classList.add(C[x].trim())}return t.selectedValue!==void 0&&d.value!==void 0&&t.selectedValue!==""&&t.selectedValue===d.value&&(d.selected=!0,i=d,a=v.index,v.classList.add("active")),v.appendChild(w),v});function o(){const d=t.$.menu.getElementsByClassName("active");d[0]&&d[0].classList.remove("active"),this.classList.add("active"),t._setActiveDescendant(this)}a===-1&&r.length>0&&(r[0].classList.add("active"),t._setActiveDescendant(r[0])),i&&(t.$.input.value=i.label,t.$.input.dataValue=i.value,t.setAttribute("data-value",t.$.input.dataValue)),t.$.menu.innerHTML="",r.length===0&&t.dropDownPlaceholder&&(t.$.menu.innerHTML='<div class="smart-flex smart-truncate smart-quiet" style="padding:10px; align-items: center;">'+t.dropDownPlaceholder+"</div>");for(let d=0;d<r.length;d++){const f=r[d];t.$.menu.appendChild(f),f.onmouseenter=o,f.onmouseleave=function(){this.classList.remove("active"),t._setActiveDescendant(null)},f.onclick=o}}ensureVisible(){const e=this,t=e.$.menu.querySelector(".active");t&&(t.offsetTop+t.offsetHeight>=e.$.scrollView.scrollTop+e.$.scrollView.offsetHeight&&(e.$.scrollView.scrollTop=t.offsetTop+t.offsetHeight),(t.offsetTop<=e.$.scrollView.scrollTop||t.offsetTop>=e.$.scrollView.scrollTop+e.$.scrollView.offsetHeight)&&(e.$.scrollView.scrollTop=t.offsetTop),[...e.$.menu.children].indexOf(t)===0?e.$.scrollView.scrollTop=0:[...e.$.menu.children].indexOf(t)===e.$.menu.children.length-1&&(e.$.scrollView.scrollTop=e.$.scrollView.scrollHeight))}_next(){const e=this,t=e.$.menu.querySelector(".active");if(!t){const a=e.$.menu.firstElementChild;return a.classList.add("active"),void e._setActiveDescendant(a)}t.classList.remove("active");let n=t.nextElementSibling;n||(n=e.$.menu.firstElementChild),n.classList.add("active"),e._setActiveDescendant(n),e.ensureVisible()}_prev(){const e=this,t=e.$.menu.querySelector(".active");if(!t){const a=e.$.menu.firstElementChild;return a.classList.add("active"),void e._setActiveDescendant(a)}t.classList.remove("active");let n=t.previousElementSibling;n||(n=e.$.menu.lastElementChild),n.classList.add("active"),e._setActiveDescendant(n),e.ensureVisible()}_move(e){const t=this;if(t.readonly&&!t.opened){if(e.key==="ArrowUp"){const n=t.getPrevItem();n&&t.selectItem(n.value),e.preventDefault()}if(e.key==="ArrowDown"){const n=t.getNextItem();n&&t.selectItem(n.value),e.preventDefault()}}if(t.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),t._prev();break;case 40:e.preventDefault(),t._next()}e.stopPropagation()}}_keyDownHandler(e){const t=this;if(t._suppressKeyPressRepeat=![40,38,9,13,27,16,17,18].includes(e.keyCode),t._oldValue=t.$.input.value,!(e.shiftKey||e.altKey||e.ctrlKey))return t.opened&&e.key==="Escape"?(t.close(),e.stopPropagation(),void e.preventDefault()):void t._move(e)}_keyPressHandler(e){this._suppressKeyPressRepeat||e.shiftKey||e.altKey||e.ctrlKey||this._move(e)}_keyUpHandler(e){const t=this;if(!(e.shiftKey||e.key==="F2"||e.key==="a"&&e.ctrlKey))switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:e.keyCode===40&&e.altKey&&t.open(),e.keyCode===38&&e.altKey&&t.close();break;case 9:case 13:if(!t.opened)return;if(!t.readonly&&!t.$.menu.querySelector(".active")){const n=t.$.input.value;return t._performSelect(),t.value=t.$.input.value=n,e.stopPropagation(),void e.preventDefault()}t._performSelect(),e.stopPropagation(),e.preventDefault();break;case 27:if(!t.opened)return;t.close(),e.stopPropagation(),e.preventDefault();break;default:t._lookupTimer&&clearTimeout(t._lookupTimer),t._lookupTimer=setTimeout(()=>{if(t._lookup(e),!t.opened||e.ctrlKey||e.shiftKey||(e.stopPropagation(),e.preventDefault()),t.$.fireEvent("changing",{value:t.$.input.value,oldValue:t._oldValue}),t.dataSource&&t.dataSource.length&&typeof t.dataSource!="function")for(let n=0;n<t.dataSource.length;n++){const a=t.dataSource[n];if(typeof a=="string"){if(a===t.$.input.value){t.$.input.dataValue=t.$.input.value,t.setAttribute("data-value",t.$.input.dataValue);break}}else if(a.label!==void 0&&a.label===t.$.input.value){t.$.input.dataValue=a.value,t.setAttribute("data-value",a.value);break}}else t.$.input.dataValue=t.$.input.value,t.setAttribute("data-value",t.$.input.dataValue);t._updateTargetValue()},300)}}clearValue(){const e=this;e.$.input.value="",e.$.input.dataValue="",e.removeAttribute("data-value"),e.set("value",""),e.set("selectedIndex",-1),e.set("selectedValues",[e.$.input.dataValue]),e.set("selectedValue",e.$.input.dataValue)}propertyChangedHandler(e,t,n){super.propertyChangedHandler(e,t,n);const a=this;if(e==="innerHTML"&&(a._getDataSourceFromOption(),a._setSelection(!1)),e==="selectedValue"){let i=-1;if(a.dataSource&&Array.isArray(a.dataSource)&&a.dataSource.forEach((r,o)=>{typeof r=="string"?r===n&&(i=o):r&&r.value===n&&(i=o)}),i>=0){const r=a.context;a.context=a,a.selectedIndex=i,a.context=r}a._setSelection()}if(e==="selectedIndex"){let i=a.dataSource;if(a.selectedValue=null,i&&Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];typeof o!="string"&&typeof o!="number"&&(o.selected=!1)}a._setSelection()}else if(e==="dataSource"){if(a.dataSource&&Array.isArray(a.dataSource)){let i=-1;if(a.dataSource.forEach((r,o)=>{r.selected&&(i=o)}),i>=0){const r=a.context;a.context=a,a.selectedIndex=i,a.context=r}}a._setSelection(!1)}else if(e==="dropDownClassList"){const i=a.$.scrollView;for(let r=0,o=t.length;r<o;r+=1)i.classList.remove(t[r]);for(let r=0,o=n.length;r<o;r+=1)i.classList.add(n[r])}else if(e==="dropDownHeight")a.dropDownHeight!=="auto"?a.$.scrollView.style.setProperty("--smart-input-drop-down-menu-height",a.dropDownHeight+"px"):a.$.scrollView.style.setProperty("--smart-input-drop-down-menu-height","auto");else if(e==="opened")a.opened=t,n?a.open():a.close();else if(e==="placeholder"){if(a.readonly){const i=a.getAttribute("aria-label");if(i&&i!==t)return;n?a.setAttribute("aria-label",n):a.removeAttribute("aria-label")}}else if(e==="selectedValues")if(n===null)a.$.input.value="",a.$.input.dataValue=n,a.setAttribute("data-value",n),a._refreshSelectedIndex();else{const i=n.join(","),r=a.value;if(a.$.input.dataValue=i,i&&i.indexOf(",")===-1){let o=-1,d=n[0];if(a.dataSource&&Array.isArray(a.dataSource)&&a.dataSource.forEach((f,p)=>{typeof f=="string"?f!==n&&f!==d||(o=p):f&&f.value===d&&(o=p)}),o>=0){const f=a.context;a.context=a,a.selectedIndex=o,a.context=f}}a._setSelection(),a.propertyChangedHandler("value",r,a.value)}else e==="value"?(a.displayMember!==a.valueMember&&typeof n!="string"?(a.set("value",n[a.displayMember]),a.$.input.dataValue=n[a.valueMember],a.setAttribute("data-value",a.$.input.dataValue)):(a.$.input.value=a.$.input.dataValue=n,a.setAttribute("data-value",n)),a._refreshSelectedIndex()):e==="readonly"?(a._setAriaRelations(),a._setInputPurpose()):e==="theme"||e==="rightToLeft"?a.$.scrollView[e]=n:e==="inputPurpose"?a._setInputPurpose():e==="inverted"?n?a.$.scrollView.setAttribute("inverted",""):a.$.scrollView.removeAttribute("inverted"):e!=="disabled"&&e!=="unfocusable"||a._setFocusable()}_updateTargetValue(){const e=this;if(e.dataset.target){const t=document.querySelector(e.dataset.target);if(t){const n=e.dataset.property,a=e.value;n&&t[n]!==void 0&&(t[n]=a)}}}detached(){super.detached(),this.close(),this.removeAttribute("focus")}_getDataSourceFromOption(){const e=this;if(e.innerHTML.indexOf("<option")>=0){e.$.optionsContainer.innerHTML=e.innerHTML.trim();const t=e.querySelectorAll("option");let n=[];for(let a=0;a<t.length;a++){const i=t[a],r=i.hasAttribute("selected")||i.hasAttribute("is-selected")&&i.getAttribute("is-selected")!=="false";let o=(""+i.textContent).trim();const d=(""+i.innerHTML).trim(),f=i.hasAttribute("value")?i.getAttribute("value"):o,p=i.hasAttribute("disabled"),v=i.hasAttribute("label")?i.getAttribute("label"):null;v&&(o=v),n.push({label:o,menuLabel:d,value:f,disabled:p,selected:r,className:i.className,dataset:i.dataset}),i.classList.add("smart-hidden")}e.dataSource=n}}render(){const e=this,t=e.dropDownClassList;if(e._getDataSourceFromOption(),e.selectedValues&&e.selectedValues.length){const r=e.selectedValues.join(",");e.value=r}e._createElement&&e._createElement();const n=e.$.scrollView;for(let r=0,o=t.length;r<o;r+=1)n.classList.add(t[r]);e.opened&&(e.opened=!1,e.open());const a=e.$.menu;a&&(a.setAttribute("role","presentation"),n.appendChild(a)),e.dropDownHeight!=="auto"?n.style.setProperty("--smart-input-drop-down-menu-height",e.dropDownHeight+"px"):n.style.setProperty("--smart-input-drop-down-menu-height","auto"),n.classList.add("smart-input-drop-down-menu");for(let r=0;r<e.classList.length;r++){const o=e.classList[r];o!=="smart-element"&&o!=="smart-input"&&n.classList.add(o+"-drop-down-menu")}n.id=e.id+"_"+e.tagName.toLowerCase()+"_menu_"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),n.ownerElement=e;let i=e.dataSource;if(typeof i=="string"&&(i=e.$.deserialize(i,"array")),i&&i.length&&Array.isArray(i)){let r=-1;if(i.forEach((o,d)=>{o.selected&&(r=d)}),r>=0){e.selectedIndex=r;const o=i[r];e.selectedValue=typeof o=="string"?i[r]:i[r].value}}e._setAriaRelations(),e._setInputPurpose(),e._setSelection(),e.isInitialized=!0,e.hasAttribute("tabindex")&&(e.readonly||(e.$.input.setAttribute("tabindex",e.getAttribute("tabindex")),e.removeAttribute("tabindex"))),super.render()}_setSelection(e){const t=this;let n=t.dataSource;if(typeof n=="string"&&(n=t.$.deserialize(n,"array")),t.selectedIndex>=0&&n&&n.length>0){let a=n[t.selectedIndex];if(typeof a!="number"&&typeof a!="boolean"||(a=""+a),typeof a=="string"){let i=t.$.input.dataValue,r=t.value;t.set("value",a),t.$.input.dataValue=a,t.$.input.setAttribute("data-value",a),t.selectedValues=[t.$.input.dataValue],t.isInitialized&&e!==!1&&(t.$.fireEvent("change",{value:t.value,label:t.label,oldValue:i,oldLabel:r}),t._updateTargetValue())}else{let i=t.$.input.dataValue,r=t.value;a&&(a.value!==void 0?(t.set("value",a.value!==void 0?a.value+"":""),t.$.input.dataValue=a.value,t.$.input.setAttribute("data-value",a.value),t.selectedValues=[t.$.input.dataValue]):a.label&&(t.selectedValues=[a.value]),a.label&&t.set("value",a.label)),t.isInitialized&&e!==!1&&(t.$.fireEvent("change",{value:t.$.input.dataValue,label:a.value,oldValue:i,oldLabel:r}),t._updateTargetValue())}}}_createElement(){const e=this,t=document.createElement("ul"),n=document.createElement("smart-scroll-viewer");n.rightToLeft=e.rightToLeft,n.theme=e.theme,n.horizontalScrollBarVisibility="hidden",e.inverted?n.setAttribute("inverted",""):n.removeAttribute("inverted"),e.$.scrollView=n,e.$.menu=t,e._setFocusable();const a=e.$.input;e.$.menu.onpointerdown=function(i){const r=i.target.closest("li"),o=e.$.menu.querySelector(".active");o&&r&&(o.classList.remove("active"),r.classList.add("active")),i.stopPropagation(),i.preventDefault(),setTimeout(()=>{e._performSelect(),r&&r.parentNode&&e.$.fireEvent("itemClick",{index:[...r.parentNode.children].indexOf(r),item:r,label:r.getAttribute("aria-label"),value:r.dataValue}),a.focus()},50)},e.$.menu.onpointerup=function(i){i.stopPropagation(),i.preventDefault(),e.$.scrollView.$.verticalScrollBar.thumbCapture&&(e.$.scrollView.$.verticalScrollBar.thumbCapture=!1)}}_setAriaRelations(){const e=this,t=e.getAttribute("aria-label");e.readonly?(e.setAttribute("role","button"),!t&&e.placeholder&&e.setAttribute("aria-label",e.placeholder),e.removeAttribute("aria-readonly"),e.$.input.removeAttribute("aria-activedescendant"),e.$.input.removeAttribute("aria-controls"),e.$.dropDownButton.setAttribute("aria-hidden",!0)):(e.setAttribute("role","combobox"),t&&t===e.placeholder&&e.removeAttribute("aria-label"),e.$.input.setAttribute("role","searchbox"),e.$.input.removeAttribute("aria-hidden",!0),e.$.dropDownButton.removeAttribute("aria-hidden")),e.setAttribute("aria-expanded",e.opened),e.setAttribute("aria-haspopup","listbox"),e.setAttribute("aria-owns",e.$.scrollView.id),e.$.scrollView.setAttribute("role","listbox")}_setActiveDescendant(e){const t=this;t.readonly||(e?t.setAttribute("aria-activedescendant",e.id):t.removeAttribute("aria-activedescendant"))}_setInputPurpose(){const e=this;e.readonly?e.$.input.removeAttribute("autocomplete"):e.$.input.setAttribute("autocomplete",e.inputPurpose)}_setFocusable(){const e=this;e.disabled||e.unfocusable?e.$.input.setAttribute("tabindex",-1):e.$.input.removeAttribute("tabindex")}})},5707:()=>{Smart("smart-list-item",class extends Smart.ContentElement{static get properties(){return{alternationIndex:{value:-1,type:"int"},color:{value:"",type:"string"},displayMode:{allowedValues:["plain","checkBox","radioButton"],value:"plain",type:"string"},grouped:{value:!1,type:"boolean"},selected:{value:!1,type:"boolean"},value:{value:"",type:"any"},valueName:{value:"",type:"any"},label:{value:"",type:"string"},sanitizeHTML:{value:!1,type:"boolean"},details:{value:"",type:"string"},group:{value:"",type:"string"},hidden:{value:!1,type:"boolean"},readonly:{value:!1,type:"boolean"}}}get hasStyleObserver(){return!1}get enableShadowDOM(){return!1}get _focused(){const e=this;return e.__focused===void 0&&(e.__focused=!1),e.__focused}set _focused(e){const t=this;t.__focused=e,e?(t.setAttribute("focus",""),t.ownerListBox&&t.ownerListBox.ownerElement&&Smart.ComboBox&&t.ownerListBox.ownerElement instanceof Smart.ComboBox&&t.ownerListBox.ownerElement.$.input.setAttribute("aria-activedescendant",t.id)):t.removeAttribute("focus")}template(){return`<div id="container">
                   <span id='itemInput' class='smart-input smart-hidden'></span>
                    <span class="smart-overlay" id="overlay"></span>
                    <div id="itemContainer" class="smart-list-item-label-element smart-content smart-list-item-container"><span class="smart-content-label" inner-h-t-m-l='[[innerHTML]]' role="presentation"><content></content></span><span inner-h-t-m-l='[[details]]' id="details" class="smart-content-details"></span></div>
                </div>`}appendChild(e){const t=this;if(!t.isCompleted||e.classList&&e.classList.contains("smart-ripple")){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}window.smartBlazor?t.$.itemContainer.appendChild(e):(t.$.itemContainer.innerHTML="",e instanceof HTMLElement&&t.$.itemContainer.appendChild(e))}insertBefore(e,t){const n=this;if(!n.isCompleted){const a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(n,a.concat(Array.prototype.slice.call(arguments)))}t.parentNode.insertBefore(e,t)}removeChild(e){const t=this;if(!t.isCompleted||e.classList.contains("smart-ripple")){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.itemContainer.removeChild(e)}attached(){const e=this;super.attached(),e.ownerListBox=e.getListBox(),e.ownerListBox&&(e.ownerListBox.onClick&&(e.onpointerdown=t=>{e.ownerListBox.onClick(t)}),e.ownerListBox.onDoubleClick&&(e.ondblclick=t=>{e.ownerListBox.onDoubleClick(t)}))}static get listeners(){return{mouseenter:"_itemOnMouseEnter",mouseleave:"_itemOnMouseLeave"}}ready(){super.ready();const e=this;if(e.setAttribute("role","option"),e.label!==""){let n=e.label;n&&typeof n=="string"&&e.sanitizeHTML&&(n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")),e.innerHTML=n}else e.innerHTML!==""&&(e.label=e.innerHTML);e._setDisplayMode(e.displayMode),e._setItemColor(),e.$.container.noRipple=!0;const t=e.closest("smart-list-box");if(t&&t.isRendered){if(cancelAnimationFrame(Smart.ListBox.processTimer),t._inLazyInit||t._isUpdating)return;Smart.ListBox.processTimer=requestAnimationFrame(()=>{t._lazyInitItems()})}}propertyChangedHandler(e,t,n){const a=this;if(super.propertyChangedHandler(e,t,n),e==="hidden")n?a.$.addClass("smart-hidden"):a.$.removeClass("smart-hidden");else if(e==="color")a._setItemColor();else if(e==="displayMode")a._setDisplayMode(n);else if(e==="label"||e==="value"){const i=a.context;a.context=document,e==="label"&&(a.innerHTML=n);const r=a.getListBox();r&&(r._applyTemplate(a),r.onItemUpdated(a)),a.context=i}else if(e==="details"){const i=a.context;a.context=document,a.$.details.innerHTML=n;const r=a.getListBox();r&&r.onItemUpdated(a),a.context=i}else if(e==="innerHTML"){const i=a.getListBox();i&&i.onItemUpdated(a)}else if(e==="selected")if(n)a.setAttribute("aria-selected",!0);else{const i=a.getListBox();a.readonly||a.disabled||!i||["oneOrManyExtended","zeroOrMany","oneOrMany","checkBox"].indexOf(i.selectionMode)===-1?a.removeAttribute("aria-selected"):a.setAttribute("aria-selected",!1)}}getListBox(){const e=this;if(!Smart.ListBox)return e.getRootNode().host;let t=e.parentNode;for(;t instanceof Smart.ListBox==0&&t!==null;)t=t.parentNode;return!t&&Smart.EnableShadowDOM?e.getRootNode().host:t}_itemOnMouseEnter(){const e=this;!e.disabled&&e.ownerListBox&&(Smart.ListBox.DragDrop.Dragging&&e.ownerListBox.allowDrop&&(Smart.ListBox.DragDrop.DropDetails={item:e,position:"bottom"}),e.ownerListBox.$.verticalScrollBar.thumbCapture||e.ownerListBox.$.horizontalScrollBar.thumbCapture||e.setAttribute("hover",""))}_itemOnMouseMove(e){const t=this;if(t.ownerListBox&&Smart.ListBox.DragDrop.Dragging&&t.ownerListBox.allowDrop&&!Smart.Utilities.Core.isMobile){const n=[].slice.call(t.ownerListBox.getElementsByClassName("smart-list-item-bottom-line-feedback"));for(let i=0;i<n.length;i++)n[i].$.removeClass("smart-list-item-line-feedback"),n[i].$.removeClass("smart-list-item-bottom-line-feedback");if(Smart.ListBox.DragDrop.DropDetails={item:t,position:"top"},!t.ownerListBox._areCSSVarsSupported){if(t.ownerListBox._indexOf(t)===t.ownerListBox._items.length-1||t.parentNode.lastElementChild===t){const i=t.getBoundingClientRect();e.pageY-window.pageYOffset>i.top+i.height/2-1&&(Smart.ListBox.DragDrop.DropDetails={item:t,position:"bottom"})}return}if(t.$.removeClass("smart-list-item-line-feedback"),t.$.removeClass("smart-list-item-bottom-line-feedback"),t.ownerListBox.sorted&&t.ownerListBox.autoSort)return;const a=t.ownerListBox._items.filter(i=>!i.hidden);if(a.indexOf(t)===a.length-1||t.parentNode.lastElementChild===t){const i=t.getBoundingClientRect();e.pageY-window.pageYOffset>i.top+i.height/2-1?(t.$.addClass("smart-list-item-bottom-line-feedback"),Smart.ListBox.DragDrop.DropDetails={item:t,position:"bottom"}):arguments[1]||t.$.addClass("smart-list-item-line-feedback")}else arguments[1]||t.$.addClass("smart-list-item-line-feedback")}}_itemOnMouseLeave(){const e=this;e.ownerListBox&&(Smart.ListBox.DragDrop.Dragging&&(e.$.removeClass("smart-list-item-line-feedback"),e.$.removeClass("smart-list-item-bottom-line-feedback")),e.removeAttribute("hover"))}_setDisplayMode(e){const t=this,n=t.getListBox();if(n){const a=n.selectionMode==="checkBox"||n.selectionMode==="radioButton"?n.selectionMode:"plain";t.displayMode=e=a}e!=="plain"?t.$itemInput.removeClass("smart-hidden"):t.$itemInput.addClass("smart-hidden")}_setItemColor(){const e=this,t=e.querySelector(".smart-content-label"),n=/(^#[0-9A-F]{3}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{8}$)/i.test(e.color)?e.color:"";t.style.backgroundColor=n,t.style.color=e._getContrastColor(n)}_getContrastColor(e){if(!e)return"";let t=(n=e.slice(1,3),a=e.slice(3,5),i=e.slice(5,7),[parseInt(n,16),parseInt(a,16),parseInt(i,16)]);var n,a,i;return parseFloat(((.299*t[0]+.61*t[1]+.114*t[2])/255).toFixed(2))>.65?"#000000":"#FFFFFF"}}),Smart("smart-list-items-group",class extends Smart.ContentElement{static get properties(){return{label:{value:"",type:"string"}}}get enableShadowDOM(){return!1}template(){return`<div id="container" role="presentation">
                 <span id="itemsLabel" class="smart-list-items-group-label">[[label]]</span>
                 <div id="listItemsGroupContainer" inner-h-t-m-l='[[innerHTML]]' class="smart-list-items-group-container" role="presentation">
                    <content></content>
                 </div>
               </div>`}appendChild(e){const t=this;if(!t.isCompleted){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.listItemsGroupContainer.appendChild(e)}removeChild(e){const t=this;if(!t.isCompleted){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.listItemsGroupContainer.removeChild(e)}getListBox(){let e=this.parentNode;for(;e instanceof Smart.ListBox==0&&e!==null;)e=e.parentNode;return e}attached(){const e=this;super.attached(),e.ownerListBox||(e.ownerListBox=e.getListBox()),e.setAttribute("role","group"),e.$.itemsLabel.id||(e.$.itemsLabel.id=e.id+"Label"),e.setAttribute("aria-labelledby",e.$.itemsLabel.id)}}),Smart("smart-list-box",class extends Smart.ScrollViewer{static get properties(){return{allowDrag:{value:!1,type:"boolean"},allowDrop:{value:!1,type:"boolean"},alternationStart:{value:0,type:"int"},alternationEnd:{value:0,type:"int"},alternationCount:{value:0,type:"int"},autoSort:{value:!0,type:"boolean"},dataSource:{value:null,type:"any?",reflectToAttribute:!1},dragFeedbackFormatFunction:{value:null,type:"function?"},dragOffset:{value:[10,10],type:"array"},displayLoadingIndicator:{value:!1,type:"boolean"},displayMember:{value:"",type:"string"},shadowDomMode:{allowedValues:["light","shadow"],value:"shadow",type:"string"},dropAction:{value:"move",type:"string",allowedValues:["copy","move","none"]},editable:{value:!1,type:"boolean"},filterable:{value:!1,type:"boolean"},filterCallback:{value:null,type:"function?"},filterMode:{value:"containsIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase","custom"],type:"string"},filterInputPlaceholder:{value:"",type:"string"},grouped:{value:!1,type:"boolean"},groupMember:{value:"",type:"string"},itemTemplate:{value:null,type:"any"},itemHeight:{value:null,type:"number?"},incrementalSearchDelay:{value:700,type:"number?"},incrementalSearchMode:{value:"startsWithIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string"},itemMeasureMode:{value:"auto",allowedValues:["auto","precise"],type:"string"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},messages:{extend:!0,value:{en:{overridingProperties:'{{elementType}}: Overriding properties {{property1}} and {{property2}} applied. The "{{property1}}" property is used by default.',invalidIndex:'{{elementType}}: "{{method}}" method accepts an index of type number or an Array of numbers.',indexOutOfBound:'{{elementType}}: Out of bound index/indexes in "{{method}}" method.',invalidItem:`{{elementType}}: "{{method}}" method accepts an object or an array of objects as it's second parameter.`,invalidSettings:`{{elementType}}: "{{method}}" method accepts a string or an object as it's second parameter.`}},type:"object"},name:{value:"",type:"string"},placeholder:{value:"No Items",type:"string"},selectedIndexes:{value:[],type:"array"},selectedValues:{value:[],type:"array"},selectionMode:{value:"oneOrManyExtended",allowedValues:["none","oneOrManyExtended","zeroOrMany","oneOrMany","zeroOrOne","zeroAndOne","one","checkBox","radioButton"],type:"string"},selectionChangeAction:{value:"release",allowedValues:["press","release"],type:"string"},sorted:{value:!1,type:"boolean"},sortDirection:{value:"asc",type:"string"},topVisibleIndex:{value:-1,type:"int"},type:{value:"list",type:"string",defaultReflectToAttribute:!0,readonly:!0},valueMember:{value:"",type:"string"},virtualized:{value:!1,type:"boolean"},onClick:{value:null,type:"any",reflectToAttribute:!1},onDoubleClick:{value:null,type:"any",reflectToAttribute:!1}}}static get requires(){return{"Smart.ScrollBar":"smart.scrollbar.js"}}static get styleUrls(){return["smart.listbox.css","smart.dropdown.css","smart.scrollbar.css"]}static get listeners(){return{focus:"_focusHandler",blur:"_blurHandler","container.wheel":"_mouseWheelHandler","editInput.change":"_editInputEventHandler","editInput.blur":"_editInputEventHandler","editInput.keydown":"_editInputEventHandler","horizontalScrollBar.change":"_horizontalScrollbarHandler","itemsInnerContainer.down":"_downHandler","itemsInnerContainer.dblclick":"_dblclickEventHandler","itemsInnerContainer.move":"_itemsContainerMoveHandler","itemsContainer.mouseleave":"_mouseLeaveHandler","itemsInnerContainer.touchmove":"_touchmoveHandler","itemsInnerContainer.touchstart":"_touchstartHandler","document.move":"_moveHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",resize:"_resizeHandler",selectstart:"_selectStartHandler",styleChanged:"_styleChangedHandler",swipeleft:"_swipeLeftHandler",swiperight:"_swipeRightHandler",touchmove:"_overriddenHandler",touchstart:"_overriddenHandler","verticalScrollBar.change":"_verticalScrollbarHandler"}}template(){return`<div id="container" class="smart-container" role="presentation">
                    <div class="smart-list-box-filter-input-container smart-hidden" id="filterInputContainer" role="presentation"><input id="filterInput" disabled="[[disabled]]" placeholder='[[filterInputPlaceholder]]' role="searchbox" aria-label="[[filterInputPlaceholder]]"></div>
                    <div id="itemsContainer" class="smart-list-items-container" role="presentation">
                        <div id="placeholder" class="smart-placeholder" role="presentation" aria-hidden="true">[[placeholder]]</div>
                        <div id="itemsInnerContainer" inner-h-t-m-l='[[innerHTML]]' class="smart-list-items-inner-container" role="presentation">
                            <content></content>
                        </div>
                        <input type="text" id="editInput" class= "smart-hidden"/>
                    </div>
                    <smart-scroll-bar wait theme="[[theme]]" right-to-left="[[rightToLeft]]" id="verticalScrollBar" disabled="[[disabled]]" orientation="vertical"></smart-scroll-bar>
                    <smart-scroll-bar wait theme="[[theme]]" right-to-left="[[rightToLeft]]" id="horizontalScrollBar" disabled="[[disabled]]"></smart-scroll-bar>
                    <div id="loadingIndicatorContainer" class="smart-loader-container" role="presentation">
                        <span id="loadingIndicator" class="smart-loader" role="img" aria-label="[[loadingIndicatorPlaceholder]]"></span>
                        <span id="loadingIndicatorPlaceHolder" class="smart-loader-label smart-hidden">[[loadingIndicatorPlaceholder]]</span>
                    </div>
                    <input id="hiddenInput" type="hidden" name="[[name]]">
                </div>`}get value(){const e=this;return e.isRendered&&e._selectedItems.length>0?e._selectedItems.map(t=>({label:t.label,value:t.value})):null}set value(e){const t=this;if(Array.isArray(e)){const a=t.context;t.context=t,t._isUpdating++,t.selectedValues=[],t.clearSelection();for(let i=0;i<e.length;i++){const r=e[i],o=t.getItem(r);o&&(t.selectionMode==="oneOrManyExtended"?t._select(o):t.select(o))}return t.context=a,void t._isUpdating--}const n=t.getItem(e);n&&t.select(n)}get _selectedItems(){const e=this,t=[];if(e.isRendered)for(let n=0;n<e._items.length;n++){const a=e._items[n];a.selected&&t.push(a)}return t}_mouseLeaveHandler(){const e=[].slice.call(this.getElementsByClassName("smart-list-item-bottom-line-feedback"));for(let t=0;t<e.length;t++)e[t].$.removeClass("smart-list-item-line-feedback"),e[t].$.removeClass("smart-list-item-bottom-line-feedback")}_downHandler(e){const t=this;if(t.disabled||t.displayLoadingIndicator||t.readonly)return;let n=e.originalEvent.target,a=null;if(!(n instanceof Smart.ListItem)||n.disabled||n.hidden||n instanceof Smart.ListItemsGroup)for(;n.parentElement;){if(n instanceof Smart.ListItem&&!n.disabled&&!n.hidden&&!(n instanceof Smart.ListItemsGroup)){a=n.dataItem;break}n=n.parentElement}else a=n.dataItem;Smart.ListBox.DragDrop.StartTime=new Date,Smart.ListBox.DragDrop.StartPosition={left:e.pageX,top:e.pageY},a&&(e.stopPropagation(),t.hasRippleAnimation&&(a.readonly||a.disabled||Smart.Utilities.Animation.Ripple.animate(n.$.overlay,e.pageX,e.pageY)),Smart.Utilities.Core.isMobile||t.selectionChangeAction!=="press"||(t._focus(a),t.select(a)),!Smart.ListBox.DragDrop.Feedback&&t.allowDrag&&(Smart.ListBox.DragDrop.DraggedFrom=t,Smart.ListBox.DragDrop.Feedback=document.createElement("span"),t.rightToLeft?Smart.ListBox.DragDrop.Feedback.setAttribute("right-to-left",!0):Smart.ListBox.DragDrop.Feedback.removeAttribute("right-to-left"),t.dragFeedbackFormatFunction?Smart.ListBox.DragDrop.Feedback.innerHTML=t.dragFeedbackFormatFunction(a):Smart.ListBox.DragDrop.Feedback.appendChild(a.offsetHeight?a.cloneNode(!0):t._createItem(a)),Smart.ListBox.DragDrop.Item=a,Smart.Utilities.Extend(Smart.ListBox.DragDrop.Feedback).addClass("smart-popup smart-list-item smart-list-item-feedback")))}_dblclickEventHandler(e){const t=this;if(!t.editable)return;const n=e.target.closest("smart-list-item");n instanceof Smart.ListItem&&!n.disabled&&!n.readonly?(t.$.editInput.dir=t.rightToLeft?"rtl":"ltr",t.$.editInput.style.width=t.$.itemsInnerContainer.offsetWidth+"px",t.$.editInput.owner=n,t.$.editInput.value=n.label,t.$.editInput.style.height=n.offsetHeight+"px",t.$.editInput.style.top=n.offsetTop+t.$.itemsInnerContainer.offsetTop+"px",t.$.editInput.setAttribute("aria-label","Edit item "+n.label),t.$editInput.hasClass("smart-hidden")&&t.$editInput.removeClass("smart-hidden"),t.$.editInput.focus({preventScroll:!0})):t.$editInput.addClass("smart-hidden")}_editInputEventHandler(e){const t=this;if(e.type==="blur"||e.type==="keydown"&&e.key==="Escape")return t.$editInput.hasClass("smart-hidden")||t.$editInput.addClass("smart-hidden"),void t.focus();if(e.type==="keydown"||t.$editInput.hasClass("smart-hidden"))return;const n=e.target;if(e.stopPropagation(),n.owner.label!==n.value&&(n.owner.label=n.value,t.itemTemplate&&t._applyTemplate(n.owner),t.dataSource)){const a=n.owner.dataIndex,i=t.dataSource[a];i&&(t.displayMember?i[t.displayMember]=n.value:i.label=n.value)}t.$editInput.addClass("smart-hidden"),t.$.fireEvent("itemLabelChange",{selected:n.owner.selected,disabled:n.owner.disabled,index:t._indexOf(n.owner),label:n.owner.label,value:n.owner.value})}_pointerUpHandler(e){const t=this;let n=e.originalEvent,a=n.target;(t.shadowRoot||t.isInShadowDOM)&&(a=n.originalEvent?n.originalEvent.composedPath()[0]:n.composedPath()[0]);const i=r=>{const o=r.ownerListBox;o.disabled||o!==t||o.displayLoadingIndicator||o.selectionMode==="none"||r.grouped||r.readonly||(o._focus(r),o.select(r),Smart.ListBox.DragDrop.StartPosition=null,t.$.fireEvent("itemClick",{selected:a.selected,disabled:a.disabled,index:t._indexOf(a),label:a.label,value:a.value}))};if(!(n.target instanceof Smart.ListItem)||n.target.disabled||n.target instanceof Smart.ListItemsGroup){for(;a&&a.parentElement;){if(a instanceof Smart.ListItem&&!a.disabled&&!(a instanceof Smart.ListItemsGroup))return void i(a.dataItem);a=a.parentElement}if(this.shadowRoot&&this.shadowDomMode==="shadow"){const r=n.composedPath();for(let o=0;o<r.length;o++){const d=r[o];d instanceof Smart.ListItem&&!d.disabled&&i(d.dataItem)}}}else i(a.dataItem)}_upHandler(e){const t=this;if(super._upHandler(),!t.disabled&&!t.readonly&&Smart.ListBox.DragDrop.StartPosition){if(Smart.Utilities.Core.isMobile&&!Smart.ListBox.DragDrop.Dragging){const n=Math.abs(e.pageX-Smart.ListBox.DragDrop.StartPosition.left),a=Math.abs(e.pageY-Smart.ListBox.DragDrop.StartPosition.top);let i=n>=0&&n<=3&&a>=0&&a<=3;if(Smart.Utilities.Core.isMobile&&new Date-Smart.ListBox.DragDrop.StartTime>=300&&(i=!1,Smart.ListBox.DragDrop.StartTime=null),i){const r=e.originalEvent.target.closest("smart-list-box");r?r._pointerUpHandler(e):t._pointerUpHandler(e),Smart.ListBox.DragDrop.StartPosition=null}else{let r=e.originalEvent.target;if(!(e.target instanceof Smart.ListItem)||r.readonly||e.target.disabled||e.target instanceof Smart.ListItemsGroup)for(;r.parentElement;){if(r instanceof Smart.ListItem&&!r.readonly&&!r.disabled&&!(r instanceof Smart.ListItemsGroup)){e.stopPropagation();break}r=r.parentElement}else e.stopPropagation()}}else if(!Smart.Utilities.Core.isMobile&&!Smart.ListBox.DragDrop.Dragging&&t.selectionChangeAction==="release"){const n=(t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target).closest("smart-list-box");n&&(n.upTimer&&clearTimeout(n.upTimer),t.isInShadowDOM?n?n._pointerUpHandler(e):t._pointerUpHandler(e):n.upTimer=setTimeout(()=>{n?n._pointerUpHandler(e):t._pointerUpHandler(e)}))}if(Smart.ListBox.DragDrop.Feedback){let n;if(Smart.ListBox.DragDrop.Feedback.parentNode&&Smart.ListBox.DragDrop.Feedback.parentNode.removeChild(Smart.ListBox.DragDrop.Feedback),Smart.ListBox.DragDrop.Feedback=null,Smart.Utilities.Core.isMobile&&Smart.ListBox.DragDrop.Dragging)for(let a=0;a<Smart.ListBox.DragDrop.ListBoxes.length;a++){const i=Smart.ListBox.DragDrop.ListBoxes[a],r=i.getBoundingClientRect();if(i.allowDrop&&!i.closest(".smart-visibility-hidden")&&r.left<=e.clientX&&e.clientX<=r.left+r.width&&r.top<=e.clientY&&e.clientY<=r.top+r.height){n=i;const o=i._items.filter(d=>!d.hidden);for(let d=0;d<o.length;d++){const f=o[d],p=f.getBoundingClientRect();if((o.indexOf(f)===o.length-1||f.parentNode.lastElementChild===f)&&e.clientY>=r.top+f.offsetTop-i.scrollTop+p.height/2&&e.clientY<=r.top-i.scrollTop+f.offsetTop+p.height){Smart.ListBox.DragDrop.DropDetails={item:f,position:"bottom"};break}if(e.clientY>=r.top+f.offsetTop-i.scrollTop&&e.clientY<=r.top+f.offsetTop+p.height-i.scrollTop){Smart.ListBox.DragDrop.DropDetails={item:f,position:"top"};break}}}}if(Smart.ListBox.DragDrop.Dragging){if(Smart.ListBox.DragDrop.DropDetails){let a=Smart.ListBox.DragDrop.DropDetails.item,i=Smart.ListBox.DragDrop.Item;const r=i.ownerListBox;let o=e.originalEvent.target;if(t.isInShadowDOM&&(o=e.originalEvent?e.originalEvent.composedPath()[0]:e.composedPath()[0]),n=!n&&o.closest?o.closest("smart-list-box"):n,document.body.classList.remove("smart-dragging"),a.$.removeClass("smart-list-item-line-feedback"),a.$.removeClass("smart-list-item-bottom-line-feedback"),n&&a.ownerListBox!==n&&n.items.length>0&&(a=n.items[n.items.length-1]),Smart.ListBox.DragDrop.Item===a||n!==a.ownerListBox&&!Smart.Utilities.Core.isMobile)n&&n._items.length===0&&n.dropAction!=="none"&&(n.dropAction==="move"?Smart.ListBox.DragDrop.Item.ownerListBox.removeChild(Smart.ListBox.DragDrop.Item):n.dropAction==="copy"&&(i=i.cloneNode(!0)),n.appendChild(i));else if(i.ownerListBox.dropAction!=="none"){a.ownerListBox!==i.ownerListBox&&i.ownerListBox.dropAction==="move"&&Smart.ListBox.DragDrop.Item.ownerListBox.removeChild(Smart.ListBox.DragDrop.Item),i.ownerListBox.dropAction==="copy"&&(i=i.cloneNode(!0)),Smart.ListBox.DragDrop.Item.group=a.group;const p=a.ownerListBox;p.selectionMode!=="checkBox"&&p.selectionMode!=="radioButton"&&p.clearSelection(),Smart.ListBox.DragDrop.DropDetails.position==="top"?p.insertBefore(i,a):a.parentNode.lastElementChild===a?p.appendChild(i):p.appendChild(i,a),p.ensureVisible(i),p.selectionMode==="checkBox"||p.selectionMode==="radioButton"?(p._focus(i),p._refreshSelection()):(p.clearSelection(),p.select(i))}i.selected&&n!==r&&r._refreshSelection();const d=Smart.ListBox.DragDrop.Item,f=d.ownerListBox;d.displayMode=f.selectionMode==="checkBox"||f.selectionMode==="radioButton"?f.selectionMode:"plain",f.$.fireEvent("dragEnd",{item:d,target:a,data:Smart.ListBox.DragDrop,previousContainer:r,container:n,originalEvent:e}),f._focus(d)}else{const a=Smart.ListBox.DragDrop.Item,i=a.ownerListBox;a.displayMode=i.selectionMode==="checkBox"||i.selectionMode==="radioButton"?i.selectionMode:"plain",document.body.classList.remove("smart-dragging"),i.$.fireEvent("dragEnd",{item:a,target:null,data:Smart.ListBox.DragDrop,previousContainer:i,container:i,originalEvent:e}),i._focus(a)}e.preventDefault()}delete Smart.ListBox.DragDrop.DraggedFrom,Smart.ListBox.DragDrop.Dragging=!1,Smart.ListBox.DragDrop.Item=null,Smart.ListBox.DragDrop.DropDetails=null}for(let n=0;n<Smart.ListBox.DragDrop.ListBoxes.length;n++){const a=Smart.ListBox.DragDrop.ListBoxes[n];a._dragInterval&&clearInterval(a._dragInterval)}}}_itemsContainerMoveHandler(e){const t=this;if(Smart.ListBox.DragDrop.Dragging)return t._applyItemFeedback(e),t._moveHandler(e),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),!1}_touchmoveHandler(e){if(Smart.ListBox.DragDrop.Dragging&&e.cancelable)return e.preventDefault(),void e.stopPropagation();super._touchmoveHandler(e)}_applyItemFeedback(e){const t=this,n=e.originalEvent.target,a=n.closest?n.closest("smart-list-item"):n;Smart.Utilities.Core.isMobile?Smart.ListBox.DragDrop.DropDetails={item:Smart.ListBox.DragDrop.Item,position:"bottom"}:t.items.length!==0&&(a?a._itemOnMouseMove(e):t.items[t.items.length-1]._itemOnMouseMove(e,!0))}_moveHandler(e){const t=this;if(!Smart.ListBox.DragDrop.Feedback||Smart.ListBox.DragDrop.DraggedFrom!==t)return;const n=t.dragOffset;if(Smart.ListBox.DragDrop.Dragging){Smart.ListBox.DragDrop.Feedback.style.left=n[0]+e.pageX+"px",Smart.ListBox.DragDrop.Feedback.style.top=n[1]+e.pageY+"px",t.$.fireEvent("dragging",{item:Smart.ListBox.DragDrop.Item,data:Smart.ListBox.DragDrop,originalEvent:e.originalEvent});for(let a=0;a<Smart.ListBox.DragDrop.ListBoxes.length;a++){const i=Smart.ListBox.DragDrop.ListBoxes[a];i._dragInterval&&clearInterval(i._dragInterval),i._dragInterval=setInterval(function(){const r=i.getBoundingClientRect();r.left<=e.clientX&&r.left+r.width>=e.clientX&&(e.clientY>=r.top&&e.clientY<=r.top+20?i.scrollTop-=2:e.clientY>=r.top+r.height-20&&e.clientY<=r.top+r.height&&(i.scrollTop+=2))},1)}return e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),!1}{const a=Math.abs(e.pageX-Smart.ListBox.DragDrop.StartPosition.left),i=Math.abs(e.pageY-Smart.ListBox.DragDrop.StartPosition.top),r=new Date-Smart.ListBox.DragDrop.StartTime;let o=a>=5&&a<=15||i>=5&&i<=15;if(Smart.Utilities.Core.isMobile&&(r<300||r>1e3)&&(o=!1),o){Smart.ListBox.DragDrop.Dragging=!0,Smart.ListBox.DragDrop.Feedback.style.left=n[0]+e.pageX+"px",Smart.ListBox.DragDrop.Feedback.style.top=n[1]+e.pageY+"px",t.getShadowRootOrBody().appendChild(Smart.ListBox.DragDrop.Feedback),e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation();const d=Smart.ListBox.DragDrop.Item,f=d.ownerListBox;f.$.fireEvent("dragStart",{item:d,data:Smart.ListBox.DragDrop,container:f,previousContainer:f,originalEvent:e.originalEvent}),document.body.classList.add("smart-dragging")}}}_focusHandler(){this._focused=!0,this.setAttribute("focus","")}_blurHandler(){this._focused=!1,this.removeAttribute("focus")}appendChild(e){const t=this;if(!t.isCompleted){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}t.isVirtualized?(t._items.indexOf(e)>-1&&t._items.splice(t._items.indexOf(e),1),t._items.push(e)):(e.dataItem=e,t.shadowRoot&&t.shadowDomMode==="light"?t.appendChild(e):t.$.itemsInnerContainer.appendChild(e),t._items.indexOf(e)>-1&&t._items.splice(t._items.indexOf(e),1),t._items.push(e)),t._isUpdating||(t._refreshItems(),t._refreshSelection())}insertBefore(e,t){const n=this;if(!n.isCompleted){const a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(n,a.concat(Array.prototype.slice.call(arguments)))}n.isVirtualized?(n._items.indexOf(e)>-1&&n._items.splice(n._items.indexOf(e),1),n._items.splice(n._indexOf(t),0,e)):(e.dataItem=e,t.parentNode.insertBefore(e,t),n._items.indexOf(e)>-1&&n._items.splice(n._items.indexOf(e),1),n._items.splice(n._indexOf(t),0,e)),n._refreshItems(),n._refreshSelection()}removeChild(e){const t=this;if(!t.isCompleted){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}if(t.isVirtualized)t._items.splice(t._indexOf(e),1);else if(e.parentNode){const n=t.selectedIndexes.slice(0),a=t.selectedValues.slice(0),i=n.indexOf(e.dataIndex);e.parentNode.removeChild(e),i>-1&&(n.splice(i,1),a.splice(i,1),t.selectedIndexes=n,t.selectedValues=a)}t._refreshItems()}propertyChangedHandler(e,t,n){if(e==="dataSource"&&(!n||n&&Array.isArray(n)&&n.length===0))return void this.clearItems();super.propertyChangedHandler(e,t,n);const a=this;switch(e){case"innerHTML":a.clearSelection(),a._dataBind(),a.innerHTML=a.content=Smart.Utilities.Core.html(a.$.content);break;case"dataSource":case"valueMember":case"groupMember":case"displayMember":a.clearSelection(),a._dataBind(),a._applyDefaultSelection();break;case"disabled":case"unfocusable":a._setFocusable();break;case"displayLoadingIndicator":a._setLoadingIndicatorVisibility();break;case"filterable":a._refreshFilter(),a._refreshLayout();break;case"grouped":if(n?a._group():a._ungroup(),a.selectionMode==="radioButton"){if(a.selectedValues.length>0){const i=a.selectedValues;a.clearSelection(),a.select(i[0])}}else a._refreshSelection();a._refreshLayout();break;case"itemTemplate":{if(n===null||n==="")return a._items.map(o=>o.innerHTML=o.label),delete a._bindingDetails,void a._refreshLayout();const i=a.querySelectorAll("smart-list-item"),r=function(){a._handleItemTemplate(n)&&(a._items.map(o=>a._applyTemplate(o)),a._refreshLayout()),a.ownerElement&&a.ownerElement._setDropDownSize&&a.ownerElement._setDropDownSize(),a.$.fireEvent("bindingComplete")};i.length===0?r():a._ensureItemsReady(i,r);break}case"selectedIndexes":case"selectedValues":{let i=a.selectedIndexes.slice(0),r=a.selectedValues.slice(0);if(!a._items||a._items.length===0)return a.selectedIndexes=[],a.selectedValues=[],void(a.$.hiddenInput.value=a.selectedValues.toString());if(a._propertyChanging=!0,e==="selectedIndexes"){i=t.slice(0),a.clearSelection();for(let o=0;o<n.length;o++){const d=n[o],f=a._items[d];f&&(a.selectionMode==="oneOrManyExtended"||a.selectionMode==="oneOrMany"?(a.selectedIndexes.length>0&&o===0&&a.clearSelection(),a._select(f)):a.select(f))}}else{r=t.slice(0),a.selectedValues=[],a.clearSelection();for(let o=0;o<n.length;o++){const d=n[o],f=a.getItem(d);f&&(a.selectionMode==="oneOrManyExtended"?a._select(f):a.select(f))}}if(a.selectedIndexes.length>0&&a._focus(a._items[a.selectedIndexes[0]]),a._propertyChanging=!1,JSON.stringify(r)!==JSON.stringify(a.selectedValues.slice(0))){let o=[],d=[];for(let p=0;p<i.length;p++)a.selectedIndexes.indexOf(i[p])<0&&d.push(a._items[i[p]]);for(let p=0;p<a.selectedIndexes.length;p++)i.indexOf(a.selectedIndexes[p])<0&&o.push(a._items[a.selectedIndexes[p]]);let f={addedItems:o,removedItems:d};if(a.selectedIndexes.length>0){const p=a._items[a.selectedIndexes[a.selectedIndexes.length-1]];p!==void 0&&(f.selected=p.selected,f.disabled=p.disabled,f.index=a._indexOf(p),f.label=p.label,f.value=p.value)}else f.selected=!1,f.disabled=!1,f.index=-1,f.label="",f.value="";a.$.fireEvent("change",f),a._updateTargetValue()}break}case"selectionMode":{const i=a.selectionMode==="checkBox"||a.selectionMode==="radioButton"?a.selectionMode:"plain",r=a.selectedIndexes.slice(0),o=a.selectedValues.slice(0);a._propertyChanging=!0;const d=a.selectedValues;a.setAttribute("aria-multiselectable",["oneOrManyExtended","zeroOrMany","oneOrMany","checkBox","radioButton"].indexOf(n)!==-1),a.selectedValues=[],a.clearSelection();for(let f=0;f<d.length;f++){const p=d[f],v=a.getItem(p);v&&(a.selectionMode==="oneOrManyExtended"?a._select(v):a.select(v))}if(a._items.forEach(f=>f.displayMode=i),a._recycle(),a._propertyChanging=!1,JSON.stringify(o)!==JSON.stringify(a.selectedValues.slice(0))){let f=[],p=[];for(let w=0;w<r.length;w++)a.selectedIndexes.indexOf(r[w])<0&&p.push(a._items[r[w]]);for(let w=0;w<a.selectedIndexes.length;w++)r.indexOf(a.selectedIndexes[w])<0&&f.push(a._items[a.selectedIndexes[w]]);let v={addedItems:f,removedItems:p};if(r.length>0){const w=a._items[r[r.length-1]];w&&(v.selected=w.selected,v.disabled=w.disabled,v.index=a._indexOf(w),v.label=w.label,v.value=w.value)}a.$.fireEvent("change",v),a._updateTargetValue()}a._applyAriaSelected(),n!=="checkBox"&&n!=="radioButton"&&t!=="checkBox"&&t!=="radioButton"||a._refreshLayout();break}case"topVisibleIndex":a._setTopVisibleIndex(n);break;case"autoSort":a._canSort=n;break;case"alternationStart":case"alternationEnd":case"alternationCount":a._refreshItems(),a._refreshLayout();break;case"sortDirection":case"sorted":{a._canSort=!0,n?a._sort():a._unsort();const i=a.selectedValues;a.selectedValues=[],a._refreshSelection();for(let r=0;r<i.length;r++){const o=i[r],d=a.getItem(o);d&&(a.selectionMode==="oneOrManyExtended"?a._select(d):a.select(d))}a._refreshLayout(),a._canSort=a.autoSort;break}}}_refreshSelection(){const e=this;if(!e._items||e._items.length===0)return;const t=e.selectedValues;e.selectedIndexes=[],e.selectedValues=[];for(let n=0;n<e._items.length;n++){const a=e._items[n];a.selected=!1,t.indexOf(a.value)>-1&&e.select(a)}e._recycle()}clearSelection(){const e=this;if(!e._items||e._items.length===0)return;let t=[];for(let a=0;a<e._items.length;a++)e._items[a].selected&&t.push(e._items[a]);e._items.map(a=>a.selected=!1),e.selectedValues.slice(0);const n=e.selectedIndexes.slice(0);if(e.selectedIndexes=[],e.selectedValues=[],e.$.hiddenInput.value=e.selectedValues.toString(),e._recycle(),e.context!==e){let a={addedItems:[],removedItems:t};if(n.length>0){const i=e._items[n[n.length-1]];i&&(a.selected=i.selected,a.disabled=i.disabled,a.index=e._indexOf(i),a.label=i.label,a.value=i.value)}e.$.fireEvent("change",a),e._updateTargetValue()}}ensureVisible(e){const t=this;if(e)return!(typeof e=="string"&&!(e=t.getItem(e))||(t.isVirtualized||t.$.itemsContainer.scrollTop===t.scrollTop||(t.scrollTop=t.$.itemsContainer.scrollTop),e.top+e.height>=t.scrollTop+t.offsetHeight&&(t.scrollTop=t.scrollTop+e.height,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop)),(e.top<=t.scrollTop||e.top>=t.scrollTop+t.$.itemsContainer.offsetHeight)&&(t.scrollTop=e.top,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop)),t._indexOf(e)===0||t._indexOf(e)===1&&t._items.length>1&&t._items[0].grouped?(t.scrollTop=0,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop)):t._indexOf(e)===t._items.length-1&&(t.scrollTop=t.scrollHeight,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop)),0))}get items(){const e=this;if(!window.__karma__&&!window.karma&&e instanceof Element&&e.isRendered&&e.hasAttribute&&e.hasAttribute("smart-blazor")){let t=[];for(let n=0;n<e._items.length;n++){const a=e._items[n];t.push({label:a.label,value:a.value})}return t}return e._filteredItems?e._filteredItems:e._items}getItems(){const e=this,t=e._filteredItems?e._filteredItems:e._items;let n=[];if(t&&t.length>0)for(let a=0;a<t.length;a++){const i=t[a];n.push({label:i.label,value:i.value})}return n}ready(){super.ready();const e=this;if(e.shadowRoot&&e.shadowDomMode==="light"){const a=document.createDocumentFragment();[].slice.call(e.$.itemsInnerContainer.children).map(i=>a.appendChild(i)),e.appendChild(a),e.$.itemsInnerContainer.appendChild(document.createElement("slot"))}e._areCSSVarsSupported=Smart.Utilities.Core.CSSVariablesSupport(),e.isUpdating=0,e._scrollView&&(e._scrollView=new Smart.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar),e._scrollView.hScrollBar.$.addClass("smart-hidden"),e._scrollView.vScrollBar.$.addClass("smart-hidden"));const t=e._scrollView.vScrollBar,n=e._scrollView.hScrollBar;t.hasStyleObserver=!1,n.hasStyleObserver=!1,t.hasResizeObserver=!1,n.hasResizeObserver=!1,t.wait=!1,n.wait=!1,e._setFocusable()}render(){const e=this;e.setAttribute("role","listbox"),e.setAttribute("aria-orientation","vertical"),e.$.verticalScrollBar.setAttribute("aria-controls",e.id),e.$.horizontalScrollBar.setAttribute("aria-controls",e.id),e._keysPressed={},e._incrementalSearchQuery="",e._incrementalSearchItems=[],e._canSort=!0,e._previousEntry="",e._setLoadingIndicatorVisibility(),e._refreshFilter(),e._initializeInnerHTML(),e._dataBind(),e._applyDefaultSelection(),e.enableShadowDOM&&HTMLElement.prototype.appendChild.apply(e,[e.$.hiddenInput]),e.setAttribute("aria-multiselectable",["oneOrManyExtended","zeroOrMany","oneOrMany","checkBox","radioButton"].indexOf(e.selectionMode)!==-1),super.render()}_lazyInitItems(){const e=this;if(e._inLazyInit)return cancelAnimationFrame(Smart.ListBox.processTimer),void delete Smart.ListBox.processTimer;e._inLazyInit=!0,e.dataSource||(e.clearSelection(),e._dataBind(),e._applyDefaultSelection()),cancelAnimationFrame(Smart.ListBox.processTimer),delete Smart.ListBox.processTimer,e._inLazyInit=!1}_applyDefaultSelection(){const e=this;!e._focusedItem&&e._items&&e._items.length>0&&e.selectedIndexes.length===0&&(e.selectionMode!=="one"&&e.selectionMode!=="oneOrMany"&&e.selectionMode!=="oneOrManyExtended"||e.select(e._items[0]))}attached(){const e=this;super.attached(),Smart.ListBox.DragDrop||(Smart.ListBox.DragDrop={ListBoxes:[]}),Smart.ListBox.DragDrop.ListBoxes.push(e),e._scrollView||(e._scrollView=new Smart.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),e.selectedIndexes.length>0&&e._items&&e.ensureVisible(e._items[e.selectedIndexes[0]])}detached(){const e=this;if(super.detached(),e._scrollView&&(e._scrollView.unlisten(),delete e._scrollView),Smart.ListBox.DragDrop&&Smart.ListBox.DragDrop.ListBoxes){const t=Smart.ListBox.DragDrop.ListBoxes.indexOf(e);Smart.ListBox.DragDrop.ListBoxes.splice(t,1)}}_createItem(e,t,n){const a=this,i=a.selectionMode==="checkBox"||a.selectionMode==="radioButton"?a.selectionMode:"plain",r=n?{}:document.createElement("smart-list-item");r.ownerListBox=a,typeof e=="number"&&(e=""+e);const o=function(v,w){return e[v]!==void 0?""+e[v]:e[w]};let d=typeof e=="string"?e:o(a.displayMember,"label"),f=typeof e=="string"?e:o(a.valueMember,"value"),p=o(a.groupMember,"group");return d===void 0&&(d=t!==void 0?""+t:""),r.label=r.innerHTML=""+d,f===void 0&&(f=t!==void 0?""+t:d),e.color&&(r.color=e.color),r.value=""+f,r.displayMode=i,r.selected=!!e.selected&&e.selected,r.disabled=!!e.disabled&&e.disabled,r.dataItem=r,t!==void 0&&(r.dataIndex=t),a._alternateItem(r),e.title&&(r.title=e.title),p&&(r.group=""+p),r}_alternateItem(e){const t=this,n=t.alternationStart,a=t.alternationEnd>0?t.alternationEnd:1/0;t.alternationCount<=0||(t._alternationIndexCounter===void 0&&(t._alternationIndexCounter=0),e.dataIndex>=n&&e.dataIndex<=a&&(e.alternationIndex=t._alternationIndexCounter++,t._alternationIndexCounter===t.alternationCount&&(t._alternationIndexCounter=0)))}_beginUpdate(){this.isUpdating++}_isUpdating(){return this.isUpdating>0}_endUpdate(){this.isUpdating--}get _scrollHeight(){const e=this;if(e._items.length===0||e._items.filter(n=>!n.hidden).length<1)return 0;let t=0;if(e.isVirtualized){if(e.__scrollHeight)return e.__scrollHeight;if(e._items.length===0)return 0;e.isUpdating++;const n=e._createItem(e._items[0]);e.$.itemsInnerContainer.appendChild(n);for(let a=0;a<e._items.length;a++){const i=e._items[a];i.hidden?(i.height=0,i.top=t):(e.itemHeight?(e.itemHeight<32&&(e.itemHeight=32),i.height=e.itemHeight):(n.$&&n.$.itemContainer?n.$.itemContainer.firstElementChild.innerHTML=i.label:n.label=i.label,i.height=n.offsetHeight),i.top=t,t+=i.height)}e.$.itemsInnerContainer.removeChild(n),e.__scrollHeight=t-e.$.itemsInnerContainer.offsetHeight,e.filterable,t=e.__scrollHeight,e.isUpdating--}else{for(let n=0;n<e._items.length;n++){const a=e._items[n];a.hidden?(a.height=0,a.top=t):(e.itemHeight?e.itemHeight!=="auto"&&(a.height=e.itemHeight,a.style.height=a.height+"px"):a.height=a.offsetHeight,a.top=a.offsetTop,t+=a.height)}t=e.$.itemsInnerContainer.scrollHeight-e.$.itemsInnerContainer.offsetHeight,e.filterable&&t>0&&(t+=e.$.filterInput.offsetHeight),e.__scrollHeight=t}return t}_initializeRecyclingItems(){const e=this;if(!e.dataSource||e.dataSource&&e.dataSource.length===0||!e.isVirtualized)return;let t=0,n=e.offsetHeight||400;e.$.itemsInnerContainer.innerHTML="",e._recyclingItems=[];const a=function(i){for(let r=0;r<i.length;r++){const o=i[r],d=e._createItem(o);if(e.itemHeight&&e.itemHeight!=="auto"&&(d.style.height=e.itemHeight+"px"),e.$.itemsInnerContainer.appendChild(d),t+=d.offsetHeight,d.dataItem=e._items[r],e._recyclingItems.push(d),t>1.5*n)break}};if(typeof e.dataSource=="function"){let i=[];for(let r=0;r<100;r++)i.push("");a(i)}else{a(e.dataSource);let i=0;for(;t<1.5*n&&++i<5;)a(e.dataSource)}}dataBind(){const e=this;e.clearSelection(),e._dataBind(),e._applyDefaultSelection()}_dataBind(){const e=this;if(e._scrollView||(e._scrollView=new Smart.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),typeof e.dataSource=="function"){e._items=[],delete e._filteredItems;const a=e.dataSource("",i=>{e.clearItems(),e.insert(0,i)});a&&Array.isArray(a)&&(e.clearItems(),e.insert(0,a))}if(typeof e.dataSource=="string"&&(e.dataSource=JSON.parse(e.dataSource)),e.dataSource!==null&&Array.isArray(e.dataSource)){e.isUpdating++;const a=i=>{e._items=[],e._groups=[],delete e._filteredItems;const r=e.dataSource;for(let o=0;o<r.length;o++){const d=r[o],f=e._createItem(d,o,!i);e._items[o]=f,i&&i.appendChild(f)}};if(e.isVirtualized)a(),e._initializeRecyclingItems();else{const i=document.createDocumentFragment();e.$.itemsInnerContainer.innerHTML="",a(i),e.$.itemsInnerContainer.appendChild(i)}e.isUpdating--}const t=e.shadowRoot?e.shadowRoot.querySelectorAll("smart-list-item"):e.querySelectorAll("smart-list-item"),n=function(){e.isUpdating++,e.dataSource||(e._initializeHtmlListItems(),e._initializeHtmlListGroups()),e.grouped&&e._group(),e.sorted&&e._sort(),e._refreshLayout(),e._initializeSelection(),e.isInitialized=!0,e._canSort=e.autoSort,e.isUpdating--,e.itemTemplate&&e._handleItemTemplate(e.itemTemplate)&&(e._items.map(a=>e._applyTemplate(a)),e._refreshLayout()),e.__onCompleted&&(e._onCompleted=e.__onCompleted,e.__onCompleted=null,e._onCompleted()),e.topVisibleIndex>-1&&e._setTopVisibleIndex(e.topVisibleIndex),e.$.fireEvent("bindingComplete"),e._updateTopVisibleIndex(),e._items.length===0&&e.clearItems(),e._applyAriaSelected()};t.length===0?n():(e._onCompleted&&(e.__onCompleted=e._onCompleted,e._onCompleted=null),e._ensureItemsReady(t,n))}_ensureItemsReady(e,t){const n=this,a=function(){const i=function(r){for(let o=0;o<e.length;o++)e[o].context=r==="node"?e[o]:document};i("node"),t(),i()};if(e.length===0)a();else{n._nodesReadyListeners=0;for(let i=0;i<e.length;i++){const r=e[i],o=(function(){n._nodesReadyListeners--,n._nodesReadyListeners===0&&(a(),delete n._nodesReadyListeners)}).bind(n);r.isCompleted||(n._nodesReadyListeners++,r._onCompleted=o)}n._nodesReadyListeners===0&&a()}}_initializeInnerHTML(){const e=this;e.$.itemsInnerContainer.innerHTML.indexOf("<option")>=0?e.$.itemsInnerContainer.innerHTML=e.$.itemsInnerContainer.innerHTML.replace(/<optgroup/gi,"<smart-list-items-group").replace(/<\/optgroup/gi,"</smart-list-items-group").replace(/<option/gi,"<smart-list-item").replace(/<\/option/gi,"</smart-list-item"):e.$.itemsInnerContainer.innerHTML.indexOf("<ul")>=0&&(e.$.itemsInnerContainer.innerHTML=e.$.itemsInnerContainer.innerHTML.replace(/<ul/gi,"<smart-list-items-group").replace(/<\/ul/gi,"</smart-list-items-group").replace(/<li/gi,"<smart-list-item").replace(/<\/li/gi,"</smart-list-item"))}_initializeHtmlListItems(){const e=this,t=e.shadowRoot&&e.shadowDomMode==="shadow"?e.shadowRoot.querySelectorAll("smart-list-item"):e.querySelectorAll("smart-list-item"),n=e.selectionMode==="checkBox"||e.selectionMode==="radioButton"?e.selectionMode:"plain",a=function(r,o,d){return r[o]!==void 0?""+r[o]:r[d]};e._items=[];let i=0;for(let r=0;r<t.length;r++){const o=t[r];o.dataIndex=r,o.label=o.innerHTML,o.dataItem=o,o.top||(o.top=i),o.height||(o.height=o.offsetHeight),i+=o.height,o.value||(o.value=""+r);const d=a(o,e.displayMember,"label"),f=a(o,e.valueMember,"value"),p=a(o,e.groupMember,"group");o.label!==d&&(o.label=d),o.value!==f&&(o.value=f),o.group!==p&&(o.group=p);const v=o.context;o.context=document,o.displayMode=n,o.context=v,e._alternateItem(o),o.selected&&(e.selectedIndexes.push(r),e.selectedValues.push(o.value)),e._items.push(o)}e.itemTemplate&&e._handleItemTemplate(e.itemTemplate)&&e._items.map(r=>e._applyTemplate(r))}_group(){const e=this;e.isUpdating++;let t=[],n=[];e._canSort&&e._unsort();for(let a=0;a<e._items.length;a++){const i=e._items[a];let r=i.group?i.group.trim():i.innerHTML.charAt(0)||i.label.charAt(0);r+=" ",t[r]?t[r].items.push(i):t[t.length++]=t[r]={items:[i],label:r}}if(e.isVirtualized){e._groups=[];for(let a=0;a<t.length;a++){const i=t[a];i.dataIndex=a,i.grouped=!0,i.hidden=!1,i.displayMode="plain",n.push(i);for(let r=0;r<t[a].items.length;r++){const o=i.items[r];o.group=i,n.push(o)}}e._groups=t,e._items=n}else{for(;e.$.itemsInnerContainer.firstChild;)e.$.itemsInnerContainer.removeChild(e.$.itemsInnerContainer.firstChild);const a=document.createDocumentFragment();e._groups=[];for(let i=0;i<t.length;i++){const r=t[i],o=document.createElement("smart-list-items-group");o.label=r.label,o.dataIndex=i;for(let d=0;d<t[i].items.length;d++){const f=r.items[d];n.push(f),f.group=r.label,o.appendChild(f)}e._groups.push(o),a.appendChild(o)}e._items=n,/Trident|Edge/.test(navigator.userAgent)?setTimeout(function(){e.$.itemsInnerContainer.appendChild(a)},50):e.$.itemsInnerContainer.appendChild(a)}e.sorted&&e._sort(),e.isUpdating--}_ungroup(){const e=this;e.isUpdating++,e._groups=[],e._canSort&&e._unsort();let t=[];if(e.isVirtualized)for(let n=0;n<e._items.length;n++){const a=e._items[n];a.grouped||t.push(a)}else{const n=document.createDocumentFragment();for(let a=0;a<e._items.length;a++){const i=e._items[a];n.appendChild(i),t.push(i)}t.length>0&&(e.$.itemsInnerContainer.innerHTML="",e.$.itemsInnerContainer.appendChild(n))}e._items=t,e.sorted&&e._sort(),e.isUpdating--}_initializeHtmlListGroups(){const e=this,t=e.$.itemsInnerContainer.querySelectorAll("smart-list-items-group");e._groups=[];for(let n=0;n<t.length;n++){const a=t[n];a.dataIndex=n,e._groups.push(a)}}_initializeSelection(){const e=this,t=e.selectedIndexes.slice(0),n=e.selectedValues.slice(0);e.clearSelection(),e.selectionMode==="oneOrManyExtended"&&(e._keysPressed.Control=!0);for(let a=0;a<e._items.length;a++){const i=e._items[a];(t.indexOf(a)>=0||n.indexOf(i.value||i.label)>=0)&&(e._focusedItem&&(e._focusedItem._focused=!1),e._focusedItem=null,e.select(i))}e.selectionMode==="oneOrManyExtended"&&(e._keysPressed.Control=!1)}onItemUpdated(){const e=this;e.isInitialized&&!e._isUpdating()&&(e.isUpdating++,e._refreshLayout(),e.isUpdating--)}_refreshItems(){const e=this;if(e.isInitialized&&!e._isUpdating()){if(e.isUpdating++,e.grouped?e._ungroup():e.sorted&&e._canSort&&e._unsort(),!e.isVirtualized){e._items=[];const t=e.shadowRoot?e.shadowRoot.querySelectorAll("smart-list-item"):e.querySelectorAll("smart-list-item");for(let n=0;n<t.length;n++)t[n].dataIndex=n,e._alternateItem(t[n]),e._items.push(t[n])}e.grouped?e._group():e.sorted&&e._sort(),e._refreshLayout(),e.isUpdating--}}_applyIncrementalSearch(e){const t=this;t.incrementalSearchDelay===null||isNaN(t.incrementalSearchDelay)||["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control","Home","End","PageUp","PageDown"].indexOf(e)>-1||(t._incrementalSearchQuery.indexOf(e)!==0&&(t._incrementalSearchQuery+=e),t._incrementalSearchTimer&&clearTimeout(t._incrementalSearchTimer),t._incrementalSearch(),t._incrementalSearchTimer=setTimeout(function(){t._incrementalSearchQuery=""},t.incrementalSearchDelay))}select(e){const t=this;if((typeof e!="string"||(e=t.getItem(e)))&&(typeof e!="number"||(e=t.getItem(e)))&&!(e.grouped||e.readonly||!t._items.length||e instanceof HTMLElement&&!t.contains(e)&&!t.virtualized)){if(t.selectionMode==="none")return t.selectedIndexes=[],void(t.selectedValues=[]);switch(!t._focusedItem!==e&&t.selectionMode!=="none"&&(t._focusedItem&&(t._focusedItem._focused=!1),t._focusedItem=e,e._focused=!0),t.selectionMode){case"one":case"zeroAndOne":return(t.selectedIndexes.length!==1||t.selectedIndexes[0]!==t._indexOf(e))&&(t._previouslySelectedIndexes=t.selectedIndexes,t.selectedIndexes.length>=1&&t.clearSelection(),t._select(e),delete t._previouslySelectedIndexes,!0);case"zeroOrOne":return t.selectedIndexes.length===1&&t.selectedIndexes[0]===t._indexOf(e)?(t.unselect(e),!0):(t._previouslySelectedIndexes=t.selectedIndexes,t.selectedIndexes.length>=1&&t.clearSelection(),t._select(e),delete t._previouslySelectedIndexes,!0);case"radioButton":if(t._previouslySelectedIndexes=t.selectedIndexes,t.$.itemsInnerContainer.querySelectorAll("smart-list-items-group").length>0){const n=e.parentNode;if(!e.selected){for(let a in n.children){const i=n.children[a];i.selected&&t.unselect(i)}t._select(e)}return delete t._previouslySelectedIndexes,!0}if(t.isVirtualized&&t._groups.length>0){const n=e.group;if(!e.selected){for(let a in n.items){const i=n.items[a];i.selected&&t.unselect(i)}t._select(e)}return delete t._previouslySelectedIndexes,!0}return e.selected||(t.selectedIndexes.length>=1&&t.clearSelection(),t._select(e)),delete t._previouslySelectedIndexes,!0;case"oneOrMany":return e.selected?t.selectedIndexes.length>1&&t.unselect(e):t._select(e),!0;case"zeroOrMany":case"checkBox":return e.selected?t.unselect(e):t._select(e),!0;case"oneOrManyExtended":{const n=t.selectedValues;if(t._keysPressed.Control)return t.selectedIndexes.length>1&&e.selected?(t.unselect(e),t._focus(t._items[t.selectedIndexes[0]])):t._select(e),!0;if(t._keysPressed.Shift){const a=t._items[t.selectedIndexes[0]];let i;t.clearSelection();const r=n.indexOf(a.value)>=0||a.selected;if(t._select(a,r),t._indexOf(a)>t._indexOf(e))for(i=t._indexOf(a)-1;i>=t._indexOf(e);){const d=t._items[i],f=n.indexOf(d.value)>=0||d.selected;t._select(d,f),i--}else for(i=t._indexOf(a)+1;i<=t._indexOf(e);){const d=t._items[i],f=n.indexOf(d.value)>=0||d.selected;t._select(d,f),i++}const o=[];for(let d=0;d<n.length;d++)o.push(t.getItem(n[d]));if(o.length>0&&!t._propertyChanging){let d=[];for(let f=0;f<t.selectedValues.length;f++){const p=t.selectedValues[f];n.indexOf(p)<0&&d.push(t.getItem(p))}t.$.fireEvent("change",{addedItems:d,removedItems:o,selected:e.selected,disabled:e.disabled,index:t._indexOf(e),label:e.label,value:e.value}),t._updateTargetValue()}return!0}for(let a=0;a<n.length;a++){const i=n[a],r=t.getItem(i);e!==r&&t.unselect(r)}return t.clearSelection(),t._select(e,n.indexOf(e.value)>=0),!0}}return!1}}_applyTemplate(e,t){const n=this;if(n.itemTemplate===null)return;if(typeof n.itemTemplate=="function")return void n.itemTemplate(e,{label:e.label,value:e.value,index:n._items.indexOf(e)});if(!n._bindingDetails||n._bindingDetails.length===0)return;const a=n._bindingDetails.length;let i,r,o=document.importNode(n._template.content,!0);for(let d=0;d<a;d++){i=o.childNodes[n._bindingDetails[d].childNodeIndex],r=n._bindingDetails[d].bindingString.length;for(let f=0;f<r;f++){const p=n._bindingDetails[d].bindingString[f],v=p.indexOf("label")>=0?e.label:e.value;i.innerHTML=i.innerHTML.replace(p,v)}}e.innerHTML="";for(let d=0;d<o.childNodes.length;d++)o.childNodes[d].outerHTML&&(e.innerHTML+=o.childNodes[d].outerHTML);t!==!1&&(n._scrollHeightTimer&&(clearInterval(n._scrollHeightTimer),n._scrollHeightCounter=0),n._scrollHeightTimer=setInterval(function(){n._lastScrollHeight===n.$.itemsInnerContainer.scrollHeight&&n._scrollHeightCounter!==10||(n._refreshLayout(),clearInterval(n._scrollHeightTimer)),n._lastScrollHeight=n.$.itemsInnerContainer.scrollHeight,n._scrollHeightCounter++},50))}_filterItems(e,t,n){const a=this,i=a.$.filterInput.value;let r,o;const d=function(){if(o.length===0)return a._filteredItems=[],void(t&&t());r=a._queryItems(i,a.filterMode);for(let p=0;p<o.length;p++)o[p].hidden=!0,o[p].$&&o[p].$.addClass("smart-hidden");for(let p=0;p<r.length;p++){const v=r[p];v.hidden=!1,o[p].$&&v.$.removeClass("smart-hidden")}if(a.grouped&&a.isVirtualized)for(let p=0;p<a._groups.length;p++){const v=a._groups[p],w=v.items;let C=!0;for(let x=0;x<w.length;x++)w[x].hidden||(C=!1);C&&(v.hidden=!0)}if(a.grouped&&!a.isVirtualized)for(let p=0;p<a._groups.length;p++){const v=a._groups[p],w=[].concat(...v.querySelectorAll("smart-list-item"));let C=!0;for(let x=0;x<w.length;x++)w[x].$.hasClass("smart-hidden")||(C=!1);C?v.$.addClass("smart-hidden"):v.$.removeClass("smart-hidden")}if(a._filteredItems=r,a._refreshLayout(),t&&t(),e)return;const f=a._propertyChanging;a._propertyChanging=!0,a._refreshSelection(),a._propertyChanging=f};if(typeof a.dataSource=="function")if(i||n){const f=function(v){(i||n)&&a.isAttached&&(a._updateListBoxAfterQuery=function(){r=o=a._items,d()},a.clearItems(),a.insert(0,v))},p=a.dataSource(i,f);if(p){if(!i&&!n)return;a._updateListBoxAfterQuery=function(){r=o=a._items,d()},a.clearItems(),a.insert(0,p)}}else a.clearItems(),r=o=a._items,d(),a.$.fireEvent("bindingComplete");else{if(o=a._items,o.length===0)return;d()}}_getNextItem(e){const t=this._items,n=this._items.length;let a=Math.max(e+1,0);for(;a<n;){const i=t[a];if(!(i.disabled||i.hidden||i.grouped||i.readonly))return i;a++}return t[e]}_getPreviousItem(e){const t=this._items;let n=Math.max(e-1,0);for(;n>-1;){const a=t[n];if(!(a.disabled||a.hidden||a.grouped||a.readonly))return a;n--}return t[e]}get _scrollWidth(){const e=this,t=e._items;return e.__scrollWidth||(e.__scrollWidth=(()=>{const n=this,a=n.virtualized,i=n.itemMeasureMode;let r=0,o="";function d(f){const p=n._createItem({label:f});p.style.position="absolute",n.$.itemsContainer.appendChild(p),p.label=f,p.style.width="auto",p.isCompleted&&(p.$.itemContainer.style.width="auto");const v=getComputedStyle(p),w=parseInt(v.paddingLeft)+parseInt(v.paddingRight),C=p.$.itemContainer||p,x=C.offsetWidth+C.offsetLeft+w;return p.parentNode.removeChild(p),x}for(let f=0;f<t.length;f++){const p=t[f];if(!p.hidden)if(i==="auto"){const v=a?p.label:p.textContent.trim();v.length>o.length&&(o=v)}else r=Math.max(r,d(p.label))}return i==="auto"?d(o):r})()),e.__scrollWidth}update(e,t){const n=this,a=n._items[e];if(a){if(typeof t=="string")a.label=t,a.value===void 0&&(a.value=t);else for(let i in t)i==="selected"&&a[i]!==t[i]?n.select(a):a[i]=t[i],i==="group"&&n._refreshItems();(n.sorted||n.grouped||n.isVirtualized)&&(n._refreshItems(),n._refreshSelection())}else n.error(n.localize("indexOutOfBound",{elementType:n.nodeName.toLowerCase(),method:"update"}))}insert(e,t){const n=this;let a=[];if((!e||e<0)&&(e=0),Array.isArray(t)){n.isUpdating++;const i=n._items.length===0;for(let r=0;r<t.length;r++){const o=t[r],d=n._createItem(o);a.push(d),e>=n._items.length||n._items.length===0||i?n.appendChild(d):n.insertBefore(d,n._items[e])}n.isUpdating--}else{const i=n._createItem(t);a.push(i),e>=n._items.length||n._items.length===0?n.appendChild(i):n.insertBefore(i,n._items[e])}if(a.length>0?(a.map(i=>n._applyTemplate(i)),n._ensureItemsReady(a,function(){n._refreshItems(),n._items.length!==0&&(n._updateListBoxAfterQuery&&(n._updateListBoxAfterQuery(),delete n._updateListBoxAfterQuery),n._refreshSelection(),n.$.fireEvent("bindingComplete"))})):n._updateListBoxAfterQuery&&(n._updateListBoxAfterQuery(),delete n._updateListBoxAfterQuery),n.virtualized&&n.filterable){const i=n.context;n.context=n,n.filterable&&(n.$.filterInput.value="",n._filterItems()),n.scrollTop=n.$.itemsContainer.scrollTop=0,n.scrollLeft=n.$.itemsContainer.scrollLeft=n._getScrollLeft(0),n.context=i}}add(e){const t=this;let n=[];if(e&&(!e||e.length!==0)){if(Array.isArray(e)){t.isUpdating++;for(let a=0;a<e.length;a++){const i=e[a],r=t._createItem(i);n.push(r),t.appendChild(r)}t.isUpdating--}else{const a=t._createItem(e);n.push(a),t.appendChild(a)}if(n.length>0?(n.map(a=>t._applyTemplate(a)),t._ensureItemsReady(n,function(){t._refreshItems(),t._items.length!==0&&(t._updateListBoxAfterQuery&&(t._updateListBoxAfterQuery(),delete t._updateListBoxAfterQuery),t._refreshSelection(),t.$.fireEvent("bindingComplete"))})):t._updateListBoxAfterQuery&&(t._updateListBoxAfterQuery(),delete t._updateListBoxAfterQuery),t.virtualized&&t.filterable){const a=t.context;t.context=t,t.filterable&&(t.$.filterInput.value="",t._filterItems()),t.scrollTop=t.$.itemsContainer.scrollTop=0,t.scrollLeft=t.$.itemsContainer.scrollLeft=t._getScrollLeft(0),t.context=a}else t.virtualized&&t._refreshLayout()}}removeItem(e){const t=this,n=t.getItem(e);if(n){if(n.selected&&t.unselect(n),t.isVirtualized){let a=t._items.indexOf(n);a===-1&&(a=t._items.indexOf(n)),t._items.splice(a,1)}else{n.parentNode.removeChild(n);let a=t._items.indexOf(n);a===-1&&(a=t._items.indexOf(n)),t._items.splice(a,1)}t._refreshItems(),t._refreshSelection(),t.selectedIndexes.length===0&&t._items.length>0&&(t.selectionMode!=="oneOrMany"&&t.selectionMode!=="one"&&t.selectionMode!=="oneOrManyExtended"||t.select(t._items[0]))}}removeAt(e){const t=this,n=t._items[e];n?(n.selected&&t.unselect(n),t.isVirtualized||n.parentNode.removeChild(n),t._items.splice(e,1),t._refreshItems(),t._refreshSelection(),t.selectedIndexes.length===0&&t._items.length>0&&(t.selectionMode!=="oneOrMany"&&t.selectionMode!=="one"&&t.selectionMode!=="oneOrManyExtended"||t.select(t._items[0]))):t.error(t.localize("indexOutOfBound",{elementType:t.nodeName.toLowerCase(),method:"remove"}))}_queryItems(e,t){const n=this,a=[],i=function(r,o){if(r.grouped)return r;switch(t){case"startsWith":if(r.label.indexOf(o)===0)return r;break;case"startsWithIgnoreCase":if(r.label.toLowerCase().indexOf(o.toLowerCase())===0)return r;break;case"doesNotContain":if(r.label.indexOf(o)<0)return r;break;case"doesNotContainIgnoreCase":if(r.label.toLowerCase().indexOf(o.toLowerCase())<0)return r;break;case"contains":if(r.label.indexOf(o)>-1)return r;break;case"containsIgnoreCase":if(r.label.toLowerCase().indexOf(o.toLowerCase())>-1)return r;break;case"equals":if(r.label.localeCompare(o)===0)return r;break;case"equalsIgnoreCase":if(r.label.toLowerCase().localeCompare(o.toLowerCase())===0)return r;break;case"endsWith":if(r.label.endsWith(o))return r;break;case"endsWithIgnoreCase":if(r.label.toLowerCase().endsWith(o.toLowerCase()))return r;break;case"custom":if(n.filterCallback(r,e))return r}return null};if(e.length===0)return n._items;for(let r=0;r<n._items.length;r++){const o=i(n._items[r],e);o&&a.push(o)}return a}_select(e,t){const n=this,a=n.selectedIndexes.indexOf(n._indexOf(e)),i=n.selectedIndexes.slice(0),r=n.selectedValues.slice(0);if(e.selected=!0,a!==-1)return n._recycle(),!1;if(i.push(n._indexOf(e)),r.push(e.value||e.label),n.selectedIndexes=i,n.selectedValues=r,n._recycle(),n.$.hiddenInput.value=r.toString(),!n.isCompleted||t||!n.isInitialized||n._propertyChanging)return;let o=[];if(n._previouslySelectedIndexes){for(let d=0;d<n._previouslySelectedIndexes.length;d++)n.selectedIndexes.indexOf(n._previouslySelectedIndexes[d])<0&&o.push(n._items[n._previouslySelectedIndexes[d]]);delete n._previouslySelectedIndexes}return n.$.fireEvent("change",{addedItems:[e],removedItems:o,selected:e.selected,disabled:e.disabled,index:n._indexOf(e),label:e.label,value:e.value}),n._updateTargetValue(),!0}_updateTargetValue(){const e=this;if(e.dataset.target){const t=document.querySelector(e.dataset.target);if(t){const n=e.dataset.property,a=e.value;n&&t[n]!==void 0&&(t[n]=a)}}}_setTopVisibleIndex(e){const t=this;if(typeof e=="number"&&(t.topVisibleIndex=Math.max(0,e),e=t._items[t.topVisibleIndex]),!e)return!1;e.top!==t.scrollTop&&(t.scrollTop=e.top,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop),t.scrollHeight===t.scrollTop&&t._updateTopVisibleIndex())}_updateTopVisibleIndex(){const e=this,t=e.scrollTop+e._scrollView.verticalScrollBar.offsetHeight-e.offsetHeight;let n;if(e.scrollTop<e.scrollHeight/2){for(let a=0;a<e._items.length;a++)if(e._items[a].top>=t){n=e._items[a];break}}else for(let a=e._items.length-1;a>=0&&!(e._items[a].top<t);a--)n=e._items[a];if(n){const a=e.context;e.context=e,e.topVisibleIndex=n.dataIndex,e.context=a}}unselect(e){const t=this;if(!e||typeof e=="string"&&!(e=t.getItem(e)))return;if(t.selectionMode==="none")return void t.clearSelection();const n=t.selectedIndexes.indexOf(t._indexOf(e)),a=t.selectedIndexes.slice(0),i=t.selectedValues.slice(0);return e.selected=!1,n>=0&&(a.splice(n,1),i.splice(n,1),t.selectedIndexes=a,t.selectedValues=i,t.$.hiddenInput.value=i.toString(),t.isCompleted&&!t._propertyChanging?(t.$.fireEvent("change",{addedItems:[],removedItems:[e],selected:e.selected,disabled:e.disabled,index:t._indexOf(e),label:e.label,value:e.value}),t._updateTargetValue(),t._recycle(),!0):void 0)}_handleItemTemplate(e){if(e===null||!e)return;if(typeof e=="function")return e;const t=this;if(!("content"in document.createElement("template")))return t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()})),void(t.itemTemplate=null);if((e=document.getElementById(e))===null||!("content"in e))return t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"itemTemplate"})),void(t.itemTemplate=null);const n=e.content,a=n.childNodes.length,i=/{{\w+}}/g;let r,o;t._bindingDetails=[],t._template=e;for(let d=0;d<a;d++){for(o=[];r=i.exec(n.childNodes[d].innerHTML);)o.push(r[0]);o.length>0&&t._bindingDetails.push({childNodeIndex:d,bindingString:o})}return!0}_handleKeyStrokes(e){const t=this,n=t.selectionMode==="radioButton"||t.selectionMode==="checkBox"||t.selectionMode==="zeroOrMany"||t.selectionMode==="oneOrMany"||t.selectionMode==="zeroOrOne";let a=t._items;if(t.filterable&&t.$.filterInput.value.length>0&&(a=t._filteredItems),!t.disabled&&!t.readonly&&a.length){switch(e){case"ArrowLeft":case"ArrowUp":t._handleArrowKeys(!0);break;case"ArrowRight":case"ArrowDown":t._handleArrowKeys(!1);break;case" ":{if(t.selectedIndexes.length<1&&!t._focusedItem)return;const i=t._focusedItem?t._focusedItem:t._items[t.selectedIndexes[t.selectedIndexes.length-1]],r=o=>{o.selected&&t.selectionMode!=="radioButton"?t.unselect(o):t.select(o)};if(t.selectionMode==="oneOrMany")return void(i.selected&&t.selectedIndexes.length>1?r(i):i.selected||r(i));r(i);break}case"Home":if(a.length===0)return;n||(t._keysPressed.Shift||t.clearSelection(),t.select(a[0])),t._focus(a[0]),t.scrollTop=0;break;case"End":if(a.length===0)return;n||(t._keysPressed.Shift||t.clearSelection(),t.select(a[a.length-1])),t._focus(a[a.length-1]),t.scrollTop=t.scrollHeight;break;case"PageUp":t._pageUpKeyHandler(a);break;case"PageDown":t._pageDownKeyHandler(a)}t._recycle()}}_horizontalScrollbarHandler(e){const t=this;e&&e.stopPropagation&&e.stopPropagation(),t.isVirtualized?t._recycle():t.$.itemsContainer.scrollLeft=t._getScrollLeft(e.detail.value)}_getScrollLeft(e,t){const n=this;if(!n.rightToLeft)return e;if(Smart.Utilities.Core.Browser.Chrome){if(!t){const a=2*(parseInt(getComputedStyle(n.$.itemsInnerContainer).getPropertyValue("--smart-list-item-horizontal-offset"))||0);t=n._scrollWidth-n.$.itemsContainer.offsetWidth-a}e=t-e}else e*=-1;return e}_unsort(){const e=this;e.isUpdating++;const t=function(n,a){let i=n.dataIndex,r=a.dataIndex;return i<r?-1:i>r?1:0};if(e.isVirtualized)if(e._groups.length>0){e._groups.sort(t);let n=[];for(let a=0;a<e._groups.length;a++){const i=e._groups[a],r=[].concat(...i.items);r.sort(t),n.push(i),n=n.concat(r)}e._items=n}else e._items.sort(t);else{if(e._groups.length>0){e._groups.sort(t);let n=[];for(let a=0;a<e._groups.length;a++){const i=e._groups[a],r=[].concat(...i.querySelectorAll("smart-list-item"));r.sort(t),n=n.concat(r)}e._items=n}else e._items.sort(t);e._applySortOrder()}e.isUpdating--}_applySortOrder(){const e=function(t){for(let n=0;n<t.length;n++){const a=t[n],i=a.parentNode;i&&i.appendChild(a)}};e(this._items),e(this._groups)}_sort(){const e=this;if(!e._canSort)return;e.isUpdating++;const t=function(n,a){let i=n.label,r=a.label;if(e.sortDirection==="asc"){if(i<r)return-1;if(i>r)return 1}else{if(i<r)return 1;if(i>r)return-1}return 0};if(e._groups.sort(t),e.isVirtualized)if(e._groups.length>0){let n=[];for(let a=0;a<e._groups.length;a++){const i=e._groups[a],r=[].concat(...i.items);n.push(i),r.sort(t),n=n.concat(r)}e._items=n}else e._items.sort(t);else{if(e._groups.length>0){let n=[];for(let a=0;a<e._groups.length;a++){const i=e._groups[a],r=[].concat(...i.querySelectorAll("smart-list-item"));r.sort(t),n=n.concat(r)}e._items=n}else e._items.sort(t);e._applySortOrder()}e.isUpdating--}getItem(e){const t=this;for(let n=0;n<t._items.length;n++)if(t._items[n].value===e)return t._items[n];return null}_focus(e){const t=this;!e||t.selectionMode==="none"||t.disabled||t.readonly||(t._focusedItem&&(t._focusedItem._focused=!1),t._focusedItem=e,t._focusedItem._focused=!0)}_keyDownHandler(e){const t=this,n=(t.shadowRoot||t.getRootNode()).activeElement||document.activeElement;let a=e.key;if(e.metaKey&&(a="Control"),!t.disabled&&!t.readonly&&(!t.filterable||t.$.filterInput!==n)&&t._focused&&t._items.length!==0&&!t.disabled&&!t.displayLoadingIndicator){if(t.editable){if(a==="F2")return void t._dblclickEventHandler({target:t._focusedItem});if(t.$.editInput===n)return}if(t.selectionMode!=="none"){switch(e.stopPropagation(),a){case"Down":case"Right":case"Left":case"Up":a="Arrow"+a}if(t.filterable)switch(a){case"ArrowLeft":case"ArrowRight":return;case"ArrowUp":case"ArrowDown":e.preventDefault()}if(t._applyIncrementalSearch(a),!(["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control"," ","Home","End","PageUp","PageDown"].indexOf(a)<0))if(e.preventDefault(),!t._focusedItem&&t._items.length>0)t.selectionMode==="one"||t.selectionMode==="oneOrMany"||t.selectionMode==="oneOrManyExtended"?t.select(t._items[0]):t._focus(t._items[0]);else switch(t.selectionMode){case"one":case"zeroAndOne":if(a==="Shift"||a==="Control"||a===" ")return;t._handleKeyStrokes(a);break;case"oneOrMany":case"zeroOrOne":case"zeroOrMany":case"radioButton":case"checkBox":if(a==="Shift"||a==="Control")return;t._handleKeyStrokes(a);break;case"oneOrManyExtended":if(a===" ")return;t._keysPressed[a]=e.type==="keydown",t._handleKeyStrokes(a)}}}}_keyUpHandler(e){const t=this,n=(t.shadowRoot||t.getRootNode()).activeElement||document.activeElement;if(!t.editable||t.$.editInput!==n){if(t.filterable&&t.$.filterInput===n)return t._filterTimer&&clearTimeout(t._filterTimer),void(t._filterTimer=setTimeout(function(){const a=t.context;t.context=t,t._filterItems(void 0,void 0,!0),t.scrollTop=t.$.itemsContainer.scrollTop=0,t.scrollLeft=t.$.itemsContainer.scrollLeft=t._getScrollLeft(0),t.context=a},300));if(t._focused){if(t._focusedItem&&t._focusedItem.hidden&&t._filteredItems.length>0){let a=t._filteredItems[0];a.grouped&&t._filteredItems.length>1&&(a=t._filteredItems[1]),t._focus(a),t._recycle()}e.stopPropagation(),e.preventDefault(),t.disabled||(e.key==="Escape"&&Smart.ListBox.DragDrop.Dragging&&t._cancelDrag(),["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control"," ","PageUp","PageDown"].indexOf(e.key)<0||(t._keysPressed[e.key]=!1))}}}_cancelDrag(){if(!Smart.ListBox.DragDrop.Dragging)return;Smart.ListBox.DragDrop.Feedback.parentNode&&Smart.ListBox.DragDrop.Feedback.parentNode.removeChild(Smart.ListBox.DragDrop.Feedback);const e=Smart.ListBox.DragDrop.Item,t=e.ownerListBox;if(t.$.fireEvent("dragCancel",{item:e,data:Smart.ListBox.DragDrop,container:t,previousContainer:t}),Smart.ListBox.DragDrop.Feedback=null,Smart.ListBox.DragDrop.DropDetails){let n=Smart.ListBox.DragDrop.DropDetails.item;n&&(n.$.removeClass("smart-list-item-line-feedback"),n.$.removeClass("smart-list-item-bottom-line-feedback"))}document.body.classList.remove("smart-dragging"),delete Smart.ListBox.DragDrop.DraggedFrom,Smart.ListBox.DragDrop.Dragging=!1,Smart.ListBox.DragDrop.Item=null,Smart.ListBox.DragDrop.DropDetails=null}_mouseWheelNative(e,t){const n=this;n._scrollWheelContent===void 0&&(n._scrollWheelContent=document.createElement("div"),n._scrollWheelContent.style.width="100%",n._scrollWheelContent.style.height="100%",n._scrollWheelContent.style.position="absolute",n._scrollWheelContent.style.left="0px",n._scrollWheelContent.style.top="0px",n._scrollWheelContent.style.background="white",n._scrollWheelContent.style.zIndex=9999,n._scrollWheelContent.style.opacity=0,n._scrollWheelContent.style.overflow="auto",n._scrollWheelContent.style.visibility="hidden");let a=0;const i=()=>{if(t){const r=n._scrollWheelContent.scrollLeft;n._scrollView.hScrollBar.value=r,r===e&&n._scrollWheelContent.remove()}else{const r=n._scrollWheelContent.scrollTop;n._scrollView.vScrollBar.value=r,r===e&&n._scrollWheelContent.remove()}};n._scrollWheelContent.onscroll=()=>{cancelAnimationFrame(a),a=0,a=requestAnimationFrame(i)},n._scrollWheelContentView||(n._scrollWheelContentView=document.createElement("div"),n._scrollWheelContent.appendChild(n._scrollWheelContentView)),n._scrollWheelContentView.style.width=n.offsetWidth+n._scrollView.scrollWidth+"px",n._scrollWheelContentView.style.height=n.offsetHeight+n._scrollView.scrollHeight+"px",n.$.container.appendChild(n._scrollWheelContent),n._scrollWheelContent.scrollTop=n._scrollView.vScrollBar.value,n._scrollWheelContent.scrollLeft=n._scrollView.hScrollBar.value,t===!0?n._scrollWheelContent.scrollTo({top:n._scrollView.vScrollBar.value,left:e,behavior:"smooth"}):n._scrollWheelContent.scrollTo({top:e,left:n._scrollView.hScrollBar.value,behavior:"smooth"})}_mouseWheelHandler(e){const t=this;if(t._scrollView.hScrollBar.$.hasClass("smart-hidden")&&t._scrollView.vScrollBar.$.hasClass("smart-hidden")||e.pointerId===42||t._isUpdating())return;let n=!1;if(e.wheelDeltaY?Math.abs(e.wheelDeltaY)!==120&&Math.abs(e.wheelDeltaY)!==240&&Math.abs(e.wheelDeltaY)!==360&&(n=!0):e.deltaMode===0&&(n=!0),t.disabled||t._scrollView.vScrollBar.$.hasClass("smart-hidden")||e.shiftKey||!e.deltaY){if(!t.disabled&&(!t._scrollView.hScrollBar.$.hasClass("smart-hidden")||e.shiftKey)){e.stopPropagation(),e.preventDefault();let a=160;const i=e.deltaX===0?e.wheelDelta:e.deltaX;i<0&&(a=-160),Math.abs(i)>=100&&!n&&!Smart.Utilities.Core.Browser.Firefox?t._mouseWheelNative(t._scrollView.scrollLeft+a,!0):t._scrollView.scrollLeft+=i}}else{const a=t.scrollTop;if(a===0&&e.deltaY<0||a===t.scrollHeight&&e.deltaY>0)return;e.stopPropagation(),e.preventDefault();const i=t.itemHeight?t.itemHeight:30;let r=7*i;if(e.deltaY<=0&&(r=-7*i),Math.abs(e.deltaY)>=100&&!n&&!Smart.Utilities.Core.Browser.Firefox)t._mouseWheelNative(t._scrollView.scrollTop+r);else{t._wheelrafId=0;const o=()=>{t._scrollView.scrollTop+=e.deltaY};cancelAnimationFrame(t._wheelrafId),t._wheelrafId=0,t._wheelrafId=requestAnimationFrame(o)}}}_pageDownKeyHandler(e){const t=this;if(e.length===0)return;let n,a=t._items[t.selectedIndexes[t.selectedIndexes.length-1]];if(t.selectionMode!=="checkBox"&&t.selectionMode!=="radioButton"&&t.selectionMode!=="zeroOrMany"&&t.selectionMode!=="oneOrMany"&&t.selectionMode!=="zeroOrOne"||t._focusedItem&&(a=t._focusedItem),!a)return;const i=t._indexOf(a);let r=a.top+t.$.itemsContainer.offsetHeight-a.height;for(let o=i;o<e.length;o++)if(e[o].top>=r){n=e[o];break}n||(n=e[e.length-1]),t.selectionMode==="checkBox"||t.selectionMode==="radioButton"||t.selectionMode==="zeroOrMany"||t.selectionMode==="oneOrMany"||t.selectionMode==="zeroOrOne"?t._focus(n):n.selected||(t._keysPressed.Shift||t.clearSelection(),t.select(n),t._focus(n)),(n.height+n.top>t.$.itemsContainer.scrollTop+t.$.itemsContainer.offsetHeight||n.top<t.$.itemsContainer.scrollTop)&&(t.scrollTop=n.top-t.$.itemsContainer.offsetHeight+n.height)}_pageUpKeyHandler(e){const t=this;if(e.length===0)return;let n=t._items[t.selectedIndexes[t.selectedIndexes.length-1]];if(t.selectionMode!=="checkBox"&&t.selectionMode!=="radioButton"&&t.selectionMode!=="zeroOrMany"&&t.selectionMode!=="oneOrMany"&&t.selectionMode!=="zeroOrOne"||t._focusedItem&&(n=t._focusedItem),!n)return;const a=n.top-t.$.itemsContainer.offsetHeight;let i;for(let r=t._indexOf(n);r>0;r--)if(e[r].top<=a){i=e[r];break}i||(i=e[0]),t.selectionMode==="checkBox"||t.selectionMode==="radioButton"||t.selectionMode==="zeroOrMany"||t.selectionMode==="oneOrMany"||t.selectionMode==="zeroOrOne"?t._focus(i):i.selected||(t._keysPressed.Shift||t.clearSelection(),t.select(i),t._focus(i)),t.scrollTop=i.top,t._indexOf(i)===0&&(t.scrollTop=0)}clearItems(){const e=this;e.clearSelection(),e.$.itemsInnerContainer.innerHTML="",e._items=[],delete e._focusedItem,e.$placeholder.removeClass("smart-hidden"),e.refresh()}_resizeHandler(e){this.refresh(e)}refresh(e){const t=this;if(!e&&!t._isUpdatingScrollBars&&t.isInitialized)return t._isUpdatingScrollBars=!0,t._initializeRecyclingItems(),t._refreshLayout(),void(t._isUpdatingScrollBars=!1);e&&e.target===t&&!t._isUpdatingScrollBars&&(t._isUpdatingScrollBars=!0,t._initializeRecyclingItems(),t._refreshLayout(),t._isUpdatingScrollBars=!1)}_indexOf(e){const t=this;if(!e)return-1;let n=t._items.indexOf(e);return n===-1&&(n=t._items.indexOf(t.getItem(e.value))),n}_incrementalSearch(){const e=this,t=e.selectionMode!=="radioButton"&&e.selectionMode!=="checkBox"&&e.selectionMode!=="zeroOrMany"&&e.selectionMode!=="oneOrMany"&&e.selectionMode!=="zeroOrOne";let n,a=0;switch(e.incrementalSearchMode){case"containsIgnoreCase":case"equalsIgnoreCase":case"startsWithIgnoreCase":case"endsWithIgnoreCase":n=e._incrementalSearchQuery.toLowerCase();break;default:n=e._incrementalSearchQuery}const i=function(o){o.grouped||o.readonly||(t?(e.selectedIndexes.length>0&&e.clearSelection(),e._focus(o),e.select(o)):e._focus(o),(o.height+o.top>e.$.itemsContainer.scrollTop+e.$.itemsContainer.offsetHeight||o.top<e.scrollTop)&&(e.scrollTop=o.top),e._indexOf(o)===0&&(e.scrollTop=0),e._indexOf(o)===e._items.length-1&&(e.scrollTop=e.scrollHeight))};e._previousEntry.localeCompare(n)!==0&&(e._incrementalSearchItems=e._queryItems(e._incrementalSearchQuery,e.incrementalSearchMode),delete e._itemPosition),e._previousEntry=n;const r=e._incrementalSearchItems.length;if(r!==0)if(r!==1)for(e._itemPosition!==void 0?e._itemPosition<r-1?a=e._itemPosition:(a=0,t?(e._incrementalSearchItems[e._itemPosition].selected=!1,e.selectedIndexes=[],e.selectedValues=[]):e._incrementalSearchItems[e._itemPosition]._focused=!1):t&&e.clearSelection();a<r;a++)if(e._incrementalSearchItems[a].selected&&t)e._incrementalSearchItems[a].selected=!1,e.selectedIndexes=[],e.selectedValues=[];else{if(t||!e._incrementalSearchItems[a]._focused)return i(e._incrementalSearchItems[a]),void(e._itemPosition=a);e._incrementalSearchItems[a]._focused=!1}else i(e._incrementalSearchItems[0])}_selectStartHandler(e){const t=this,n=(t.shadowRoot||t.getRootNode()).activeElement;t.$.filterInput!==n&&t.$.editInput!==n&&e.preventDefault()}_handleArrowKeys(e){const t=this,n=t.selectionMode!=="radioButton"&&t.selectionMode!=="checkBox"&&t.selectionMode!=="zeroOrMany"&&t.selectionMode!=="oneOrMany"&&t.selectionMode!=="zeroOrOne";if(t.disabled||t.readonly)return;let a;if(t._focusedItem&&!t._keysPressed.Shift)a=t._indexOf(t._focusedItem),t._focusedItem._focused=!1;else{if(t.selectedIndexes.length===0)return;a=t.selectedIndexes[t.selectedIndexes.length-1]}const i=e?t._getPreviousItem(a):t._getNextItem(a);t._focus(i),n&&(t._keysPressed.Shift?t.select(i):t._items[a]!==i&&(t.clearSelection(),t.select(i))),t.ensureVisible(i)}_refreshFilter(){const e=this;if(e.filterable)return e.$.filterInput.disabled=!(!e.disabled&&!e.displayLoadingIndicator),e.$filterInputContainer.removeClass("smart-hidden"),void e.$itemsContainer.addClass("filter");e.$.filterInput.disabled=!0,e.$filterInputContainer.addClass("smart-hidden"),e.$itemsContainer.removeClass("filter")}_setFocusable(){const e=this;e.disabled||e.unfocusable?e.removeAttribute("tabindex"):e.tabIndex=e.tabIndex>0?e.tabIndex:0}_setLoadingIndicatorVisibility(){const e=this;e.displayLoadingIndicator?e.$loadingIndicatorContainer.hasClass("smart-visibility-hidden")?e.$loadingIndicatorContainer.removeClass("smart-visibility-hidden"):e.$loadingIndicatorContainer.removeClass("smart-hidden"):e._areCSSVarsSupported?e.$loadingIndicatorContainer.addClass("smart-hidden"):e.$loadingIndicatorContainer.addClass("smart-visibility-hidden")}_refreshLayout(){const e=this,t=e._filteredItems||e._items;if(e.__scrollHeight=null,e.__scrollWidth=null,e._height=null,e._scrollView||(e._scrollView=new Smart.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),e.$itemsContainer.removeClass("hscroll"),e.$itemsContainer.removeClass("vscroll"),!t||t===null||t.length===0)return e.scrollWidth=0,e.scrollHeight=0,e.$filterInputContainer.removeClass("vscroll"),e.$placeholder.removeClass("smart-hidden"),e.isVirtualized&&e._recycle(),void(e.$.itemsInnerContainer.style.width="");e.$placeholder.addClass("smart-hidden");const n=2*(parseInt(getComputedStyle(e.$.itemsContainer).getPropertyValue("--smart-list-item-horizontal-offset"))||0);let a=e._scrollWidth-e.$.itemsContainer.offsetWidth-n,i=e._scrollHeight;if(e._refreshHorizontalScrollBarVisibility(a),e._refreshVerticalScrollBarVisibility(i),e.$.itemsInnerContainer.style.width="",e.horizontalScrollBarVisibility==="hidden"?e.$.itemsInnerContainer.style.width=e.$.itemsContainer.offsetWidth-n:e.$.itemsInnerContainer.style.width=Math.max(e.$.itemsContainer.offsetWidth-n,-n+e.__scrollWidth)+"px",e.computedVerticalScrollBarVisibility)return a=e._scrollWidth-e.$.itemsContainer.offsetWidth-n,e._refreshHorizontalScrollBarVisibility(a),e.horizontalScrollBarVisibility!=="hidden"&&(e.$.itemsInnerContainer.style.width="",e.$.itemsInnerContainer.style.width=Math.max(e.$.itemsContainer.offsetWidth-n,-n+e.__scrollWidth)+"px"),e.computedHorizontalScrollBarVisibility&&((e.horizontalScrollBarVisibility!=="visible"||e.scrollWidth!==0||e.horizontalScrollBarVisibility==="visible")&&(e.__scrollHeight+=e._scrollView.hScrollBar.offsetHeight),e.scrollHeight=e.__scrollHeight,e._scrollView.hScrollBar.$.hasClass("bottom-corner")&&e._scrollView.hScrollBar.refresh()),void(e.isVirtualized&&e._recycle());a=e._scrollWidth-e.$.itemsContainer.offsetWidth-n,e._refreshHorizontalScrollBarVisibility(a),e.computedHorizontalScrollBarVisibility&&(e.scrollHeight=e._scrollHeight,e._refreshVerticalScrollBarVisibility(e.scrollHeight),e.computedVerticalScrollBarVisibility&&(a=e._scrollWidth-e.$.itemsContainer.offsetWidth-e._scrollView.vScrollBar.offsetWidth,e._refreshHorizontalScrollBarVisibility(a)),e._scrollView.vScrollBar.$.hasClass("bottom-corner")&&e._scrollView.vScrollBar.refresh(),e._scrollView.hScrollBar.$.hasClass("bottom-corner")&&e._scrollView.hScrollBar.refresh()),e.isVirtualized&&e._recycle();const r=/Trident|Edge/.test(navigator.userAgent);!e.isRefreshing&&r&&setTimeout(function(){e.isRefreshing=!0,e._refreshLayout(),e.isRefreshing=!1},50)}_styleChangedHandler(){this._refreshLayout()}_swipeLeftHandler(){}_swipeRightHandler(){}_refreshHorizontalScrollBarVisibility(e){const t=this;t.scrollWidth=e,t.$.horizontalScrollBar.refresh(),t.computedHorizontalScrollBarVisibility?(t.scrollLeft=t._getScrollLeft(t.$.itemsContainer.scrollLeft,e),t.$itemsContainer.addClass("hscroll")):t.$itemsContainer.removeClass("hscroll")}_refreshVerticalScrollBarVisibility(e){const t=this;t.scrollHeight=e,t.$.verticalScrollBar.refresh(),t.computedVerticalScrollBarVisibility?(t.$itemsContainer.addClass("vscroll"),t.$filterInputContainer.addClass("vscroll")):(t.$itemsContainer.removeClass("vscroll"),t.$filterInputContainer.removeClass("vscroll"))}_validateTemplate(e,t){if(t===null||!t)return;const n=this;return"content"in document.createElement("template")?(t=document.getElementById(t))!==null&&"content"in t?t:(n.error(n.localize("invalidTemplate",{elementType:n.nodeName.toLowerCase(),property:e})),void(n[e]=null)):(n.error(n.localize("htmlTemplateNotSuported",{elementType:n.nodeName.toLowerCase()})),void(n[e]=null))}_getItemIndexByPosition(e){const t=this;return(n=>{let a=0,i=n.length-1;if(e<=0)return 0;if(n[n.length-1].top<=e)return n.length-1;for(;;){const r=Math.floor((a+i)/2),o=n[r];if(t._isItemInPosition(o,e))return r;o.top<e?a=r+1:o.top>e&&(i=r-1)}})(t.$.filterInput.value.length>0?t._filteredItems:t._items)}_isItemInPosition(e,t){const n=e.top,a=e.top+e.height;return n<=t&&a>t}get isVirtualized(){const e=this;return e.virtualized&&e.dataSource&&e.dataSource.length>0}_recycle(){const e=this;if(!e._recyclingItems)return;let t=e._height;e._height||(t=e._height=e.$.itemsContainer.offsetHeight);let n=0;const a=e.scrollTop,i=e._getItemIndexByPosition(a),r=e.filterable&&e.$.filterInput.value.length>0?e._filteredItems:e._items,o=r[i];let d=o?o.top:0;if(e.$.itemsInnerContainer.style.left=-e.scrollLeft+"px",e.$.itemsInnerContainer.style.top=-a+d+"px",e.isUpdating++,i>=0){const f=r.length;for(let p=i;p<f;p++){const v=r[p];if(v.height!==0){if(!(d+v.height>=a&&d<=a+t))break;{const w=e._recyclingItems[n++];if(!w)break;w.setAttribute("aria-setsize",f),w.setAttribute("aria-posinset",p),w.context=document,w.dataItem=v,w.label=v.label,w.value=v.value,w.selected=v.selected,w._focused=v._focused,w.hidden=v.hidden,w.grouped=v.grouped,w.readonly=v.readonly,w.style.height=v.height+"px",e._alternateItem(w),v.title?w.title=v.title:w.title="",v.grouped?w.displayMode="plain":w.displayMode=v.displayMode,e.scrollWidth>0&&(w.style.width=e.$.itemsInnerContainer.offsetWidth+e.scrollWidth+"px"),e.itemTemplate&&e._handleItemTemplate(e.itemTemplate)&&e._applyTemplate(w,!1)}d+=v.height}}}if(n<e._recyclingItems.length)for(let f=n;f<e._recyclingItems.length;f++){const p=e._recyclingItems[n++],v=p.context;p.context=document,p.hidden=!0,p.context=v}e.isUpdating--}_verticalScrollbarHandler(e){const t=this,n=e.detail.value;e&&e.stopPropagation&&e.stopPropagation(),t.isVirtualized?t._recycle():t.$.itemsContainer.scrollTop=n,t._updateTopVisibleIndex(),e.context.max!==e.context.value?e.context.min===e.context.value&&t.$.fireEvent("scrollTopReached"):t.$.fireEvent("scrollBottomReached")}_applyAriaSelected(){const e=this,t=e.isVirtualized?e._recyclingItems:e._items,n=e.selectionMode;for(let a=0;a<t.length;a++){const i=t[a];i.selected?i.setAttribute("aria-selected",!0):i.readonly||i.disabled||["oneOrManyExtended","zeroOrMany","oneOrMany","checkBox"].indexOf(n)===-1?i.removeAttribute("aria-selected"):i.setAttribute("aria-selected",!1)}}})},8687:()=>{(()=>{let e;try{e=!0}catch{e=!1}Smart.Utilities.Assign("BigNumber",class{constructor(t,n,a){var i,r=this;if(Smart.Utilities.BigNumber.bigIntSupport){if(t instanceof Smart.Utilities.BigNumber){if(!Array.isArray(t._d))return new Smart.Utilities.BigNumber(t._d);t=(t._s?"-":"")+(t._d.slice(0,t._f).join("")||"0")+(t._f!=t._d.length?"."+t._d.slice(t._f).join(""):"")}try{t===null?r._d=BigInt(0):typeof t=="string"&&t.toLowerCase().indexOf("e")!==-1?r._d=BigInt(parseFloat(t)):r._d=BigInt(t)}catch{try{const x=t.toString().split(".");let L=BigInt(x[0]),A=parseInt(x[1].charAt(0));if(L>=0&&A>=5)L+=BigInt(1);else if(L<0){if(A>5)L-=BigInt(1);else if(A===5){let k=1,B=x[1].charAt(k),H=!1;for(;B!=="";)if(k++,B=x[1].charAt(k),B!=="0"){H=!0;break}H&&(L-=BigInt(1))}}r._d=L}catch{r._d=BigInt(0)}}return r._f=r._d.toString().replace("-","").length,void(r._s=r._d<0)}if(t instanceof Smart.Utilities.BigNumber){if(typeof t._d=="bigint")return new Smart.Utilities.BigNumber(t._d.toString());for(i in{precision:0,roundType:0,_s:0,_f:0})r[i]=t[i];return r._d=t._d.slice(),void(t._s&&t._d.length===1&&t._d[0]===0&&(r._s=!1))}if(t!==void 0&&(t==="-0"&&(t="0"),new RegExp(/e/i).test(t))){var o=t.toString().toLowerCase(),d=o.indexOf("e"),f=new Smart.Utilities.BigNumber(o.slice(0,d)),p=o.slice(d+2),v=o.slice(d+1,d+2),w=new Smart.Utilities.BigNumber(10).pow(v+p);t=f.multiply(w).toString()}for(r.precision=isNaN(n=Math.abs(n))?Smart.Utilities.BigNumber.defaultPrecision:n,r.roundType=isNaN(a=Math.abs(a))?Smart.Utilities.BigNumber.defaultRoundType:a,r._s=(t+="").charAt(0)=="-",r._f=((t=t.replace(/[^\d.]/g,"").split(".",2))[0]=t[0].replace(/^0+/,"")||"0").length,i=(t=r._d=(t.join("")||"0").split("")).length;i;t[--i]=+t[i]);r.round()}static get defaultPrecision(){return 40}static get defaultRoundType(){return 4}static get bigIntSupport(){return e&&Smart.Utilities.BigNumber.ignoreBigIntNativeSupport!==!0}add(t){if(Smart.Utilities.BigNumber.bigIntSupport)return new Smart.Utilities.BigNumber(this._d+new Smart.Utilities.BigNumber(t)._d);let n=this.normalizeOperand(this);if(t=n.normalizeOperand(t),n.isZero()&&n._s&&(n._s=!1),t===0||t.constructor===Smart.Utilities.BigNumber&&t._d.length===1&&t._d[0]===0)return new Smart.Utilities.BigNumber(n);if(n._s!=(t=new Smart.Utilities.BigNumber(t))._s)return t._s^=1,n.subtract(t);var a,i,r=new Smart.Utilities.BigNumber(n),o=r._d,d=t._d,f=r._f,p=t._f;for(t=Math.max(f,p),f!=p&&((p=f-p)>0?r._zeroes(d,p,1):r._zeroes(o,-p,1)),a=(f=o.length)==(p=d.length)?o.length:((p=f-p)>0?r._zeroes(d,p):r._zeroes(o,-p)).length,i=0;a;i=(o[--a]=o[a]+d[a]+i)/10>>>0,o[a]%=10);return i&&++t&&o.unshift(i),r._f=t,r.round()}subtract(t){if(Smart.Utilities.BigNumber.bigIntSupport)return new Smart.Utilities.BigNumber(this._d-new Smart.Utilities.BigNumber(t)._d);let n=this.normalizeOperand(this);if(t=n.normalizeOperand(t),n.isZero()&&n._s&&(n._s=!1),t===0||t.constructor===Smart.Utilities.BigNumber&&t._d.length===1&&t._d[0]===0)return new Smart.Utilities.BigNumber(n);if(n._s!=(t=new Smart.Utilities.BigNumber(t))._s)return t._s^=1,n.add(t);var a,i,r=new Smart.Utilities.BigNumber(n),o=r.abs().compare(t.abs())+1,d=o?r:t,f=o?t:r,p=d._f,v=f._f,w=p;for(d=d._d,f=f._d,p!=v&&((v=p-v)>0?r._zeroes(f,v,1):r._zeroes(d,-v,1)),a=(p=d.length)==(v=f.length)?d.length:((v=p-v)>0?r._zeroes(f,v):r._zeroes(d,-v)).length;a;){if(d[--a]<f[a]){for(i=a;i&&!d[--i];d[i]=9);--d[i],d[a]+=10}f[a]=d[a]-f[a]}return o||(r._s^=1),r._f=w,r._d=f,r.round()}multiply(t){if(Smart.Utilities.BigNumber.bigIntSupport)return new Smart.Utilities.BigNumber(this._d*new Smart.Utilities.BigNumber(t)._d);let n=this.normalizeOperand(this);t=n.normalizeOperand(t);var a,i,r,o=new Smart.Utilities.BigNumber(n),d=o._d.length>=(t=new Smart.Utilities.BigNumber(t))._d.length,f=(d?o:t)._d,p=(d?t:o)._d,v=f.length,w=p.length,C=new Smart.Utilities.BigNumber;for(a=w;a;d&&r.unshift(d),C.set(C.add(new Smart.Utilities.BigNumber(r.join("")))))for(r=new Array(w- --a).join("0").split(""),d=0,i=v;i;d+=f[--i]*p[a],r.unshift(d%10),d=d/10>>>0);return o._s=o._s!=t._s,o._f=((d=v+w-o._f-t._f)>=(i=(o._d=C._d).length)?n._zeroes(o._d,d-i+1,1).length:i)-d,o.round()}divide(t){if(Smart.Utilities.BigNumber.bigIntSupport)return new Smart.Utilities.BigNumber(this._d/new Smart.Utilities.BigNumber(t)._d);let n=this.normalizeOperand(this);if(t=n.normalizeOperand(t),(t=new Smart.Utilities.BigNumber(t))=="0")throw new Error("Division by 0");if(n=="0")return new Smart.Utilities.BigNumber;var a,i,r,o=new Smart.Utilities.BigNumber(n),d=o._d,f=t._d,p=d.length-o._f,v=f.length-t._f,w=new Smart.Utilities.BigNumber,C=0,x=1,L=0,A=0;for(w._s=o._s!=t._s,w.precision=Math.max(o.precision,t.precision),w._f=+w._d.pop(),p!=v&&o._zeroes(p>v?f:d,Math.abs(p-v)),t._f=f.length,(f=t)._s=!1,f=f.round(),t=new Smart.Utilities.BigNumber;d[0]=="0";d.shift());e:do{for(r=L=0,t=="0"&&(t._d=[],t._f=0);C<d.length&&t.compare(f)==-1;++C){if(r=C+1==d.length,(!x&&++L>1||(A=r&&t=="0"&&d[C]=="0"))&&(w._f==w._d.length&&++w._f,w._d.push(0)),d[C]=="0"&&t=="0"||(t._d.push(d[C]),++t._f),A)break e;if(r&&t.compare(f)==-1&&(w._f==w._d.length&&++w._f,1)||(r=0))for(;w._d.push(0),t._d.push(0),++t._f,t.compare(f)==-1;);}if(x=0,t.compare(f)==-1&&!(r=0))for(;r?w._d.push(0):r=1,t._d.push(0),++t._f,t.compare(f)==-1;);var k;for(i=new Smart.Utilities.BigNumber,a=0;t.compare(k=i.add(f))+1&&++a;i.set(k));t.set(t.subtract(i)),!r&&w._f==w._d.length&&++w._f,w._d.push(a)}while((C<d.length||t!="0")&&w._d.length-w._f<=w.precision);return w.round()}mod(t){if(Smart.Utilities.BigNumber.bigIntSupport)return new Smart.Utilities.BigNumber(this._d%new Smart.Utilities.BigNumber(t)._d);let n=this.normalizeOperand(this);t=n.normalizeOperand(t);var a=n.subtract(n.divide(t).intPart().multiply(t));return a.isZero()&&a._s&&(a._s=!a._s),a}pow(t){if(Smart.Utilities.BigNumber.bigIntSupport){let r=BigInt(1);for(let o=BigInt(0);o<new Smart.Utilities.BigNumber(t)._d;o+=BigInt(1))r*=this._d;return new Smart.Utilities.BigNumber(r)}let n=this.normalizeOperand(this);t=n.normalizeOperand(t);var a,i=new Smart.Utilities.BigNumber(n);if((t=new Smart.Utilities.BigNumber(t).intPart())==0)return i.set(1);for(a=Math.abs(t);--a;i.set(i.multiply(n)));return t<0?i.set(new Smart.Utilities.BigNumber(1).divide(i)):i}set(t){return t=new Smart.Utilities.BigNumber(t),this._d=t._d,this._f=t._f,this._s=t._s,this}compare(t){if(Smart.Utilities.BigNumber.bigIntSupport){const w=new Smart.Utilities.BigNumber(t)._d;return this._d===w?0:this._d>w?1:-1}let n=this.normalizeOperand(this);t=n.normalizeOperand(t);var a,i,r,o=n,d=n._f,f=new Smart.Utilities.BigNumber(t),p=f._f,v=[-1,1];if(o.isZero()&&f.isZero())return 0;if(o._s!=f._s)return o._s?-1:1;if(d!=p)return v[d>p^o._s];for(d=(r=o._d).length,p=(f=f._d).length,a=-1,i=Math.min(d,p);++a<i;)if(r[a]!=f[a])return v[r[a]>f[a]^o._s];return d!=p?v[d>p^o._s]:0}negate(){if(Smart.Utilities.BigNumber.bigIntSupport)return new Smart.Utilities.BigNumber(this._d*BigInt(-1));let t=this.normalizeOperand(this);var n=new Smart.Utilities.BigNumber(t);return n._s^=1,n}abs(){if(Smart.Utilities.BigNumber.bigIntSupport)return new Smart.Utilities.BigNumber(this._d<0?this._d*BigInt(-1):this._d);let t=this.normalizeOperand(this);var n=new Smart.Utilities.BigNumber(t);return n._s=0,n}intPart(){if(Smart.Utilities.BigNumber.bigIntSupport)return new Smart.Utilities.BigNumber(this._d);let t=this.normalizeOperand(this);return new Smart.Utilities.BigNumber((t._s?"-":"")+(t._d.slice(0,t._f).join("")||"0"))}valueOf(t,n){return this.normalizeOperand(this).toString(t,n)}toString(t,n,a){function i(f){var p,v,w=new Smart.Utilities.BigNumber(2),C=[];v=f===void 0?r:f;do p=v.mod(w),C.push(p.toString()),v=v.subtract(p).divide(w).intPart();while(v.compare(new Smart.Utilities.BigNumber(0))===1);return C.reverse().join("")}let r,o,d;if(Smart.Utilities.BigNumber.bigIntSupport?(r=this,o=Array.isArray(r._d)?(r._s?"-":"")+(r._d.slice(0,r._f).join("")||"0")+(r._f!=r._d.length?"."+r._d.slice(r._f).join(""):""):this._d.toString()):(r=this.normalizeOperand(this),o=(r._s?"-":"")+(r._d.slice(0,r._f).join("")||"0")+(r._f!=r._d.length?"."+r._d.slice(r._f).join(""):"")),t===void 0||t===10)return o;if(r.compare(0)>-1)switch(t){case 2:d=i(),a&&(d=d.padStart(n,"0"));break;case 8:d=function(f){for(var p="";f.length%3!=0;)f="0"+f;for(var v=f.length/3;v>=1;v--){var w=f[3*v-3]+""+f[3*v-2]+f[3*v-1];p=parseInt(w,2).toString(8)+""+p}return p}(i());break;case 16:d=function(f){for(var p="";f.length%4!=0;)f="0"+f;for(var v=f.length/4;v>=1;v--){var w=f[4*v-4]+""+f[4*v-3]+f[4*v-2]+f[4*v-1];p=parseInt(w,2).toString(16)+""+p}return p}(i()).toUpperCase(),a&&(d=d.padStart(n/4,"0"))}else d=function(f,p,v){var w="";for(String.prototype.repeat&&(f="0".repeat(v-f.length)+f);f.length<v;)f="0"+f;for(var C=!0,x="",L=(w=(w=(w=(w=f.replace(/0/g,"a")).replace(/1/g,"b")).replace(/a/g,"1")).replace(/b/g,"0")).length-1;L>=0;L--){var A;w.charAt(L)==="0"?C===!0?(A="1",C=!1):A="0":A=C===!0?"0":"1",x=A+""+x}switch(p){case 2:return x;case 8:var k,B;switch(v){case 8:k=3,B="0";break;case 16:k=6,B="00";break;case 32:k=11,B="0";break;case 64:k=22,B="00"}x=B+x;for(var H="",V=k;V>=1;V--){var z=x[3*V-3]+""+x[3*V-2]+x[3*V-1];H=parseInt(z,2).toString(8)+""+H}return H;case 16:var N;switch(v){case 8:N=2;break;case 16:N=4;break;case 32:N=8;break;case 64:N=16}for(var F="",q=N;q>=1;q--){var Y=x[4*q-4]+""+x[4*q-3]+x[4*q-2]+x[4*q-1];F=parseInt(Y,2).toString(16)+""+F}return F.toUpperCase()}}(i(r.negate()),t,n);return d}_zeroes(t,n,a){var i=["push","unshift"][a||0];for(++n;--n;t[i](0));return t}round(){if("_rounding"in this)return this;var t,n,a,i,r=Smart.Utilities.BigNumber,o=this.roundType,d=this._d;for(this._rounding=!0;this._f>1&&!d[0];--this._f,d.shift());for(t=this._f,a=d[n=this.precision+t];d.length>t&&!d[d.length-1];d.pop());return i=(this._s?"-":"")+(n-t?"0."+this._zeroes([],n-t-1).join(""):"")+1,d.length>n&&(a&&o!=r.DOWN&&(o==r.UP||(o==r.CEIL?!this._s:o==r.FLOOR?this._s:o==r.HALF_UP?a>=5:o==r.HALF_DOWN?a>5:o==r.HALF_EVEN&&a>=5&&1&d[n-1]))&&this.add(i),d.splice(n,d.length-n)),delete this._rounding,this}isZero(){return this._d.length===1&&this._d[0]===0}normalizeOperand(t){return t instanceof Smart.Utilities.BigNumber&&typeof t._d=="bigint"?new Smart.Utilities.BigNumber(t._d.toString()):t}})})()},9264:()=>{Smart("smart-multi-input",class extends Smart.Input{static get properties(){return{dropDownButtonPosition:{allowedValues:["none","left","right"],defaultReflectToAttribute:!0,value:"right",type:"string"},separator:{value:", ",type:"string"},selectedValues:{value:[],type:"array"}}}_performSelect(e){const t=this;if(!e)return void t.close();const n=e.target?e.target.closest("li"):e;if(!n)return;t._selectedItems||(t._selectedItems=[]),n.classList.toggle("active");const a=n.classList.contains("active"),i={label:n.getAttribute("data-label"),value:n.getAttribute("value")};if(a)t._selectedItems.push(i),n.setAttribute("aria-selected",!0),t._setActiveDescendant(n);else{const v=t._selectedItems.findIndex(w=>w.label===i.label&&w.value===i.value);v>-1&&t._selectedItems.splice(v,1),n.setAttribute("aria-selected",!1)}n.setAttribute("aria-selected",a);const r=t._selectedItems,o=t.value,d=t.$.input.dataValue;let[f,p]=[[],[]];for(let v=0;v<r.length;v++){const w=r[v];f.push(w.label),p.push(w.value)}t.set("selectedValues",r.map(v=>v.value)),f=f.join(t.separator),t.set("value",f),t.$.input.dataValue=p=p.join(t.separator),f===o&&p===d||(t.$.fireEvent("change",{value:p,label:f,oldValue:d,oldLabel:o}),t._updateTargetValue())}close(){const e=this;return!!e.opened&&(e.timer&&clearTimeout(e.timer),e.timer=setTimeout(function(){e.$.scrollView.parentNode&&!e.opened&&(e.$.scrollView.remove(),e.removeAttribute("aria-owns"),e.readonly||e.$.input.removeAttribute("aria-controls"))},1e3),e.$.scrollView.removeAttribute("open"),e.$.dropDownButton.removeAttribute("open"),e.$.input.removeAttribute("open"),e.removeAttribute("open"),e.opened=!1,e.setAttribute("aria-expanded",!1),e.$.input.focus(),!0)}open(){const e=this;let t;if(e.dropDownDataSource?(e.query="",t=typeof e.dataSource=="function"?e.dataSource(e.query):e.dataSource):t=typeof e.dropDownDataSource=="function"?e.dropDownDataSource(e.query):e.dropDownDataSource,e._tempItems){t=JSON.parse(JSON.stringify(t));for(let n=0;n<e._tempItems.length;n++){const a=e._tempItems[n];t.indexOf(a)===-1&&t.push(a)}}e._process(t),e.ensureVisible(),e.$.input.focus(),setTimeout(function(){e.$.input.focus()},25)}_render(e){const t=this,n=e.map(function(d){let f=d,p=d;typeof d=="object"&&(f=d.label,p=d.value!==void 0?d.value:f);const v=document.createElement("li"),w=document.createElement("a");return w.href="#",v.id=t.id+"Item"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),v.setAttribute("data-label",f),v.setAttribute("value",p),v.setAttribute("role","option"),v.setAttribute("aria-selected",!1),v.setAttribute("aria-label",f),d.menuLabel!==void 0&&(f=d.menuLabel),w.innerHTML=t.highlighter?t.highlighter(f):t._highlighter(f),w.setAttribute("aria-hidden",!0),d.icon&&(w.classList.add("icon"),w.classList.add(d.icon)),v.appendChild(w),v});t.$.menu.innerHTML="";let a=[],i=[],r=t._selectedItems;r||(r=t._selectedItems=[]);const o=r.length;r.length&&r.forEach(d=>{i.push(d.label),a.push(d.value)}),a=a.concat((t.$.input.dataValue||t.$.input.value).split(",").map(d=>d.trim())),i=i.concat(t.$.input.value.split(",").map(d=>d.trim()));for(let d=0;d<n.length;d++){const f=n[d],p=f.getAttribute("value"),v=f.getAttribute("data-label"),w=o?a.indexOf(p):i.indexOf(v);w>-1&&i[w]===v&&(f.classList.add("active"),f.setAttribute("aria-selected",!0),t._setActiveDescendant(f),r.findIndex(C=>C.label===v&&C.value===p)<0&&r.push({label:f.getAttribute("data-label"),value:f.getAttribute("value")})),t.$.menu.appendChild(f)}t.set("selectedValues",r.map(d=>d.value))}_next(){const e=this;let t=e._selectedItems?e._selectedItems[e._selectedItems.length-1]:void 0;t&&(t=e.$.menu.querySelector(`.active[data-label="${t.label}"][value="${t.value}"]`));const n=t||e.$.menu.querySelector(".active");if(!n){const r=e.$.menu.firstElementChild;return void e._performSelect(r)}e._selectedItems&&(e._selectedItems=[]);const a=e.$.menu.children;for(let r=0;r<a.length;r++)a[r].classList.remove("active"),a[r].setAttribute("aria-selected",!1);e._setActiveDescendant();let i=n.nextElementSibling;i||(i=e.$.menu.firstElementChild),e._performSelect(i),e.ensureVisible()}_prev(){const e=this;let t=e._selectedItems?e._selectedItems[e._selectedItems.length-1]:void 0;t&&(t=e.$.menu.querySelector(`.active[data-label="${t.label}"][value="${t.value}"]`));const n=t||e.$.menu.querySelector(".active");if(!n){const r=e.$.menu.firstElementChild;return void e._performSelect(r)}e._selectedItems&&(e._selectedItems=[]);const a=e.$.menu.children;for(let r=0;r<a.length;r++)a[r].classList.remove("active"),a[r].setAttribute("aria-selected",!1);e._setActiveDescendant();let i=n.previousElementSibling;i||(i=e.$.menu.lastElementChild),e._performSelect(i),e.ensureVisible()}_keyUpHandler(e){const t=this;if(!e.shiftKey)switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:e.keyCode===40&&e.altKey&&t.open(),e.keyCode===38&&e.altKey&&t.close();break;case 9:case 13:if(!t.opened)return;t._performSelect(),e.stopPropagation(),e.preventDefault();break;case 27:if(!t.opened)return;t.close(),e.stopPropagation(),e.preventDefault();break;default:t._lookup(e),!t.opened||e.ctrlKey||e.shiftKey||(e.stopPropagation(),e.preventDefault()),t.readonly||(t.$.input.dataValue=t.$.input.value)}}propertyChangedHandler(e,t,n){const a=this;if(e==="value"){a.displayMember!==a.valueMember&&typeof n!="string"?(a.value=n[a.displayMember],a.$.input.dataValue=n[a.valueMember]):a.$.input.dataValue=a.$.input.value=n,a._selectedItems=[],a.set("selectedValues",[]);const i=a.$.menu.children;for(let r=0;r<i.length;r++)i[r].classList.remove("active"),i[r].setAttribute("aria-selected",!1);a._setActiveDescendant()}else e==="separator"?(a.set("value",a.value.replace(new RegExp(t,"g"),n)),a.$.input.dataValue&&(a.$.input.dataValue=a.$.input.dataValue.replace(new RegExp(t,"g"),n))):super.propertyChangedHandler(e,t,n)}_createElement(){const e=this,t=document.createElement("ul"),n=document.createElement("smart-scroll-viewer");n.rightToLeft=e.rightToLeft,n.theme=e.theme,n.horizontalScrollBarVisibility="hidden",n.classList.add("smart-multi-input-drop-down-menu"),e.inverted?n.setAttribute("inverted",""):n.removeAttribute("inverted"),e.classList.add("smart-input"),t.setAttribute("aria-multiselectable",!0),e.$.scrollView=n,e.$.menu=t,e.$.menu.onclick=function(a){const i=a.target.closest("li");a.stopPropagation(),a.preventDefault(),e._performSelect(a),i&&e.$.fireEvent("itemClick",{index:[...i.parentNode.children].indexOf(i),item:i,label:i.getAttribute("aria-label"),value:i.dataValue}),e.$.input.focus()}}_setSelection(){const e=this;let t=e.dataSource;typeof t=="string"&&(t=e.$.deserialize(t,"array"));const n=e.selectedValues;if(t){e._selectedItems=[],n.length>0?t.forEach(i=>{i.selected!==void 0&&delete i.selected}):t.forEach(i=>{if(typeof i!="number"&&typeof i!="boolean"||(i=""+i),i.selected){const r=i.value!==void 0?i.value:i;n.push(r)}});let a=[];for(let i=0;i<n.length;i++){const r=n[i];t.find(o=>{if(typeof o=="string"||typeof o=="number")o===r&&(e._selectedItems.push(o),a.push(o));else{let d=o.value;typeof r=="number"&&(d=parseFloat(d)),d===r&&(e._selectedItems.push(o),a.push(o.label))}})}a=a.join(e.separator),e.set("value",a),e.$.input.dataValue=n.join(e.separator)}}_setActiveDescendant(e){const t=this;t.readonly||(e?t.setAttribute("aria-activedescendant",e.id):t.removeAttribute("aria-activedescendant"))}})},2066:()=>{Smart("smart-number-input",class extends Smart.Input{template(){return`<div id="inputContainer" role="presentation"><input class="smart-input" id='input' readonly='[[readonly]]' placeholder='[[placeholder]]' type='[[type]]' name='[[name]]' disabled='[[disabled]]' aria-label="[[placeholder]]" /><span class="smart-hidden smart-hint" id="span">[[hint]]</span><div id="dropDownButton" tabindex=-1 class="nav smart-drop-down-button" role="button" aria-label="Toggle popup"></div></div>`}static get properties(){return{numberFormat:{value:{},type:"object"},min:{value:-9999999999,type:"number"},max:{value:9999999999,type:"number"},step:{value:1,type:"number"},value:{value:0,type:"any"}}}static get listeners(){return{"input.change":"_changeHandler","input.keydown":"_keyDownHandler","input.keyup":"_keyUpHandler"}}getFormattedValue(e,t){if(t===null)return parseFloat(e);if(e===null)return"";JSON.stringify(t)==="{}"&&(t={style:"decimal"}),Smart.Utilities.Core.Browser.Safari&&t.style==="unit"&&(t.style="decimal");const n=t.locale||this.locale;if(t.style==="currency"){const a=t.maximumFractionDigits!==void 0?t.maximumFractionDigits:2,i=new Smart.Utilities.CurrencyFormatter().format(e,{decimalPlaces:a,currency:t.currency});return t.currencySign==="accounting"&&e<0?"("+i.replace("-","")+")":i}return new Intl.NumberFormat(n,t).format(""+e)}setValue(e){this.value=e}getValue(){return this.value}_updateTargetValue(){const e=this;if(e.dataset.target){const t=document.querySelector(e.dataset.target);if(t){const n=e.dataset.property,a=e.value;n&&t[n]!==void 0&&(t[n]=a)}}}render(){const e=this;super.render(),e.context=e,e.classList.add("smart-input");const t=e.$.input,n=document.createElement("div"),a=document.createElement("div");t.value=e.value!==null?e.getFormattedValue(Math.min(Math.max(e.min,e.value),e.max),e.numberFormat):"",n.tabIndex=a.tabIndex=-1,t.classList.add("smart-input"),n.classList.add("up"),a.classList.add("down");const i=function(d){if(d&&d.ctrlKey&&d.key==="ArrowDown")a.click();else if(d&&d.ctrlKey&&d.key==="ArrowUp")n.click();else if(d.type==="keydown"){let f=t.value.toString(),p=1.1;p=e.getFormattedValue(p,e.numberFormat).substring(1,2),p==="1"&&(p=e.getFormattedValue(1.1,e.numberFormat).substring(2,3),p==="0"&&(p="."));const v=f.indexOf(p);if(d.keyCode>=65&&d.keyCode<=90)return d.ctrlKey?void 0:(d.stopPropagation(),void d.preventDefault());if(d.key===" ")return d.stopPropagation(),void d.preventDefault();if(d.key==="-"){const x=r();return o(-x),d.stopPropagation(),void d.preventDefault()}switch(d.key){case"'":case'"':case"/":case"\\":case"`":case"=":case"(":case")":return d.stopPropagation(),void d.preventDefault()}if(d.key===","&&p!==","||d.key==="."&&p!==".")return d.stopPropagation(),void d.preventDefault();const w=[...f];let C=w[t.selectionStart];if(p!==""&&(C===p||C===void 0||v===-1)&&d.keyCode>=48&&d.keyCode<=57&&w[t.selectionStart-1]==="0"){const x=e.getFormattedValue(r(),e.numberFormat),L=t.selectionStart-1;if((v>=0||v===-1&&r()===0)&&t.value.length===x.length){let A=!0;C===p&&x.substring(t.selectionStart+1).length>0&&x.substring(0,t.selectionStart-1).length>0&&(A=!1),A&&(t.value=x.substring(0,t.selectionStart-1)+x.substring(t.selectionStart),t.selectionStart=t.selectionEnd=L)}}if(d.key===p){if(e.getFormattedValue(r(),e.numberFormat).indexOf(p)===-1)return d.stopPropagation(),void d.preventDefault();if(v>=0)return d.stopPropagation(),d.preventDefault(),void(t.selectionStart=t.selectionEnd=v+1)}else if(d.keyCode>=48&&d.keyCode<=57&&t.selectionStart<v&&t.selectionEnd-t.selectionStart<=1){if(isNaN(parseInt(C)))for(let x=t.selectionStart;x<w.length;x++){let L=parseInt(w[x]);if(!isNaN(L)){t.selectionStart=t.selectionEnd=x;break}}}else{if(v>=0&&t.selectionStart>v&&d.keyCode>=48&&d.keyCode<=57){const x=t.selectionStart,L=e.getFormattedValue(r(),e.numberFormat);let A=0;if(L&&L.indexOf(p)!==-1&&p!=="")for(let H=L.indexOf(p);H<L.length;H++)!isNaN(parseInt(L.substring(H,H+1)))&&A++;let k=t.value.toString();k=k.substring(0,t.selectionStart)+d.key.toString()+k.substring(t.selectionStart+1),p===""&&(A=0);const B=k.substring(v+1,v+1+A);return(B.length<=A&&t.selectionStart<=v+A||B.length===0&&p==="")&&(t.value=k,t.selectionStart=t.selectionEnd=x+1),e._oldValue=e.getValue(),d.stopPropagation(),void d.preventDefault()}if(d.key==="Backspace"||d.key==="Delete"){const x=t.selectionStart,L=v>=0&&t.selectionStart>v&&p!=="",A=e.getFormattedValue(r(),e.numberFormat);let k=0;if(A&&A.indexOf(p)!==-1&&p!=="")for(let V=A.indexOf(p);V<A.length;V++)!isNaN(parseInt(A.substring(V,V+1)))&&k++;let B=t.value.toString(),H=!1;if(d.key==="Delete"&&t.selectionStart<=v+k){B=B.substring(0,t.selectionStart)+"0"+B.substring(t.selectionStart+1);const V=B.substring(v+1,v+1+k);B.indexOf(p)===-1&&v>=0?(t.selectionStart=t.selectionEnd=x+1,H=!0):L&&V.length<=k&&(t.value=B,t.selectionStart=t.selectionEnd=x+1,H=!0)}else if(d.key==="Backspace"){B=B.substring(0,t.selectionStart-1)+"0"+B.substring(t.selectionStart);const V=B.substring(v+1,v+1+k);B.indexOf(p)===-1&&v>=0?(t.selectionStart=t.selectionEnd=x-1,H=!0):L&&V.length<=k&&(t.value=B,t.selectionStart=t.selectionEnd=x-1,H=!0)}return e._oldValue=e.getValue(),void(H&&(d.stopPropagation(),d.preventDefault()))}}}};e.$.dropDownButton.appendChild(n),e.$.dropDownButton.appendChild(a),e.dropDownButtonPosition="right";const r=function(){let d=t.value;if(d==="")return null;let f=1.1;f=e.getFormattedValue(f,e.numberFormat).substring(1,2),f==="1"&&(f=e.getFormattedValue(1.1,e.numberFormat).substring(2,3),f==="0"&&(f="."));let p=!1;d.indexOf("(")>=0&&(p=!0,d=d.replace("(","").replace(")",""));let v=[...d],w="";for(let x=0;x<v.length;x++){const L=v[x];switch(L===f&&(w+=L),L){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":w+=L}}f!==""&&(w=w.replace(f,".")),d=w;let C=parseFloat(d);return e.numberFormat&&e.numberFormat.style&&e.numberFormat.style==="percent"&&(C/=100),p&&(C=-C),isNaN(C)||C===1/0||C===-1/0?0:(C=Math.min(Math.max(e.min,C),e.max),e._number=C,C)};e.getValue=r;const o=function(d){const f=parseFloat(d);if(d==="-"){const p=r();return o(-p),void(e._preventFocus||(t.selectionStart=t.selectionEnd=1,t.selectionEnd=t.value.length))}if(!isNaN(f)){if(e.numberFormat){let p=parseFloat(d);const v=e.getFormattedValue(p,e.numberFormat),w=isNaN(parseFloat(v.substring(0,1)))?1:0,C=d>0?0:1;t.value=v,e._preventFocus||(t.selectionStart=t.selectionEnd=1+w+C),e._number=p}else t.value=f,e._number=f;typeof d=="number"&&(e._preventFocus||(t.selectionStart=0,t.selectionEnd=t.value.length)),e.set("value",""+e._number,!1)}};e.setValue=o,this._attach=function(){t.addEventListener("keydown",i),n.onkeydown=i,a.onkeydown=i;const d=v=>e.numberFormat?e.getFormattedValue(v,e.numberFormat):v,f=function(v){v.interval&&clearInterval(v.interval),v.timer&&clearTimeout(v.timer),v.interval=v.timer=null,v.removeAttribute("active")},p=v=>{v.onmouseleave=v.onmouseup=()=>{f(v)},v.onpointerdown=()=>{e._captured=!0,v.timer=setTimeout(()=>{v.interval=setInterval(()=>{v.click(),v.setAttribute("active","")},50)},100)}};n.onclick=function(){let v=r();if(e._captured||f(n),isNaN(v))return;let w=e.max;if(e.numberFormat&&e.numberFormat.style&&e.numberFormat.style==="percent"){if(v<w||w===""){t.value=d(Math.min(w,v+e.step/100));const C=e.getValue();e.set("value",100*C,!1),e.$.fireEvent("change",{value:r(),oldValue:v}),e._updateTargetValue()}}else if(v<w||w===""){t.value=d(Math.min(w,v+e.step));const C=e.getValue();e.set("value",C,!1),e.$.fireEvent("change",{value:r(),oldValue:v}),e._updateTargetValue()}},a.onclick=function(){const v=r();if(e._captured||f(a),isNaN(v))return;let w=e.min;if(e.numberFormat&&e.numberFormat.style&&e.numberFormat.style==="percent"){if(v>e.min||e.min===""){t.value=d(Math.max(w,v-e.step/100));const C=e.getValue();e.set("value",100*C),e.$.fireEvent("change",{value:r(),oldValue:v}),e._updateTargetValue()}}else if(v>e.min||e.min===""){t.value=d(Math.max(e.min,v-e.step));const C=e.getValue();e.set("value",C,!1),e.$.fireEvent("change",{value:r(),oldValue:v}),e._updateTargetValue()}},p(n),p(a)},e._detach=function(){t.removeEventListener("keydown",i),n.onclick=a.onclick=null,n.onkeydown=a.onkeydown=null},e.setValue(e.getValue(),e.numberFormat),e.context=document}_focusHandler(){super._focusHandler(),this._oldValue=this.getValue()}_keyDownHandler(){}_keyUpHandler(e){const t=this;switch(t._oldValue||(t._oldValue=0),e.keyCode){case 40:case 38:case 16:case 17:case 18:case 9:case 13:case 27:e.stopPropagation(),e.preventDefault();break;default:{const n=t.getValue();t.value=n,t.$.fireEvent("changing",{value:n,oldValue:t._oldValue}),t._updateTargetValue()}}}_changeHandler(e){const t=this;e.stopPropagation(),t._oldValue||(t._oldValue=0),t._oldValue=t.getFormattedValue(t._oldValue,null);const n=t.getValue();t.value=n,t.$.fireEvent("change",{value:n,oldValue:t._oldValue}),t._updateTargetValue(),t._oldValue=t.getValue()}_blurHandler(){const e=this;super._blurHandler(),e._preventFocus=!0,e.setValue(e.getValue(),e.numberFormat),e._preventFocus=!1}attached(){this._attach()}detached(){this._detach()}_documentUpHandler(e){this._captured=!1,super._documentUpHandler(e)}propertyChangedHandler(e,t,n){const a=this;super.propertyChangedHandler(e,t,n),e==="locale"&&a.setValue(a._number||a.getValue(),a.numberFormat),e!=="value"&&e!=="numberFormat"&&e!=="max"&&e!=="min"||a.setValue(a.getValue(),a.numberFormat)}}),Smart.Utilities.Assign("CurrencyFormatter",class{constructor(){this.symbols={AED:"د.إ.‏",AFN:"؋",ALL:"Lekë",AMD:"֏",ANG:"Naf",AOA:"Kz",ARS:"$",AUD:"$",AWG:"Afl.",AZN:"₼",BAM:"KM",BBD:"$",BDT:"৳",BGN:"лв.",BHD:"د.ب.‏",BIF:"FBu",BMD:"$",BND:"$",BOB:"Bs",BRL:"R$",BSD:"$",BTN:"Nu.",BWP:"P",BYN:"p.",BYR:"р.",BZD:"$",CAD:"$",CDF:"FC",CHF:"CHF",CLP:"$",CNY:"￥",COP:"$",CRC:"₡",CUC:"$",CUP:"$",CVE:"​",CZK:"Kč",DJF:"Fdj",DKK:"kr",DOP:"$",DZD:"DA",EGP:"£",ERN:"Nfk",ETB:"Br",EUR:"€",FJD:"$",FKP:"£",GBP:"£",GEL:"₾",GHS:"GH₵",GIP:"£",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"HK$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"₪",INR:"₹",IQD:"د.ع.‏",IRR:"ریال",ISK:"kr",JMD:"$",JOD:"د.أ.‏",JPY:"¥",KES:"Ksh",KGS:"сом",KHR:"៛",KMF:"CF",KPW:"₩",KRW:"₩",KWD:"د.ك.‏",KYD:"$",KZT:"₸",LAK:"₭",LBP:"L£",LKR:"Rs",LRD:"$",LSL:"lLS",LYD:"د.ل.‏",MAD:"د.م.‏",MDL:"L",MGA:"Ar",MKD:"den",MMK:"K",MNT:"₮",MOP:"MOP$",MRO:"UM",MRU:"UM",MUR:"Rs",MWK:"MK",MXN:"$",MYR:"RM",MZN:"MTn",NAD:"$",NGN:"₦",NIO:"C$",NOK:"kr",NPR:"Rs",NZD:"$",OMR:"ر.ع.‏",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"₱",PKR:"ر",PLN:"zł",PYG:"₲",QAR:"ر.ق.‏",RSD:"дин.",RUB:"₽",RWF:"RF",SAR:"ر.س.‏",SBD:"$",SCR:"SR",SDG:"ج.س.",SEK:"kr",SGD:"$",SHP:"£",SLL:"Le",SOS:"S",SRD:"$",SSP:"£",STD:"Db",STN:"Db",SYP:"£",SZL:"E",THB:"฿",TMT:"ТМТ",TND:"DT",TOP:"T$",TRY:"₺",TTD:"$",TWD:"$",TZS:"TSh",UAH:"₴",UGX:"USh",USD:"$",UYU:"$",UZS:"сўм",VEF:"Bs",VND:"₫",VUV:"VT",WST:"WS$",XAF:"FCFA",XCD:"$",XOF:"CFA",XPF:"CFP",YER:"ر.ي.‏",ZAR:"R",ZMW:"K"},this.defaultLocales={AED:"ar_AE",AFN:"fa_AF",ALL:"sq",AMD:"hy",ANG:"nl",AOA:"pt_AO",ARS:"es_AR",AUD:"en",AWG:"nl_AW",AZN:"az",BAM:"bs",BBD:"en_BB",BDT:"bn_BD",BGN:"bg",BHD:"ar_BH",BIF:"fr_BI",BMD:"en_BM",BND:"ms_BN",BOB:"es_BO",BRL:"pt_BR",BSD:"en_BS",BTN:"dz",BWP:"en_BW",BYN:"be",BYR:"be",BZD:"en_BZ",CAD:"en_CA",CDF:"fr_CD",CHF:"de_CH",CLP:"es_CL",CNY:"zh_Hans_CN",COP:"es_CO",CRC:"es_CR",CUP:"es_CU",CVE:"pt_CV",CZK:"cs",DJF:"fr_DJ",DKK:"da_DK",DOP:"es_DO",DZD:"ar_DZ",EGP:"ar_EG",ERN:"ti_ER",ETB:"am",EUR:"de",FJD:"en_FJ",FKP:"en_FK",GBP:"en",GEL:"ka",GHS:"en_GH",GIP:"en_GI",GMD:"en_GM",GNF:"fr_GN",GTQ:"es_GT",GYD:"en_GY",HKD:"zh_Hans_HK",HNL:"es_HN",HRK:"hr_HR",HTG:"en",HUF:"hu_HU",IDR:"id",ILS:"he",INR:"en_IN",IQD:"ar_IQ",IRR:"fa_IR",ISK:"is",JMD:"en_JM",JOD:"ar_JO",JPY:"ja",KES:"en_KE",KGS:"ky",KHR:"km",KMF:"ar",KPW:"ko_KP",KRW:"ko_KR",KWD:"ar_KW",KYD:"en_KY",KZT:"kk",LAK:"lo",LBP:"ar_LB",LKR:"si",LRD:"en_LR",LSL:"en_LS",LYD:"ar_LY",MAD:"ar",MDL:"ro",MGA:"fr_MG",MKD:"mk",MMK:"my",MNT:"mn",MOP:"zh",MRO:"ar_MR",MRU:"ar_MR",MUR:"en_MU",MVR:"en",MWK:"en",MXN:"es_MX",MYR:"ms_MY",MZN:"pt_MZ",NAD:"en_NA",NGN:"en_NG",NIO:"es_NI",NOK:"nb_NO",NPR:"ne",NZD:"en_NZ",OMR:"ar_OM",PAB:"es_PA",PEN:"es_PE",PGK:"en_PG",PHP:"fil",PKR:"ur_PK",PLN:"pl",PYG:"es_PY",QAR:"ar_QA",RON:"ro",RSD:"sr",RUB:"ru",RWF:"rw",SAR:"ar_SA",SBD:"en_SB",SCR:"en_SC",SDG:"ar_SD",SEK:"sv_SE",SGD:"en_SG",SHP:"en_SH",SLL:"en_SL",SOS:"so_SO",SRD:"nl_SR",SSP:"en",STD:"pt_ST",STN:"pt_ST",SYP:"ar_SY",SZL:"en_SZ",THB:"th",TJS:"en",TMT:"tk",TND:"ar_TN",TOP:"to",TRY:"tr_TR",TTD:"en_TT",TWD:"zh_Hant_TW",TZS:"sw_TZ",UAH:"uk",UGX:"en_UG",USD:"en_US",UYU:"es_UY",UZS:"uz",VEF:"es_VE",VND:"vi",VUV:"en_BI",WST:"en_AS",XAF:"fr",XCD:"en",XOF:"fr",XPF:"fr_PF",YER:"ar_YE",ZAR:"zu",ZMW:"en_ZM",ZWL:"en_ZW"},this.locales={af:{p:"!#,##0.00",g:" ",d:","},af_NA:{h:"af"},af_ZA:{h:"af"},agq:{p:"#,##0.00!",g:" ",d:","},agq_CM:{h:"agq"},ak:{p:"!#,##0.00",g:",",d:"."},ak_GH:{h:"ak"},am:{p:"!#,##0.00",g:",",d:"."},am_ET:{h:"am"},ar:{p:"! #,##0.00",g:",",d:"."},ar_001:{h:"ar"},ar_AE:{h:"ar"},ar_BH:{p:"! #,##0.000",g:",",d:"."},ar_DJ:{h:"ar"},ar_DZ:{p:"! #,##0.00",g:".",d:","},ar_EG:{h:"ar"},ar_EH:{h:"ar"},ar_ER:{h:"ar"},ar_IL:{h:"ar"},ar_IQ:{p:"! #,##0.000",g:",",d:"."},ar_JO:{p:"! #,##0.000",g:",",d:"."},ar_KM:{h:"ar"},ar_KW:{p:"! #,##0.000",g:",",d:"."},ar_LB:{p:"! #,##0.00",g:".",d:","},ar_LY:{p:"! #,##0.000",g:".",d:","},ar_MA:{p:"! #,##0.00",g:".",d:","},ar_MR:{p:"! #,##0.00",g:".",d:","},ar_OM:{p:"! #,##0.000",g:",",d:"."},ar_PS:{h:"ar"},ar_QA:{h:"ar"},ar_SA:{h:"ar"},ar_SD:{h:"ar"},ar_SO:{h:"ar"},ar_SS:{h:"ar"},ar_SY:{h:"ar"},ar_TD:{h:"ar"},ar_TN:{p:"! #,##0.000",g:".",d:","},ar_YE:{h:"ar"},as:{p:"! #,##,##0.00",g:",",d:"."},as_IN:{h:"as"},asa:{p:"#,##0.00 !",g:",",d:"."},asa_TZ:{h:"asa"},ast:{p:"#,##0.00 !",g:".",d:","},ast_ES:{h:"ast"},az:{p:"! #,##0.00",g:".",d:","},az_Cyrl:{h:"az"},az_Cyrl_AZ:{h:"az"},az_Latn:{h:"az"},az_Latn_AZ:{h:"az"},bas:{p:"#,##0.00 !",g:" ",d:","},bas_CM:{h:"bas"},be:{p:"#,##0.00 !",g:" ",d:","},be_BY:{h:"be"},bem:{p:"!#,##0.00",g:",",d:"."},bem_ZM:{h:"bem"},bez:{p:"#,##0.00!",g:",",d:"."},bez_TZ:{h:"bez"},bg:{p:"#,##0.00 !",g:" ",d:","},bg_BG:{h:"bg"},bm:{p:"!#,##0.00",g:",",d:"."},bm_ML:{h:"bm"},bn:{p:"#,##,##0.00!",g:",",d:"."},bn_BD:{h:"bn"},bn_IN:{h:"bn"},bo:{p:"! #,##0.00",g:",",d:"."},bo_CN:{h:"bo"},bo_IN:{h:"bo"},br:{p:"#,##0.00 !",g:" ",d:","},br_FR:{h:"br"},brx:{p:"! #,##,##0.00",g:",",d:"."},brx_IN:{h:"brx"},bs:{p:"#,##0.00 !",g:".",d:","},bs_Cyrl:{h:"bs"},bs_Cyrl_BA:{h:"bs"},bs_Latn:{h:"bs"},bs_Latn_BA:{h:"bs"},ca:{p:"#,##0.00 !",g:".",d:","},ca_AD:{h:"ca"},ca_ES:{h:"ca"},ca_ES_VALENCIA:{h:"ca"},ca_FR:{h:"ca"},ca_IT:{h:"ca"},ce:{p:"#,##0.00 !",g:",",d:"."},ce_RU:{h:"ce"},cgg:{p:"!#,##0.00",g:",",d:"."},cgg_UG:{h:"cgg"},chr:{p:"!#,##0.00",g:",",d:"."},chr_US:{h:"chr"},ckb:{p:"!#,##0.00",g:",",d:"."},ckb_IQ:{h:"ckb"},ckb_IR:{h:"ckb"},cs:{p:"#,##0.00 !",g:" ",d:","},cs_CZ:{h:"cs"},cu:{p:"#,##0.00 !",g:" ",d:","},cu_RU:{h:"cu"},cy:{p:"!#,##0.00",g:",",d:"."},cy_GB:{h:"cy"},da:{p:"#,##0.00 !",g:".",d:","},da_DK:{h:"da"},da_GL:{h:"da"},dav:{p:"!#,##0.00",g:",",d:"."},dav_KE:{h:"dav"},de:{p:"#,##0.00 !",g:".",d:","},de_AT:{p:"! #,##0.00",g:" ",d:","},de_BE:{h:"de"},de_CH:{p:"! #,##0.00;!-#,##0.00",g:"'",d:"."},de_DE:{h:"de"},de_LI:{p:"! #,##0.00",g:"'",d:"."},de_LU:{h:"de"},dje:{p:"#,##0.00!",g:" ",d:"."},dje_NE:{h:"dje"},dsb:{p:"#,##0.00 !",g:".",d:","},dsb_DE:{h:"dsb"},dua:{p:"#,##0.00 !",g:" ",d:","},dua_CM:{h:"dua"},dyo:{p:"#,##0.00 !",g:" ",d:","},dyo_SN:{h:"dyo"},dz:{p:"!#,##,##0.00",g:",",d:"."},dz_BT:{h:"dz"},ebu:{p:"!#,##0.00",g:",",d:"."},ebu_KE:{h:"ebu"},ee:{p:"!#,##0.00",g:",",d:"."},ee_GH:{h:"ee"},ee_TG:{h:"ee"},el:{p:"#,##0.00 !",g:".",d:","},el_CY:{h:"el"},el_GR:{h:"el"},en:{p:"!#,##0.00",g:",",d:"."},en_001:{h:"en"},en_150:{p:"#,##0.00 !",g:".",d:","},en_AG:{h:"en"},en_AI:{h:"en"},en_AS:{h:"en"},en_AT:{p:"! #,##0.00",g:",",d:"."},en_AU:{h:"en"},en_BB:{h:"en"},en_BE:{p:"#,##0.00 !",g:".",d:","},en_BI:{h:"en"},en_BM:{h:"en"},en_BS:{h:"en"},en_BW:{h:"en"},en_BZ:{h:"en"},en_CA:{h:"en"},en_CC:{h:"en"},en_CH:{p:"! #,##0.00;!-#,##0.00",g:",",d:"."},en_CK:{h:"en"},en_CM:{h:"en"},en_CX:{h:"en"},en_CY:{h:"en"},en_DE:{h:"en"},en_DG:{h:"en"},en_DK:{h:"en"},en_DM:{h:"en"},en_ER:{h:"en"},en_FI:{p:"!#,##0.00",g:" ",d:"."},en_FJ:{h:"en"},en_FK:{h:"en"},en_FM:{h:"en"},en_GB:{h:"en"},en_GD:{h:"en"},en_GG:{h:"en"},en_GH:{h:"en"},en_GI:{h:"en"},en_GM:{h:"en"},en_GU:{h:"en"},en_GY:{h:"en"},en_HK:{h:"en"},en_IE:{h:"en"},en_IL:{h:"en"},en_IM:{h:"en"},en_IN:{p:"! #,##,##0.00",g:",",d:"."},en_IO:{h:"en"},en_JE:{h:"en"},en_JM:{h:"en"},en_KE:{h:"en"},en_KI:{h:"en"},en_KN:{h:"en"},en_KY:{h:"en"},en_LC:{h:"en"},en_LR:{h:"en"},en_LS:{h:"en"},en_MG:{h:"en"},en_MH:{h:"en"},en_MO:{h:"en"},en_MP:{h:"en"},en_MS:{h:"en"},en_MT:{h:"en"},en_MU:{h:"en"},en_MW:{h:"en"},en_MY:{h:"en"},en_NA:{h:"en"},en_NF:{h:"en"},en_NG:{h:"en"},en_NL:{p:"! #,##0.00;! -#,##0.00",g:",",d:"."},en_NR:{h:"en"},en_NU:{h:"en"},en_NZ:{h:"en"},en_PG:{h:"en"},en_PH:{h:"en"},en_PK:{h:"en"},en_PN:{h:"en"},en_PR:{h:"en"},en_PW:{h:"en"},en_RW:{h:"en"},en_SB:{h:"en"},en_SC:{h:"en"},en_SD:{h:"en"},en_SE:{p:"!#,##0.00",g:" ",d:"."},en_SG:{h:"en"},en_SH:{h:"en"},en_SI:{h:"en"},en_SL:{h:"en"},en_SS:{h:"en"},en_SX:{h:"en"},en_SZ:{h:"en"},en_TC:{h:"en"},en_TK:{h:"en"},en_TO:{h:"en"},en_TT:{h:"en"},en_TV:{h:"en"},en_TZ:{h:"en"},en_UG:{h:"en"},en_UM:{h:"en"},en_US:{h:"en"},en_US_POSIX:{p:"! #0.00",g:",",d:"."},en_VC:{h:"en"},en_VG:{h:"en"},en_VI:{h:"en"},en_VU:{h:"en"},en_WS:{h:"en"},en_ZA:{p:"!#,##0.00",g:" ",d:","},en_ZM:{h:"en"},en_ZW:{h:"en"},eo:{p:"!#,##0.00",g:" ",d:","},eo_001:{h:"eo"},es:{p:"#,##0.00 !",g:".",d:","},es_419:{p:"!#,##0.00",g:",",d:"."},es_AR:{p:"! #,##0.00",g:".",d:","},es_BO:{h:"es"},es_BR:{h:"es"},es_CL:{p:"!#,##0;!-#,##0",g:".",d:","},es_CO:{p:"! #,##0.00",g:".",d:","},es_CR:{p:"#,##0.00 !",g:" ",d:","},es_CU:{h:"es"},es_DO:{h:"es"},es_EA:{h:"es"},es_EC:{p:"!#,##0.00;!-#,##0.00",g:".",d:","},es_ES:{h:"es"},es_GQ:{p:"!#,##0.00",g:".",d:","},es_GT:{h:"es"},es_HN:{h:"es"},es_IC:{h:"es"},es_MX:{h:"es"},es_NI:{h:"es"},es_PA:{h:"es"},es_PE:{h:"es"},es_PH:{h:"es"},es_PR:{h:"es"},es_PY:{p:"! #,##0;! -#,##0",g:".",d:","},es_SV:{h:"es"},es_US:{h:"es"},es_UY:{p:"! #,##0.00",g:".",d:","},es_VE:{p:"!#,##0.00;!-#,##0.00",g:".",d:","},et:{p:"#,##0.00 !",g:" ",d:","},et_EE:{h:"et"},eu:{p:"#,##0.00 !",g:".",d:","},eu_ES:{h:"eu"},ewo:{p:"#,##0.00 !",g:" ",d:","},ewo_CM:{h:"ewo"},fa:{p:"‎!#,##0.00",g:",",d:"."},fa_AF:{h:"fa"},fa_IR:{h:"fa"},ff:{p:"#,##0.00 !",g:" ",d:","},ff_CM:{h:"ff"},ff_GN:{h:"ff"},ff_MR:{h:"ff"},ff_SN:{h:"ff"},fi:{p:"#,##0.00 !",g:" ",d:","},fi_FI:{h:"fi"},fil:{p:"!#,##0.00",g:",",d:"."},fil_PH:{h:"fil"},fo:{p:"#,##0.00 !",g:".",d:","},fo_DK:{h:"fo"},fo_FO:{h:"fo"},fr:{p:"#,##0.00 !",g:" ",d:","},fr_BE:{p:"#,##0.00 !",g:".",d:","},fr_BF:{h:"fr"},fr_BI:{h:"fr"},fr_BJ:{h:"fr"},fr_BL:{h:"fr"},fr_CA:{h:"fr"},fr_CD:{h:"fr"},fr_CF:{h:"fr"},fr_CG:{h:"fr"},fr_CH:{p:"! #,##0.00;!-#,##0.00",g:" ",d:"."},fr_CI:{h:"fr"},fr_CM:{h:"fr"},fr_DJ:{h:"fr"},fr_DZ:{h:"fr"},fr_FR:{h:"fr"},fr_GA:{h:"fr"},fr_GF:{h:"fr"},fr_GN:{p:"#,##0 !",g:" ",d:","},fr_GP:{h:"fr"},fr_GQ:{h:"fr"},fr_HT:{h:"fr"},fr_KM:{h:"fr"},fr_LU:{p:"#,##0.00 !",g:".",d:","},fr_MA:{p:"#,##0.00 !",g:".",d:","},fr_MC:{h:"fr"},fr_MF:{h:"fr"},fr_MG:{h:"fr"},fr_ML:{h:"fr"},fr_MQ:{h:"fr"},fr_MR:{h:"fr"},fr_MU:{h:"fr"},fr_NC:{h:"fr"},fr_NE:{h:"fr"},fr_PF:{h:"fr"},fr_PM:{h:"fr"},fr_RE:{h:"fr"},fr_RW:{h:"fr"},fr_SC:{h:"fr"},fr_SN:{h:"fr"},fr_SY:{h:"fr"},fr_TD:{h:"fr"},fr_TG:{h:"fr"},fr_TN:{h:"fr"},fr_VU:{h:"fr"},fr_WF:{h:"fr"},fr_YT:{h:"fr"},fur:{p:"! #,##0.00",g:".",d:","},fur_IT:{h:"fur"},fy:{p:"! #,##0.00;! #,##0.00-",g:".",d:","},fy_NL:{h:"fy"},ga:{p:"!#,##0.00",g:",",d:"."},ga_IE:{h:"ga"},gd:{p:"!#,##0.00",g:",",d:"."},gd_GB:{h:"gd"},gl:{p:"#,##0.00 !",g:".",d:","},gl_ES:{h:"gl"},gsw:{p:"#,##0.00 !",g:"’",d:"."},gsw_CH:{h:"gsw"},gsw_FR:{h:"gsw"},gsw_LI:{h:"gsw"},gu:{p:"!#,##,##0.00",g:",",d:"."},gu_IN:{h:"gu"},guz:{p:"!#,##0.00",g:",",d:"."},guz_KE:{h:"guz"},gv:{p:"!#,##0.00",g:",",d:"."},gv_IM:{h:"gv"},ha:{p:"! #,##0.00",g:",",d:"."},ha_GH:{h:"ha"},ha_NE:{h:"ha"},ha_NG:{h:"ha"},haw:{p:"!#,##0.00",g:",",d:"."},haw_US:{h:"haw"},he:{p:"#,##0.00 !",g:",",d:"."},he_IL:{h:"he"},hi:{p:"!#,##,##0.00",g:",",d:"."},hi_IN:{h:"hi"},hr:{p:"#,##0.00 !",g:".",d:","},hr_BA:{h:"hr"},hr_HR:{h:"hr"},hsb:{p:"#,##0.00 !",g:".",d:","},hsb_DE:{h:"hsb"},hu:{p:"#,##0.00 !",g:" ",d:","},hu_HU:{h:"hu"},hy:{p:"! #,##0.00",g:".",d:","},hy_AM:{h:"hy"},id:{p:"!#,##0.00",g:".",d:","},id_ID:{h:"id"},ig:{p:"!#,##0.00",g:",",d:"."},ig_NG:{h:"ig"},ii:{p:"!#,##0.00",g:",",d:"."},ii_CN:{h:"ii"},is:{p:"#,##0 !",g:".",d:","},is_IS:{h:"is"},it:{p:"#,##0.00 !",g:".",d:","},it_CH:{p:"! #,##0.00;!-#,##0.00",g:"'",d:"."},it_IT:{h:"it"},it_SM:{h:"it"},ja:{p:"!#,##0",g:",",d:"."},ja_JP:{h:"ja"},jgo:{p:"! #,##0.00",g:".",d:","},jgo_CM:{h:"jgo"},jmc:{p:"!#,##0.00",g:",",d:"."},jmc_TZ:{h:"jmc"},ka:{p:"#,##0.00 !",g:" ",d:","},ka_GE:{h:"ka"},kab:{p:"#,##0.00!",g:" ",d:","},kab_DZ:{h:"kab"},kam:{p:"!#,##0.00",g:",",d:"."},kam_KE:{h:"kam"},kde:{p:"!#,##0.00",g:",",d:"."},kde_TZ:{h:"kde"},kea:{p:"#,##0.00 !",g:" ",d:","},kea_CV:{h:"kea"},khq:{p:"#,##0.00!",g:" ",d:"."},khq_ML:{h:"khq"},ki:{p:"!#,##0.00",g:",",d:"."},ki_KE:{h:"ki"},kk:{p:"#,##0.00 !",g:" ",d:","},kk_KZ:{h:"kk"},kkj:{p:"!#,##0.00",g:".",d:","},kkj_CM:{h:"kkj"},kl:{p:"!#,##0.00;!-#,##0.00",g:".",d:","},kl_GL:{h:"kl"},kln:{p:"!#,##0.00",g:",",d:"."},kln_KE:{h:"kln"},km:{p:"!#,##0.00",g:".",d:","},km_KH:{h:"km"},kn:{p:"!#,##0.00",g:",",d:"."},kn_IN:{h:"kn"},ko:{p:"!#,##0",g:",",d:"."},ko_KP:{h:"ko"},ko_KR:{h:"ko"},kok:{p:"! #,##,##0.00",g:",",d:"."},kok_IN:{h:"kok"},ks:{p:"! #,##,##0.00",g:",",d:"."},ks_IN:{h:"ks"},ksb:{p:"#,##0.00!",g:",",d:"."},ksb_TZ:{h:"ksb"},ksf:{p:"#,##0.00 !",g:" ",d:","},ksf_CM:{h:"ksf"},ksh:{p:"#,##0.00 !",g:" ",d:","},ksh_DE:{h:"ksh"},kw:{p:"!#,##0.00",g:",",d:"."},kw_GB:{h:"kw"},ky:{p:"#,##0.00 !",g:" ",d:","},ky_KG:{h:"ky"},lag:{p:"!#,##0.00",g:",",d:"."},lag_TZ:{h:"lag"},lb:{p:"#,##0.00 !",g:".",d:","},lb_LU:{h:"lb"},lg:{p:"#,##0.00!",g:",",d:"."},lg_UG:{h:"lg"},lkt:{p:"!#,##0.00",g:",",d:"."},lkt_US:{h:"lkt"},ln:{p:"#,##0.00 !",g:".",d:","},ln_AO:{h:"ln"},ln_CD:{h:"ln"},ln_CF:{h:"ln"},ln_CG:{h:"ln"},lo:{p:"!#,##0.00;!-#,##0.00",g:".",d:","},lo_LA:{h:"lo"},lrc:{p:"! #,##0.00",g:",",d:"."},lrc_IQ:{h:"lrc"},lrc_IR:{h:"lrc"},lt:{p:"#,##0.00 !",g:" ",d:","},lt_LT:{h:"lt"},lu:{p:"#,##0.00!",g:".",d:","},lu_CD:{h:"lu"},luo:{p:"#,##0.00!",g:",",d:"."},luo_KE:{h:"luo"},luy:{p:"!#,##0.00;!- #,##0.00",g:",",d:"."},luy_KE:{h:"luy"},lv:{p:"#0.00 !",g:" ",d:","},lv_LV:{h:"lv"},mas:{p:"!#,##0.00",g:",",d:"."},mas_KE:{h:"mas"},mas_TZ:{h:"mas"},mer:{p:"!#,##0.00",g:",",d:"."},mer_KE:{h:"mer"},mfe:{p:"!#,##0.00",g:" ",d:"."},mfe_MU:{h:"mfe"},mg:{p:"!#,##0.00",g:",",d:"."},mg_MG:{h:"mg"},mgh:{p:"!#,##0.00",g:".",d:","},mgh_MZ:{h:"mgh"},mgo:{p:"! #,##0.00",g:",",d:"."},mgo_CM:{h:"mgo"},mk:{p:"! #,##0.00",g:".",d:","},mk_MK:{h:"mk"},ml:{p:"!#,##0.00",g:",",d:"."},ml_IN:{h:"ml"},mn:{p:"! #,##0.00",g:",",d:"."},mn_MN:{h:"mn"},mr:{p:"!#,##0.00",g:",",d:"."},mr_IN:{h:"mr"},ms:{p:"!#,##0.00",g:",",d:"."},ms_BN:{p:"! #,##0.00",g:".",d:","},ms_MY:{h:"ms"},ms_SG:{h:"ms"},mt:{p:"!#,##0.00",g:",",d:"."},mt_MT:{h:"mt"},mua:{p:"!#,##0.00",g:".",d:","},mua_CM:{h:"mua"},my:{p:"! #,##0.00",g:",",d:"."},my_MM:{h:"my"},mzn:{p:"!#,##0.00",g:",",d:"."},mzn_IR:{h:"mzn"},naq:{p:"!#,##0.00",g:",",d:"."},naq_NA:{h:"naq"},nb:{p:"! #,##0.00",g:" ",d:","},nb_NO:{h:"nb"},nb_SJ:{h:"nb"},nd:{p:"!#,##0.00",g:",",d:"."},nd_ZW:{h:"nd"},ne:{p:"! #,##0.00",g:",",d:"."},ne_IN:{h:"ne"},ne_NP:{h:"ne"},nl:{p:"! #,##0.00;! -#,##0.00",g:".",d:","},nl_AW:{h:"nl"},nl_BE:{p:"#,##0.00 !",g:".",d:","},nl_BQ:{h:"nl"},nl_CW:{h:"nl"},nl_NL:{h:"nl"},nl_SR:{h:"nl"},nl_SX:{h:"nl"},nmg:{p:"#,##0.00 !",g:" ",d:","},nmg_CM:{h:"nmg"},nn:{p:"#,##0.00 !",g:" ",d:","},nn_NO:{h:"nn"},nnh:{p:"! #,##0.00",g:".",d:","},nnh_CM:{h:"nnh"},nus:{p:"!#,##0.00",g:",",d:"."},nus_SS:{h:"nus"},nyn:{p:"!#,##0.00",g:",",d:"."},nyn_UG:{h:"nyn"},om:{p:"!#,##0.00",g:",",d:"."},om_ET:{h:"om"},om_KE:{h:"om"},or:{p:"! #,##,##0.00",g:",",d:"."},or_IN:{h:"or"},os:{p:"! #,##0.00",g:" ",d:","},os_GE:{h:"os"},os_RU:{h:"os"},pa:{p:"! #,##,##0.00",g:",",d:"."},pa_Arab:{h:"pa"},pa_Arab_PK:{h:"pa"},pa_Guru:{h:"pa"},pa_Guru_IN:{h:"pa"},pl:{p:"#,##0.00 !",g:" ",d:","},pl_PL:{h:"pl"},prg:{p:"#,##0.00 !",g:" ",d:","},prg_001:{h:"prg"},ps:{p:"#,##0.00 !",g:".",d:","},ps_AF:{h:"ps"},pt:{p:"!#,##0.00",g:".",d:","},pt_AO:{h:"pt"},pt_BR:{h:"pt"},pt_CH:{h:"pt"},pt_CV:{h:"pt"},pt_GQ:{h:"pt"},pt_GW:{h:"pt"},pt_LU:{h:"pt"},pt_MO:{h:"pt"},pt_MZ:{h:"pt"},pt_PT:{p:"#,##0.00 !",g:" ",d:","},pt_ST:{h:"pt"},pt_TL:{h:"pt"},qu:{p:"! #,##0.00",g:",",d:"."},qu_BO:{p:"! #,##0.00",g:".",d:","},qu_EC:{h:"qu"},qu_PE:{h:"qu"},rm:{p:"#,##0.00 !",g:"’",d:"."},rm_CH:{h:"rm"},rn:{p:"#,##0.00!",g:".",d:","},rn_BI:{h:"rn"},ro:{p:"#,##0.00 !",g:".",d:","},ro_MD:{h:"ro"},ro_RO:{h:"ro"},rof:{p:"!#,##0.00",g:",",d:"."},rof_TZ:{h:"rof"},root:{p:"! #,##0.00",g:",",d:"."},ru:{p:"#,##0.00 !",g:" ",d:","},ru_BY:{h:"ru"},ru_KG:{h:"ru"},ru_KZ:{h:"ru"},ru_MD:{h:"ru"},ru_RU:{h:"ru"},ru_UA:{h:"ru"},rw:{p:"!#,##0.00",g:".",d:","},rw_RW:{h:"rw"},rwk:{p:"#,##0.00!",g:",",d:"."},rwk_TZ:{h:"rwk"},sah:{p:"!#,##0.00",g:",",d:"."},sah_RU:{h:"sah"},saq:{p:"!#,##0.00",g:",",d:"."},saq_KE:{h:"saq"},sbp:{p:"#,##0.00!",g:",",d:"."},sbp_TZ:{h:"sbp"},se:{p:"#,##0.00 !",g:" ",d:","},se_FI:{h:"se"},se_NO:{h:"se"},se_SE:{h:"se"},seh:{p:"#,##0.00!",g:".",d:","},seh_MZ:{h:"seh"},ses:{p:"#,##0.00!",g:" ",d:"."},ses_ML:{h:"ses"},sg:{p:"!#,##0.00;!-#,##0.00",g:".",d:","},sg_CF:{h:"sg"},shi:{p:"#,##0.00!",g:" ",d:","},shi_Latn:{h:"shi"},shi_Latn_MA:{h:"shi"},shi_Tfng:{h:"shi"},shi_Tfng_MA:{h:"shi"},si:{p:"!#,##0.00",g:",",d:"."},si_LK:{h:"si"},sk:{p:"#,##0.00 !",g:" ",d:","},sk_SK:{h:"sk"},sl:{p:"#,##0.00 !",g:".",d:","},sl_SI:{h:"sl"},smn:{p:"!#,##0.00",g:",",d:"."},smn_FI:{h:"smn"},sn:{p:"!#,##0.00",g:",",d:"."},sn_ZW:{h:"sn"},so:{p:"!#,##0.00",g:",",d:"."},so_DJ:{h:"so"},so_ET:{h:"so"},so_KE:{h:"so"},so_SO:{h:"so"},sq:{p:"#,##0.00 !",g:" ",d:","},sq_AL:{h:"sq"},sq_MK:{h:"sq"},sq_XK:{h:"sq"},sr:{p:"#,##0.00 !",g:".",d:","},sr_Cyrl:{h:"sr"},sr_Cyrl_BA:{h:"sr"},sr_Cyrl_ME:{h:"sr"},sr_Cyrl_RS:{h:"sr"},sr_Cyrl_XK:{h:"sr"},sr_Latn:{h:"sr"},sr_Latn_BA:{h:"sr"},sr_Latn_ME:{h:"sr"},sr_Latn_RS:{h:"sr"},sr_Latn_XK:{h:"sr"},sv:{p:"#,##0.00 !",g:" ",d:","},sv_AX:{h:"sv"},sv_FI:{h:"sv"},sv_SE:{h:"sv"},sw:{p:"!#,##0.00",g:",",d:"."},sw_CD:{p:"!#,##0.00",g:".",d:","},sw_KE:{h:"sw"},sw_TZ:{h:"sw"},sw_UG:{h:"sw"},ta:{p:"! #,##,##0.00",g:",",d:"."},ta_IN:{h:"ta"},ta_LK:{h:"ta"},ta_MY:{p:"! #,##0.00",g:",",d:"."},ta_SG:{p:"! #,##0.00",g:",",d:"."},te:{p:"!#,##,##0.00",g:",",d:"."},te_IN:{h:"te"},teo:{p:"!#,##0.00",g:",",d:"."},teo_KE:{h:"teo"},teo_UG:{h:"teo"},th:{p:"!#,##0.00",g:",",d:"."},th_TH:{h:"th"},ti:{p:"!#,##0.00",g:",",d:"."},ti_ER:{h:"ti"},ti_ET:{h:"ti"},tk:{p:"#,##0.00 !",g:" ",d:","},tk_TM:{h:"tk"},to:{p:"! #,##0.00",g:",",d:"."},to_TO:{h:"to"},tr:{p:"#,##0.00 !",g:".",d:","},tr_CY:{h:"tr"},tr_TR:{h:"tr"},twq:{p:"#,##0.00!",g:" ",d:"."},twq_NE:{h:"twq"},tzm:{p:"#,##0.00 !",g:" ",d:","},tzm_MA:{h:"tzm"},ug:{p:"!#,##0.00",g:",",d:"."},ug_CN:{h:"ug"},uk:{p:"#,##0.00 !",g:" ",d:","},uk_UA:{h:"uk"},ur:{p:"! #,##,##0.00",g:",",d:"."},ur_IN:{h:"ur"},ur_PK:{h:"ur"},uz:{p:"#,##0.00 !",g:" ",d:","},uz_Arab:{p:"#,##0.00 !",g:".",d:","},uz_Arab_AF:{h:"uz"},uz_Cyrl:{p:"! #,##0.00",g:" ",d:","},uz_Cyrl_UZ:{h:"uz"},uz_Latn:{h:"uz"},uz_Latn_UZ:{h:"uz"},vai:{p:"!#,##0.00",g:",",d:"."},vai_Latn:{h:"vai"},vai_Latn_LR:{h:"vai"},vai_Vaii:{h:"vai"},vai_Vaii_LR:{h:"vai"},vi:{p:"#,##0 !",g:".",d:","},vi_VN:{h:"vi"},vo:{p:"!#,##0.00",g:",",d:"."},vo_001:{h:"vo"},vun:{p:"!#,##0.00",g:",",d:"."},vun_TZ:{h:"vun"},wae:{p:"!#,##0.00",g:"’",d:","},wae_CH:{h:"wae"},xog:{p:"#,##0.00 !",g:",",d:"."},xog_UG:{h:"xog"},yav:{p:"#,##0.00 !",g:" ",d:","},yav_CM:{h:"yav"},yi:{p:"!#,##0.00",g:",",d:"."},yi_001:{h:"yi"},yo:{p:"!#,##0.00",g:",",d:"."},yo_BJ:{h:"yo"},yo_NG:{h:"yo"},yue:{p:"!#,##0.00",g:",",d:"."},yue_HK:{h:"yue"},zgh:{p:"#,##0.00!",g:" ",d:","},zgh_MA:{h:"zgh"},zh:{p:"!#,##0.00",g:",",d:"."},zh_Hans:{h:"zh"},zh_Hans_CN:{h:"zh"},zh_Hans_HK:{h:"zh"},zh_Hans_MO:{h:"zh"},zh_Hans_SG:{h:"zh"},zh_Hant:{h:"zh"},zh_Hant_HK:{h:"zh"},zh_Hant_MO:{h:"zh"},zh_Hant_TW:{h:"zh"},zu:{p:"!#,##0.00",g:",",d:"."},zu_ZA:{h:"zu"}}}getFormatDetails(e){var t,n,a,i=this.locales,r=this.defaultLocales,o=this.symbols;return n=((e=e||{}).currency||"USD").toUpperCase(),(t=i[e.locale||r[n]]).h!==void 0&&(t=i[t.h]),a=e.symbol===void 0?o[n]||n:e.symbol===null?"":e.symbol,{pattern:e.pattern||t.p,decimal:e.decimal||t.d,group:e.group||t.g,symbol:a,valueOnError:e.valueOnError===void 0?0:e.valueOnError,postFormatFunction:e.postFormatFunction}}toFixed(e,t){return(Math.round(Number(e)*Math.pow(10,t))/Math.pow(10,t)).toFixed(t)}getFormatter(e){const t=this;var n=this.getFormatDetails(e),a=n.pattern,i=n.decimal,r=n.group,o=n.symbol,d=n.valueOnError,f=n.postFormatFunction,p=function(A){var k=A.trim().match(/[#0,\.]+/)[0],B=k.split("."),H=B[0],V=B[1],z=H.split(","),N=z.map(function(X){return X.length}),F=(z[z.length-1].match(/0/g)||[]).length,q=V===void 0?0:V.length,Y=A.split(k);return{pattern:A,decimalPlaces:q,frontPadding:Y[0],backPadding:Y[1],groupLengths:N,zeroLength:F}},v=function(A,k){var B=t.toFixed(Math.abs(A),k.decimalPlaces),H=B.split("."),V="",z=H[0].length,N=k.groupLengths.length-1,F=N;if(N>0){for(;z>0;){F<1&&(F=1);var q=k.groupLengths[F],Y=z-q;V=H[0].substring(Y,z)+k.group+V,z-=q,--F}V=V.substring(0,V.length-1)}else V=H[0];return V.length<k.zeroLength&&(V=function(X,ae){return(X+="").length>=ae?X:new Array(ae-X.length+1).join("0")+X}(V,k.zeroLength)),(B=k.frontPadding+V+(H[1]===void 0?"":k.decimal+H[1])+k.backPadding).replace(/\!/g,o).trim()},w=a.split(";"),C=p(w[0]);C.symbol=o,C.decimal=i,C.group=r;var x=w[1]===void 0?p("-"+w[0]):p(w[1]);x.symbol=o,x.decimal=i,x.group=r,e.decimalPlaces!==void 0&&(C.decimalPlaces=x.decimalPlaces=e.decimalPlaces);var L=w[2]===void 0?v(0,C):w[2];return function(A){return isNaN(A)?d:(k=(A=Number(A))>0?v(A,C):A===0?L.replace("!",o):v(A,x),typeof f=="function"?f(A,k):k);var k}}format(e,t){return this.getFormatter(t)(e)}parse(e,t){var n=this.getFormatDetails(t).decimal,a=e.indexOf("-")>=0?-1:1;return Math.abs(Number(e.replace(new RegExp(`[^0-9${n}]`,"g"),"").replace(n,".")))*a}})},2754:()=>{Smart.Utilities.Assign("NumericProcessor",class{constructor(e,t){switch(e[t]){case"integer":return new Smart.Utilities.IntegerNumericProcessor(e,t);case"floatingPoint":return new Smart.Utilities.DecimalNumericProcessor(e,t);case"complex":return new Smart.Utilities.ComplexNumericProcessor(e,t)}}}),Smart.Utilities.Assign("BaseNumericProcessor",class{constructor(e,t){const n=this;n.context=e,n._longestLabelSize=0,n.numericFormatProperty=t,n.regexScientificNotation=new RegExp(/^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)(Y|Z|E|P|T|G|M|k|m|u|n|p|f|a|z|y){1}$/),n.regexNoLeadingZero=new RegExp(/^(-)?[.]\d+$/),n.regexLeadingZero=new RegExp(/^[+\-]?(0+)[1-9]+|^[+\-]?(0{2,})[.]|^(0{2,})$/),n.prefixesToPowers={Y:24,Z:21,E:18,P:15,T:12,G:9,M:6,k:3,m:-3,u:-6,n:-9,p:-12,f:-15,a:-18,z:-21,y:-24},window.NIComplex?n.complexConstructor=window.NIComplex:n.complexConstructor=Smart.Utilities.Complex}prepareForValidation(e,t,n){const a=this.context,i=e||t!==void 0;if(n=(n=n.toString()).replace(/\s/g,""),n=a._discardDecimalSeparator(n),this.regexLeadingZero.test(n)){const d=this.regexLeadingZero.exec(n);n=d[1]?n.replace(d[1],""):d[2]?n.replace(d[2],"0"):n.replace(d[3],"0")}this.regexNoLeadingZero.test(n)?n=n.charAt(0)==="-"?"-0"+n.slice(1):"0"+n:(a[this.numericFormatProperty]==="integer"&&(a._radixNumber===10||i)||a[this.numericFormatProperty]==="floatingPoint")&&this.regexScientificNotation.test(n)&&(n=this.scientificToDecimal(n));let r,o=!1;if(a[this.numericFormatProperty]==="complex"&&a._regexSpecial.nonNumericValue.test(n)===!1)try{if(a._regexSpecial.exaValue.test(n)){const d=n.indexOf("E"),f=parseFloat(n.slice(0,d))*Math.pow(10,18),p=parseFloat(n.slice(d+1,-1));r=new this.complexConstructor(f,p)}else r=new this.complexConstructor(n);o=!0}catch{o=!1}if(o!==!1||!(!i&&a._regex[a._radixNumber].test(n)===!1||i&&a._regex[10].test(n)===!1))return{value:n,enteredComplexNumber:r};a._handleNonNumericValue(e,t,n)}isENotation(e){return new RegExp(/e/i).test(e.toString())}scientificToDecimal(e){const t=this.regexScientificNotation.exec(e),n=t[1],a=t[2];return parseFloat(n)*Math.pow(10,this.prefixesToPowers[a])}_createMeasureLabel(){const e=this.context,t=document.createElement("div");return t.className="smart-label",t.style.position="absolute",t.style.visibility="hidden",e.scalePosition!=="far"?e._measureLabelScale=e.$.scaleNear:e._measureLabelScale=e.$.scaleFar,e._measureLabelScale.appendChild(t),t}_addMajorTickAndLabel(e,t,n,a,i){const r=this.context,o=r._settings.leftOrTop,d=this.valueToPx(a);let f="",p="";if(parseInt(d)>parseInt(r._measurements.trackLength))return{tick:f,label:p};if(r.logarithmicScale&&(e=r._formatLabel(Math.pow(10,a))),r.nodeName.toLowerCase()==="smart-tank"||r._intervalHasChanged){let v=r._tickIntervalHandler.labelsSize;if(i){r._labelDummy.innerHTML=e;let w=this.valueToPx(a),C=this.valueToPx(r._drawMax),x=this.valueToPx(r._drawMin),L=r._labelDummy[r._settings.size],A=r.orientation==="vertical"?r._labelDummy.offsetWidth:r._labelDummy.offsetHeight,k=(L+v.minLabelSize)/2,B=(L+v.maxLabelSize)/2;n=r._normalLayout?w+B<C&&w-k>x:w-B>C&&w+k<x,A>this._longestLabelSize&&(this._longestLabelSize=A)}else this._longestLabelSize=Math.max(v.minLabelOtherSize,v.maxLabelOtherSize,this._longestLabelSize)}return r._tickValues.push(a),f='<div style="'+o+": "+d+'px;" class="smart-tick"></div>',n!==!1&&(t===void 0&&(r._labelDummy.innerHTML=e,t=r._labelDummy[r._settings.size]),p+='<div class="smart-label'+(i?" smart-label-middle":"")+'" style="'+o+": "+(d-t/2)+'px;">'+e+"</div>"),{tick:f,label:p}}getWordLength(e){switch(this.context._unsigned=e.charAt(0)==="u",e){case"int8":case"uint8":return 8;case"int16":case"uint16":return 16;case"int32":case"uint32":return 32;case"int64":case"uint64":return 64}}getAngleByValue(e,t,n){const a=this.context;t!==!1&&a.logarithmicScale&&(e=Math.log10(e));const i=(e-a._drawMin)*a._angleRangeCoefficient;let r;return r=a.inverted===void 0||!a.inverted&&!a.rightToLeft||a.rightToLeft&&a.inverted?a.endAngle-i:a.startAngle+i,n?r:r*Math.PI/180+Math.PI/2}getValueByAngle(e,t){const n=this.context;let a,i,r;for(n.inverted===void 0||!n.inverted&&!n.rightToLeft||n.rightToLeft&&n.inverted?(a=n.endAngle,i=e):(a=e,i=n._normalizedStartAngle);a<i;)a+=360;if(r=(a-i)/n._angleDifference*n._range+parseFloat(n._drawMin),n.logarithmicScale){if(n.customInterval)return parseFloat(Math.pow(10,this.getCoercedValue(r,!0)).toFixed(12));r=Math.pow(10,r)}return t&&!n.coerce?Math.round(r):(r=this.createDescriptor(r,void 0,!0,!0),this.getCoercedValue(r,!1))}updateGaugeValue(e){const t=this.context,n=t.value;t.value=e,t._drawValue=t.logarithmicScale?Math.log10(e).toString():e,t._number=this.createDescriptor(t.value),t.$.digitalDisplay.value=e,t.$.fireEvent("change",{value:e,oldValue:n}),t._setAriaValue("valuenow"),delete t._valueBeforeCoercion}validateColorRange(e){const t=this.context;return Math.min(Math.max(e,t.min),t.max)}getActualValue(e){return this.context.logarithmicScale?Math.pow(10,e):e}drawGaugeLogarithmicScaleMinorTicks(e,t,n){const a=this.context;let i;t instanceof Smart.Utilities.BigNumber&&(t=parseFloat(t.toString()));for(let r in e)if(i=r,r>=0&&r%1==0)break;for(let r=parseFloat(i);r<a._drawMax;r+=t)for(let o=2;o<=9;o++){const d=o*Math.pow(10,r+t-1);d<a.max&&n(d)}for(let r=parseFloat(i);r>a._drawMin;r-=t)for(let o=2;o<=9;o++){const d=o*Math.pow(10,r-1);d>a.min&&n(d)}}_getAngleDifference(e,t){const n=Math.abs(t-e)%360;return n>180?360-n:n}addCustomTicks(){const e=this,t=e.context,n=!t.logarithmicScale;let a="",i="";function r(o){const d=t.customTicks[o],f=n?e.createDescriptor(d):Math.log10(d),p=o>0&&o<t.customTicks.length-1,v=e._addMajorTickAndLabel(t._formatLabel(d),void 0,!0,f,p);a+=v.tick,i+=v.label}if(e._longestLabelSize=0,t._tickValues=[],t._labelDummy=e._createMeasureLabel(),t._normalLayout)for(let o=0;o<t.customTicks.length;o++)r(o);else for(let o=t.customTicks.length-1;o>=0;o--)r(o);t.nodeName.toLowerCase()==="smart-tank"&&t._updateScaleWidth(e._longestLabelSize),t._appendTicksAndLabelsToScales(a,i)}addGaugeCustomTicks(){const e=this,t=e.context,n=t._distance,a=t._measurements.radius-n.majorTickDistance;let i,r;function o(d){const f=t.customTicks[d],p=e.createDescriptor(f),v=e.getAngleByValue(p,!0),w=d>0&&d<t.customTicks.length-1;i(v),r(v,f,w)}i=t.ticksVisibility!=="none"&&t._plotTicks!==!1?function(d){t._drawTick(d,a,"major")}:function(){},r=t.labelsVisibility!=="none"&&t._plotLabels!==!1?function(d,f,p){t._drawLabel(d,f,n.labelDistance,p)}:function(){};for(let d=t.customTicks.length-1;d>=0;d--)o(d)}}),Smart.Utilities.Assign("IntegerNumericProcessor",class extends Smart.Utilities.BaseNumericProcessor{constructor(e,t){super(e,t);const n=this;n.context=e,n.defaultMins={int8:"-128",uint8:"0",int16:"-32768",uint16:"0",int32:"-2147483648",uint32:"0",int64:"-9223372036854775808",uint64:"0"},n.defaultMaxs={int8:"127",uint8:"255",int16:"32767",uint16:"65535",int32:"2147483647",uint32:"4294967295",int64:"9223372036854775807",uint64:"18446744073709551615"}}createDescriptor(e,t,n,a,i){const r=this.context;let o;if(e.constructor!==Smart.Utilities.BigNumber){let d=!i&&r._radixNumber?r._radixNumber:10;d===10&&t&&e.constructor!==Smart.Utilities.BigNumber&&this.isENotation(e)&&(e=Smart.Utilities.BigNumber.bigIntSupport?new Smart.Utilities.BigNumber(Math.round(e)):new Smart.Utilities.NumberRenderer(e).largeExponentialToDecimal()),o=r._toBigNumberDecimal?r._toBigNumberDecimal(e.toString(d,r._wordLengthNumber),d):new Smart.Utilities.BigNumber(e)}else o=new Smart.Utilities.BigNumber(e);return n&&(r._unsigned&&o.compare(0)===-1&&(o=o.set(0)),a&&(o=this.validate(o,r._minObject,r._maxObject)),o=this.round(o)),o}round(e){const t=this.context;if(e instanceof window.Smart.Utilities.BigNumber&&typeof e._d=="bigint")return e;if(e instanceof window.Smart.Utilities.BigNumber==0||!t._wordLengthNumber||t._wordLengthNumber<64)return new Smart.Utilities.BigNumber(Math.round(e.toString()));const n=e.mod(1);return n._d.length===1&&n._d[0]===0||((e=e.intPart())._s?(n._d[1]>5||n._d[1]===5&&n._d[2])&&(e=e.add(-1)):n._d[1]>4&&(e=e.add(1))),e}validate(e,t,n){let a;return a=e.compare(t)===-1?t:e.compare(n)===1?n:e,a}validateMinMax(e,t){const n=this.context;let a=this.defaultMins[n.wordLength],i=new Smart.Utilities.BigNumber(a),r=this.defaultMaxs[n.wordLength],o=new Smart.Utilities.BigNumber(r),d=n.mode!=="date";if(n._numberRenderer===void 0&&(n._numberRenderer=new Smart.Utilities.NumberRenderer),e&&d){n.min!==null&&(n.min=n.min.toString().replace(/\s/g,""),this.regexScientificNotation.test(n.min)&&(n.min=this.scientificToDecimal(n.min)));let f=this.round(new Smart.Utilities.BigNumber(n.min));n.min===null||n._minIsNull&&n._initialized||!(f.compare(i)>=0)?(n._minIsNull=!0,n.min=a,n._minObject=i):n._minObject=f}if(t&&d){n.max!==null&&(n.max=n.max.toString().replace(/\s/g,""),this.regexScientificNotation.test(n.max)&&(n.max=this.scientificToDecimal(n.max)));let f=this.round(new Smart.Utilities.BigNumber(n.max));n.max===null||n._maxIsNull&&n._initialized||!(f.compare(o)<=0)?(n._maxIsNull=!0,n.max=r,n._maxObject=o):n._maxObject=f}d||(n._minObject=new Smart.Utilities.BigNumber(n.min),n._maxObject=new Smart.Utilities.BigNumber(n.max)),this.compare(n._minObject,n._maxObject)||(n._minObject=i,n._maxObject=o,n._drawMin=n.logarithmicScale?0:a,n._drawMax=n.logarithmicScale?10:r,n.min=a,n.max=r),d||(n._minDate=Smart.Utilities.DateTime.fromFullTimeStamp(n.min),n._maxDate=Smart.Utilities.DateTime.fromFullTimeStamp(n.max))}valueToPx(e){const t=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;const n=this.context,a=new Smart.Utilities.BigNumber(n._measurements.trackLength).divide(new Smart.Utilities.BigNumber(n._range));let i;if(n._normalLayout){const r=n._drawMin instanceof Smart.Utilities.BigNumber?n._drawMin:new Smart.Utilities.BigNumber(n._drawMin);e=new Smart.Utilities.BigNumber(e),i=parseFloat(a.multiply(e.subtract(r)).toString())}else{const r=n._drawMax instanceof Smart.Utilities.BigNumber?n._drawMax:new Smart.Utilities.BigNumber(n._drawMax);i=parseFloat(this.round(r.subtract(e).multiply(a)).toString())}return Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=t,i}pxToValue(e){const t=this.context,n=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;let a;if(Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,a=t._normalLayout?t._valuePerPx.multiply(e-t._trackStart):t._valuePerPx.multiply(t._trackEnd-e),a=this.round(a).toString(),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=n,t.logarithmicScale){let i=parseFloat(a)+parseFloat(t._drawMin);return new Smart.Utilities.BigNumber(Math.round(Math.pow(10,i)))}return this.createDescriptor(t._minObject.add(a),!1,!0,!0)}compare(e,t,n){if((e===null||t===null)&&e!==t)return!0;e.constructor!==Smart.Utilities.BigNumber&&(e=new Smart.Utilities.BigNumber(e));const a=e.compare(t);return n!==!0?a!==0:a}incrementDecrement(e,t,n){const a=this.context;let i;if(e.constructor!==Smart.Utilities.BigNumber&&(e=new Smart.Utilities.BigNumber(e)),t==="add"){if(i=e.add(n),a._drawMax!==void 0)return i.compare(a._drawMax)>0?new Smart.Utilities.BigNumber(a._drawMax):i}else if(i=e.subtract(n),a._drawMin!==void 0)return i.compare(a._drawMin)<0?new Smart.Utilities.BigNumber(a._drawMin):i;return i}render(e,t){const n=this.context;if(!n.scientificNotation&&t===!0)return new Smart.Utilities.NumberRenderer(new Smart.Utilities.BigNumber(e)).bigNumberToExponent(n.significantDigits);let a=e;return n.scientificNotation&&t===!0?a=new Smart.Utilities.NumberRenderer(a).toScientific(n.significantDigits,n.precisionDigits):typeof e!="string"&&(a=e.toString(n._radixNumber,n._wordLengthNumber,n.leadingZeros)),a}addTicksAndLabels(){const e=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;const t=this.context,n=t._measurements.trackLength,a=t._normalLayout,i=t._majorTicksInterval,r=this.round(new Smart.Utilities.BigNumber(t._range).divide(i)),o=n/r,d=new Smart.Utilities.BigNumber(t._drawMin),f=new Smart.Utilities.BigNumber(t._drawMax);let p,v,w,C,x,L,A,k,B,H="",V="";t._tickValues=[],this._longestLabelSize=0,a?(p=d,v=i.add(p.subtract(p.mod(i))),w=v.subtract(p),x=t._formatLabel(d),L=t._tickIntervalHandler.labelsSize.minLabelSize,C=f,A=t._formatLabel(f),k=t._tickIntervalHandler.labelsSize.maxLabelSize):(p=f,v=p.subtract(p.mod(i)),w=p.subtract(v),x=t._formatLabel(f),L=t._tickIntervalHandler.labelsSize.maxLabelSize,C=d,A=t._formatLabel(d),k=t._tickIntervalHandler.labelsSize.minLabelSize),t._labelDummy=this._createMeasureLabel(),B=this._addMajorTickAndLabel(x,L,!0,p),H+=B.tick,V+=B.label;const z=w.divide(i).multiply(o);if(v.compare(t.max)!==0&&z.compare(n)<0){const N=t._formatLabel(v.toString()),F=z.compare(L)>0;B=this._addMajorTickAndLabel(N,void 0,F,v,!0),H+=B.tick,V+=B.label}B=this.addMiddleMajorTicks(r,o,z,w,a,i),H+=B.tick,V+=B.label,B=this._addMajorTickAndLabel(A,k,!0,C),H+=B.tick,V+=B.label,t.mode!=="date"&&(H+=this.addMinorTicks(a)),t._measureLabelScale.removeChild(t._labelDummy),delete t._labelDummy,delete t._measureLabelScale,t.nodeName.toLowerCase()==="smart-tank"&&t._updateScaleWidth(this._longestLabelSize),t._appendTicksAndLabelsToScales(H,V),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=e}addMiddleMajorTicks(e,t,n,a,i,r){const o=this.context;let d,f="",p="";for(let v=1;v<e;v++){let w,C=n.add(v*t);if(i?w=r.multiply(v).add(a.add(new Smart.Utilities.BigNumber(o._drawMin))):(w=new Smart.Utilities.BigNumber(o._drawMax).subtract(a).subtract(r.multiply(v)),v===e-1&&w.compare(0)===0&&(o._numberRenderer.numericValue=o._tickIntervalHandler.nearestPowerOfTen,d=o._numberRenderer.bigNumberToExponent(1))),w.compare(o._drawMax)!==0){let x=o._formatLabel(w.toString()),L=!0;o._labelDummy.innerHTML=d||x;let A=o._labelDummy[o._settings.size];C.add(A).compare(e*t)>=0&&(L=!1);const k=this._addMajorTickAndLabel(x,void 0,L,w,!0);f+=k.tick,p+=k.label}}return{tick:f,label:p}}addMinorTicks(e){function t(w){a.indexOf(w)===-1&&w%r==0&&(v+='<div style="'+o+": "+n._numericProcessor.valueToPx(w)+'px;" class="smart-tick smart-tick-minor"></div>')}const n=this.context,a=n._tickValues,i=n._tickIntervalHandler.nearestPowerOfTen,r=n._minorTicksInterval,o=n._settings.leftOrTop;let d,f,p,v="";if(e?(d=a[0],f=a[1],p=a[a.length-1]):(d=a[a.length-1],f=a[a.length-2],p=a[0]),n.logarithmicScale)(function(){let w=n._measurements.trackLength/a.length,C=.1;w<20?C=1:w>=20&&w<40?C=f-d>1?1:.5:w>=40&&w<80&&(C=.2);let x=Math.floor(n._drawMax),L=n._drawMax-x,A=n._drawMax-n._drawMin>a.length;for(let k=n._drawMax;k>0;k-=1){let B=L>0?Math.pow(10,k-L+1):Math.pow(10,k),H=B*C;for(let V=B;V>0;V-=H)if(V<n.max&&V>n.min){let z=new Smart.Utilities.BigNumber(Math.log10(V));(z%1==0&&A||!A)&&(v+='<div style="'+o+": "+n._numericProcessor.valueToPx(z)+'px;" class="smart-tick smart-tick-minor"></div>')}}})();else{for(let w=f;d.compare(w)<0;w=w.subtract(i))t(w);for(let w=f.add(i);p.compare(w)>0;w=w.add(i))t(w)}return v}validateCustomTicks(){const e=this.context,t=e.mode!=="date";let n=[];for(let a=0;a<e.customTicks.length;a++){let i=e.customTicks[a];t?i=this.createDescriptor(i,!1,!0):i._d===void 0&&(i=Smart.Utilities.DateTime.validateDate(i).getTimeStamp()),i.compare(e._minObject)>=0&&i.compare(e._maxObject)<=0&&n.push(i)}if(n.sort(function(a,i){return a.compare(i)}),t){for(let a=0;a<n.length;a++)n[a]=n[a].toString();n=n.filter(function(a,i,r){return!i||a!==r[i-1]})}e.customTicks=n.slice(0)}addGaugeTicksAndLabels(){const e=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;const t=this.context,n=this,a=Math.max(t._tickIntervalHandler.labelsSize.minLabelSize,t._tickIntervalHandler.labelsSize.maxLabelSize),i=t._majorTicksInterval,r=t._minorTicksInterval,o={},d=t._distance,f=t._measurements.radius,p=f-d.majorTickDistance,v=f-d.minorTickDistance,w=new Smart.Utilities.BigNumber(t._drawMin),C=new Smart.Utilities.BigNumber(t._drawMax);let x,L,A,k,B,H;t.ticksVisibility!=="none"&&t._plotTicks!==!1?(x=function(F){t._drawTick(F,p,"major")},L=function(F){t._drawTick(n.getAngleByValue(F,!0),v,"minor")}):(x=function(){},L=function(){}),A=t.labelsVisibility!=="none"&&t._plotLabels!==!1?function(F,q,Y){t._drawLabel(F,q,d.labelDistance,Y)}:function(){},t.inverted===void 0||!t.inverted&&!t.rightToLeft||t.rightToLeft&&t.inverted?(B=t.endAngle,H=t.startAngle):(B=t.startAngle,H=t.endAngle),k=n.getAngleByValue(w,!1),x(k),o[t._drawMin.toString()]=!0,A(k,t.min,!1);let V,z,N=w.subtract(w.mod(i));w.compare(0)!==-1&&(N=N.add(i));for(let F=new Smart.Utilities.BigNumber(N);F.compare(w)!==-1;F=F.subtract(r))V=F;for(k=n.getAngleByValue(N,!1),x(k),o[N.toString()]=!0,2*Math.PI*t._measurements.innerRadius*(this._getAngleDifference(B,n.getAngleByValue(N,!1,!0))/360)>a&&A(k,this.getActualValue(N),N.compare(C)===-1),z=N.add(i);z.compare(C.subtract(i))===-1;z=z.add(i))k=n.getAngleByValue(z,!1),x(k),o[z.toString()]=!0,A(k,this.getActualValue(z),!0);if(o[z.toString()]===void 0&&z.compare(C)!==1&&(k=n.getAngleByValue(z,!1),x(k),o[z.toString()]=!0,2*Math.PI*t._measurements.innerRadius*(this._getAngleDifference(H,n.getAngleByValue(z,!1,!0))/360)>=a&&A(k,this.getActualValue(z),!0),t._normalizedStartAngle!==t.endAngle&&(k=n.getAngleByValue(C,!1),x(k),2*Math.PI*t._measurements.innerRadius*(this._getAngleDifference(H,B)/360)>=a&&A(k,t.max,!1))),t.mode!=="date"){if(t.logarithmicScale)this.drawGaugeLogarithmicScaleMinorTicks(o,i,L);else for(let F=V;F.compare(C)===-1;F=F.add(r))o[F.toString()]||L(F);Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=e}else Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=e}updateToolTipAndValue(e,t,n){const a=this.context,i=a.logarithmicScale;a._updateTooltipValue(e.toString()),i&&(e=parseFloat(Math.pow(10,parseFloat(e)).toFixed(11)));const r=(e=e instanceof Smart.Utilities.BigNumber?e:new Smart.Utilities.BigNumber(e)).toString();a._number=e,a._drawValue=i?Math.log10(r):e,e.compare(t)!==0&&n&&(a.mode==="numeric"?(a.value=r,e=r):(t=a._valueDate,a._valueDate=Smart.Utilities.DateTime.fromFullTimeStamp(r),a.value=e,e=a._valueDate),a._programmaticValueIsSet||a.$.fireEvent("change",{value:e,oldValue:t}),a.$.hiddenInput&&(a.$.hiddenInput.value=e),a._setAriaValue("valuenow"))}validateInterval(e){const t=this.context,n=t._maxObject.subtract(t._minObject);t._validInterval=new Smart.Utilities.BigNumber(e),t._validInterval=this.round(t._validInterval),t._validInterval.compare(0)<=0&&(t._validInterval=new Smart.Utilities.BigNumber(1)),t._validInterval.compare(n)===1&&(t._validInterval=n),t.interval=t._validInterval.toString()}getCoercedValue(e,t,n){const a=this.context;if(!a.coerce)return e;const i=!a.logarithmicScale;let r,o;if(e=e instanceof Smart.Utilities.BigNumber?e:new Smart.Utilities.BigNumber(e),a.customInterval){const C=a.customTicks;if(C.length===0)return e;let x,L;if(i||n){r=a._minObject,x=r.subtract(e).abs(),L=r;for(let A=0;A<C.length;A++){const k=this.createDescriptor(C[A]),B=k.subtract(e).abs();B.compare(x)===-1&&(x=B,L=k)}}else{r=a._drawMin,x=Math.abs(r-parseFloat(e.toString())),L=r;for(let A=0;A<C.length;A++){const k=Math.log10(C[A]),B=Math.abs(k-e);B<x&&(x=B,L=k)}L=new Smart.Utilities.BigNumber(L)}return L}let d=a._validInterval;if(a.mode==="date"){if(a._dateIncrementMethod==="addYears")return this.coerceYear(e);if(a._dateIncrementMethod==="addMonths")return this.coerceMonth(e);d=new Smart.Utilities.BigNumber(a._dateIntervalNumber).multiply(d)}t!==!1?(r=new Smart.Utilities.BigNumber(a._drawMin),o=new Smart.Utilities.BigNumber(a._drawMax)):(r=new Smart.Utilities.BigNumber(a.min),o=new Smart.Utilities.BigNumber(a.max));let f=e.subtract(r),p=f.mod(d);if(p.compare(0)===0)return e;let v=f.subtract(p),w=v.add(d);if(f.subtract(v).abs().compare(f.subtract(w).abs())<0)return v.add(r);{const C=w.add(r);return C.compare(o)<=0?C:v.add(r)}}coerceMonth(e){const t=this.context,n=parseFloat(t._validInterval),a=Smart.Utilities.DateTime.fromFullTimeStamp(e),i=a.year(),r=a.month(),o=a.day(),d=t._minDate.year(),f=t._minDate.month(),p=12*(t._maxDate.year()-d-1)+12-f+t._maxDate.month();let v=12*(i-1-d)+(12-f)+r;n===1&&([1,3,5,7,8,10,12].indexOf(r)!==-1?(o>16||o===16&&a.hour()>11)&&v++:r===2?a.isLeapYear(i)?(o>15||o===15&&a.hour()>11)&&v++:o>14&&v++:o>15&&v++),v=this.getCoercedTimePart(0,p,v,n);let w=t._minDate.addMonths(v,!0);return w.compare(t._maxDate)===1&&(w=t._minDate.addMonths(v-n,!0)),t._drawValue=new Smart.Utilities.BigNumber(w.getTimeStamp()),t._drawValue}coerceYear(e){const t=this.context,n=parseFloat(t._validInterval),a=Smart.Utilities.DateTime.fromFullTimeStamp(e),i=t._maxDate.year(),r=Smart.Utilities.DateTime.getConstructorParameters(t._minDate);let o=a.year();a.month()>6&&o++;let d=this.getCoercedTimePart(t._minDate.year(),i,o,n);d>i&&(d-=n),r[0]=d,r.unshift(null);const f=new(Function.prototype.bind.apply(Smart.Utilities.DateTime,r));return t._drawValue=new Smart.Utilities.BigNumber(f.getTimeStamp()),t._drawValue}getCoercedTimePart(e,t,n,a){let i=n-e,r=i%a;if(r===0)return n;let o=parseFloat((i-r).toFixed(12)),d=o+a;if(t-e<=a)return n>=e+(t-e)/2?t:e;if(Math.abs(i-o)<Math.abs(i-d))return o+e;{const f=d+e;return f>t?o+e:f}}updateValue(e){const t=this.context;e=e instanceof Smart.Utilities.BigNumber?e:new Smart.Utilities.BigNumber(e);const n=this.validate(e,t._minObject,t._maxObject);let a,i,r=t.value;t._number=n,t._drawValue=t.logarithmicScale?Math.log10(n):n,t.mode==="numeric"?(a=e.toString(),t.value=a,i=this.compare(e,r)):(r=Smart.Utilities.DateTime.fromFullTimeStamp(r),t._valueDate=Smart.Utilities.DateTime.fromFullTimeStamp(e),t.value=e,a=e=t._valueDate,i=e.compare(r)!==0),t._programmaticValueIsSet||!i&&!t._scaleTypeChangedFlag||t.$.fireEvent("change",{value:a,oldValue:r}),t.$.hiddenInput&&(t.$.hiddenInput.value=e),t._setAriaValue("valuenow"),t._moveThumbBasedOnValue(t._drawValue)}getValuePerPx(e,t){const n=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;const a=new Smart.Utilities.BigNumber(e).divide(t);return Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=n,a}restrictValue(e){e[1].constructor===Smart.Utilities.BigNumber?e[1].compare(e[0])===-1&&e[1].set(e[0]):e[1]<e[0]&&(e[1]=e[0])}getAngleByValue(e,t,n){const a=this.context,i=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;if(Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,a._wordLengthNumber<64)return Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=i,super.getAngleByValue(parseFloat(e.toString()),t,n);e instanceof Smart.Utilities.BigNumber==0&&(e=new Smart.Utilities.BigNumber(e)),t!==!1&&a.logarithmicScale&&(e=new Smart.Utilities.BigNumber(Math.log10(e.toString())));const r=e.subtract(a._drawMin).multiply(a._angleRangeCoefficient);let o;return o=a.inverted===void 0||!a.inverted&&!a.rightToLeft||a.rightToLeft&&a.inverted?r.multiply(-1).add(a.endAngle):r.add(a.startAngle),o=parseFloat(o.toString()),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=i,n?o:o*Math.PI/180+Math.PI/2}getValueByAngle(e){const t=this.context;if(t._wordLengthNumber<64)return super.getValueByAngle(e,!0);const n=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;let a,i,r,o;for(Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,t.inverted===void 0||!t.inverted&&!t.rightToLeft||t.rightToLeft&&t.inverted?(a=t.endAngle,i=e):(a=e,i=t._normalizedStartAngle);a<i;)a+=360;return r=new Smart.Utilities.BigNumber((a-i)/t._angleDifference).multiply(t._range).add(t._drawMin),t.logarithmicScale&&(r=new Smart.Utilities.BigNumber(Math.pow(10,r.toString()))),o=t.coerce?this.getCoercedValue(r,!1):this.round(r),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=n,new Smart.Utilities.BigNumber(o)}updateGaugeValue(e){if(e instanceof Smart.Utilities.BigNumber==0)return super.updateGaugeValue(e);const t=this.context,n=t._getEventValue();t.mode==="numeric"?(t.value=e.toString(),t.$.digitalDisplay.value=t.value):(t._valueDate=Smart.Utilities.DateTime.fromFullTimeStamp(e),t.value=e),t._drawValue=t.logarithmicScale?Math.log10(t.value).toString():t.value,t._number=e,t.$.fireEvent("change",{value:t._getEventValue(),oldValue:n}),t._setAriaValue("valuenow")}validateColorRange(e){const t=this.context;if(t._wordLengthNumber<64)return super.validateColorRange(e);e=t.mode==="numeric"?new Smart.Utilities.BigNumber(e):(e=Smart.Utilities.DateTime.validateDate(e)).getTimeStamp();const n=new Smart.Utilities.BigNumber(t.min),a=new Smart.Utilities.BigNumber(t.max);return e.compare(n)===-1&&(e=n),e.compare(a)===1&&(e=a),e}lockRotation(e,t){const n=this.context;if(t instanceof Smart.Utilities.BigNumber==0&&(t=new Smart.Utilities.BigNumber(t)),e&&t.compare(n._number)===-1){if(n._lockCW=!0,t.compare(n._maxObject)===-1)return new Smart.Utilities.BigNumber(n._maxObject)}else if(!e&&t.compare(n._number)===1&&(n._lockCCW=!0,t.compare(n._minObject)===1))return new Smart.Utilities.BigNumber(n._minObject)}getAngleRangeCoefficient(){const e=this.context,t=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,e._angleRangeCoefficient=new Smart.Utilities.BigNumber(e._angleDifference).divide(e._range),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=t}}),Smart.Utilities.Assign("DecimalNumericProcessor",class extends Smart.Utilities.BaseNumericProcessor{constructor(e,t){super(e,t),this.context=e}getPreciseModulo(e,t,n){const a=e>=0?1:-1;if(e=Math.abs(e),t=Math.abs(t),n===void 0){const i=e.toExponential(),r=t.toExponential(),o=parseInt(i.slice(i.indexOf("e")+1),10),d=parseInt(r.slice(r.indexOf("e")+1),10),f=o<0?Math.abs(o):0,p=d<0?Math.abs(d):0,v=Math.max(f,p);if(this.roundCoefficient=v,e<t)return a*e;if(e===t)return 0;if((e<-1||e>1)&&(t<-1||t>1||t===1)){if(e%1==0&&t%1==0)return a*(e%t);{const C=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;const x=a*parseFloat(new Smart.Utilities.BigNumber(e).mod(t).toString());return Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=C,x}}const w=Math.pow(10,v);return a*(e*w%(t*w)/w)}return a*(Math.round(e*n)%Math.round(t*n))}createDescriptor(e,t,n,a){let i=parseFloat(e);return a&&(i=this.validate(i,this.context._minObject,this.context._maxObject)),i}round(e){return Math.round(e)}validate(e,t,n){let a;return a=e<t?t:e>n?n:e,a}validateMinMax(e,t){const n=this.context,a=n._regexSpecial!==void 0&&n._regexSpecial.inf.test(n.min),i=n._regexSpecial!==void 0&&n._regexSpecial.inf.test(n.max);e&&(n.min===null||a?(n.min=-1/0,n._minObject=-1/0):(n.min=n.min.toString().replace(/\s/g,""),this.regexScientificNotation.test(n.min)&&(n.min=this.scientificToDecimal(n.min)),n._minObject=n._discardDecimalSeparator(n.min))),t&&(n.max===null||i?(n.max=1/0,n._maxObject=1/0):(n.max=n.max.toString().replace(/\s/g,""),this.regexScientificNotation.test(n.max)&&(n.max=this.scientificToDecimal(n.max)),n._maxObject=n._discardDecimalSeparator(n.max))),this.compare(n._minObject,n._maxObject)||(n._maxObject=parseFloat(n._maxObject)+1,n.max=n._maxObject)}valueToPx(e){const t=this.context,n=t._measurements.trackLength/t._range;let a;return a=t._normalLayout?n*(e-t._drawMin):n*(t._drawMax-e),Math.round(a)}pxToValue(e){const t=this.context;let n;if(n=t._normalLayout?(e-t._trackStart)*t._valuePerPx:(t._trackEnd-e)*t._valuePerPx,t.logarithmicScale){const a=n+parseFloat(t._drawMin);return Math.pow(10,a)}return this.validate(n+t._minObject,t._minObject,t._maxObject)}compare(e,t,n){return e=parseFloat(e),t=parseFloat(t),n!==!0?e!==t:e<t?-1:e>t?1:0}incrementDecrement(e,t,n){const a=this.context;let i;if(t==="add"){if(i=parseFloat(e)+parseFloat(n),a._drawMax!==void 0)return i>parseFloat(a._drawMax)?a._drawMax:i}else if(i=parseFloat(e)-parseFloat(n),a._drawMin!==void 0)return i<parseFloat(a._drawMin)?a._drawMin:i;return i}render(e){const t=this.context;if(t._regexSpecial!==void 0&&t._regexSpecial.nonNumericValue.test(e))return e;{const n=new Smart.Utilities.NumberRenderer(e);return t.scientificNotation?n.toScientific(t.significantDigits,t.precisionDigits):n.toDigits(t.significantDigits,t.precisionDigits)}}addTicksAndLabels(){const e=this.context,t=e._measurements.trackLength,n=e._normalLayout,a=e._majorTicksInterval,i=Math.round(e._range/parseFloat(a.toString())),r=t/i,o=parseFloat(e._drawMin),d=parseFloat(e._drawMax);let f,p,v,w,C,x,L,A,k,B="",H="";e._tickValues=[],this._longestLabelSize=0,n?(f=o,p=e.logarithmicScale&&o<0&&o!==-1?parseFloat(f-this.getPreciseModulo(f,a)):parseFloat(f-this.getPreciseModulo(f,a)+parseFloat(a)),v=p-f,C=e._formatLabel(o),x=e._tickIntervalHandler.labelsSize.minLabelSize,w=d,L=e._formatLabel(d),A=e._tickIntervalHandler.labelsSize.maxLabelSize):(f=d,p=parseFloat(f-this.getPreciseModulo(f,a)),v=f-p,C=e._formatLabel(d),x=e._tickIntervalHandler.labelsSize.maxLabelSize,w=o,L=e._formatLabel(o),A=e._tickIntervalHandler.labelsSize.minLabelSize),e._labelDummy=this._createMeasureLabel(),k=this._addMajorTickAndLabel(C,x,!0,f),B+=k.tick,H+=k.label;const V=v/a*r;if(p.toString()!==e._drawMax.toString()&&V<t){const z=e._formatLabel(p.toString()),N=x<V;k=this._addMajorTickAndLabel(z,void 0,N,p,!0),B+=k.tick,H+=k.label}k=this.addMiddleMajorTicks(i,r,V,v,n,a),B+=k.tick,H+=k.label,k=this._addMajorTickAndLabel(L,A,!0,w),B+=k.tick,H+=k.label,B+=this.addMinorTicks(n),e._measureLabelScale.removeChild(e._labelDummy),delete e._labelDummy,delete e._measureLabelScale,e.nodeName.toLowerCase()==="smart-tank"&&e._updateScaleWidth(this._longestLabelSize),e._appendTicksAndLabelsToScales(B,H)}addMiddleMajorTicks(e,t,n,a,i,r){const o=this.context;let d="",f="";for(let p=1;p<e;p++){let v,w=p*t+n;if(v=i?parseFloat(o._drawMin)+r*p+a:parseFloat(o._drawMax)-r*p-a,v.toString()!==o._drawMax.toString()){let C=o._formatLabel(v.toString()),x=!0;o._labelDummy.innerHTML=C,w+o._labelDummy[o._settings.size]>=e*t&&(x=!1);const L=this._addMajorTickAndLabel(C,void 0,x,v,!0);d+=L.tick,f+=L.label}}return{tick:d,label:f}}addMinorTicks(e){function t(L){return parseFloat(L.toFixed(d))}function n(L){i.indexOf(L)===-1&&a._numericProcessor.getPreciseModulo(L,o,f)===0&&(x+='<div style="'+p+": "+a._numericProcessor.valueToPx(L)+'px;" class="smart-tick smart-tick-minor"></div>')}const a=this.context,i=a._tickValues,r=a._tickIntervalHandler.nearestPowerOfTen,o=a._minorTicksInterval,d=Math.log10(r)<0?Math.round(Math.abs(Math.log10(r))):0,f=Math.pow(10,d),p=a._settings.leftOrTop;let v,w,C,x="";if(e?(v=i[0],w=i[1],C=i[i.length-1]):(v=i[i.length-1],w=i[i.length-2],C=i[0]),a.logarithmicScale)(function(){let L=a._measurements.trackLength/i.length,A=.1;L<20?A=1:L>=20&&L<40?A=w-v>1?1:.5:L>=40&&L<80&&(A=.2);let k=Math.floor(a._drawMax),B=a._drawMax-k,H=a._drawMax-a._drawMin>i.length;for(let V=a._drawMax;V>a._drawMin-1;V-=1){let z=B>0?Math.pow(10,V-B+1):Math.pow(10,V),N=z*A;for(let F=z;F>0;F-=N)if(F<a.max&&F>a.min){let q=new Smart.Utilities.BigNumber(Math.log10(F));(q%1==0&&H||!H)&&(x+='<div style="'+p+": "+a._numericProcessor.valueToPx(q)+'px;" class="smart-tick smart-tick-minor"></div>')}}})();else{for(let L=w;L>v;L=t(L-r))n(L);for(let L=t(w+r);L<C;L=t(L+r))n(L)}return x}validateCustomTicks(){const e=this.context;let t=[];for(let n=0;n<e.customTicks.length;n++){const a=e.customTicks[n],i=this.createDescriptor(a);i>=e._minObject&&i<=e._maxObject&&t.push(i.toString())}t.sort(function(n,a){return n-a}),t=t.filter(function(n,a,i){return!a||n!==i[a-1]}),e.customTicks=t.slice(0)}addGaugeTicksAndLabels(){const e=this.context,t=this,n=Math.max(e._tickIntervalHandler.labelsSize.minLabelSize,e._tickIntervalHandler.labelsSize.maxLabelSize),a=e._majorTicksInterval,i=e._minorTicksInterval,r={},o=e._distance,d=e._measurements.radius,f=d-o.majorTickDistance,p=d-o.minorTickDistance;let v,w,C,x,L,A;e.ticksVisibility!=="none"&&e._plotTicks!==!1?(v=function(V){e._drawTick(V,f,"major")},w=function(V){e._drawTick(t.getAngleByValue(V,!0),p,"minor")}):(v=function(){},w=function(){}),C=e.labelsVisibility!=="none"&&e._plotLabels!==!1?function(V,z,N){e._drawLabel(V,z,o.labelDistance,N)}:function(){},e.inverted===void 0||!e.inverted&&!e.rightToLeft||e.rightToLeft&&e.inverted?(L=e.endAngle,A=e.startAngle):(L=e.startAngle,A=e.endAngle),x=t.getAngleByValue(e._drawMin,!1),v(x),r[e._drawMin]=!0,C(x,e.min,!1);let k,B,H=e._drawMin-t.getPreciseModulo(e._drawMin,a);e._drawMin>=0&&(H+=a);for(let V=H;V>=e._drawMin;V-=i)k=V;for(x=t.getAngleByValue(H,!1),v(x),r[H]=!0,2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(L,t.getAngleByValue(H,!1,!0))/360)>n&&C(x,this.getActualValue(H),H<e._drawMax),B=H+a;B<e._drawMax-a;B+=a)x=t.getAngleByValue(B,!1),v(x),r[B]=!0,C(x,this.getActualValue(B),!0);if(r[B]===void 0&&B<=e._drawMax&&(x=t.getAngleByValue(B,!1),v(x),r[B]=!0,2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(A,t.getAngleByValue(B,!1,!0))/360)>=n&&C(x,this.getActualValue(B),!0),e._normalizedStartAngle!==e.endAngle&&(x=t.getAngleByValue(e._drawMax,!1),v(x),r[e._drawMax]=!0,2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(A,L)/360)>=n&&C(x,e.max,!1))),e.logarithmicScale)this.drawGaugeLogarithmicScaleMinorTicks(r,a,w);else for(let V=k;V<e._drawMax;V+=i)r[V]||w(V)}updateToolTipAndValue(e,t,n){const a=this.context,i=a.logarithmicScale;a._updateTooltipValue(e),i&&(e=parseFloat(Math.pow(10,parseFloat(e)).toFixed(11)));const r=e.toString();a._number=e,a._drawValue=i?Math.log10(r):e,r!==t&&n&&(a.value=a._discardDecimalSeparator(r),a._programmaticValueIsSet||a.$.fireEvent("change",{value:a.value,oldValue:t}),a.$.hiddenInput&&(a.$.hiddenInput.value=a.value),a._setAriaValue("valuenow"))}validateInterval(e){const t=this.context,n=t._maxObject-t._minObject;e<=0&&(e=1),t._validInterval=Math.min(parseFloat(e),n),t.interval=t._validInterval}getCoercedValue(e,t,n){const a=this.context;if(!a.coerce)return e;let i,r,o=!a.logarithmicScale;if(a.customInterval){const C=a.customTicks;if(C.length===0)return e;o=o||n,i=t!==!1?parseFloat(a._drawMin):a._minObject;let x=Math.abs(i-e),L=i;for(let A=0;A<C.length;A++){const k=this.createDescriptor(C[A]),B=o?k:Math.log10(k),H=Math.abs(B-e);H<x&&(x=H,L=B)}return L}t!==!1?(i=parseFloat(a._drawMin),r=parseFloat(a._drawMax)):(i=parseFloat(a.min),r=parseFloat(a.max));let d=e-i,f=this.getPreciseModulo(d,parseFloat(a.interval)),p=this.roundCoefficient;if(f===0)return e;this.roundCoefficient===0&&(p=12);let v=parseFloat((d-f).toFixed(p)),w=v+parseFloat(a.interval);if(a.max-a.min<=parseFloat(a.interval)&&o){let C=i,x=r;return e>=C+(x-C)/2?x:C}if(Math.abs(d-v)<Math.abs(d-w))return v+i;{const C=w+i;return C>r?v+i:C}}updateValue(e){const t=this.context,n=this.validate(e,t._minObject,t._maxObject),a=t.value;e.toString()!==a.toString()||t._scaleTypeChangedFlag?(t.value=e.toString(),t._number=n,t._programmaticValueIsSet||t.$.fireEvent("change",{value:t.value,oldValue:a})):t.value=typeof e=="string"?e:e.toString(),t._drawValue=t.logarithmicScale?Math.log10(n).toString():n.toString(),t._moveThumbBasedOnValue(t._drawValue),t.$.hiddenInput&&(t.$.hiddenInput.value=t.value),t._setAriaValue("valuenow")}getValuePerPx(e,t){return parseFloat(e)/t}restrictValue(e){e[1]<e[0]&&(e[1]=e[0])}lockRotation(e,t){const n=this.context;if(e&&t<n._number){if(n._lockCW=!0,t<n._maxObject)return n._maxObject}else if(!e&&t>n._number&&(n._lockCCW=!0,t>n._minObject))return n._minObject}getAngleRangeCoefficient(){const e=this.context;e._angleRangeCoefficient=e._angleDifference/e._range}}),Smart.Utilities.Assign("ComplexNumericProcessor",class extends Smart.Utilities.BaseNumericProcessor{constructor(e,t){super(e,t),this.context=e}createDescriptor(e,t,n,a,i,r){let o;return o=r||(e.constructor===this.complexConstructor?new this.complexConstructor(e.realPart,e.imaginaryPart):new this.complexConstructor(e)),a&&(o=this.validate(o,this.context._minObject,this.context._maxObject)),o}validate(e,t,n){let a=e;return t!==-1/0?this.compareComplexNumbers(e,t)===-1&&(a=new this.complexConstructor(t.realPart,t.imaginaryPart)):n!==1/0&&this.compareComplexNumbers(e,n)===1&&(a=new this.complexConstructor(n.realPart,n.imaginaryPart)),a}compare(e,t,n){return n!==!0?this.compareComplexNumbers(e,t)!==0:this.compareComplexNumbers(e,t)}validateMinMax(e,t){const n=this.context;e&&(n.min===null||n._regexSpecial.inf.test(n.min)?(n.min=-1/0,n._minObject=-1/0):n._minObject=new this.complexConstructor(n.min)),t&&(n.max===null||n._regexSpecial.inf.test(n.max)?(n.max=1/0,n._maxObject=1/0):n._maxObject=new this.complexConstructor(n.max))}incrementDecrement(e,t){let n=new this.complexConstructor(e.realPart,e.imaginaryPart),a=this.context._spinButtonsStepObject;return t==="add"?(n.realPart+=a.realPart,n.imaginaryPart+=a.imaginaryPart):(n.realPart-=a.realPart,n.imaginaryPart-=a.imaginaryPart),n}render(e){let t=e;if(this.context._regexSpecial.nonNumericValue.test(e)===!1){let n,a=t.realPart,i=t.imaginaryPart,r=this.context.significantDigits,o=this.context.precisionDigits;i>=0?n="+":(n="-",i=Math.abs(i));const d=new Smart.Utilities.NumberRenderer(a),f=new Smart.Utilities.NumberRenderer(i);this.context.scientificNotation?(a=d.toScientific(r,o),i=f.toScientific(r,o)):(a=d.toDigits(r,o),i=f.toDigits(r,o)),t=`${a} ${n} ${i}i`}return t}compareComplexNumbers(e,t){if(e instanceof this.complexConstructor==0||t instanceof this.complexConstructor==0)return-1;const n=e.realPart,a=t.realPart;if(n<a)return-1;if(n>a)return 1;{const i=e.imaginaryPart,r=t.imaginaryPart;return i<r?-1:i>r?1:0}}}),Smart.Utilities.Assign("NumberRenderer",class{constructor(e){const t=this;t.numericValue=e,t.powersToPrefixes={24:"Y",21:"Z",18:"E",15:"P",12:"T",9:"G",6:"M",3:"k",0:"","-3":"m","-6":"u","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y"},t.localizationObject={currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",defaultPrecision:2}}isENotation(e){return new RegExp(/e/i).test(e)}largeExponentialToDecimal(e){let t;e===void 0&&(e=this.numericValue,t=!0);let n=e.toString().toLowerCase(),a=n.indexOf("e"),i=new Smart.Utilities.BigNumber(n.slice(0,a)),r=n.slice(a+1,a+2);r!=="+"&&r!=="-"&&(n=n.slice(0,a)+"e+"+n.slice(a+1),r="+");let o=n.slice(a+2),d=new Smart.Utilities.BigNumber(10).pow(r+(t?Math.min(20,o):o));return i.multiply(d).toString()}bigNumberToExponent(e,t){let n=this.numericValue;n.constructor!==Smart.Utilities.BigNumber&&(n=new Smart.Utilities.BigNumber(n));const a=n._f;let i=n.toString();if(a<=10)return t?parseFloat(i).toExponential(e!==null?e-1:void 0):new Smart.Utilities.NumberRenderer(parseFloat(i)).toDigits(e);if(e>=a&&!t)return i;{let r;n._s===!1?r="":(r="-",i=i.slice(1)),parseFloat(i.slice(e,e+1))>=5&&(i=new Smart.Utilities.BigNumber(i.slice(0,e)).add(1).toString());let o=i.slice(1,e);if(t)e--,o.length>0&&e>o.length?o+="0".repeat(e-o.length):o.length===0&&(o="0".repeat(e));else for(;o.length>0&&o.charAt(o.length-1)==="0";)o=o.slice(0,o.length-1);const d=o.length>0?".":"",f=a-1;return r+i.slice(0,1)+d+o+"E+"+f}}toScientific(){const e=this;let t;if(t=e.numericValue._d?e.bigNumberToExponent(arguments[0]!==null?arguments[0]:arguments[1]+1,!0).toLowerCase():e.numericValue<=-1||e.numericValue>=1?Number(e.toDigits(arguments[0],arguments[1])).toExponential():Number(e.numericValue).toExponential(),isNaN(t))return t;const n=t.indexOf("e");let a=parseInt(t.slice(n+1),10),i=parseFloat(t.slice(0,n)),r=new Smart.Utilities.NumberRenderer(i);if(a<0){let w=r.toDigits(arguments[0],arguments[1]);if(w=parseFloat(w).toExponential(),w.charAt(w.length-1)==="0"){let C=0;for(;a%3!=0;)a--,C++;if(C){const L=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,i=parseFloat(new Smart.Utilities.BigNumber(i).multiply(Math.pow(10,C)).toString()),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=L}r.numericValue=i,i=r.toDigits(arguments[0],arguments[1]),r.numericValue=i/1e3;const x=r.toDigits(arguments[0],arguments[1]);return x>=1&&(i=x,a+=3),i+e.powersToPrefixes[a.toString()]}}let o=0;if(o=Math.abs(a)>24?a-a/Math.abs(a)*24:a%3,o>0)for(let w=0;w<o;w++)i*=10;else if(o<0){const w=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,i=parseFloat(new Smart.Utilities.BigNumber(i).multiply(Math.pow(10,o)).toString()),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=w}if(a>0){const w=i>=0?0:1,C=t.slice(w,n).length-o-2;C>=0&&(i=i.toFixed(C))}let d=Number(i).toExponential();d=parseFloat(d.charAt(d.length-1)),r.numericValue=i,i=r.toDigits(arguments[0],arguments[1]);let f=Number(i).toExponential(),p=0;f=parseFloat(f.charAt(f.length-1)),f!==d&&f%3==0&&(i=parseFloat(i)/Math.pow(10,f),r.numericValue=i,i=r.toDigits(arguments[0],arguments[1]),p=f);const v=a-o+p;return i+e.powersToPrefixes[v.toString()]}bigNumberToScientific(){const e=this,t=e.numericValue._f-1,n=parseInt(t,10)%3,a=parseInt(t,10)-n;let i,r,o=e.numericValue.toString();if(o.charAt(0)==="-"?(i="-",o=o.slice(1)):i="",arguments[0]!==null)for(r=o.slice(0,arguments[0]),parseFloat(o.slice(arguments[0],arguments[0]+1))>=5&&(r=new Smart.Utilities.BigNumber(r).add(1).toString());r.length>1+n&&r.charAt(r.length-1)==="0";)r=r.slice(0,r.length-1);else arguments[1]!==null&&(r=o.slice(0,arguments[1]+1),parseFloat(o.slice(arguments[1]+1,arguments[1]+2))>=5&&(r=new Smart.Utilities.BigNumber(r).add(1).toString()),arguments[1]+n>r.length-1&&(r+="0".repeat(arguments[1]+n-r.length+1)));return r.length>1+n&&(r=r.slice(0,1+n)+"."+r.slice(1+n)),i+r+e.powersToPrefixes[a.toString()]}toDigits(e,t){const n=this;let a;return a=e!==null?n.applySignificantDigits(e):t!==null?n.applyPrecisionDigits(t):n.applySignificantDigits(8),a}applySignificantDigits(e){const t=this;function n(i){for(;i.charAt(i.length-1)==="0";)i=i.slice(0,-1);return i.charAt(i.length-1)==="."&&(i=i.slice(0,-1)),i}e=Math.max(1,Math.min(e,21));let a=parseFloat(t.numericValue).toPrecision(e).toUpperCase();if(a.indexOf(".")!==-1)if(t.isENotation(a)){const i=a.indexOf("."),r=a.indexOf("E");let o=a.slice(i,r);o=n(o),a=a.slice(0,i)+o+a.slice(r)}else a=n(a);return a}applyPrecisionDigits(e){const t=this;e=Math.max(0,Math.min(e,20));let n=parseFloat(t.numericValue).toFixed(e);return t.isENotation(n)&&(n=t.largeExponentialToDecimal(n)+"."+"0".repeat(e)),n}getLogarithm(e){const t=this.numericValue;let n;if(e===void 0&&(e=10),e===10)try{n=Math.log10(t)}catch{n=Math.log(t)/Math.log(10)}else n=Math.log(t)/Math.log(e);return n}applySeparators(e,t){const n=this,a=(e=e.toString()).indexOf(".");if(a!==-1){const i=e.slice(0,a),r=e.slice(a+1);return n.applyThousandsSeparator(i,t)+n.localizationObject.decimalseparator+r}return n.applyThousandsSeparator(e,t)}applyThousandsSeparator(e,t){if(t)return e;let n="";(e=e.toString()).charAt(0)==="-"&&(n="-",e=e.slice(1));let a=e.split("").reverse();for(let i=2;i<a.length-1;i+=3)a[i]=this.localizationObject.thousandsseparator+a[i];return a.reverse(),a=a.join(""),n+a}formatNumber(e,t,n){const a=this;if(arguments[3]===void 0&&delete a._ignoreMinus,delete a._wordLengthNumber,!/^([a-zA-Z]\d*)$/g.test(t))try{return a.applyCustomFormat(e,t)}catch{return e.toString()}const i=t.slice(0,1);let r=t.slice(1);if(r!==""&&(isNaN(parseFloat(r))||parseFloat(r)<0||parseFloat(r)>99?r="":parseFloat(r)%1!=0&&(r=Math.round(r))),e._d)a.inputFormat="integer";else{if(e.imaginaryPart)return a.formatComplexNumber(e,t,i,r);a.inputFormat="floatingPoint"}let o,d=new Smart.Utilities.NumericProcessor(a,"inputFormat"),f=d.createDescriptor(e);switch(a._wordLengthNumber=d.getWordLength(n||"int32"),a.inputFormat==="integer"&&(f=d.round(f)),a.numericValue=f,i){case"C":case"c":return r===""&&(r=a.localizationObject.defaultPrecision),r=parseFloat(r),o=a.inputFormat==="floatingPoint"?a.applyPrecisionDigits(r):f.toString()+(r>0?"."+"0".repeat(r):""),o=a.applySeparators(o),a.localizationObject.currencysymbolposition==="before"?o.charAt(0)==="-"?"-"+a.localizationObject.currencysymbol+o.slice(1):a.localizationObject.currencysymbol+o:o+" "+a.localizationObject.currencysymbol;case"D":case"d":{if(o=f,a.inputFormat==="floatingPoint"&&(o=Math.round(f)),o=o.toString(),r==="")return o;let p="";o.charAt(0)==="-"&&(p="-",o=o.slice(1));const v=r-o.length;return v>0&&(o="0".repeat(v)+o),p+o}case"E":case"e":case"U":case"u":{r===""&&(r=6),o=a.inputFormat==="floatingPoint"?f.toExponential(r):a.bigNumberToExponent(parseFloat(r)+1,!0).toLowerCase();const p=o.indexOf("e"),v=o.slice(p+2).length;return v<3&&(o=o.slice(0,p+2)+"0".repeat(3-v)+o.slice(p+2)),i.toLowerCase()==="u"?a.exponentialToSuperscript(a.applySeparators(o,!0)):(i==="E"&&(o=o.toUpperCase()),a.applySeparators(o,!0))}case"F":case"f":case"N":case"n":return r===""&&(r=a.localizationObject.defaultPrecision),r=parseFloat(r),o=a.inputFormat==="floatingPoint"?a.applyPrecisionDigits(r):f.toString()+(r>0?"."+"0".repeat(r):""),a.applySeparators(o,i.toLowerCase()==="f");case"G":case"g":{if(r===""||r==="0")if(a.inputFormat==="floatingPoint")r=15;else switch(n){case"int8":case"uint8":r=3;break;case"int16":case"uint16":r=5;break;case"int64":r=19;break;case"uint64":r=20;break;default:r=10}r=parseFloat(r);let p=a.formatNumber(e,"E"+r,n),v=p.indexOf("E");const w=parseInt(p.slice(v+1),10);if(w>-5&&w<r)return a.inputFormat==="floatingPoint"?a.applySeparators(a.applySignificantDigits(r),!0):f.toString();if(w>-100&&w<100&&(p=p.slice(0,v+2)+p.slice(v+3)),p.indexOf(a.localizationObject.decimalseparator)!==-1){for(;p.charAt(v-1)==="0";)p=p.slice(0,v-1)+p.slice(v),v=p.indexOf("E");p.charAt(v-1)===a.localizationObject.decimalseparator&&(p=p.slice(0,v-1)+p.slice(v))}return i==="g"&&(p=p.toLowerCase()),p}case"P":case"p":return r===""&&(r=a.localizationObject.defaultPrecision),r=parseFloat(r),a.inputFormat==="floatingPoint"?(a.numericValue=100*f,o=a.applyPrecisionDigits(r)):o=f.multiply(100).toString()+(r>0?"."+"0".repeat(r):""),a.applySeparators(o)+" %";case"B":case"b":case"O":case"o":case"X":case"x":{let p;switch(a.inputFormat!=="integer"&&(a.inputFormat="integer",d=new Smart.Utilities.NumericProcessor(a,"inputFormat"),f=d.round(d.createDescriptor(e))),i){case"B":case"b":p=2;break;case"O":case"o":p=8;break;default:p=16}if(o=f.toString(p,a._wordLengthNumber),r!==""){const v=parseFloat(r)-o.length;v>0&&(o="0".repeat(v)+o)}return i==="x"&&(o=o.toLowerCase()),o}case"S":case"s":return r===""&&(r=a.localizationObject.defaultPrecision),r=parseFloat(r),a.toScientific(null,r).replace(".",a.localizationObject.decimalseparator);default:return e.toString()}}formatComplexNumber(e,t,n){const a=this;switch(n){case"E":case"e":case"U":case"u":case"F":case"f":case"G":case"g":case"N":case"n":case"S":case"s":return e.imaginaryPart>=0?a.formatNumber(e.realPart,t)+" + "+a.formatNumber(e.imaginaryPart,t)+"i":a.formatNumber(e.realPart,t)+" - "+a.formatNumber(Math.abs(e.imaginaryPart),t)+"i";default:return e.toString()}}toString(e,t,n){return t?this.formatNumber(e,t,n):e.toString()}applyCustomFormat(e,t){const n=this,a=(t=(t=t.replace(/_.|\[\w*\]|\*/g,"")).replace(/\?/g,"#")).split(";");if(typeof e=="string"&&isNaN(e))return a[a.length-1].replace(/"/g,"").replace(/@/g,e.toString());if(e._d)n.inputFormat="integer";else{if(e.imaginaryPart)return e.toString();e=parseFloat(e),n.inputFormat="floatingPoint"}let i=new Smart.Utilities.NumericProcessor(n,"inputFormat"),r=i.createDescriptor(e);n.inputFormat==="integer"&&(r=i.round(r)),n.numericProcessor=i;const o=n.getRelevantFormatSection(a,r);if(o===void 0)return e.toString();if(o.indexOf("@")!==-1)return a[a.length-1].replace(/"/g,"").replace(/@/g,e.toString());const d=o.replace(/".*"/g,"").indexOf("%")!==-1,f=n.getTextParts(o);if(f.main.toLowerCase().indexOf("e")!==-1)return n.applyCustomExponentialFormat(r,f,i);if(f.main.indexOf("/")!==-1)return n.applyCustomFractionalFormat(r,f,i);if(d&&(n.inputFormat==="integer"?r=r.multiply(100):r*=100),f.main===""){if(!d)return f.suffix;let z=r.toString();return n._ignoreMinus&&z.charAt(0)==="-"&&(z=z.slice(1)),z+f.suffix}let p=f.main.replace(/[^0#,. \/]/g,""),v=p.indexOf(".");for(v!==-1&&(p=p.substring(0,v+1)+p.substring(v+1).replace(/\./g,""),p.charAt(p.length-1)==="."&&(p=p.slice(0,p.length-1)),v===0&&(p="#"+p));p.charAt(p.length-1)===",";)p=p.slice(0,p.length-1),n.inputFormat==="floatingPoint"?r/=1e3:r=r.multiply(.001);n.inputFormat==="integer"&&(r=i.round(r));const w=p.indexOf(",")!==-1;p=p.replace(/,/g,"");const C=p.split("."),x=C[0];let L=C[1],A="";if(C.length===1)return n.inputFormat==="floatingPoint"&&(r=i.round(r)),A=r.toString(),n.setTextParts(n.formatWholeNumber(A,x,w),f);A=r.toString();let k=A.split("."),B=n.formatWholeNumber(k[0],x,w),H=k[1]||"";if(L.length<=H.length&&(A=parseFloat(r.toFixed(L.length)).toString(),k=A.split("."),B=n.formatWholeNumber(k[0],x,w),H=k[1]||"",H))return n.setTextParts(B+n.localizationObject.decimalseparator+H.slice(0,L.length),f);L=L.slice(H.length-L.length);let V=L.lastIndexOf("0");return V===-1?H===""?n.setTextParts(B,f):n.setTextParts(B+n.localizationObject.decimalseparator+H,f):n.setTextParts(B+n.localizationObject.decimalseparator+H+"0".repeat(V+1),f)}getRelevantFormatSection(e,t){const n=this,a=n.numericProcessor.compare(t,0,!0);if(a===1)return e[0];let i,r;return e.length>=3?(n._ignoreMinus=!0,i=1,r=2):e.length===2?(n._ignoreMinus=!0,r=0,i=1):e.length===1&&(r=0,i=0),a===0?e[r]:a===-1?e[i]:void 0}getTextParts(e){const t=e.replace(/"[^"]*"/g,""),n=e.match(/"[^"]*"/g),a=t.search(/0|#|\./g),i=Math.max(t.lastIndexOf("0"),t.lastIndexOf("#"),t.lastIndexOf("."),t.lastIndexOf(",")),r=t.slice(a,i+1);if(r==="")return{prefix:"",main:"",suffix:e.replace(/"/g,"")};let o=e.indexOf(r),d=o+r.length;if(n)for(let f=0;f<n.length;f++){const p=e.indexOf(n[f]);o>=p&&d<=p+n[f].length&&(o=e.indexOf(r,p+n[f].length),d=o+r.length)}return{prefix:e.slice(0,o).replace(/"/g,""),main:r,suffix:e.slice(d).replace(/"/g,"")}}applyCustomExponentialFormat(e,t,n){const a=this;let i,r=t.main;const o=r.indexOf(",")!==-1;r=r.replace(/[^0#.eE+-]/g,"");const d=r.toLowerCase().indexOf("e");r=r.substring(0,d+1)+r.substring(d+1).replace(/[eE\.]/g,"");const f=r.charAt(d),p=r.indexOf(".");p!==-1&&(r=r.substring(0,p+1)+r.substring(p+1).replace(/\./g,"")),r.charAt(r.length-1)==="."&&(r=r.slice(0,r.length-1));const v=r.split(f);let w=v[0];const C=w.split("."),x=C[0],L=C[1],A=v[1];let k=e.toString().split(".")[0].replace(/-/,""),B=0;if(k==="0"&&n.compare(e,0)){let H=x.length-1;for(;parseInt(e)===0;)B++,e*=10;k=e.toString().split(".")[0].replace(/-/,""),B+=H,e*=Math.pow(10,H)}if(o&&(w=w.slice(0,1)+","+w.slice(1)),k.length<=x.length)i=a.formatNumber(e,w,void 0,!0)+f+a.formatExponent(0-B,A);else{const H=k.length-x.length;let V=a.inputFormat==="floatingPoint"?e/Math.pow(10,H):e.divide(Math.pow(10,H));L||(i=a.applyThousandsSeparator(n.round(V).toString(),!o)+f+a.formatExponent(H-B,A));let z=V.toString().split(".")[1]||"";z.length===L.length?i=a.applySeparators(V,!o)+f+a.formatExponent(H-B,A):z.length<L.length?i=a.formatNumber(V,w,void 0,!0)+f+a.formatExponent(H-B,A):(V=a.inputFormat==="floatingPoint"?V.toFixed(L.length):V=n.round(e.divide(Math.pow(10,H-L.length))).divide(Math.pow(10,L.length)),i=a.formatNumber(parseFloat(V),w,void 0,!0)+f+a.formatExponent(H-B,A))}return a.setTextParts(i,t)}formatExponent(e,t){let n;return["+","-"].indexOf(t.charAt(0))!==-1&&(n=t.charAt(0),(e>0&&n==="-"||e<0&&n==="+")&&(n=void 0)),e<0&&(e=Math.abs(e),n="-"),t=t.replace(/[+-]/g,""),(n||"")+(e=this.formatNumber(e,t,void 0,!0))}formatWholeNumber(e,t,n){const a=this;let i="";if(e.charAt(0)==="-"&&(a._ignoreMinus||(i="-"),e=e.slice(1)),e==="0"){if(t==="#".repeat(t.length))return i;e=""}if(t.length<=e.length)return i+a.applyThousandsSeparator(e,!n);for(let r=(t=t.slice(0,t.length-e.length)).length-1;r>=0;r--)t.charAt(r)==="0"&&(e="0"+e);return i+a.applyThousandsSeparator(e,!n)}setTextParts(e,t){return t.prefix+e+t.suffix}applyCustomFractionalFormat(e,t,n){const a=this,i=/^([0#,]+[ ]+)?([0#,]+\/[0#,]+)$/;let r,o=t.main.trim();if(!i.test(o))return e.toString();const d=i.exec(o);if(d[2]=d[2].replace(/,/g,""),a.inputFormat==="integer"){const f=d[2].split("/");return d[1]===void 0?r=a.formatNumber(e,f[0],void 0,!0)+"/"+a.formatNumber(1,f[1],void 0,!0):(r=a.formatNumber(e,d[1].trim(),void 0,!0),d[2].indexOf("0")!==-1&&(r+=" "+a.formatNumber(0,f[0],void 0,!0)+"/"+a.formatNumber(1,f[1],void 0,!0))),a.setTextParts(r,t)}if(d[1]===void 0)r=(e<0?"-":"")+a.formatAsFraction(Math.abs(e),d[2]);else{const f=d[1].trim(),p=d[2];r=a.formatNumber(parseInt(e,10),f,void 0,!0)+" "+a.formatAsFraction(n.getPreciseModulo(Math.abs(e),1),p)}return a.setTextParts(r.trim(),t)}formatAsFraction(e,t){const n=this,a=t.split("/");if(e===0)return t.indexOf("0")===-1?"":n.formatNumber(0,a[0],void 0,!0)+"/"+n.formatNumber(1,a[1],void 0,!0);if(e%1==0)return n.formatNumber(e,a[0],void 0,!0)+"/"+n.formatNumber(1,a[1],void 0,!0);const i=[];n.approximateFractions(e,i);const r=a[1].length>=2?2:1;let o=[],d=[];i.forEach(function(p,v){const w=p.denominator.toString().length,C=Math.abs(e-p.numerator/p.denominator);if(o[w]===void 0)return d[w]=v,void(o[w]=C);C<o[w]&&(d[w]=v,o[w]=C)});let f=d[r]?i[d[r]]:i[d[1]];return n.formatNumber(f.numerator,a[0],void 0,!0)+"/"+n.formatNumber(f.denominator,a[1],void 0,!0)}approximateFractions(e,t){const n=[0,1],a=[1,0],i=this.getMaxNumerator(e);let r,o=e,d=NaN;for(let f=2;f<1e3;f++){const p=Math.floor(o);if(n[f]=p*n[f-1]+n[f-2],Math.abs(n[f])>i||(a[f]=p*a[f-1]+a[f-2],r=n[f]/a[f],r===d)||(t.push({numerator:n[f],denominator:a[f]}),r===e))return;d=r,o=1/(o-p)}}getMaxNumerator(e){let t=null,n=e.toString().indexOf("E");n===-1&&(n=e.toString().indexOf("e")),t=n===-1?e.toString():e.toString().substring(0,n);let a=null;const i=t.toString().indexOf(".");i===-1?a=t:i===0?a=t.substring(1,t.length):i<t.length&&(a=t.substring(0,i)+t.substring(i+1,t.length));let r=a;const o=r.toString().length,d=e;let f=d.toString().length;d===0&&(f=0);const p=o-f;for(let v=p;v>0&&r%2==0;v--)r/=2;for(let v=p;v>0&&r%5==0;v--)r/=5;return r}exponentialToSuperscript(e){const t=e.indexOf("e"),n=e.slice(t+1).replace(/0{1,2}/,"");let a=e.slice(0,t+1);return a=a.replace("e","×10"),a+=this.toSuperscript(n),a=a.replace("+",""),a}toSuperscript(e,t){const n="-0123456789",a="⁻⁰¹²³⁴⁵⁶⁷⁸⁹";let i="";for(let r=0;r<e.length;r++)if(t===!0){const o=a.indexOf(e.charAt(r));i+=o!==-1?n[o]:e[r]}else{const o=n.indexOf(e.charAt(r));i+=o!==-1?a[o]:e[r]}return i}})},8649:()=>{Smart("smart-radio-button",class extends Smart.ToggleButton{static get properties(){return{checkMode:{value:"both",allowedValues:["both","input","label"],type:"string"},type:{value:"radio",type:"string",defaultReflectToAttribute:!0,readonly:!0},groupName:{value:"",type:"string"}}}template(){return`<div  id='container' class='smart-container'>
                 <div class ='smart-overlay'></div>
                 <span id='radioButtonInput' class ='smart-input'></span>
                 <span id='radioButtonLabel' inner-h-t-m-l='[[innerHTML]]' class ='smart-label'><content></content></span>
                 <input id='hiddenInput' class ='smart-hidden-input' type='hidden'>
               </div>`}static get listeners(){return{down:"_downHandler","document.up":"_documentUpHandler",mouseenter:"_elementMouseEnterHandler","radioButtonInput.mouseenter":"_radioMouseEnterHandler","radioButtonInput.mouseleave":"_radioMouseLeaveHandler",focus:"_focusHandler",blur:"_blurHandler"}}static get styleUrls(){return["smart.toggle.css"]}_radioMouseEnterHandler(){this.$.setAttributeValue("hover",!0)}_radioMouseLeaveHandler(){this.$.setAttributeValue("hover",!1)}_focusHandler(){this.$.setAttributeValue("focus",!0)}_blurHandler(){this.$.setAttributeValue("focus",!1)}_mouseEnterHandler(){this.$.setAttributeValue("hover",!0)}_mouseLeaveHandler(){this.$.setAttributeValue("hover",!1)}ready(){const e=this;super.ready(),e.classList.add("smart-toggle-box"),e._handleMultipleCheckedInstances(),e._updateHidenInputNameAndValue(),e._updateGroupValue()}_downHandler(e){const t=this,n=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(!(t.disabled||t.readonly||t.checkMode==="input"&&n!==t.$.radioButtonInput||t.checkMode==="label"&&n!==t.$.radioButtonLabel)){if(t.$.setAttributeValue("active",!0),t.hasRippleAnimation){const a=t.$.radioButtonInput.getBoundingClientRect(),i=window.scrollX||window.pageXOffset,r=window.scrollY||window.pageYOffset;Smart.Utilities.Animation.Ripple.animate(t.$.radioButtonInput,a.left+a.width/2+i,a.top+a.height/2+r)}t._preventAction?t._preventAction=!1:(t.clickMode!=="release"&&t.clickMode!=="pressAndRelease"||(t._pressed=!0),t.clickMode!=="press"&&t.clickMode!=="pressAndRelease"||(t.clickMode==="pressAndRelease"&&(t.groupName===""?t._checkedBeforeChange=t.parentNode.querySelector("smart-radio-button[checked]"):t._checkedBeforeChange=document.querySelector('smart-radio-button[group-name="'+t.groupName+'"][checked]')),t._handleMouseInteraction()))}}_elementMouseEnterHandler(){const e=this;e.clickMode!=="hover"||e.disabled||e.readonly||e._handleMouseInteraction()}_documentUpHandler(e){const t=this,n=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;!t._pressed||t.disabled||t.readonly||t.checkMode==="input"&&n!==t.$.radioButtonInput||t.checkMode==="label"&&n!==t.$.radioButtonLabel||e.originalEvent.type==="pointercancel"||(t.clickMode==="release"?t._handleMouseInteraction():(t._checkedBeforeChange===null?(t.$.fireEvent("change",{value:!1,oldValue:!0,changeType:"pointer"}),t.$.fireEvent("uncheckValue",{changeType:"pointer"}),t.checked=!1):t._checkedBeforeChange._changeCheckState("pointer"),t.focus(),t._updateHidenInputNameAndValue()),t.$.setAttributeValue("active",!1),t._pressed=!1)}_handleMouseInteraction(){const e=this;e._handleTextSelection(),e._changeCheckState("pointer"),e.focus(),e._updateHidenInputNameAndValue()}_handleMultipleCheckedInstances(){const e=Array.from(document.querySelectorAll('smart-radio-button[group-name="'+this.groupName+'"][checked]')),t=Array.from(document.querySelectorAll('smart-ui-radio-button[group-name="'+this.groupName+'"][checked]')),n=e.length+t.length;n<2||e.concat(...t).forEach((a,i)=>i<n-1&&(a.checked=!1))}_changeCheckState(e){const t=this;let n=document.querySelectorAll('smart-radio-button[group-name="'+t.groupName+'"]'),a=document.querySelectorAll('smart-ui-radio-button[group-name="'+t.groupName+'"]'),i=Array.from(n).concat(...a);if(t.checked===!0&&e==="api"||t.checked===!1)if(i.length>0)t._changeCheckStateInGroup(i,e);else{let r=t.parentNode;t.getRootNode().host?(r=t.getRootNode().host.parentNode,n=r.querySelectorAll("smart-radio-button:not([group-name])"),a=r.querySelectorAll("smart-ui-radio-button:not([group-name])"),i=Array.from(n).concat(...a)):i=r.querySelectorAll("smart-radio-button:not([group-name])"),t._changeCheckStateInGroup(i,e)}}_updateGroupValue(){const e=this;if(e.dataset.target){const t=document.querySelector(e.dataset.target);if(t&&e.checked){const n=e.dataset.property,a=e.dataset.value;if(n&&t[n]!==void 0){let i=a;i==="true"&&(i=!0),i==="false"&&(i=!1),t[n]=i}else e.name?(t.value=e.name,e.id&&t.setAttribute("data-id",e.id)):e.id&&(t.value=e.id),e._targetDispatchTimer&&clearTimeout(e._targetDispatchTimer),e._targetDispatchTimer=setTimeout(()=>{t.dispatchEvent(new Event("change"))},100)}}}_changeCheckStateInGroup(e,t){const n=this,a=n.getRootNode().host?n.getRootNode().host:n;for(let i=0;i<e.length;i++)e[i]._isUpdating=!0,e[i]===a?a.checked=!0:e[i].checked&&(e[i].checked=!1),e[i]._isUpdating=!1;a.nativeElement?(a.nativeElement.$.fireEvent("change",{value:!0,oldValue:!1,changeType:t}),a.nativeElement.$.fireEvent("checkValue",{changeType:t})):(a.$.fireEvent("change",{value:!0,oldValue:!1,changeType:t}),a.$.fireEvent("checkValue",{changeType:t})),n._updateGroupValue()}propertyChangedHandler(e,t,n){const a=this;switch(e){case"value":a._updateHidenInputNameAndValue();break;case"checked":a._isUpdating||a._changeCheckState("api"),a._updateHidenInputNameAndValue();break;case"name":a._updateHidenInputName();break;default:super.propertyChangedHandler(e,t,n)}}})},6670:()=>{Smart("smart-scheduler",class extends Smart.ScrollViewer{static get properties(){return{available:{value:[],type:"array"},autoCreateDialog:{value:!1,type:"boolean"},autoHeightAllDayCells:{value:!1,type:"boolean"},autoScrollStep:{value:30,type:"number"},colorScheme:{value:["#D50000","#E67C73","#F4511E","#F6BF26","#33B679","#0B8043","#039BE5","#3F51B5","#7986CB","#8E24AA","#616161",""],type:"array"},currentTime:{value:null,type:"any",validator:"_dateValidator"},currentTimeIndicator:{value:!1,type:"boolean"},currentTimeIndicatorInterval:{value:1,validator:"_currentTimeIndicatorIntervalValidator",type:"number"},contextMenuDataSource:{value:null,type:"any",reflectToAttribute:!1},contextMenuClipboardActions:{value:!1,type:"boolean"},eventTemplate:{value:null,type:"any",reflectToAttribute:!1},eventCollectorTemplate:{value:null,type:"any"},eventRenderMode:{allowedValues:["classic","modern"],value:"modern",type:"string"},eventTooltipTemplate:{value:null,type:"any"},cellTemplate:{value:null,type:"any",reflectToAttribute:!1},dateCurrent:{value:new Date,type:"any",validator:"_dateValidator"},dataExport:{value:{header:{value:!0,type:"boolean"},columns:{value:[],type:"array"},style:{value:null,type:"object"},fileName:{value:"SmartScheduler",type:"string?"},pageOrientation:{value:"portrait",type:"string"}},type:"object"},dataSource:{value:[],type:"any",reflectToAttribute:!1},dateSelectorFormatFunction:{value:null,reflectToAttribute:!1,type:"function?"},dayFormat:{value:"numeric",allowedValues:["2-digit","numeric"],type:"string"},disableAutoScroll:{value:!1,type:"boolean"},disableDrag:{value:!1,type:"boolean"},disableDrop:{value:!1,type:"boolean"},disableResize:{value:!1,type:"boolean"},disableSelection:{value:!1,type:"boolean"},disableWindowEditor:{value:!1,type:"boolean"},disableContextMenu:{value:!1,type:"boolean"},disableEventMenu:{value:!1,type:"boolean"},disableViewMenu:{value:!1,type:"boolean"},disableDateMenu:{value:!1,type:"boolean"},disableConflicts:{value:!1,type:"boolean"},dragFeedbackFormatFunction:{value:null,type:"function?",reflectToAttribute:!1},dragOffset:{value:[10,10],type:"array"},filterable:{value:!1,type:"boolean"},filter:{value:null,type:"any"},filterMode:{value:"equals",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string"},firstDayOfWeek:{value:0,type:"number",defaultValue:0,validator:"_firstDayOfWeekValidator"},footerTemplate:{value:null,type:"any",reflectToAttribute:!1},groupByDate:{value:!1,type:"boolean"},groupOrientation:{allowedValues:["horizontal","vertical"],value:"horizontal",type:"string"},groupTemplate:{value:null,type:"any",reflectToAttribute:!1},groups:{value:[],type:"array"},hourEnd:{value:23,type:"number",validator:"_hourValidator"},hourStart:{value:0,type:"number",validator:"_hourValidator"},hourFormat:{value:"numeric",allowedValues:["numeric","2-digit"],type:"string"},headerTemplate:{value:null,type:"any",reflectToAttribute:!1},headerDatePosition:{value:"near",allowedValues:["near","far"],type:"string"},headerNavigationStyle:{value:"flat",allowedValues:["flat","raised"],type:"string"},headerViewPosition:{value:"far",allowedValues:["near","far"],type:"string"},hideAllDay:{value:!1,type:"boolean"},hideNonworkingWeekdays:{value:!1,type:"boolean"},hideOtherMonthDays:{value:!1,type:"boolean"},hideTodayButton:{value:!1,type:"boolean"},hideViewMenuCheckableItems:{value:!1,type:"boolean"},hideWeekend:{value:!1,type:"boolean"},legendLocation:{allowedValues:["header","footer"],value:"footer",type:"string"},legendPosition:{allowedValues:["near","far"],value:"near",type:"string"},legendLayout:{allowedValues:["auto","","menu"],value:"auto",type:"string"},legendLayoutMenuBreakpoint:{value:10,type:"number"},max:{value:new Date(2100,0,1),type:"any",validator:"_dateValidator"},maxEventsPerCell:{value:null,type:"number?"},min:{value:new Date(1900,0,1),type:"any",validator:"_dateValidator"},messages:{extend:!0,value:{en:{invalidValue:"{{elementType}}: Invalid {{property}} value. {{property}} should be of type {{typeOne}} or {{typeTwo}}.",invalidTimeZone:"{{elementType}}: Invalid timeZone value. TimeZone should be the id of an allowed timeZone value.",incorrectArgument:"{{elementType}}: Incorrect argument {{argumentName}} in method {{methodName}}.",exceptionExists:"{{elementType}}: Trying to add an exception via {{methodName}} that already exists. Cannot have duplicate exception of the same event on same date.",noId:"SmartScheduler requires an id in order to save/load/clear a state.",agenda:"Agenda",agendaPlaceholder:"No events to display",day:"Day",week:"Week",month:"Month",allDay:"All Day",timelineDay:"Timeline Day",timelineWeek:"Timeline Week",timelineMonth:"Timeline Month",newEvent:"New Event",ok:"Ok",cancel:"Cancel",delete:"Delete",label:"Label",dateStart:"Start Date",dateEnd:"End Date",repeat:"Repeat",description:"Description",repeatFreq:"Repeat",repeatInterval:"Repeat Every",repeatOn:"Repeat On",repeatEnd:"End Repeat",repeatEndOption:"Never",repeatEndOnOption:"On",repeatEndAfterOption:"After",repeatEndAfter:"occurrence(s)",hidden:"Hidden",hourly:"Hourly",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly",repeatConfirm:"Do you want to edit only the current event or the whole series ?",repeatConfirmLabel:"Edit Repeating Event",create:"Create Event on ",edit:"Edit",cut:"Cut",copy:"Copy",paste:"Paste",editEvent:"Edit event",editSeries:"Edit series",eventException:"Event Exception",collector:"more",repeatEveryHour:"hours",repeatEveryDay:"days",repeatEveryWeek:"weeks",repeatEveryMonth:"months",repeatEveryYear:"years",backgroundColor:"Background Color",status:"Status",resources:"Resources",selectPlaceholder:"Select...",none:"None",free:"Free",busy:"Busy",tentative:"Tentative",outOfOffice:"Out of Office",exceptions:"Exceptions",resetExceptions:"Reset Exceptions",notifications:"Notification(s)",notificationMessage:"is starting on",today:"Today",agendaShortcut:"A",dayShortcut:"D",weekShortcut:"W",monthShortcut:"M",timelineDayShortcut:"T+D",timelineWeekShortcut:"T+W",timelineMonthShortcut:"T+M",showWeekends:"Show weekends",beforeAt:"before at",days:"days",weeks:"weeks",placeholder:"Add notification",placeholderLink:"Add video conferencing",placeholderSetLink:"Set video conferencing link",invalidConferenceLink:"Invalid video conference link.",now:"Now",dateTabLabel:"DATE",timeTabLabel:"TIME",hours:"Hours",minutes:"Minutes",am:"am",pm:"pm",loadingIndicatorPlaceholder:"Loading...",duplicate:"Copy",deleteConfirm:"Do you want to delete only the current event or the whole repeating series ?",deleteConfirmLabel:"Delete Repeating Event",deleteConfirmEvent:"Delete Event",deleteConfirmSeries:"Delete Series",joinWith:"Join with {{value}}",join:"Join the meeting",addTitle:"Add Title",noDate:"No date",unnamed:"Unnamed",dropToUnschedule:"Drop here to unschedule it",dropToSchedule:"You can schedule these by dragging them onto the calendar",show:"Events",showN:"Events ({{value}} unscheduled)",all:"All",withoutDates:"Without dates",withDates:"With dates",collision:"This time slot is already reserved",navigateTo:"Navigate to event"}},type:"object"},minuteFormat:{value:"2-digit",allowedValues:["numeric","2-digit"],type:"string"},monthFormat:{value:"long",allowedValues:["2-digit","numeric","long","short","narrow"],type:"string"},mouseWheelStep:{value:50,type:"number"},nonworkingDays:{value:[],type:"array",validator:"_nonworkingDayValidator"},nonworkingHours:{value:[],type:"array",validator:"_nonworkingTimeValidator"},notificationInterval:{value:60,validator:"_currentTimeIndicatorIntervalValidator",type:"number"},onItemInserted:{value:null,reflectToAttribute:!1,type:"function?"},resizeHandlesVisibility:{allowedValues:["auto","hidden","visible"],value:"auto",type:"string"},resizeInterval:{value:0,type:"number"},resources:{value:[],type:"any",reflectToAttribute:!1},restrictedDates:{value:[],type:"array",validator:"_datesValidator"},restricted:{value:[],type:"array"},restrictedHours:{value:[],type:"array",validator:"_nonworkingTimeValidator"},specialDates:{value:[],type:"array"},scrollButtonsPosition:{value:"near",allowedValues:["near","far","both"],type:"string"},shadeUntilCurrentTime:{value:!1,type:"boolean"},showLegend:{value:!1,type:"boolean"},showList:{value:!1,type:"boolean"},listWidth:{value:250,type:"number"},sortBy:{value:null,type:"string?"},selectOne:{value:!1,type:"boolean"},sortFunction:{value:null,type:"function?"},sortOrder:{allowedValues:["asc","desc","custom"],value:"asc",type:"string"},spinButtonsDelay:{value:200,type:"number"},spinButtonsInitialDelay:{value:0,type:"number"},statuses:{value:[{label:"None",value:void 0},{label:"Free",value:"free"},{label:"Tentative",value:"tentative"},{label:"Busy",value:"busy"},{label:"Out of Office",value:"outOfOffice"}],type:"array"},timelineHeaderFormatFunction:{value:null,type:"function?",reflectToAttribute:!1},timelineDayScale:{value:"hour",allowedValues:["hour","halfHour","quarterHour","tenMinutes","fiveMinutes"],type:"string"},timeRulerTicks:{value:!1,type:"boolean"},timeZone:{value:"local",type:"string",validator:"_timeZoneValidator"},timeZones:{value:[],type:"array",validator:"_timeZonesValidator"},tooltipDelay:{value:0,type:"number"},tooltipOffset:{value:[],type:"array"},undoRedoSteps:{value:100,type:"number"},view:{value:"day",type:"string",validator:"_viewValidator"},viewType:{allowedValues:["agenda","day","week","month","timelineDay","timelineWeek","timelineMonth"],defaultReflectToAttribute:!0,value:"day",type:"string",validator:"_viewTypeValidator"},views:{value:["day","week","month"],type:"array",validator:"_viewsValidator"},viewSelectorType:{allowedValues:["auto","tabs","menu"],value:"menu",type:"string"},viewStartDay:{value:"firstDayOfWeek",type:"string",allowedValues:["dateCurrent","firstDayOfWeek"]},weekdayFormat:{value:"short",allowedValues:["long","short","narrow"],type:"string"},yearFormat:{value:"numeric",allowedValues:["2-digit","numeric"],type:"string"},windowCustomizationFunction:{value:null,reflectToAttribute:!1,type:"function?"}}}template(){return`<div id="container" role="presentation">
                    <div id="header" class="smart-scheduler-header" role="heading" aria-level="1">
                        <div id="dateSelectorContainer" class="smart-scheduler-date-nav" role="presentation">
                            <smart-button today id="todayDate" right-to-left="[[rightToLeft]]" class="smart-scheduler-nav"></smart-button>
                            <smart-repeat-button prev id="previousDate" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]"
                             aria-label="Previous date" class="smart-scheduler-nav"></smart-repeat-button>
                             <smart-repeat-button next id="nextDate" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]"
                              aria-label="Next date" class="smart-scheduler-nav"></smart-repeat-button>
                            <smart-button current id="currentDate" right-to-left="[[rightToLeft]]" class="smart-scheduler-nav"></smart-button>
                        </div>
                        <div id="viewSelectorContainer" class="smart-scheduler-view-nav" role="presentation">
                            <div id="viewItemsContainer" class="smart-scheduler-items-container" role="listbox" aria-label="View Items"></div>
                            <smart-button id="viewItemsButton" class="smart-scheduler-view-items-button smart-visibility-hidden"
                            aria-label="View Selector DropDown" right-to-left="[[rightToLeft]]"></smart-button>
                            <smart-button id="viewListButton" style="display: none;" class="smart-scheduler-list-button smart-scheduler-view-list-button smart-hidden"
                            aria-label="View List DropDown" right-to-left="[[rightToLeft]]"></smart-button>
                        </div>
                    </div>
                    <div class="smart-scheduler-view-container" id="viewContent" role="presentation">
                        <div id="timeline" class="smart-scheduler-view">
                                <div id="timelineHeaderHorizontal" class="smart-scheduler-view-header-horizontal" role="rowgroup">
                                    <div class="smart-scheduler-view-time-container" id="timelineViewCellsContainer" role="row">
                                        <div class="smart-scheduler-view-label-container" id="timelineViewCellsLabelContainer" role="presentation"></div>
                                        <div class="smart-scheduler-view-header-horizontal-content" id="timelineHeaderHorizontalContent" role="presentation">
                                            <div class="smart-scheduler-view-details" role="row"></div>
                                            <div class="smart-scheduler-view-time" role="row">
                                                <div class="smart-scheduler-cells" role="presentation"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="smart-scheduler-view-all-day" id="timelineViewAllDay" role="row">
                                        <div class="smart-scheduler-view-all-day-label-container" id="timelineAllDayLabelContainer" role="presentation">
                                            <div class="smart-scheduler-view-all-day-label" id="timelineViewAllDaylabel" role="presentation"></div>
                                            <div class="smart-scheduler-time-zone-container" id="timelineTimeZoneLabelContainer"></div>
                                        </div>
                                        <div class="smart-scheduler-view-all-day-content" id="timelineViewAllDayContent" role="presentation">
                                            <div class="smart-scheduler-cells-container" id="timelineViewAllDayCellsContainer" role="row"></div>
                                            <div class="smart-scheduler-events-container" id="allDayEventsContainer" role="menu"></div>
                                        </div>
                                    </div>
                                </div>
                                <div id="timelineHeaderVertical" class="smart-scheduler-view-header-vertical" role="rowgroup">
                                    <div class="smart-scheduler-view-header-vertical-content" id="timelineHeaderVerticalContent" role="presentation">
                                        <div class="smart-scheduler-view-time" role="row">
                                            <div class="smart-scheduler-cells" role="presentation"></div>
                                        </div>
                                    </div>
                                </div>
                                <div id="timelineContainer" class="smart-scheduler-scrollable-container" role="rowgroup">
                                    <div id="timelineContent" class="smart-scheduler-content" role="presentation">
                                        <div id="timelineCellsContainer" class="smart-scheduler-cells-container" role="presentation"></div>
                                        <div id="timelineEventsContainer" class="smart-scheduler-events-container" role="menu"></div>
                                        <div id="timelineIndicatorsContainer" class="smart-scheduler-indicators-container" role="presentation"></div>
                                    </div>
                                </div>
                        </div>
                        <smart-scroll-bar wait id="verticalScrollBar" class="smart-scheduler-view-scroll-bar" orientation="vertical"
                        right-to-left="[[rightToLeft]]" aria-controls="[[id]]" animation="[[animation]]"></smart-scroll-bar>
                        <smart-scroll-bar wait id="horizontalScrollBar" class="smart-scheduler-view-scroll-bar"
                        right-to-left="[[rightToLeft]]" aria-controls="[[id]]" animation="[[animation]]"></smart-scroll-bar>
                    </div>
                    <div id="footer" class="smart-scheduler-footer"></div>
                    <smart-tooltip id="tooltip" class="smart-scheduler-tooltip" role="presentation" position="auto" arrow open-mode="manual"
                        right-to-left="[[rightToLeft]]"  delay="[[tooltipDelay]]" offset="[[tooltipOffset]]"></smart-tooltip>
                </div>`}static get listeners(){return{down:"_downHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler","document.dragstart":"_dragStartHandler","container.click":"_containerClickHandler","container.contextmenu":"_containerContextMenuHandler","container.wheel":"_mouseWheelHandler","horizontalScrollBar.change":"_horizontalScrollbarHandler","verticalScrollBar.change":"_verticalScrollbarHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",move:"_moveHandler",dragover:"_dragoverHandler",drop:"_dropHandler",resize:"_resizeEventHandler","tooltip.open":"_tooltipVisibilityHandler","tooltip.opening":"_tooltipVisibilityHandler","tooltip.closing":"_tooltipVisibilityHandler","tooltip.close":"_tooltipVisibilityHandler","tooltip.change":"_tooltipChangeHandler","tooltip.click":"_tooltipClickHandler","tooltip.keydown":"_tooltipKeyDownHandler","tooltip.keyup":"_tooltipKeyUpHandler","tooltip.down":"_tooltipDownHandler","tooltip.contextmenu":"_tooltipContextMenuHandler","timeline.focus":"_timelineFocusHandler","timeline.focusin":"_timelineFocusHandler","timeline.focusout":"_timelineFocusHandler","viewListButton.pointerdown":"_viewListHandler"}}static get styleUrls(){return["smart.scheduler.css"]}static get requires(){return{"Smart.Window":"smart.window.js","Smart.Calendar":"smart.calendar.js","Smart.Tooltip":"smart.tooltip.js"}}propertyChangedHandler(e,t,n){super.propertyChangedHandler(e,t,n);const a=this;switch(e){case"showList":a._refreshViewList();break;case"contextMenuClipboardActions":{const i=a.$.tooltip;i.visible&&i.contains(a._contextList)&&a._getContextMenu(i.selector);break}case"dataSource":a._handleDataAdapter(),a._createEvents(),a._createTimeline(),a.closeWindow();break;case"disabled":a._setFocusable(),a._refreshEvents();break;case"disableSelection":a._handleCellSelection();break;case"disableContextMenu":case"disableDateMenu":case"disableEventMenu":case"disableViewMenu":a.$.tooltip.close();break;case"disableWindowEditor":a.closeWindow();break;case"currentTimeIndicator":case"shadeUntilCurrentTime":a._setCurrentTimeIndicators();break;case"eventRenderMode":a._refreshEvents();break;case"filter":case"filterable":case"filterMode":if(e==="filter"){const i=a._legend;i&&a.$.container.contains(i)&&i.querySelectorAll(".smart-scheduler-legend-res-item").forEach(r=>{r.removeAttribute("unselected"),r.setAttribute("aria-selected",!0)}),delete a._eventsBetween,a._createTimeline()}else a._refreshTimelineEvents();break;case"autoHeightAllDayCells":case"firstDayOfWeek":case"viewStartDay":case"max":case"min":a._calendar&&(a._calendar[e]=n),a._createTimeline(),a._refreshDateNavButtons(),a._refreshDateSelector();break;case"maxEventsPerCell":a._refreshEvents();break;case"hideAllDay":["day","week"].indexOf(a.viewType)>-1&&a._createTimeline();break;case"hideOtherMonthDays":a._refreshTimelineEvents();break;case"hideWeekend":case"hideNonworkingWeekdays":a._checkHideWekendItem(),a.viewType.toLowerCase().indexOf("day")<0&&a._createTimeline();break;case"hideViewMenuCheckableItems":a._refreshViewSelector();break;case"timeZone":a._events.forEach(i=>a._setEventTimeZone(i,t)),a._createTimeline();break;case"timeZones":a._createTimeline();break;case"dateCurrent":case"groups":case"groupOrientation":case"hourStart":case"hourEnd":case"nonworkingDays":case"nonworkingHours":case"timelineDayScale":case"resources":case"rightToLeft":{const i=a.$.schedulerWindow,r=a.$.confirmSchedulerWindow;if([a.$.toast,a.$.tooltip,a._calendar,a._list,i,r].forEach(o=>o?o[e]=n:void 0),i&&i.opened){const o=i.querySelectorAll(".smart-element[event-editor]"),d=n?"left":"right";for(let f=0;f<o.length;f++){const p=o[f];p[e]=n,p.calendarButtonPosition?p.calendarButtonPosition=d:p.dropDownButtonPosition!=="none"&&(p.dropDownButtonPosition=d)}}e==="groups"&&a.$.timeline&&a.$.timeline.removeAttribute("show-group-header"),e==="resources"&&a._setLegend(),a._createTimeline(),a._refreshDateSelector();break}case"sortBy":case"sortOrder":case"sortFunction":a._createTimeline();break;case"undoRedoSteps":delete a._undoRedoHistory;break;case"view":a._handleViewSelection(),a._createTimeline(),a._refreshDateSelector(),a._scrollToView(),a.$.fireEvent("viewChange",{oldValue:t,value:n});break;case"views":a._handleViewSelection(),a._createTimeline(),a._refreshDateSelector(),a._refreshViewSelector();break;case"viewSelectorType":a._setHeader();break;case"headerTemplate":a._setHeader(),a._createTimeline();break;case"footerTemplate":a._setFooter(),a._createTimeline();break;case"cellTemplate":case"groupTemplate":a._templates&&delete a._templates[e],a._createTimeline();break;case"unfocusable":a._setFocusable(),a._refreshEvents();break;case"hourFormat":case"minuteFormat":case"dayFormat":case"monthFormat":case"weekdayFormat":case"yearFormat":case"dateSelectorFormatFunction":case"timelineHeaderFormatFunction":case"messages":case"locale":{a._createTimeline(),a._setHeader(),a._calendar&&e==="locale"&&(a._calendar[e]=n);const i=a.$.schedulerWindow,r=a.$.confirmSchedulerWindow;if(i&&i.opened){const o=i._target;i.close(),a._openWindow(o.event,o.originalTarget)}else if(r&&r.opened){const o=r._target;r.close(),a._openWindow(o.event,o.originalTarget)}break}case"legendLocation":case"showLegend":a._setLegend(),a._createTimeline();break;case"restrictedDates":case"restrictedHours":delete a._eventsBetween,a._createTimeline();break;case"windowCustomizationFunction":{const i=a.$.schedulerWindow||a.$.confirmSchedulerWindow;if(!i)return;if(n===null)i.clear();else if(i.opened){const r=i===a.$.confirmSchedulerWindow?"confirm":"";a.windowCustomizationFunction(i,r,a._cloneObject(i._target))}break}}}attached(){const e=this;super.attached(),e._scrollView||(e._scrollView=new Smart.Utilities.Scroll(e.$.timeline,e.$.horizontalScrollBar,e.$.verticalScrollBar));const t=[e.$.schedulerWindow,e.$.confirmSchedulerWindow],n=e.$.tooltip;n.visible&&e.getShadowRootOrBody().appendChild(n);for(let a=0;a<t.length;a++){const i=t[a];if(i&&i.opened){const r=e.$schedulerWindow;e._handleModal(!0),r.listen("open",e._windowOpenHandler.bind(e)),r.listen("close",e._windowCloseHandler.bind(e)),r.listen("closing",e._windowClosingHandler.bind(e)),r.listen("click",e._windowClickHandler.bind(e)),r.listen("change",e._windowChangeHandler.bind(e)),r.listen("keydown",e._windowKeyDownHandler.bind(e)),i.hasAnimation&&i.listen("transitionend",e._windowTransitionendHandler.bind(e)),e.getShadowRootOrBody().appendChild(i)}}e.$.container.contains(e.$.toast)||e._checkNotifications(!0)}detached(){const e=this;super.detached(),e._scrollView&&(e._scrollView.unlisten(),e._scrollView.disableSwipeScroll=!1,delete e._scrollView),e._touchmoveInside=!1,delete e._dragDetails,Smart.Scheduler.schedulerStart===e&&(Smart.Scheduler.feedback.remove(),delete Smart.Scheduler.schedulerStart,delete Smart.Scheduler.hoveredCell,delete Smart.Scheduler.hoveredScheduler,delete Smart.Scheduler.feedback);const t=[e.$.schedulerWindow,e.$.confirmSchedulerWindow],n=e.$.tooltip;e.$.container.contains(n)||e.$.container.appendChild(n),e._removeToast();for(let a=0;a<t.length;a++){const i=t[a];if(e._handleModal(),i){i.remove();const r=i===e.$.schedulerWindow?e.$schedulerWindow:e.$confirmSchedulerWindow;r.unlisten("open"),r.unlisten("close"),r.unlisten("closing"),r.unlisten("click"),r.unlisten("change"),r.unlisten("keydown"),r.unlisten("transitionend")}}}ready(){this._customScrollView=!0,super.ready()}render(){const e=this,t=e.viewType.toLowerCase();if(e.firstDayOfWeek!==0&&t.indexOf("week")>-1&&e.dateCurrent&&e.dateCurrent.getDay()!==e.firstDayOfWeek){const n=e.dateCurrent.getDay()-e.firstDayOfWeek;e.dateCurrent=e.dateCurrent.setDate(e.dateCurrent.getDate()-e.dateCurrent.getDay()+e.firstDayOfWeek-(n>0?0:7))}e._isViewUpdated=!0,e._setViewType(e.view),delete e._isViewUpdated,e.hasAttribute("role")||e.setAttribute("role","grid"),window.rrule&&window.rrule.RRule||e.error(e.localize("missingReference",{elementType:e.nodeName.toLowerCase(),files:"rrule.min.js"})),e._rRule=window.rrule.RRule,e._rRule&&window.rrule.RRule.RRule&&(e._rRule=window.rrule.RRule.RRule),Smart.Utilities.Core.isMobile&&(e._isMobile=!0,e.$.timeline.setAttribute("mobile",""),e.autoCreateDialog=!1),e._handleDataAdapter(),e._setFocusable(),e._setScrollBars(),e._setHeader(),e._setFooter(),e._createEvents(),e._createTimeline(),e.checkLicense(),super.render()}get events(){const e=this,t=e._events;return e.isReady&&t&&t.length?t.map(n=>e._cloneObject(n)):[]}addEvent(e,t){this.insertEvent(e,-1,t)}containsEvent(e){return!!this._containsEvent(e)}clearState(){const e=this;e.id?window.localStorage.removeItem("SmartScheduler"+e.id):e.warn(e.localize("noId"))}getState(){const e=this,t=e._events||[];return{dateCurrent:e.dateCurrent.toISOString(),dataSource:JSON.parse(JSON.stringify(t.map(n=>e._cloneObject(n,!0)))),timeZone:e.timeZone}}loadState(e){const t=this;if(!e){if(!t.id)return;e=JSON.parse(window.localStorage.getItem("SmartScheduler"+t.id))}if(!e)return;let n=JSON.parse(JSON.stringify(e.dataSource)),a=new Date(e.dateCurrent),i=e.timeZone;a instanceof Date&&!isNaN(a.getTime())&&(t.set("dateCurrent",a),t._refreshDateSelector()),Array.isArray(n)&&(t.set("dataSource",n),t._createEvents(void 0,i),t._createTimeline())}saveState(e){const t=this;t.id?(e||(e=t.getState()),window.localStorage.setItem("SmartScheduler"+t.id,JSON.stringify(e))):t.warn(t.localize("noId"))}createEvent(e,t,n,a,i,r=""){const o={label:e,value:t,id:t,dateStart:n,dateEnd:a,description:r,allDay:i};this.addEvent(o)}insertEvent(e,t,n){const a=this,i=a._events;if(i.indexOf(e)>-1||a._containsEvent(e))return;const r=a._createEvents(Array.isArray(e)?e:[e])[0];if(!r)return;const o=a._cloneObject(r);a.$.fireEvent("itemChanging",{type:"inserting",item:o}).defaultPrevented||(typeof t=="number"?i.splice(Math.max(0,Math.min(i.length,t)),0,r):i.push(r),a._isUpdating||(a._refreshTimelineEvents(),a._updateUndoRedo(void 0,a._cloneObject(r),"itemInsert"),a.$.fireEvent("itemInsert",{item:o}),a.$.fireEvent("itemChange",{type:"insert",item:o}),a.onItemInserted&&a.onItemInserted(o,n)))}updateEvent(e,t){const n=this,a=n._events;if(!(e=typeof e=="number"&&a?a[e]:n._containsEvent(e)))return;const i=n._cloneObject(e);if(!n.$.fireEvent("itemChanging",{type:"updating",item:i}).defaultPrevented){for(let r in t)e[r]=t[r];e.dateStart=n._dateValidator(void 0,e.dateStart),e.dateEnd=n._dateValidator(void 0,e.dateEnd),e.dateEnd=new Date(Math.max(e.dateStart.getTime(),e.dateEnd.getTime())),n._isUpdating||(n._refreshTimelineEvents(),n.$.fireEvent("itemUpdate",{item:i}),n.$.fireEvent("itemChange",{type:"update",item:i}))}}getEvent(e){const t=this;if(t._events)for(let n=0;n<t._events.length;n++){const a=t._events[n];if(a){if(a.id===void 0)return t._events[e];if(a.id===e)return a}}if(t._noDateEvents)for(let n=0;n<t._noDateEvents.length;n++){const a=t._noDateEvents[n];if(a){if(a.id===void 0)return t._noDateEvents[e];if(a.id===e)return a}}return null}focusEvent(e){const t=this;if(t.getEvent(e)){t.querySelectorAll(".smart-scheduler-event").forEach(a=>a.removeAttribute("hover"));const n=t.querySelectorAll('.smart-scheduler-event[id="'+e+'"]');if(n.length)for(let a=0;a<n.length;a++)n[a].setAttribute("hover","")}}refreshEvents(){this._refreshTimelineEvents()}removeEvent(e){const t=this,n=t._events;if(!(e=typeof e=="number"&&n?n[e]:t._containsEvent(e)))return;const a=t._cloneObject(e);t.$.fireEvent("itemChanging",{type:"removing",item:a}).defaultPrevented||(n.splice(n.indexOf(e),1),t._isUpdating||(t._refreshTimelineEvents(),t._updateUndoRedo(t._cloneObject(e),void 0,"itemRemove"),t.$.fireEvent("itemRemove",{item:a}),t.$.fireEvent("itemChange",{type:"remove",item:a})))}getEventExceptions(e){const t=this,n=t._events;if(!(e=typeof e=="number"&&n?n[e]:t._containsEvent(e))||!e.repeat)return[];const a=e.repeat.exceptions;return a&&a.length?a:[]}addEventException(e,t){const n=this,a=n._events;if(!(e=typeof e=="number"&&a?a[e]:n._containsEvent(e))||!e.repeat)return[];if(!(t&&typeof t=="object"&&t.date instanceof Date))return;const i=t.date;let r=e.repeat.exceptions;r||(r=e.repeat.exceptions=[]),delete t.repeat;for(let o=0,d=r.length;o<d;o+=1)if(r[o].date.getTime()===i.getTime())return void n.error(n.localize("exceptionExists",{elementType:n.nodeName.toLowerCase(),elementMethod:"addEventException"}));n.$.fireEvent("itemChanging",{type:"exceptionInserting",item:n._cloneObject(e)}).defaultPrevented||(r.push(t),n._isUpdating||(n._refreshTimelineEvents(),n.$.fireEvent("itemChange",{type:"exceptionInsert",item:n._cloneObject(e)})))}updateEventException(e,t,n){const a=this,i=a._events;if(!(e=typeof e=="number"&&i?i[e]:a._containsEvent(e))||!e.repeat||t==null||!n||typeof n!="object")return[];const r=e.repeat.exceptions;if(!r||!r.length)return[];let o;if(typeof t=="number"&&(o=r.indexOf(t)),!o){const d=t instanceof Date?t:new Date(n.date);for(let f=0,p=r.length;f<p;f+=1){const v=r[f];if(f===t&&(o=v),v.id===t||v.date.getTime()===d.getTime()){o=v;break}}}if(o){if(a.$.fireEvent("itemChanging",{type:"exceptionUpdating",item:a._cloneObject(e)}).defaultPrevented)return;for(let d in n)d!=="date"&&d!=="repeat"&&d!=="$"&&(o[d]=d==="dateStart"||d==="dateEnd"?a._dateValidator(void 0,n[d]):n[d]);if(o.dateEnd=new Date(Math.max(o.dateStart.getTime(),o.dateEnd.getTime())),a._isUpdating)return;a._refreshTimelineEvents(),a.$.fireEvent("itemChange",{type:"exceptionUpdate",item:a._cloneObject(e)})}}removeEventException(e,t){const n=this,a=n._events;if(!(e=typeof e=="number"&&a?a[e]:n._containsEvent(e))||!e.repeat)return;const i=e.repeat.exceptions;if(!i||!i.length)return;let r=i.indexOf(t);if(r<0){const o=new Date(t);for(let d=0,f=i.length;d<f;d+=1){const p=i[d];if(d===t&&(r=d),p.id===t||p.date.getTime()===o.getTime()){r=d;break}}}if(r>-1){if(n.$.fireEvent("itemChanging",{type:"exceptionRemoving",item:n._cloneObject(e)}).defaultPrevented||(i.splice(r,1),i.length||delete e.repeat.exceptions,n._isUpdating))return;n._refreshTimelineEvents(),n.$.fireEvent("itemChange",{type:"exceptionRemove",item:n._cloneObject(e)})}}exportData(e,t,n){const a=this;if(!Smart.Utilities.DataExporter)return void a.error(a.localize("missingReference",{elementType:a.nodeName.toLowerCase(),methodName:"exportData",files:"smart.export.js"}));try{new JSZip}catch{return void a.error(a.localize("missingReference",{elementType:a.nodeName.toLowerCase(),methodName:"exportData",files:"jszip.min.js"}))}if(e==="pdf"&&!window.pdfMake)return void a.error(a.localize("missingReference",{elementType:a.nodeName.toLowerCase(),methodName:"exportData",files:"pdfMake.min.js"}));const i=a._events;if(!i||!i.length)return;if((e+"").toLowerCase()==="ical")return a._exportToICal(t,n);const r=new Smart.Utilities.DataExporter({exportHeader:a.dataExport.header,pageOrientation:a.dataExport.pageOrientation,style:a.dataExport.style}),o=a._getExportRecord();let d={columns:[]};for(let p in o)d.columns.push({label:o[p],dataField:p});r.header=d,a._setExportStyles(r,e);let f=[];for(let p=0;p<i.length;p++)f.push(a._getExportRecord(i[p]));if(n){const p=n(f,r,e);p&&(f=p)}return r.exportData(f,e,a.dataExport.fileName,t)}getDataSource(){const e=this;let t=e._events;return e.timeZone!=="local"&&(t=t.map(n=>e._cloneObject(n,!1)),t.forEach(n=>{n.dateStart=new Smart.Utilities.DateTime(n.dateStart,e.timeZone).toTimeZone("Local").toDate(),n.dateEnd=new Smart.Utilities.DateTime(n.dateEnd,e.timeZone).toTimeZone("Local").toDate()})),t&&t.length?JSON.parse(JSON.stringify(t.map(n=>e._cloneObject(n,!0)))):""}getResources(){const e=this.resources;return e&&e.length?JSON.parse(JSON.stringify(e)):""}print(){const e=this,t=e.dataExport.fileName;e.dataExport.fileName=null;const n=e.exportData("html"),a=window.open("","","width=800,height=500"),i=a.document.open(),r='<!DOCTYPE html><html><head><meta charset="utf-8" /><title>'+t+"</title></head><body>"+n+"</body></html>";try{i.write(r),i.close(),setTimeout(function(){a.print(),a.close()},100)}catch{}e.dataExport.fileName=t}refresh(e){const t=this;e?t.isRendered&&t._createTimeline():t._refresh()}beginUpdate(){const e=this;e._isUpdating||(e._isUpdating=!0,e.$.fireEvent("beginUpdate"))}endUpdate(){const e=this;e._isUpdating&&(e._refreshTimelineEvents(),e.$.fireEvent("endUpdate"))}addView(e,t,n,a,i,r){const o=this,d={label:t,type:e,value:n,hideWeekend:a,hideNonworkingWeekdays:i,additionalDays:r};o.views.push(d),o._refreshViewSelector(),o.refresh()}setView(e){const t=this,n=t.view,a=t.views.find(i=>i.value&&i.value===e);e!==n&&(t.set("view",e),e=a?a.type:e,t._createTimeline(),t._refreshDateSelector(),t._checkHideWekendItem(),t._scrollToView(a),t._handleViewSelection(),t.$.fireEvent("viewChange",{oldValue:n,value:e}))}scrollToDate(e,t,n){const a=this;if(e instanceof Date)e=new Date(e);else{if(e instanceof HTMLElement&&(!e.classList.contains("smart-scheduler-cell")||!a.$.timeline.contains(e)))return;if(typeof e=="object"){const i=new Date(a.dateCurrent);e.year=e.year!==void 0?e.year:i.getFullYear(),e.month=e.month!==void 0?e.month:i.getMonth(),e.date=e.date!==void 0?e.date:i.getDate(),e=new Date(e.year,e.month,e.date,e.hours,e.getMinutes)}else if(typeof e=="string"){if(e.indexOf("Date")>=0){e=(e=e.replace("new Date(","").replace(")","")).split(", ");let i="";for(let r=0;r<e.length;r++)i+=e[r],r<2?i+="-":r===2?i+=" ":r<e.length-1&&(i+=":");e=i}e=new Date(e)}}e&&!isNaN(e.getTime())&&a._scrollTo(e,t,n)}scrollToEvent(e){const t=this,n=t._events;(e=typeof e=="number"&&n?n[e]:t._containsEvent(e))&&t._scrollTo(e.dateStart)}openNotification(e,t){const n=this;if(!(e+=""))return;n._setToast();const a=n.$.toast;if(a){if(typeof t=="object")for(let i in t)a[i]=t[i];n._appendToast(),a.open(e)}}closeNotifications(){this._checkNotifications(!0)}openWindow(e){const t=this;let n=e;if(e===void 0||typeof e=="object"){if(e=t._containsEvent(e))return void t._openWindow(e);e=new Date(t.dateCurrent)}else if(typeof e=="string"){if(n=t._events.find(a=>a.id+""===e),n)return void t._openWindow(n);n||(n=new Date(e))}else if(typeof e=="number")return n=t._events[e],void(n&&t._openWindow(n));if(e instanceof Date){if(isNaN(e.getTime()))return;e={dateStart:new Date(t.dateCurrent)}}typeof e!="object"||e.dateStart||(e.dateStart=new Date(t.dateCurrent)),(e=t._createEvents([e]))&&t._openWindow(e[0])}closeWindow(){const e=this.$.confirmSchedulerWindow,t=this.$.schedulerWindow;t&&(t.close(),delete t._target),e&&(e.close(),delete e._target)}occurrences(e,t=100){const n=this,a=n._events,i=n._rRule;if(typeof e=="number"&&a)e=a[e];else{const o=n._containsEvent(e);o&&(e=o)}if(!e)return;const r=n._getEventRepeatOptions(e);return r?(t=parseInt(t),t=isNaN(t)?100:t,new i(r).all((o,d)=>!(!r.count&&d===t)).map(o=>new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds()))):void 0}occurrencesBetween(e,t,n){const a=this,i=a._events,r=a._rRule;if(typeof e=="number"&&i)e=i[e];else{const d=a._containsEvent(e);d&&(e=d)}if(!e||isNaN(new Date(t).getTime())||isNaN(new Date(n).getTime()))return;const o=a._getEventRepeatOptions(e);return o?(t=new Date(Math.min(t.getTime(),n.getTime())),n=new Date(Math.max(t.getTime(),n.getTime())),new r(o).between(new Date(Date.UTC(...a._getDateArgs(t))),new Date(Date.UTC(...a._getDateArgs(n))),!0).map(d=>new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds()))):void 0}occurrenceAfter(e,t){return this._occurrence(e,t,"after")}occurrenceBefore(e,t){return this._occurrence(e,t,"before")}getCellDateRange(e){if(e&&this.$.timelineCellsContainer.contains(e)&&e.classList.contains("smart-scheduler-cell"))return e.classList.contains("scale")&&(e=e.children[0]),this._getCellDateRange(e)}undo(e){return this._handleUndoRedo("undo",e)}redo(e){return this._handleUndoRedo("redo",e)}deleteUndoRedoHistory(){this._updateUndoRedo()}canUndo(){return this._isUndoPossible()}canRedo(){return this._isRedoPossible()}_occurrence(e,t,n){const a=this,i=a._rRule;if(!i||!e||isNaN(new Date(t).getTime()))return;const r=a._getEventRepeatOptions(e);if(!r)return;const o=new i(r)[n](new Date(Date.UTC(...a._getDateArgs(t))),!0);return o?new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds()):void 0}openEventTooltip(e){const t=this,n=t.$.tooltip,a=t._events;if((e=typeof e=="number"&&a?a[e]:t._containsEvent(e))&&n){const i=t.$.timeline.querySelectorAll(".smart-scheduler-event");for(let r=0;r<i.length;r++){const o=i[r].$?[i[r]]:void 0;if(o&&o.some(d=>{const f=d.$?d.$.event:void 0;return f&&(f===e||f.$&&f.$.event===e)})){delete t._openEventMenu,t._handleTooltipContent(o[0]);break}}}}closeEventTooltip(){const e=this.$.tooltip;e.visible&&e.contains(this._eventList)&&e.close()}isEventRestricted(e){return e&&e.classList&&e.classList.contains("smart-scheduler-event")&&(e=e.$?e.$.event:void 0),!!(e&&e.dateStart instanceof Date&&e.dateEnd instanceof Date)&&this._isEventRestricted(e)}isDateRestricted(e){return e&&e.classList&&e.classList.contains("smart-scheduler-cell")&&(e=e.$&&e.$.cellObj?new Date(e.$.cellObj.time):void 0),!(!e||e.getTime===void 0||isNaN(e.getTime()))&&this._isDateRestricted(e)}isHourRestricted(e){return e&&e.classList&&e.classList.contains("smart-scheduler-cell")&&(e=e.$&&e.$.cellObj?new Date(e.$.cellObj.time):void 0),this._isHourRestricted(e)}_checkDoubleClick(e){const t=this;if(t._dblClickDetails===void 0&&(t._dblClickDetails={clicks:0}),clearTimeout(t._dblClickDetails.timeOut),e!==t._dblClickDetails.target&&(t._dblClickDetails.clicks=0),t._dblClickDetails.target=e,t._dblClickDetails.clicks++,t._dblClickDetails.timeOut=setTimeout(function(){t._dblClickDetails&&(t._dblClickDetails.clicks=0),t._openEventMenu&&(t._handleTooltipContent(t._openEventMenu),delete t._openEventMenu)},250),t._dblClickDetails.clicks===2)return t._doubleClickHandler(e),t._dblClickDetails.clicks=0,delete t._openEventMenu,!0}_cloneObject(e,t,n){const a=this;let i={};for(let r in e){let o=e[r];if(o instanceof Date)i[r]=t?o.toISOString():new Date(o);else if(r==="repeat"){if(i[r]=Object.assign({},o),i[r].exceptions){const d=i[r].exceptions=i[r].exceptions.slice();for(let f=0;f<d.length;f++)d[f]=a._cloneObject(d[f])}}else i[r]=o}return n||(delete i.$,i.repeat&&i.repeat.exceptions&&i.repeat.exceptions.forEach(r=>delete r.$)),i}_doubleClickHandler(e){const t=this;if(t.disabled||t.disableWindowEditor)return;const n=t.$.tooltip;let a=e.closest?e.closest(".smart-scheduler-cell:not(.scale)"):void 0;if(t.$.timelineContainer.contains(a)||t.$.timelineViewAllDay.contains(a))t._openWindow();else if(a=e.classList.contains("smart-scheduler-event")?e:e.closest(".smart-scheduler-event-content"),a&&(t.$.timeline.contains(a)||n.contains(a))){a=a.closest(".smart-scheduler-event");let i=a&&a.$?a.$:void 0;if(!i||i.events)return;i=i.event;const r=i.$?i.$.event:void 0,o=r&&r.repeat?r.repeat.exceptions:void 0;let d;if(o&&o.indexOf(i)>-1)d=i;else{const f=a.$;d=r?Object.assign({},i,{dateStart:f.dateStart,dateEnd:f.dateEnd}):i}n.close(),t._openWindow(d,r?a:void 0)}}_createEventFromSelection(e){const t=this;if(e||(e=t._selectedCellObj),e instanceof HTMLElement&&e.$&&(e={from:e.$.cellObj,to:e.$.cellObj}),!e||!e.from)return;const n=e.from,a=e.to;if(t.hideOtherMonthDays&&new Date(n.time).getMonth()!==new Date(t.dateCurrent).getMonth())return;const i=new Date(Math.min(n.time,a.time)),r=new Date(Math.max(n.time,a.time)),o=n.horizontal.group||n.vertical.group;!n.allDay&&t.viewType.toLowerCase().indexOf("month")<0?r.setHours(r.getHours(),r.getMinutes()+60/t._getCellsScaleCount(),0,0):r.setHours(23,59,59,999);const d={allDay:!!n.allDay,dateStart:i,dateEnd:r};if(o)for(let f in o)d[f]=o[f];return t._isEventRestricted(d)?void 0:d}_downHandler(e){const t=this,n=t.$.tooltip,a=e.originalEvent;let i=t.shadowRoot||t.isInShadowDOM?a.composedPath()[0]:a.target;if(e.stopPropagation(),e.button===0&&n.contains(t._contextList)&&i&&i.closest&&!i.closest(".smart-scheduler-nav[current]")&&!i.closest(".smart-scheduler-view-items-button")&&!n.contains(i)&&n.close(),t._dragDetails)return t._endDrag(),t._endResize(),delete t._dragDetails,clearInterval(t._scrollInterval),void delete t._scrollInterval;if(!t.$.timeline.contains(i)&&!t.$.tooltip.contains(i)||(t._isMobile&&(t.$.timelineContent.classList.add("hide-overlay"),i=(t.shadowRoot||document).elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset),t.$.timelineContent.classList.remove("hide-overlay")),!i||!i.closest))return;t._dragDetails={target:i,button:e.button,timestamp:Date.now()};const r=i.closest(".smart-scheduler-cell:not(.scale)");if(r&&r.$&&(t.$.timelineContainer.contains(r)||t.$.timelineViewAllDay.contains(r))){const d=r.$.cellObj;if(!d||(t._dragDetails.timelineCellObj=Object.assign({},d),e.button===0&&t._checkDoubleClick(i))||t._isMobile)return;if(e.button===0&&e.shiftKey&&t._selectedCellObj)t._handleCellSelection(t._selectedCellObj.from,d);else{if(e.button!==0&&t._isCellObjSelected(d))return;t._handleCellSelection(d)}return void(t._dragDetails.selectedCellObj=Object.assign({},t._selectedCellObj))}const o=i.closest(".smart-scheduler-event");if(o){if(e.button===0&&t._checkDoubleClick(i))return;t._dragDetails.schedulerEvent=o,t._dragDetails.coordinates={x:e.pageX,y:e.pageY},t._dragDetails.originialEvent=e,(t.resizeHandlesVisibility==="visible"||t._isMobile&&t.resizeHandlesVisibility==="auto")&&t._checkEventResizability(e)}}_dropHandler(e){const t=this,n=Smart.Scheduler.hoveredScheduler,a=Smart.Scheduler.hoveredCell,i=document.body;delete Smart.Scheduler.hoveredScheduler,delete Smart.Scheduler.hoveredCell,delete Smart.Scheduler.schedulerStart,delete Smart.Scheduler.feedback,n&&(n.removeAttribute("dragged"),clearInterval(n._scrollInterval),delete n._scrollInterval,a&&a.classList.remove("smart-scheduler-feedback")),a&&t.$.fireEvent("dropoverCell",{target:e.target,allDay:a.hasAttribute("all-day"),date:a.getAttribute("date")}),i.classList.remove("smart-dragging"),i.classList.remove("smart-dragging-disabled"),t._scrollView.disableSwipeScroll=t._touchmoveInside=!1,t._list&&(t._list.disableSwipeScroll=t._list._touchmoveInside=!1),delete t._dragDetails}_dragoverHandler(e){this._setDropTarget(e)}_documentMoveHandler(e){const t=this,n=e.originalEvent,a=t._dragDetails,i=Smart.Scheduler.schedulerStart;let r=t.shadowRoot||t.isInShadowDOM?n.composedPath()[0]:n.target;if(i)t._setDropTarget(e);else if(!a)return void t._checkEventResizability(e);if(a&&a.button===0)if(t.$.timeline.getAttribute("event-hovered"))t._handleEventResize(e);else if(t.disableDrag||!a.schedulerEvent||i){if(i===t){const o=t.dragOffset,d=Smart.Scheduler.feedback;return d?(d.parentElement||document.body.appendChild(d),t.rightToLeft?d.style.left=e.pageX-o[0]-d.offsetWidth+"px":d.style.left=e.pageX+o[0]+"px",void(d.style.top=e.pageY+o[1]+"px")):void 0}if(t._isMobile){const o=t.$.tooltip;i===t&&o.visible&&o.close()}else if(!t.disableSelection&&t.viewType!=="agenda"&&!e.shiftKey){Smart.Utilities.Core.Browser.Firefox&&(r=(t.shadowRoot||document).elementFromPoint(n.pageX-window.pageXOffset,n.pageY-window.pageYOffset));const o=a.timelineCellObj,d=t.$.timeline.contains(r)?r.closest(".smart-scheduler-cell:not(.scale)"):void 0;if(o&&d){if(t.selectOne)return;t._selectCell(o,d)}}}else t._setDragStart(e)}_generateUUID(){const e=window.crypto,t=new Uint8Array(16);e.getRandomValues(t),t[6]=15&t[6]|64,t[8]=63&t[8]|128;const n=Array.from(t,a=>a.toString(16).padStart(2,"0")).join("");return`${n.substring(0,8)}-${n.substring(8,12)}-${n.substring(12,16)}-${n.substring(16,20)}-${n.substring(20)}`}_documentUpHandler(e){const t=this,n=e.originalEvent,a=t._dragDetails,i=n.pageX-window.pageXOffset,r=n.pageY-window.pageYOffset;let o=t.shadowRoot||t.isInShadowDOM?n.composedPath()[0]:n.target;if(t._isMobile&&(t.$.timelineContent.classList.add("hide-overlay"),o=(t.shadowRoot||document).elementFromPoint(i,r),t.$.timelineContent.classList.remove("hide-overlay")),t._listDragDetails&&delete t._listDragDetails,t._upHandler(),clearInterval(t._scrollInterval),delete t._scrollInterval,a&&Smart.Scheduler.schedulerStart)return void t._endDrag(e,o);if(a&&t.hasAttribute("resized"))return void t._endResize(e);const d=t.$.tooltip;if(!d.visible||d.contains(o)||(t.shadowRoot||t).contains(o)||d.close(),o&&o.closest){if(!a){const f=t.$.schedulerWindow;return void(t.contains(o)&&o.classList.contains("smart-scheduler-window-modal")&&f&&f.focus())}{const f=o.closest(".smart-scheduler-event");if(a.schedulerEvent===f){t._handleCellSelection(),t.$.fireEvent("itemClick",{item:f,type:"event",itemObj:t._cloneObject(f.$.event)});const p=!t._isMobile||Date.now()-a.timestamp<250;if(!d.contains(o)&&p&&a.button===0)if(t._dblClickDetails&&t._dblClickDetails.clicks===0){if(t.disableEventMenu)return void delete t._openEventMenu;t._handleTooltipContent(f),delete t._openEventMenu}else t.disableEventMenu?delete t._openEventMenu:t._openEventMenu=f}else{delete t._openEventMenu;const p=d.selector;if(!(a.button!==0||e.shiftKey&&t._selectedCellObj||d.contains(o)&&p&&p.classList.contains("smart-scheduler-cell"))){t.contains(o)&&(t.selectOne?t._handleCellSelection(o,o):t._handleCellSelection(a.timelineCellObj,o));let v=1;new Date-t._clickTime<300&&v++,t._clickTime=new Date,v===2&&t.autoCreateDialog&&o&&o.classList.contains("smart-scheduler-cell")&&t._setupAutoCreateDialog(e)}}}}delete t._dragDetails}_setupAutoCreateDialog(e){const t=this,n=e.originalEvent;let a=n?t.shadowRoot||t.isInShadowDOM?n.composedPath()[0]:n.target:t.querySelector(".smart-scheduler-cell[selected]");if(!a)return;const i=t._createEventFromSelection();if(!i||i&&i.dateStart===void 0)return;i.id=t._generateUUID();const r=t.view,o=t.views.find(f=>f.value&&f.value===r)||{};o&&o.hideHours&&(i.dateEnd.setHours(0,0,0,0),i.allDay=!0),t.viewType.toLowerCase().indexOf("month")>=0&&(i.dateEnd.setHours(0,0,0,0),i.allDay=!0);const d=f=>{const p=t.getBoundingClientRect(),v=a.getBoundingClientRect(),w=n?{x:n.pageX,y:n.pageY}:{x:v.left,y:v.top},C=window.screen.height-f.offsetHeight-10;f.style.top=Math.min(w.y+1,C,p.bottom+window.pageYOffset)+"px";const x=p.right+window.pageXOffset-f.offsetWidth-v.width;f.style.left=Math.min(v.right-21,Math.max(x,p.left+10))+"px",t._isMobile&&(f.style.left="calc(50% - 160px)",f.style.top="calc(50% - 100px)",f.style.height="200px",f.style.width="320px")};if(t._autoCreateDialogElement){const f=t._autoCreateDialogElement;f.item=i,d(f),f.input.value="",f.open()}else{const f=document.createElement("smart-window");f.disableFocus=!0,f.headerButtons=["close"],f.label=t.localize("create"),f.style.height="auto",f.style.width="auto",f.item=i,f.style.setProperty("--smart-surface","--smart-background"),f.style.setProperty("--smart-window-header-background","--smart-background");const p=document.createElement("smart-input");f.input=p,f.appendChild(p),p.classList.add("underlined"),p.placeholder=t.localize("addTitle"),p.style.marginTop=p.style.marginLeft=p.style.marginRight="20px";const v=document.createElement("smart-button");v.innerHTML=t.localize("ok"),v.classList.add("primary"),v.style.marginTop="30px",v.style.marginRight="20px",v.style.alignSelf="end",f.appendChild(v),t._autoCreateDialogElement=f,document.body.appendChild(f),p.style.setProperty("--smart-font-size","22px"),v.onclick=()=>{f.item.label=p.value,t.addEvent(f.item,w=>{i.id=w}),f.close()},p.onkeydown=w=>{w.key==="Enter"&&v.click()},f.onOpen=()=>{let w=new Date(f.item.dateStart).toLocaleTimeString(t.locale,{hour:t.hourFormat,minute:t.minuteFormat}),C=new Date(f.item.dateEnd).toLocaleTimeString(t.locale,{hour:t.hourFormat,minute:t.minuteFormat});if(t.view.toLowerCase().indexOf("month")>=0)w=new Date(f.item.dateStart),C=new Date(f.item.dateEnd),w.toString()===C.toString()?f.label=t.localize("create")+" "+new Intl.DateTimeFormat(t.locale,{day:t.dayFormat,month:t.monthFormat}).format(w):f.label=t.localize("create")+" "+new Intl.DateTimeFormat(t.locale,{day:t.dayFormat,month:t.monthFormat}).format(w)+" - "+new Intl.DateTimeFormat(t.locale,{day:t.dayFormat,month:t.monthFormat}).format(C);else{w=new Date(f.item.dateStart),C=new Date(f.item.dateEnd);const x=t.view,L=t.views.find(A=>A.value&&A.value===x)||{};if(w.toString()===C.toString()){let A=new Date(f.item.dateStart).toLocaleTimeString(t.locale,{hour:t.hourFormat,minute:t.minuteFormat});L&&L.hideHours&&(A=new Intl.DateTimeFormat(t.locale,{day:t.dayFormat,month:t.monthFormat}).format(new Date(f.item.dateStart))),f.label=t.localize("create")+" "+A}else{let A=new Date(f.item.dateStart).toLocaleTimeString(t.locale,{hour:t.hourFormat,minute:t.minuteFormat}),k=new Date(f.item.dateEnd).toLocaleTimeString(t.locale,{hour:t.hourFormat,minute:t.minuteFormat});L&&L.hideHours&&(A=new Intl.DateTimeFormat(t.locale,{day:t.dayFormat,month:t.monthFormat}).format(new Date(f.item.dateStart)),k=new Intl.DateTimeFormat(t.locale,{day:t.dayFormat,month:t.monthFormat}).format(new Date(f.item.dateEnd))),f.label=t.localize("create")+" "+A+" - "+k}}t.setAttribute("modal",""),setTimeout(()=>{p.focus()},300)},f.onClose=()=>{t.removeAttribute("modal")},d(f),f.open()}}_handleDataAdapter(){const e=this;if(e.dataSource&&e.dataSource instanceof Smart.DataAdapter){const t=e.querySelector(".smart-loader-container");if(t&&t.remove(),e.dataSource.url){const n=document.createElement("div");n.classList.add("smart-loader-container","smart-scheduler-loading-container"),n.innerHTML=`<span id='loadingIndicator' class='smart-scheduler-loader smart-loader'></span>
                <span id='loadingIndicatorPlaceholder' class ='smart-loader-label'>${e.localize("loadingIndicatorPlaceholder")}</span>`,e.appendChild(n)}e.dataSource.notify(function(n){if(e.dataSource._updating)return;const a=e.querySelector(".smart-loader-container");a&&a.remove();let i=n.data,r=n.index;switch(n.action){case"add":case"insert":i=e._parseAdapterData(i.length?i:[i]),e.insertEvent(i,r);break;case"update":i=e._parseAdapterData(i.length?i:[i]),e.updateEvent(r,i);break;case"remove":case"removeLast":e.removeEvent(r!==void 0?r:e._events.length-1);break;case"bindingComplete":e.dataSource.canNotify=!1,e.dataSource.dataSource=e._parseAdapterData(e.dataSource.toArray()).filter(o=>o!==void 0),e.dataSource.canNotify=!0,e._createEvents(),e._createTimeline(),e.closeWindow()}e._refreshViewList()})}}_parseAdapterData(e){const t=this,n=["month","agenda"].indexOf(t.viewType.toLowerCase())>-1;Array.isArray(e)||(e=Array.from(e));for(let a=0;a<e.length;a++){const i=e[a],r=i.dateStart,o=i.dateEnd;let d=[];if(!n&&r instanceof Date&&o instanceof Date&&o.getTime()-r.getTime()>=864e5&&(i.allDay=!0),i.rrule&&t._parseIcalRrule(i),i.extdate){let f=i.extdate;f.indexOf("EXDATE:")>=0&&(f=f.substring(f.indexOf("EXDATE:")+7)),f.indexOf(",")>=0?d=f.split(","):d.push(f)}if(i.reccurenceId){const f=e.find(p=>p.uid===i.uid&&!p.reccurenceId);if(!f)continue;t._parseICalReccurenceId(i,f,d),e[a]=void 0}i.alarm&&t._parseICalAlarm(i),i.categories&&t._parseICalCategories(i)}return e}_parseIcalRrule(e){const t=this,n=t._rRule;if(!n)return;const a=n.parseString(e.rrule);let i;if(a){let r;switch(n.FREQUENCIES[a.freq].toLowerCase()){case"weekly":a.byweekday!==void 0&&(r=(Array.isArray(a.byweekday)?a.byweekday:Array.from(a.byweekday)).map(o=>(o.weekday+1+7)%7));break;case"monthly":a.bymonthday!==void 0&&(r=a.bymonthday);break;case"yearly":a.bymonth!==void 0&&a.bymonthday!==void 0&&(r={month:a.bymonth-1,date:a.bymonthday})}e.repeat={repeatFreq:n.FREQUENCIES[a.freq].toLowerCase(),repeatInterval:a.interval,repeatOn:r},a.until instanceof Date?i=new Date(Date.UTC(...t._getUTCDateArgs(a.until))):typeof a.count=="number"&&(i=a.count),i!==void 0&&(e.repeat.repeatEnd=i)}}_parseICalReccurenceId(e,t,n){const a=e.reccurenceId;if(!e)return;const i=this._cloneObject(e);delete i.repeat,i.date=(r=>{let o;r.indexOf("VALUE=DATE:")>-1&&(r=r.replace("VALUE=DATE:",""),o=!0);const d=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(r);if(!d)throw new Error("Invalid DATE value: "+r);return o?new Date(d[1],d[2]-1,d[3],0,0,0,0):new Date(Date.UTC(d[1],d[2]-1,d[3],d[5]||0,d[6]||0,d[7]||0))})(a),n.indexOf(i.date)>-1&&(i.hidden=!0),t.repeat&&(t.repeat.exceptions||(t.repeat.exceptions=[]),t.repeat.exceptions.push(i))}_parseICalAlarm(e){if(!e)return;const t=JSON.parse(e.alarm),n=e.dateStart.getTime();if(Array.isArray(t)){let a=[],i=/^(-)?P(\d+)DT(\d{1,2})H(\d{1,2})M(\d{1,2})S$/;for(let r=0;r<t.length;r++){const o=t[r],d=o.TRIGGER;if(i.test(d)){const f=i.exec(d);if(!f)continue;let p,v=parseInt(f[2]),w=f[1]==="-"?-1:1,C=new Date(n);C.setDate(C.getDate()+w*v),C=new Date(C.getTime()+w*(1e3*(f[3]||0)*60*60+1e3*(f[4]||0)*60+1e3*(f[5]||0))),v>28?(v=Math.round(v/7),p="weeks"):p="days",a.push({interval:v,type:p,time:[C.getHours(),C.getMinutes()],message:o.description||""})}}delete e.alarm,e.notifications=a}}_parseICalCategories(e){e&&(e.categories.split(",").forEach(t=>{const n=t.split("/");n[1]!==void 0&&(e[n[0]]=parseInt(n[1]))}),delete e.categories)}_exportToICal(e,t){const n=this,a=n.id,i=n._rRule,r=n.resources,o=n._getUTCDate(new Date),d=n._events;let f=`BEGIN:VCALENDAR\r
PRODID:-//HTMLElements//Smart Scheduler//EN\r
VERSION:2.0\r
CALSCALE:GREGORIAN
METHOD:PUBLISH\r
X-WR-CALNAME:${a}\r
X-WR-TIMEZONE:${n.timeZone}\r
`;for(let v=0;v<d.length;v++){const w=d[v],C=n._getEventRepeatOptions(w,!0),x=r.filter(k=>w[k.value]),L=w.status,A=w.id?w.id:a+Math.floor(65536*(1+Math.random())).toString(16).substring(1);if(f+=`BEGIN:VEVENT\r
`,f+=n._getICalEventDates(w),f+=`DTSTAMP:${o}\r
UID:${A}\r
CREATED:${o}\r
DESCRIPTION:${w.description||""}\r
TRANSP:${L&&L!=="free"?"OPAQUE":"TRANSPARENT"}\r
SEQUENCE:0\r
STATUS:${n._getICalStatus(w.status)}\r
SUMMARY:${w.label||""}\r
`,x.length&&(f+=`CATEGORIES:${x.map(k=>`${k.value}/${w[k.value]}`).toString()}\r
`),f+=n._getICalNotifications(w),C){const k=w.repeat.exceptions;if(delete C.dtstart,f+=new i(C).toString()+`\r
`,k&&k.length){for(let B=0;B<k.length;B++){const H=k[B];H.hidden&&(f+=`EXDATE;VALUE=DATE:${n._getUTCDate(H.date,w.allDay)}\r
`)}f+=`END:VEVENT\r
`;for(let B=0;B<k.length;B++){const H=k[B];if(!H.hidden&&H.dateStart&&H.dateEnd){const V=r.filter(z=>H[z.vlaue]);f+=`BEGIN:VEVENT\r
`,f+=n._getICalEventDates(H),f+=`DTSTAMP:${o}\r
UID:${A}\r
RECURRENCE-ID${w.allDay?";VALUE=DATE":""}:${n._getUTCDate(H.date,w.allDay)}\r
CREATED:${o}\r
DESCRIPTION:${H.description||""}\r
SEQUENCE:1\r
STATUS:${n._getICalStatus(H.status)}\r
SUMMARY:${H.label||""}\r
`,V.length&&(f+=`CATEGORIES:${V.map(z=>`${z.value}/${H[z.value]}`).toString()}\r
`),f+=`END:VEVENT\r
`}}continue}}f+=`END:VEVENT\r
`}if(f+="END:VCALENDAR",t){const v=t(f,"text/calendar",n.dataExport.fileName);v&&(f=v)}const p=new Smart.Utilities.DataExporter().downloadFile(f,"text/calendar",n.dataExport.fileName);return e&&p&&e(p),p}_getICalEventDates(e){const t=this;if(!e.dateStart||!e.dateEnd)return"";if(e.allDay||e.$&&e.$.event.allDay){const n=new Date(e.dateEnd);return n.setDate(n.getDate()+1),`DTSTART;VALUE=DATE:${t._getUTCDate(e.dateStart,!0)}\r
DTEND;VALUE=DATE:${t._getUTCDate(n,!0)}\r
`}return`DTSTART:${t._getUTCDate(e.dateStart)}\r
DTEND:${t._getUTCDate(e.dateEnd)}\r
`}_getICalNotifications(e){let t="";if(!e)return t;const n=e.notifications;if(n&&n.length){const a=e.dateStart.getTime();for(let i=0;i<n.length;i++){const r=n[i],o=r.type==="days"||r.type===0?r.interval:7*r.interval,d=r.time,f=new Date(a-24*o*60*60*1e3);f.setHours(d[0]%23,d[1]%60,0,0);let p=f.getTime()-a;const v=p<0?"-":"";p=Math.abs(p);const w=Math.max(0,Math.floor(p/864e5));p-=1e3*w*60*60*24;const C=Math.max(0,Math.floor(p/36e5));p-=1e3*C*60*60;const x=Math.max(0,Math.floor(p/6e4));t+=`BEGIN:VALARM\r
ACTION:DISPLAY\r
DESCRIPTION:${r.message}\r
TRIGGER:${v}P${w}DT${C}H${x}M0S\r
END:VALARM\r
`}}return t}_getUTCDate(e,t){function n(a){return a<10?`0${a}`:`${a}`}return e instanceof Date||(e=new Date(e)),t?`${e.getFullYear()}${e.getMonth()+1}${e.getDate()}`:`${e.getUTCFullYear()}${n(e.getUTCMonth()+1)}${n(e.getUTCDate())}T${n(e.getUTCHours())}${n(e.getUTCMinutes())}${n(e.getUTCSeconds())}Z`}_getICalStatus(e){switch(e){case"tentative":return"TENTATIVE";case"canceled":return"CANCELED";case"draft":return"DRAFT";case"final":return"FINAL";case"in-process":return"IN-PROCESS";case"needs-action":return"NEEDS-ACTION";default:return"CONFIRMED"}}_setDropTarget(e){const t=this,n=e.originalEvent?e.originalEvent:e;let a,i=t.shadowRoot||t.isInShadowDOM?n.composedPath()[0]:n.target,r=Smart.Scheduler.hoveredCell,o=Smart.Scheduler.hoveredScheduler;if((t.shadowRoot||t).contains(i)&&(o&&o!==t&&(o.removeAttribute("dragged"),clearInterval(o._scrollInterval),delete o._scrollInterval),Smart.Scheduler.hoveredScheduler=o=t,t.setAttribute("dragged","")),t._isMobile&&o&&(o.$.timelineContent.classList.add("hide-overlay"),i=(t.shadowRoot||document).elementFromPoint(n.pageX-window.pageXOffset,n.pageY-window.pageYOffset),o.$.timelineContent.classList.remove("hide-overlay")),i&&i.closest&&!i.closest(".smart-scheduler-groups-container")&&(a=i.closest(".smart-scheduler-cell:not(.scale)")),a&&a!==r&&(t.shadowRoot||t).contains(a)){const d=document.body;r&&r.classList.remove("smart-scheduler-feedback"),t.disableDrop&&delete Smart.Scheduler.hoveredCell,Smart.Scheduler.hoveredCell=a,a.hasAttribute("restricted")?(d.classList.remove("smart-dragging"),d.classList.add("smart-dragging-disabled")):(a.classList.add("smart-scheduler-feedback"),d.classList.remove("smart-dragging-disabled"),d.classList.add("smart-dragging")),Smart.Scheduler.hoveredScheduler=o=t}else a||(o!==t||t.$.container.contains(i)||(t.removeAttribute("dragged"),clearInterval(t._scrollInterval),delete t._scrollInterval,delete Smart.Scheduler.hoveredScheduler),r&&(r.classList.remove("smart-scheduler-feedback"),delete Smart.Scheduler.hoveredCell));o&&o._autoScroll(n)}_setDragStart(e){const t=this,n=t.$.tooltip,a=t._dragDetails;let i=!0;if(t._isMobile&&(i=Date.now()-a.timestamp>=250,n.contains(a.schedulerEvent)&&t._list?t._list.disableSwipeScroll=t._list._touchmoveInside=i:t._scrollView.disableSwipeScroll=t._touchmoveInside=i),!i||Math.abs(e.pageX-a.coordinates.x)<5&&Math.abs(e.pageY-a.coordinates.y)<5||a.schedulerEvent.hasAttribute("collector")||t.viewType==="agenda"||a.resizeDetails)return;const r=a.schedulerEvent.$.event;if(!r||r.disableDrag)return;const o=t._cloneObject(r);if(t.$.fireEvent("dragStart",{target:a.schedulerEvent,item:o,itemDateRange:{dateStart:new Date(o.dateStart),dateEnd:new Date(o.dateEnd)},originalEvent:a.originialEvent}).defaultPrevented)return;a.originalBodyOverflow={overflowX:document.body.style.overflowX,overflowY:document.body.style.overflowY,overflow:document.body.style.overflow};const d=(document.scrollingElement||document.documentElement).scrollHeight>document.documentElement.clientHeight,f=(document.scrollingElement||document.documentElement).scrollWidth>document.documentElement.clientWidth;document.body.style.overflow=document.body.style.overflowX=document.body.style.overflowY="",d&&!f?document.body.style.overflowX="hidden":f&&!d?document.body.style.overflowY="hidden":f||d||(document.body.style.overflow="hidden"),n.contains(a.schedulerEvent)&&t._list&&(t._list.disableSwipeScroll=t._list._touchmoveInside=!0),n.close(),Smart.Scheduler.schedulerStart=t,Smart.Scheduler.feedback=t._createDragFeedback(o),t._dragDetails.schedulerEventObj=o,t._scrollView.disableSwipeScroll=t._touchmoveInside=!0,t.setAttribute("dragged",""),document.body.classList.add("smart-dragging")}_endDrag(e,t){const n=this;if(!Smart.Scheduler.schedulerStart)return;const a=n._dragDetails,i=Smart.Scheduler.schedulerStart,r=Smart.Scheduler.schedulerStart._dragDetails.schedulerEvent,o=Smart.Scheduler.schedulerStart._dragDetails.schedulerEventObj,d=Smart.Scheduler.hoveredScheduler,f=Smart.Scheduler.hoveredCell,p=document.body;if(i!==n)return;let v={},w={};if(o&&(w={dateStart:o.dateStart,dateEnd:o.dateEnd}),Smart.Scheduler.feedback.remove(),delete Smart.Scheduler.hoveredScheduler,delete Smart.Scheduler.hoveredCell,delete Smart.Scheduler.schedulerStart,delete Smart.Scheduler.feedback,a.originalBodyOverflow&&(p.style.overflow=a.originalBodyOverflow.overflow,p.style.overflowX=a.originalBodyOverflow.overflowX,p.style.overflowY=a.originalBodyOverflow.overflowY),d&&(d.removeAttribute("dragged"),clearInterval(d._scrollInterval),delete d._scrollInterval,f)){const x={event:e,schedulerEvent:r,hoveredCell:f,hoveredScheduler:d,schedulerEventObj:o};f.classList.remove("smart-scheduler-feedback"),n._setEventDropDates(x),n._completeEventDragDrop(x),v.dateStart=x.newDateStart,v.dateEnd=x.newDateEnd,a.schedulerEventObj=x.schedulerEventObj}e&&(n._handleDisableConflict(a.schedulerEventObj),n.$.fireEvent("dragEnd",{target:t,item:a.schedulerEventObj,itemDateRange:v,originalEvent:e}).defaultPrevented&&setTimeout(()=>{n.updateEvent(a.schedulerEventObj,w)}),n.$.fireEvent("itemChange",{type:"drag",item:a.schedulerEventObj})),p.classList.remove("smart-dragging"),p.classList.remove("smart-dragging-disabled"),i.removeAttribute("dragged"),n._scrollView.disableSwipeScroll=n._touchmoveInside=!1,n._list&&(n._list.disableSwipeScroll=n._list._touchmoveInside=!1);const C=n._handleEventFocus({type:"focusin",target:r});C&&C.focus({preventScroll:!0}),delete n._dragDetails}_handleDisableConflict(e){const t=this;if(t.disableConflicts){const n=t.viewType,a=["day","week"].indexOf(n)>-1,i=e.allDay?t._allDayEventDetails:a?t._dayOrWeekEventDetails:t._eventDetails;if(!i||i&&i.events.length===0)return!1;const r=t._getEventsCollisionIndexes(i).eventOverlaps;for(let o=0;o<r.length;o++){const d=r[o];if(d.findIndex(f=>{if(e.id===f.id&&e.label===f.label)return f})>=0&&d.length>1){t.undo(),setTimeout(()=>{t.openNotification(t.localize("collision"),{autoClose:!0,type:"error"})});break}}}}_endResize(e){const t=this,n=t._dragDetails,a=n?n.resizeDetails:void 0;if(t.removeAttribute("resized"),!n||!a)return;const i=n.schedulerEvent;let r={};if(i.removeAttribute("resized"),e){t._setEventResizeDates(r),t._completeEventResize(r),a.schedulerEventObj.dateStart=r.dateStart,a.schedulerEventObj.dateEnd=r.dateEnd;const o=a.schedulerEventObj;t._handleDisableConflict(o),t.$.fireEvent("resizeEnd",{target:n.schedulerEvent,item:a.schedulerEventObj,itemDateRange:r,originalEvent:e.originialEvent||e}),t.$.fireEvent("itemChange",{type:"resize",item:a.schedulerEventObj})}else i.style.left=a.originalPosition.x+"px",i.style.top=a.originalPosition.y+"px",i.style.width=a.originalSize.width+"px",i.style.height=a.originalSize.height+"px";t._scrollView.disableSwipeScroll=t._touchmoveInside=!1,delete t._dragDetails,t._handleEventHover(),t._refreshTimelineEvents(),i.focus({preventScroll:!0}),t._handleEventFocus({type:"focusin",target:i})}_completeEventResize(e){const t=this,n=t._dragDetails,a=n.resizeDetails,i=a.cellObj,r=e.dateStart,o=e.dateEnd;if(!(i&&e&&r&&o))return;const d=n.schedulerEvent;let f=d.$.event;if(!d||!f||a.otherMonthDate||f.dateStart.getTime()===r.getTime()&&f.dateEnd.getTime()===o.getTime()||t._isEventRestricted({dateStart:r,dateEnd:o}))return;const p=f.$&&f.$.event?f.$.event:void 0;let v;p?(v=t._cloneObject(p),t._handleEventExceptionDrop(f)):v=t._cloneObject(f);const w=f.dateStart.getTime()!==r.getTime();f.dateStart=new Date(r),f.dateEnd=new Date(o),["day","week"].indexOf(t.viewType)>-1&&f.allDay&&!a.isAllDay&&delete f.allDay,w&&(d.$.cellTime=r.getTime()),t._validateEventDateRange(f),t._updateUndoRedo(v,t._cloneObject(p||f),"resizeEnd")}_setEventResizeDates(e){const t=this,n=t._dragDetails,a=n.resizeDetails,i=a.cellObj;if(!i)return;const r=a.side,o=n.schedulerEvent,[d,f]=r==="left"||r==="right"?["x","width"]:["y","height"];let p=o.$.event;if(!a.resizeFromMiddle&&a.originalPosition[d]===a.position[d]&&a.originalSize[f]===a.size[f])return e.dateStart=new Date(p.dateStart),void(e.dateEnd=new Date(p.dateEnd));const v=t.viewType,w=t.rightToLeft,C=60/t._getCellsScaleCount(),x=i.date,L=a.scaleIndex||0;let A,k;if(r==="top")k="dateStart",A=new Date(p.dateStart),A.setHours(x.getHours(),x.getMinutes()+C*L,0,0);else if(r==="bottom")k="dateEnd",A=new Date(p.dateEnd),A.setHours(x.getHours(),x.getMinutes()+C*(L+1),0,0);else{k=r==="left"&&!w||r==="right"&&w?"dateStart":"dateEnd";const B=p[k];if(v==="month"){const H=t._getCellObjOffset(o,a.position,k==="dateStart"?"bottom":"top").cellObj;A=new Date(B);const V=A.getHours(),z=A.getMinutes(),N=k==="dateEnd"&&V===0&&z===0;A=new Date(H.date),A.setDate(A.getDate()+(x.getDay()-t.firstDayOfWeek+7)%7),N?A.setDate(A.getDate()+1):A.setHours(B.getHours(),B.getMinutes(),B.getSeconds())}else if(A=new Date(x),v==="timelineMonth")k==="dateEnd"&&A.getHours()===0&&A.getMinutes()===0?p.allDay?(A.setDate(A.getDate()),A.setHours(0,0,0,0)):(A.setDate(A.getDate()),A.setHours(23,59,59,0)):A.setHours(B.getHours(),B.getMinutes(),B.getSeconds());else if(["day","week"].indexOf(v)>-1&&a.isAllDay)A=new Date(x),k==="dateEnd"&&A.setHours(23,59,59,999);else{const H=t.view,V=t.views.find(z=>z.value&&z.value===H)||{};v==="timelineWeek"&&V&&V.hideHours?k==="dateEnd"?A.setHours(23,59,59,999):A.setHours(0,0,0,0):A.setMinutes(x.getMinutes()+C*(L+(k==="dateStart"?0:1)),0,0)}}k==="dateStart"?(e.dateStart=A,e.dateEnd=new Date(p.dateEnd)):(e.dateStart=new Date(p.dateStart),e.dateEnd=A),t.hideOtherMonthDays&&e.dateStart.getMonth()!==t.dateCurrent.getMonth()&&(a.otherMonthDate=!0)}_completeEventDragDrop(e){const t=this,n=e.event,a=e.schedulerEvent,i=e.hoveredCell,r=e.hoveredScheduler,o=e.schedulerEventObj,d=e.newDateStart,f=e.newDateEnd,p=t.view,v=t.views.find(N=>N.value&&N.value===p)||{},w=v&&v.groupOrientation?v.groupOrientation:t.groupOrientation,C=a.$.event,x=C.$?C.$.event:void 0,L=i.$.cellObj,A=L[w].group,k=C.dateStart?C.dateStart.getTime():new Date(2024,1,1,0,0,0).getTime(),B=i.$.cellObj.time;let H,V;const z=JSON.parse(JSON.stringify(o));z.dateStart=d,z.dateEnd=f,d===f&&(z.allDay=!0);for(let N in A)z[N]=A[N];if(a&&a.$.event&&!a.$.event.dateStart&&t._noDateEvents){const N=t._noDateEvents.findIndex(F=>{if(z.id===F.id&&z.label===F.label)return F});N>=0&&(t._noDateEvents.splice(N,1),t.addEvent(z,F=>{z.id=F}))}if(!(r.disableDrop||n&&n.type==="keydown"&&n.key==="Escape"||e.otherMonthDate)&&d&&f&&!t._isEventRestricted(z)){if(r===t?(V=t._cloneObject(x||C),H=C):H=o,r===t&&k===B||t._handleEventExceptionDrop(C,H),H.dateStart=new Date(d),H.dateEnd=new Date(f),["day","week"].indexOf(t.viewType)>-1&&(H.allDay=!!L.allDay),k!==B&&(a.$.cellTime=B),H.allDay||delete H.allDay,A&&!t._isEventPartOfGroup(C,A)){t.groups.forEach(N=>delete H[N]);for(let N in A)H[N]=A[N]}r===t?(t._validateEventDateRange(H),t._refreshTimelineEvents(),e.schedulerEventObj=t._cloneObject(x||H),t._updateUndoRedo(V,t._cloneObject(x||H),"dragEnd")):(x||t.removeEvent(C),r.insertEvent(H))}}_setEventDropDates(e){const t=this,n=e.schedulerEvent,a=e.hoveredScheduler,i=e.hoveredCell,r=n.$.event,o=i.$.cellObj,d=r.dateStart?r.dateStart.getTime():new Date(2024,1,1,0,0,0).getTime(),f=i.$.cellObj.time,p=o[t.groupOrientation].group;if(a===t&&d===f&&!!o.allDay==!!r.allDay&&(!p||t._isEventPartOfGroup(r,p)))return e.newDateStart=new Date(r.dateStart),void(e.newDateEnd=new Date(r.dateEnd));const v=e.schedulerEventObj,w=["day","week"].indexOf(t.viewType)>-1,C=a===t?r:v;let x,L;if(x=new Date(f),w&&!!C.allDay!=!!o.allDay)L=t._getCellDateRange(o).dateEnd;else if(C.dateEnd){const A=C.dateEnd.getTime()-C.dateStart.getTime();L=new Date(x.getTime()+A)}else L=t._getCellDateRange(o).dateEnd;w&&o.allDay&&(x.setHours(0,0,0,0),L.getHours()!==0&&L.getMinutes()!==0&&L.getSeconds()!==0&&L.setHours(23,59,59,999)),e.newDateStart=x,e.newDateEnd=L,t.hideOtherMonthDays&&x.getMonth()!==t.dateCurrent.getMonth()&&(e.otherMonthDate=!0)}_checkEventResizability(e){const t=this,n=t._dragDetails,a=e.originalEvent||e;let i=a.target;if(t._isMobile){if(!n)return;t.$.timelineContent.classList.add("hide-overlay"),i=(t.shadowRoot||document).elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset),t.$.timelineContent.classList.remove("hide-overlay")}else t.shadowRoot&&i===t&&(i=e.originalEvent.composedPath()[0]);const r=t.$.timeline;let o=i&&i.closest&&!t.disabled?i.closest(".smart-scheduler-event"):void 0;if(t._handleEventHover(o),!o||t.disableResize||t.viewType==="agenda")return;const d=o.$?o.$.event:void 0;if(!r.contains(o)||o.hasAttribute("collector")||!d||d.disableResize)return;const f=t.viewType,p=t.$.timelineViewAllDay.contains(o),v=e.pageX-window.pageXOffset,w=e.pageY-window.pageYOffset,C=t.resizeHandlesVisibility==="visible"||t._isMobile?20:5,x=o.getBoundingClientRect();if(f.toLowerCase().indexOf("timeline")>-1||f==="month"||p){if(Math.round(x.left)+C>=v&&Math.round(x.left)-C<=v)return void r.setAttribute("event-hovered","left");if(Math.round(x.right)+C>=v&&Math.round(x.right)-C<=v)return void r.setAttribute("event-hovered","right")}else{if(Math.round(x.top)+C>=w&&Math.round(x.top)-C<=w)return void r.setAttribute("event-hovered","top");if(Math.round(x.bottom)+C>=w&&Math.round(x.bottom)-C<=w)return void r.setAttribute("event-hovered","bottom")}r.hasAttribute("event-hovered")&&r.setAttribute("event-hovered","")}_handleEventHover(e){const t=this,n=t.$.timeline;if(!e&&!n.hasAttribute("event-hovered")||e&&e.hasAttribute("hover"))return;const a=e&&e.$?e.$.event:void 0;let i=[].concat(Array.from(t.$.timelineEventsContainer.children),Array.from(t.$.allDayEventsContainer.children));t._eventList&&(i=i.concat(Array.from(t._eventList.children)));for(let r=0;r<i.length;r++){const o=i[r],d=o.$.event;o===e||a&&a===d?o.setAttribute("hover",""):o.removeAttribute("hover")}a||e?n.setAttribute("event-hovered",""):n.removeAttribute("event-hovered")}_handleEventResize(e){const t=this,n=t._dragDetails,a=n?n.schedulerEvent:void 0;if(t.disableResize||!n||!a||t.viewType==="agenda"||t._isMobile&&Date.now()-n.timestamp<250)return;t.hasAttribute("resized")||t._setResizeStart(a);const i=n.resizeDetails;if(!i)return;const r=e.pageX-window.pageXOffset,o=e.pageY-window.pageYOffset,d=i.side,f=t.$.timelineContainer.getBoundingClientRect();let p;p=i.rightToLeft?f.right-r:r-f.left;const v={x:Math.max(0,p+t.scrollLeft),y:Math.max(0,o-f.top+t.scrollTop)},w=t._getCellObjOffset(a,v,d);if(t._autoScroll(e),w){if(i.cellObj=w.cellObj,i.scaleIndex=w.scaleIndex,d==="left"||d==="right"){if(!t._resizeEventHorizontal(w,d))return}else if(!t._resizeEventVertical(w,d))return}}_setResizeStart(e){const t=this,n=t._dragDetails,a=e.$.event,i=t.$.timeline,r=t._eventList;if(!a||a.disableResize||Smart.Scheduler.schedulerStart||r&&r.contains(e))return;const o=t._cloneObject(a);if(t.$.fireEvent("resizeStart",{target:n.schedulerEvent,item:o,itemDateRange:{dateStart:new Date(a.dateStart),dateEnd:new Date(a.dateEnd)},originalEvent:n.originialEvent}).defaultPrevented)return;t.$.tooltip.close(),t.setAttribute("resized",""),e.setAttribute("resized",""),t._scrollView.disableSwipeScroll=t._touchmoveInside=!0;const d=t.rightToLeft,f=parseFloat(e.style[d?"right":"left"]),p=parseFloat(e.style.top),v={width:parseFloat(e.style.width),height:parseFloat(e.style.height)},w=i.getAttribute("event-hovered"),C={x:f,y:p},x=e.closest(".smart-scheduler-events-container").children;let L;for(let A=0;A<x.length;A++){const k=x[A],B=k.$?k.$.event:void 0,H=parseFloat(k.style.left),V=parseFloat(k.style.top);B===a&&e!==k&&(w==="left"&&(V<p||V===p&&H<f)||w==="right"&&(V>p||V===p&&H>f))&&(k.classList.add("smart-hidden"),L=!0)}n.resizeDetails={side:w,originalSize:v,originalPosition:C,position:{x:C.x,y:C.y},size:{width:v.width,height:v.height},isAllDay:t.$.timelineViewAllDay.contains(e),rightToLeft:d,resizeFromEnd:w==="bottom"||w==="right"&&!d||w==="left"&&d,resizeFromMiddle:L,schedulerEventObj:o}}_resizeEventHorizontal(e,t){const n=this._dragDetails,a=n.schedulerEvent,i=this.rightToLeft,r=n.resizeDetails;let o,d=r.position.x,f=e.offset;if(t==="left"&&!i||t==="right"&&i){const p=r.originalPosition.x;if(d===f||(d<f?(f=d<p?Math.min(p,f):f,o=r.size.width-(f-d)):(f=d>p?Math.max(p,f):f,o=r.size.width+(d-f)),o<=0))return;r.position.x=f,i?(a.style.left="",a.style.right=f+"px"):(a.style.right="",a.style.left=f+"px")}else if(d+=r.size.width,f+=e.size,d===f||(o=d<f?r.size.width+(f-d):r.size.width-(d-f),o<=0))return;return r.size.width=o,a.style.width=r.size.width+"px",!0}_resizeEventVertical(e,t){const n=this._dragDetails,a=n.schedulerEvent,i=n.resizeDetails;let r,o=i.position.y,d=e.offset;if(t==="top"){const f=i.originalPosition.y;if(o===d||(o<d?(d=o<f?Math.min(f,d):d,r=i.size.height-(d-o)):(d=o>f?Math.max(f,d):d,r=i.size.height+(o-d)),r<=0))return;i.position.y=d,a.style.top=d+"px"}else if(o+=i.size.height,d+=e.size,o===d||(r=o<d?i.size.height+(d-o):i.size.height-(o-d),r<=0))return;return i.size.height=r,a.style.height=i.size.height+"px",!0}_getCellObjOffset(e,t,n){const a=this,i=a._dragDetails.resizeDetails,r=a._timelineCells,o=e.$.event,d=i.isAllDay?1:a._getCellsScaleCount(),[f,p,v,w]=n==="right"||n==="left"?["width","left","horizontal","x"]:["height","top","vertical","y"],C=i.resizeFromEnd,x=r[v],L=i.originalSize[f];let A,k,B,H,V,z=i.originalPosition[w],N=z,F=t[w];C?(z=parseFloat((z+L).toFixed(2)),F=Math.max(N,F),H=N):(N=parseFloat((N+L).toFixed(2)),F=Math.min(N,F),V=N);for(let ae=0;ae<x.length;ae++){const Q=x[ae];if(Q.group&&!a._isEventPartOfGroup(o,Q.group))continue;const ie=parseFloat((Q[p]+Q[f]).toFixed(2));k||(H===void 0?ie>F&&(k=Q):ie>H&&(k=Q)),V===void 0?Q[p]<=F&&(B=Q):Q[p]<V&&(B=Q),F!==N&&Q[p]<=F&&ie>=F&&(A=Q)}if(A||(A=C&&N===F||!C&&N!==F?k:B),!A)return;let q,Y=A[p],X=parseFloat((A[f]/d).toFixed(2));for(let ae=0;ae<d;ae++){const Q=parseFloat((A[p]+X*ae).toFixed(2));(N!==F&&Q===F||Q+X===F||Q<F&&Q+X>=F)&&(Y=Q,q=ae)}return z>Y&&z<parseFloat((Y+X).toFixed(2))&&(C&&F<=z?X=z-Y:!C&&F>=z&&(Y=z)),{offset:Y,size:X,cellObj:A,scaleIndex:q}}_handleEventExceptionDrop(e,t){const n=e.$?e.$.event:void 0;if(t||(t=e),e!==t)return delete t.repeat,void delete t.date;if(!n)return;const a=n.repeat;if(t.date||(t.date=new Date(t.dateStart)),delete t.repeat,a){const i=a.exceptions;i?i.indexOf(t)<0&&i.push(t):a.exceptions=[t]}}_dragStartHandler(e){const t=this,n=e.target.closest;if((t._dragDetails||n&&n.call(t,"smart-scheduler")===t)&&e.target){let a=e.target;for(;a;){if(a.className&&a.className.indexOf("smart-scheduler")>=0)return void e.preventDefault();a=a.parentNode}}}_autoScroll(e){const t=this,n=t.$.timelineContainer,a=(e.originalEvent||e).target,i=t.autoScrollStep,r=t._dragDetails,o=t.rightToLeft;function d(v,w){w?(t.scrollTop-=i*v,r&&(r.coordinates.y+=i*v)):(t.scrollLeft-=(o?-1:1)*i*v,r&&(r.coordinates.x+=i*v)),t.hasAttribute("resized")&&t._handleEventResize(e)}if(t.disableAutoScroll||!e||!n.contains(a)||!t.hasAttribute("dragged")&&!t.hasAttribute("resized"))return void clearInterval(t._scrollInterval);clearInterval(t._scrollInterval);const f=n.getBoundingClientRect(),p=!(!r||!r.resizeDetails)&&r.resizeDetails.isAllDay;t._scrollInterval=setInterval(function(){(t.scrollLeft||o)&&e.clientX<=f.left+50?d(1):t.scrollLeft!==(o?0:t.scrollWidth)&&e.clientX>=f.left+f.width-50?d(-1):p||(t.scrollTop&&e.clientY<=f.top+50?d(1,!0):t.scrollTop!==t.scrollHeight&&e.clientY>=f.top+f.height-50?d(-1,!0):(clearInterval(t._scrollInterval),t._scrollInterval=void 0))},1)}_createDragFeedback(e){const t=this,n=t.theme,a=t.rightToLeft,i=t._dragDetails.schedulerEvent;let r=document.createElement("div");return t.dragFeedbackFormatFunction?r.innerHTML=t.dragFeedbackFormatFunction(e)||"":(r=i.cloneNode(!0),r.setAttribute("view-type",t.viewType),r.setAttribute("event-render-mode",t.eventRenderMode)),r.classList.remove("smart-scheduler-event"),r.classList.add("smart-scheduler-drag-feedback"),r.setAttribute("parent-scheduler-id",t.id),t._isMobile&&r.setAttribute("mobile",""),n&&r.setAttribute("theme",n),a&&r.setAttribute("right-to-left",""),r}_containsEvent(e){const t=this._events;if(!e)return;if(t.indexOf(e)>-1)return e;const n=["label","description"],a=this.groups,i=typeof e=="string"?e:e.id;for(let r=0;r<t.length;r++){const o=t[r];if(o.id!==void 0&&o.id+""===i||o.id!==void 0&&o.id+""==""+i||(o.id===void 0||o.id+""==i+"")&&n.every(d=>o[d]instanceof Date?new Date(o[d]).getTime()===new Date(e[d]).getTime():o[d]===e[d])&&(!a.length||a.every(d=>e[d]===o[d])))return o}}_keyDownHandler(e){const t=this;if(t.readonly||t.hasAttribute("modal"))return void delete t._keyPressed;const n=t.$.tooltip,a=e.key,i=t.$.viewItemsContainer,r=e.target;switch(a){case"End":case"Home":case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"PageDown":case"PageUp":e.preventDefault(),t._handleKeyNavigation(e);break;case"Enter":case"Escape":if(a==="Enter"){if(n.contains(r)){const o=n.querySelector("[selected]");if(!o)return;if(r===i){const d=t.$.showWeekendItem;d&&d.hasAttribute("selected")&&t._checkHideWekendItem(d),n.close(),t.$.viewItemsButton.focus({preventScroll:!0})}else r.classList.contains("smart-scheduler-event-button")?(t._deleteEventViaWindow(r.closest(".smart-scheduler-event").$.event),n.close(),t.$.timeline.focus({preventScroll:!0})):o.classList.contains("smart-scheduler-event")?t._doubleClickHandler(o):o.classList.contains("smart-scheduler-context-menu-item")&&t._handleContextMenuItemClick(o);e.preventDefault()}else if(r.classList.contains("smart-scheduler-event"))t._doubleClickHandler(r);else if(r.classList.contains("smart-scheduler-legend-res-item")){if(!t.filterable)return;t._handleLegendItemClick(r)}else r===t.$.timeline&&(t.autoCreateDialog?t._setupAutoCreateDialog(e):t._openWindow(),e.preventDefault());break}a==="Escape"&&(Smart.Scheduler.schedulerStart===t?(t._endDrag(e,t),e.preventDefault()):t.hasAttribute("resized")&&(t._endResize(),e.preventDefault())),n.close(),n.selector&&n.selector.focus({preventScroll:!0});break;case"Tab":{const o=r;let d;if((o.classList.contains("smart-scheduler-event")||o.classList.contains("smart-scheduler-view"))&&(d=Array.from(t.$.timeline.querySelectorAll(".smart-scheduler-event"))),!d)break;const f=d.indexOf(o),p=f<0?d[0]:d[f+(e.shiftKey?-1:1)];if(n.visible&&n.contains(o))return;p&&(e.preventDefault(),p.focus({preventScroll:!0}));break}case"c":case"C":case"x":case"X":!t._dragDetails&&e.ctrlKey&&r.classList.contains("smart-scheduler-event")&&(t._updateClipboard(r.$.event,a==="c"?"copy":"cut"),t._handleEventCut(r));break;case"z":case"Z":case"y":case"Y":{const o=t.getRootNode(),d=o?o.activeElement.classList:void 0;if(!d.contains("smart-scheduler-event")&&!d.contains("smart-scheduler-view")&&!d.contains("smart-scheduler"))return;!t._dragDetails&&e.ctrlKey&&t._handleUndoRedo(a==="z"?"undo":"redo");break}case"v":case"V":!t._dragDetails&&e.ctrlKey&&r.classList.contains("smart-scheduler-view")&&t._selectedCellObj&&t._pasteEvent(t._selectedCellObj.from);break;case"Delete":if(!t._dragDetails&&r.classList.contains("smart-scheduler-event")&&!r.hasAttribute("collector")){if(t.$.fireEvent("eventShortcutKey",{key:a,target:r,eventObj:t._cloneObject(r.$.event)}).defaultPrevented)return;e.preventDefault(),t._handleEventMenuDelete(r)}break;case" ":t.filterable&&r.classList.contains("smart-scheduler-legend-res-item")&&t._handleLegendItemClick(r);break;default:if(r===i||r.closest(".smart-scheduler-view-items-button")){let o=t._keyPressed;o||(o=t._keyPressed={}),o[a.toLowerCase()]=!0;const d=Object.keys(o),f=Array.from(i.children).find(p=>{const v=(p.getAttribute("shortcut-key")||"").toLowerCase().split("+");return v.forEach(w=>w.trim()),d.length===v.length&&d.every(w=>v.indexOf(w)>-1)});f&&(t._handleViewSelection(f),e.preventDefault(),n.close())}}}_keyUpHandler(e){const t=this;if(t.disabled||t.readonly)return void delete t._keyPressed;let n=t._keyPressed;n&&(delete n[e.key.toLowerCase()],Object.keys(n).length||delete t._keyPressed)}_handleContextMenuItemClick(e){const t=this,n=t.$.tooltip,a=n.selector,i=e.getAttribute("value");let r;switch(i){case"create":if(a.classList.contains("smart-scheduler-cell"))if(t._selectedCellObj)r=t._createEventFromSelection();else{const o=t._getCellDateRange(a),d=a.$.cellObj,f=d.vertical.group||d.horizontal.group;if(r={dateStart:o.dateStart,dateEnd:o.dateEnd,allDay:a.hasAttribute("all-day")},f)for(let p in f)r[p]=f[p]}else if(a.classList.contains("smart-scheduler-event")){const o=Object.assign({},a.$.event);r={dateStart:new Date(o.dateStart),dateEnd:new Date(o.dateEnd),allDay:o.allDay}}t._openWindow(r);break;case"edit":t._doubleClickHandler(a);break;case"copy":case"cut":a.classList.contains("smart-scheduler-event")&&!a.hasAttribute("collector")&&(t._updateClipboard(a.$.event,i),t._handleEventCut(a));break;case"paste":if(e.hasAttribute("disabled"))return;a.classList.contains("smart-scheduler-cell")&&t._pasteEvent(a);break;case"delete":if(!a.classList.contains("smart-scheduler-event")||a.hasAttribute("collector"))return;t._handleEventMenuDelete(a)}if(e instanceof HTMLElement){const o={item:e,type:"context",value:e.getAttribute("value")};r&&(o.itemObj=t._cloneObject(r)),t.$.fireEvent("itemClick",o)}n.close()}_updateClipboard(e,t){const n=this;if(!e||!t)return void delete n._clipboard;n._clipboard={target:e,action:t};let a=[],i=[];const r=n.locale,o={year:n.yearFormat,month:n.monthFormat,day:n.dayFormat,hour:n.hourFormat,minute:n.minuteFormat},d=[{label:"id",value:"Id"},{label:"label",value:"Label"},{label:"description",value:"Description"},{label:"dateStart",value:"Date Start"},{label:"dateEnd",value:"Date End"},{label:"allDay",value:"All Day"},{label:"repeat",value:"Repeat"},{label:"notifications",value:"Notifications"}];for(let f=0;f<d.length;f++){const p=d[f].label;if(e[p]!==void 0){let v=e[p];v instanceof Date?v=new Intl.DateTimeFormat(r,o).format(new Date(v)):p==="repeat"?v=(Object.keys(v).length>0)+"":p==="notifications"&&(v=(Array.isArray(v)&&v.length>0)+""),i.push(d[f].value),a.push(v+"")}}if(a=i.join(",")+`
`+a.join(","),navigator.clipboard)navigator.clipboard.writeText(a);else if(document.execCommand){const f=document.createElement("textarea"),p=n.getRootNode().activeElement;return f.value=a,f.style.position="fixed",document.body.appendChild(f),f.focus({preventScroll:!0}),f.select(),document.execCommand("copy"),document.body.removeChild(f),void(p&&p.focus({preventScroll:!0}))}}_handleEventCut(e){const t=this,n=t._clipboard,a=Array.from(t.$.timelineEventsContainer.children).concat(Array.from(t.$.allDayEventsContainer.children));let i;if(n&&n.action==="cut"||(e=void 0),e?i=e.$.event:!e&&n&&n.action==="cut"&&(i=n.target),i&&i.$&&i.$.event){const r=i.$.event;r&&r.repeat&&(!r.repeat.exceptions||r.repeat.exceptions.indexOf(i)<0)&&(i=void 0)}for(let r=0;r<a.length;r++){const o=a[r];i&&o.$&&o.$.event===i?o.setAttribute("cut",""):o.removeAttribute("cut")}}_pasteEvent(e){const t=this,n=t._clipboard;if(!n)return;let a=n.target;if(!a||!(e=e instanceof HTMLElement?e.$.cellObj:e))return;const i=a.$&&a.$.event?a.$.event:void 0;if(i&&i.repeat&&(!i.repeat.exceptions||i.repeat.exceptions.indexOf(a)<0))return;const r=t.view,o=t.views.find(L=>L.value&&L.value===r)||{},d=e[o&&o.groupOrientation?o.groupOrientation:t.groupOrientation].group,f=["day","week"].indexOf(t.viewType)>-1;let p,v,w,C;switch(n.action){case"copy":{if(i)return;const L=t.localize("duplicate"),A=new RegExp(`\\s?-\\s?${L}\\s?(\\(([0-9]+)\\))?$`,"g"),k=t._events;let B=(a.label+"").replace(A,""),H=0;a=t._cloneObject(a);for(let V=0;V<k.length;V++){const z=k[V];if(z.label.indexOf(B)>-1&&(A.lastIndex=0,A.test(z.label))){A.lastIndex=0;const N=A.exec(z.label);H=Math.max(H,parseInt(N[2])||1)+1}}a.label=H>1?`${B} - ${L} (${H})`:`${B} - ${L}`,delete a.id,t._events.push(a),w="itemInsert";break}case"cut":C=t._cloneObject(i||a),d&&!t._isEventPartOfGroup(a,d)&&t.groups.forEach(L=>delete a[L]),t._updateClipboard(),w="itemUpdate"}if(p=new Date(e.time),v=f&&!!a.allDay!=!!e.allDay?t._getCellDateRange(e).dateEnd:new Date(p.getTime()+(a.dateEnd.getTime()-a.dateStart.getTime())),f&&(e.allDay&&(p.setHours(0,0,0,0),v.getHours()!==0&&v.getMinutes()!==0&&v.getSeconds()!==0&&v.setHours(23,59,59,999)),a.allDay=!!e.allDay),a.allDay||delete a.allDay,a.dateStart=p,a.dateEnd=v,d)for(let L in d)a[L]=d[L];t._validateEventDateRange(a),t._refreshTimelineEvents(),w==="itemInsert"?t._updateUndoRedo(void 0,t._cloneObject(i||a),w):t._updateUndoRedo(C,t._cloneObject(i||a),w);const x=t._cloneObject(i||a);t.$.fireEvent(w,{item:x}),t.$.fireEvent("itemChange",{item:x})}_handleKeyNavigation(e){const t=this,n=t.viewType.toLowerCase(),a=n.indexOf("timeline")>-1,i=t.$.tooltip,r=t.rightToLeft,o=e.key;let d=t.enableShadowDOM?e.composedPath()[0]:e.target;if(i.visible){const f=i.$.content instanceof HTMLElement?i.$.content.querySelector("[tabindex]"):null;f&&(f.focus({preventScroll:!0}),d=f)}if(d===t.$.timeline){const f=t.$.timelineContent,p=t.$.timelineViewAllDay,v=p.offsetHeight>0;if(!t._selectedCellObj)return t._handleCellSelection((v?p:f).querySelector(".smart-scheduler-cell:not(.scale)")),void(t._selectedCellObj&&t._scrollTo(t._selectedCellObj.to));const w=t._selectedCellObj[e.shiftKey?"to":"from"],C=t._getCellsScaleCount(),x=w.scaleIndex||0,L=C-1;let A,k,[B,H,V]=[w.horizontal,w.vertical,x],z=w.allDay;switch(o){case"Home":case"End":A=t._timelineCells[a?"horizontal":"vertical"],[k,V,z]=o==="Home"?[A[0],0,!e.shiftKey&&v]:[A[A.length-1],L,!1],[B,H]=a?[k,H]:[B,k];break;case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":{const F=["ArrowUp","ArrowDown"].indexOf(o)>-1,q=r&&o==="ArrowRight"||!r&&o==="ArrowLeft"||o==="ArrowUp"?-1:1;[A,k]=F?[t._timelineCells.vertical,H]:[t._timelineCells.horizontal,B],F&&a||!F&&!a?k=A[A.indexOf(k)+q]:(V+=q,(V<0||V>L)&&(k=A[A.indexOf(k)+q],V=V>L?0:L)),[B,H]=F?[B,k]:[k,H];break}case"PageDown":case"PageUp":{if(a||w.allDay)break;const F=w.vertical.top+t._scrollViewSize.height*(o==="PageUp"?-1:1),q=t._timelineCells.vertical;H=t._timelineCells.vertical.find(Y=>Y.top>=F),H||(H=o==="PageUp"?q[0]:q[q.length-1]);break}}e.shiftKey||(z&&o==="ArrowDown"?(H=t._timelineCells.vertical[0],V=0,z=!1):o!=="ArrowUp"||H||(z=v));const N=t._getCellByObj({horizontal:B,vertical:H,scaleIndex:V,allDay:z});if(N){const F=t._selectedCellObj.from;t._handleCellSelection(n!=="agenda"&&e.shiftKey&&!!F.allDay==!!z?F:N,N)}}else if(d===t.$.viewItemsContainer){const f=t.$.viewItemsContainer.children,p=Array.from(f).find(w=>w.hasAttribute("selected"));let v;p&&o!=="Home"?o==="End"?v=f[f.length-1]:(t.$.tooltip.contains(d)&&(o==="ArrowUp"||o==="ArrowDown")||t.$.header.contains(d)&&(o==="ArrowLeft"||o==="ArrowRight"))&&(v=p[o==="ArrowUp"||o==="ArrowLeft"&&!r||o==="ArrowRight"&&r?"previousElementSibling":"nextElementSibling"]):v=f[0],v&&p!==v&&t._handleViewSelection(v)}else if(d===t._list){const f=(t._list.contains(t._eventList)?t._eventList:t._contextList).children,p=Array.from(f).find(w=>w.hasAttribute("selected"));let v;p&&o!=="Home"?o==="End"?v=f[f.length-1]:o!=="ArrowUp"&&o!=="ArrowDown"||(v=p[o==="ArrowUp"?"previousElementSibling":"nextElementSibling"]):v=f[0],v&&p!==v&&t._handleEventItemSelection(f,v)}}_handleEventItemSelection(e,t){const n=this;if((n._eventList||n._contextList)&&(n._list.contains(n._eventList)?n._eventList:n._contextList)){e||(e=(n._list.contains(n._eventList)?n._eventList:n._contextList).children);for(let a=0;a<e.length;a++){const i=e[a];i===t?i.setAttribute("selected",""):i.removeAttribute("selected")}}}_getCellByObj(e){const t=this;if(!e||!t._scrollTo(e))return;const n=e.allDay,a=n?t.$.timelineViewAllDay:t.$.timelineCellsContainer,i=Array.from(a.querySelectorAll(".smart-scheduler-cell:not(.scale)"));n&&delete e.vertical;const r=Object.keys(e);return i.find(o=>r.every(d=>e[d]===o.$.cellObj[d]||o.$.cellObj[d]===void 0))}_scrollTo(e,t,n){const a=this,i=a._getCellsScaleCount(),r=a.viewType.toLowerCase().indexOf("timeline")>-1;let o,d,f,p,v,w,C,x;if(e instanceof HTMLElement&&e.classList.contains("smart-scheduler-event")||a._events&&a._events.indexOf(e)>-1){const A=a._scrollToEvent(e);if(!A)return;[o,d,f,p]=[A.hCell,A.vCell,A.scaleIndex,A.allDay]}else if(e instanceof Date){let A=a._getCellObjByDate(e);if(!A&&(a.navigateToDate(e),A=a._getCellObjByDate(e),!A))return;[o,d,f,p]=[A.hCell,A.vCell,A.scaleIndex,A.allDay]}else{if(e instanceof HTMLElement&&e.$&&(e=e.$.cellObj),!e)return;o=e.horizontal||e,d=e.vertical||e,f=e.scaleIndex||0,p=e.allDay}const L=()=>{const A=a[v];t||A>x?(a[v]=x,a.isCompleted||(a.$.timelineContainer[v]=a[v],a._recycle())):A+C<x+w&&(a[v]=Math.max(0,x+w-C),a.isCompleted||(a.$.timelineContainer[v]=a[v],a._recycle()))};if(o){let A=o.width?o.width:o.first?o.first.height:0,k=o.left?o.left:0;[v,w,C]=["scrollLeft",A/(r?i:1),a._scrollViewSize.width],x=k+w*(r?f:0),L()}if(d&&!p){let A=d.height?d.height:d.first?d.first.height:0,k=d.top!==void 0?d.top:d.first?d.first.top:0;[v,w,C]=["scrollTop",A/(r?1:i),a._scrollViewSize.height],x=k+w*(r?0:f),n&&(t&&(x=Math.max(0,x+w-C)),x+=(a._scrollViewSize.height-w)/2),L()}return!0}_scrollToEvent(e){const t=this;if(!e)return;e instanceof HTMLElement&&e.classList.contains("smart-scheduler-event")&&!t.$.timeline.contains(e)&&(e=e.$?e.$.event:void 0);const n=t._events;if(!e||!n||n.indexOf(e)<0)return;const a=t._getEventHorizontallCellObjs(e),i=t._getEventVerticalCellObjs(e),r=a.start||a.first,o=i.start||i.first;let d=0;return e.allDay||(d=t._getEventScaleIndex(e,t.viewType.indexOf("timeline")>-1?r:o).start),{hCell:r,vCell:i,scaleIndex:d,allDay:e.allDay}}_getCellObjByDate(e){if(!(e instanceof Date)||!e||isNaN(e.getTime()))return;const t=this,n=t.viewType.toLowerCase(),a=t._timelineCells.horizontal,i=t._timelineCells.vertical,r=n.indexOf("month")>-1;let o,d,f,[p,v,w,C,x]=[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getDay()];if(n==="agenda"){if(d=i.find(L=>{const A=L.date;return A.getFullYear()===p&&A.getMonth()===v&&A.getDate()===w}),!d)return}else if(n.indexOf("timeline")<0){if(o=a.find(L=>{const A=L.date;return r&&A.getDay()===x||A.getFullYear()===p&&A.getMonth()===v&&A.getDate()===w}),r&&(f=new Date,f.setDate(f.getDate()-f.getDay()+t.firstDayOfWeek),[p,v,w,C,x]=[f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getDay()]),d=i.find(L=>{const A=L.date;return r?A.getFullYear()===p&&A.getMonth()===v&&A.getDate()===w&&A.getHours()===C:A.getHours()===C}),!o||!d)return}else if(o=a.find(L=>{const A=L.date;return A.getFullYear()===p&&A.getMonth()===v&&A.getDate()===w&&(r||A.getHours()===C)}),!o)return;return{hCell:o,vCell:d,scaleIndex:Math.floor(e.getMinutes()/60*t._getCellsScaleCount())}}_mouseWheelNative(e,t){const n=this;n._scrollWheelContent===void 0&&(n._scrollWheelContent=document.createElement("div"),n._scrollWheelContent.style.width="100%",n._scrollWheelContent.style.height="100%",n._scrollWheelContent.style.position="absolute",n._scrollWheelContent.style.left="0px",n._scrollWheelContent.style.top="0px",n._scrollWheelContent.style.background="white",n._scrollWheelContent.style.zIndex=9999,n._scrollWheelContent.style.opacity=0,n._scrollWheelContent.style.overflow="auto",n._scrollWheelContent.style.visibility="hidden");let a=0;const i=()=>{if(t){const r=n._scrollWheelContent.scrollLeft;n._scrollView.hScrollBar.value=r,r===e&&n._scrollWheelContent.remove()}else{const r=n._scrollWheelContent.scrollTop;n._scrollView.vScrollBar.value=r,r===e&&n._scrollWheelContent.remove()}};n._scrollWheelContent.onscroll=()=>{cancelAnimationFrame(a),a=0,a=requestAnimationFrame(i)},n._scrollWheelContentView||(n._scrollWheelContentView=document.createElement("div"),n._scrollWheelContent.appendChild(n._scrollWheelContentView)),n._scrollWheelContentView.style.width=n.offsetWidth+n._scrollView.scrollWidth+"px",n._scrollWheelContentView.style.height=n.offsetHeight+n._scrollView.scrollHeight+"px",n.$.viewContent.appendChild(n._scrollWheelContent),n._scrollWheelContent.scrollTop=n._scrollView.vScrollBar.value,n._scrollWheelContent.scrollLeft=n._scrollView.hScrollBar.value,t===!0?n._scrollWheelContent.scrollTo({top:n._scrollView.vScrollBar.value,left:e,behavior:"smooth"}):n._scrollWheelContent.scrollTo({top:e,left:n._scrollView.hScrollBar.value,behavior:"smooth"})}_mouseWheelHandler(e){const t=this,n=e.target;if(t.$.viewSelectorContainer.contains(n))return void t._handleViewNavigation(e);if(t.disabled||n.closest(".smart-scheduler-window-modal")||t._scrollView.hScrollBar.$.hasClass("smart-hidden")&&t._scrollView.vScrollBar.$.hasClass("smart-hidden")||e.pointerId===42)return;let a=!1;if(e.wheelDeltaY?Math.abs(e.wheelDeltaY)!==120&&Math.abs(e.wheelDeltaY)!==240&&Math.abs(e.wheelDeltaY)!==360&&(a=!0):e.deltaMode===0&&(a=!0),t.disabled||t._scrollView.vScrollBar.$.hasClass("smart-hidden")||e.shiftKey||!e.deltaY){if(!t.disabled&&(!t._scrollView.hScrollBar.$.hasClass("smart-hidden")||e.shiftKey)){e.stopPropagation(),e.preventDefault();let i=160;const r=e.deltaX===0?e.wheelDelta:e.deltaX;r<0&&(i=-160),Math.abs(r)>=100&&!a&&!Smart.Utilities.Core.Browser.Firefox?t._mouseWheelNative(t._scrollView.scrollLeft+i,!0):t._scrollView.scrollLeft+=r}}else{const i=t.scrollTop;if(i===0&&e.deltaY<0||i===t.scrollHeight&&e.deltaY>0||e.target&&e.target.offsetParent&&e.target.offsetParent.classList.contains("smart-scheduler-list-container"))return;e.stopPropagation(),e.preventDefault();let r=450;if(e.deltaY<=0&&(r=-450),Math.abs(e.deltaY)>=100&&!a&&!Smart.Utilities.Core.Browser.Firefox)t._mouseWheelNative(t._scrollView.scrollTop+r);else{t._wheelrafId=0;const o=()=>{t._scrollView.scrollTop+=e.deltaY};cancelAnimationFrame(t._wheelrafId),t._wheelrafId=0,t._wheelrafId=requestAnimationFrame(o)}}}_handleCellSelection(e,t){const n=this,a=n._dragDetails?n._dragDetails.selectedCellObj:n._selectedCellObj;let i,r,o,d;a&&(i=a.from,r=a.to),n.disableSelection?n._selectCell():n._selectCell(e,t),n._selectedCellObj&&(o=n._selectedCellObj.from,d=n._selectedCellObj.to);const f={dateStart:void 0,dateEnd:void 0,group:void 0};let p,v,w,C,x,L;i&&(p=new Date(i.time),v=new Date(r.time),x=i.horizontal.group||i.vertical.group),o&&(w=new Date(o.time),L=o.horizontal.group||o.vertical.group,f.dateStart=w,f.group=L,C=new Date(d.time),f.dateEnd=C),(i&&!o||!i&&o||p&&(p.getTime()!==w.getTime()||v.getTime()!==C.getTime()||x!==L))&&n.$.fireEvent("change",f)}_selectCell(e,t){const n=this;function a(){const A=n.$.timeline.querySelectorAll(".smart-scheduler-cell[selected]");for(let k=0;k<A.length;k++)A[k].removeAttribute("selected");delete n._selectedCellObj}if(t||(t=e),!e||n.viewType==="agenda")return void a();let i=e,r=t;if(e.closest){const A=e.closest(".smart-scheduler-cell:not(.scale)");if(!A||!n.$.timeline.contains(A))return;i=A.$?A.$.cellObj:void 0}if(t.closest){const A=t.closest(".smart-scheduler-cell:not(.scale)");if(!A||!n.$.timeline.contains(A))return;r=A.$?A.$.cellObj:void 0}if(!i||!r||n._isMobile&&Object.keys(i).some(A=>i[A]!==r[A])||i.time===void 0||r.time===void 0)return;if(i.allDay&&!r.allDay){const A=n.$.timelineViewAllDayCellsContainer.children;for(let k=0;k<A.length;k++){const B=A[k];if(!B.$)continue;const H=B.$.cellObj;if(H.horizontal===r.horizontal){r=H;break}}}if(i.allDay!==r.allDay)return;const o=n.view,d=n.views.find(A=>A.value&&A.value===o)||{},f=d&&d.groupOrientation?d.groupOrientation:n.groupOrientation,p=(i[f]||i).group;if(p!==(r[f]||r).group)return;a();let v,[w,C]=[i.time,r.time];if(n.viewType==="agenda"&&w!==C)return;let x={};if(w>C){const A=w;w=C,C=A}x.from=Object.assign({},i),x.to=Object.assign({},r),n._selectedCellObj=x;const L=(i.allDay?n.$.timelineViewAllDay:n.$.timelineContent).querySelectorAll(".smart-scheduler-cell:not(.scale)");for(let A=0;A<L.length;A++){if(v=L[A],v.removeAttribute("selected"),!v.$)continue;const k=v.$.cellObj;if((k[f]||k).group!==p)continue;const B=k.time,H=Object.keys(k);B>=w&&B<=C&&v.setAttribute("selected",i===r||H.every(V=>k[V]===i[V])?"start":"")}n._scrollTo(r)}_isCellObjSelected(e){const t=this,n=t._selectedCellObj;if(!n||!e)return;const a=n.from,i=n.to,r=t.view,o=t.views.find(w=>w.value&&w.value===r)||{},d=o&&o.groupOrientation?o.groupOrientation:t.groupOrientation;if((a[d]||a).group!==(e[d]||e).group)return;const f=Math.min(a.time,i.time),p=Math.max(a.time,i.time),v=e.time;return v>=f&&v<=p||void 0}_getCellTime(e){if(!e)return 0;const t=this,n=t.viewType;let a,i;if(e instanceof HTMLElement&&e.closest(".smart-scheduler-cell:not(.scale)")){if(!e.$||!e.$.cellObj)return 0;a=e.$.cellObj}else a=e;if(n==="agenda")return a.vertical.date.getTime();if(n==="month"){i=new Date(a.vertical.date);const d=new Date(a.horizontal.date).getDay()-t.firstDayOfWeek;return i.setDate(i.getDate()+(d<0?7+d:d)),i.getTime()}const r=a.scaleIndex||0,o=60/t._getCellsScaleCount()*60*1e3;return n.indexOf("timeline")<0?(i=new Date(a.horizontal.date),a.allDay||i.setHours(a.vertical.date.getHours())):i=new Date(a.horizontal.date),i.getTime()+o*r}_handleVerticalScroll(e){const t=this;if(!t.computedVerticalScrollBarVisibility)return!0;const n=t.scrollTop;if(n===0&&e.deltaY<0||n===t.scrollHeight&&e.deltaY>0)return void e.stopPropagation();e.preventDefault();let a=!1;if(e.wheelDeltaY?Math.abs(e.wheelDeltaY)!==120&&Math.abs(e.wheelDeltaY)!==240&&Math.abs(e.wheelDeltaY)!==360&&(a=!0):e.deltaMode===0&&(a=!0),t.mouseWheelStep>0&&!a)t.scrollTop=n+(e.deltaY<0?-t.mouseWheelStep:t.mouseWheelStep);else{t._wheelrafId=0;const i=()=>{t._scrollView.scrollTop+=e.deltaY};cancelAnimationFrame(t._wheelrafId),t._wheelrafId=0,t._wheelrafId=requestAnimationFrame(i)}}_handleHorizontalScroll(e){const t=this;if(!t.computedHorizontalScrollBarVisibility)return!0;const n=t.scrollLeft,a=e.deltaX===0?e.wheelDelta:e.deltaX;if(n===0&&a<0||n===t.scrollWidth&&a>0)return void e.stopPropagation();e.preventDefault();let i=!1;e.wheelDeltaY?Math.abs(e.wheelDeltaY)!==120&&Math.abs(e.wheelDeltaY)!==240&&Math.abs(e.wheelDeltaY)!==360&&(i=!0):e.deltaMode===0&&(i=!0),t.mouseWheelStep>0&&!i?t._scrollView.scrollLeft+=t.mouseWheelStep:t._scrollView.scrollLeft+=a}_horizontalScrollbarHandler(e){const t=this;t._hscrollTimer&&clearTimeout(t._hscrollTimer),t.$.timelineContainer.scrollLeft=t._getScrollLeft(e.detail.value),t.dataSource&&t.dataSource.length>100?(t._recycle(e,!1),t._hscrollTimer=setTimeout(()=>{t._recycle(e)},25)):t._recycle(e)}_verticalScrollbarHandler(e){const t=this;t._scrollTimer&&clearTimeout(t._scrollTimer),t.$.timelineContainer.scrollTop=Math.round(e.detail.value),t.dataSource&&t.dataSource.length>100?(t._recycle(e,!1),t._scrollTimer=setTimeout(()=>{t._recycle(e)},25)):t._recycle(e)}_recycle(e,t){const n=this,a=n._timelineCells,i=n.$.tooltip;if(a.vertical&&a.horizontal){if(i.visible&&n.$.timeline.contains(i.selector)&&i.close(),!e)return n._recycleHeaderCells(n.$.timelineHeaderHorizontalContent),n._recycleHeaderCells(n.$.timelineHeaderVerticalContent),n._refreshTimelineContentCells(),n._refreshTimelineAllDayCells(),void(t!==!1&&n._refreshEvents());if(e.context.orientation==="horizontal")return n._recycleHeaderCells(n.$.timelineHeaderHorizontalContent),n._refreshTimelineContentCells(),n._refreshTimelineAllDayCells(),void(t!==!1&&n._refreshEvents());n._recycleHeaderCells(n.$.timelineHeaderVerticalContent),n._refreshTimelineContentCells(),t!==!1&&n._refreshEvents(),n._disableGroupCellsFromFilter()}}_recycleHeaderCells(e){const t=this,n=t.rightToLeft,[a,i,r,o]=e===t.$.timelineHeaderHorizontalContent?["horizontal","left","width","scrollLeft"]:["vertical","top","height","scrollTop"],d=e.querySelector(".smart-scheduler-view-time"),f=t._timelineCells[a];if(!f||!f.length)return;const p=t._getFirstCellObjInView(a),v=t._getTimelineVisibleCellsCount(a),w=d.children;for(let C=0;C<w.length;C++){const x=w[C],L=x.children;let A=document.createDocumentFragment();for(;L.length;)A.appendChild(x.firstElementChild);t._recycleContainerCells({fragment:A,cellsNeeded:v});let k=f.indexOf(p);for(let B=0;B<A.children.length;B++){const H=A.children[B],V=f[k];if(H.$={cellObj:V},!V)break;a==="horizontal"?n?(H.style.left="",H.style.right=V.left+"px"):(H.style.right="",H.style.left=V.left+"px"):H.style[i]=V[i]+"px",H.style[r]=V[r]+"px",H.innerHTML=`<div>${V.noLabel?"":t._getDateString({date:new Date(V.date),timeZone:w[C].timeZone},a)}</div>`,V.weekend?H.setAttribute("weekend",""):H.removeAttribute("weekend"),V.nonworking?H.setAttribute("nonworking",""):H.removeAttribute("nonworking"),V.separator?H.setAttribute("separator",""):H.removeAttribute("separator"),V.groupSeparator?H.setAttribute("group-separator",""):H.removeAttribute("group-separator"),V.showLabel?H.setAttribute("show-label",V.showLabel):H.removeAttribute("show-label"),V.restricted?H.setAttribute("restricted",""):H.removeAttribute("restricted"),k++}x.appendChild(A)}t._refreshHeaderDetailCells(a),t._refreshHeaderGroupCells(a),e[o]=o==="scrollLeft"?t._getScrollLeft(t[o]):t[o]}_moveHandler(e){const t=this;t._isMobile||e.stopPropagation(),(t.hasAttribute("dragged")||t.hasAttribute("resized"))&&e.originalEvent.type==="touchmove"&&e.originalEvent.preventDefault()}_getScrollLeft(e){return this.rightToLeft?e*=-1:e}_containerClickHandler(e){const t=this;if(t.readonly||t.hasAttribute("modal"))return;const n=t.$.tooltip;let a=(e||e.originalEvent).target;if(t.$.dateSelectorContainer.contains(a)){const i=a.closest(".smart-scheduler-nav");return i&&i.hasAttribute("current")&&t.disableDateMenu?void n.close():void t._handleDateSelection(i)}if(!n.contains(a)){if(a.closest(".smart-scheduler-view-items-button")){if(t.disableViewMenu)return void n.close();const i=n.visible&&!n.contains(t.$.viewItemsContainer);return t._handleTooltipContent(t.$.viewItemsButton),void(i||n.toggle())}if(a.classList.contains("smart-scheduler-legend-res-item"))t._handleLegendItemClick(a);else if(t._isMobile&&(t.$.timelineContent.classList.add("hide-overlay"),a=(t.shadowRoot||document).elementFromPoint(e.pageX-window.pageXOffset,e.pageY-window.pageYOffset),t.$.timelineContent.classList.remove("hide-overlay")),!a.closest(".smart-scheduler-event")&&(n.close(),t.$.viewSelectorContainer.contains(a))){const i=a.closest(".smart-scheduler-nav");if(i)return void t._handleViewNavigation(i);const r=a.closest(".smart-scheduler-item");r===t.$.showWeekendItem?t._checkHideWekendItem(r):t._handleViewSelection(r)}}}_disableGroupCellsFromFilter(){const e=this;if(e.resources&&e.resources.length&&e.groups&&e.groups.length&&(e.querySelectorAll(".smart-scheduler-cell").forEach(t=>{t.classList.remove("smart-disabled")}),e.filter&&e.resources))for(let t=0;t<e.resources.length;t++){const n=e.resources[t];if(e.groups.indexOf(n.value)>=0){const a=e.filter.find(i=>i.name===n.value);if(a)for(let i=0;i<n.dataSource.length;i++){const r=n.dataSource[i];a.value(r.id)||e.querySelectorAll('[group-value="'+r.id+'"]').forEach(o=>{o.classList.add("smart-disabled")})}}}}_handleLegendItemClick(e){const t=this,n=t._legend;if(!t.filterable||!n)return;e.hasAttribute("unselected")?(e.removeAttribute("unselected"),e.setAttribute("aria-selected",!0)):(e.setAttribute("unselected",""),e.setAttribute("aria-selected",!1));const a=n.querySelectorAll(".smart-scheduler-legend-res-item[unselected]");let i=[],r={};for(let o=0;o<a.length;o++){const d=a[o],f=d.getAttribute("resource"),p=d.getAttribute("resource-id");r[f]||(r[f]=[]),r[f].push(p+"")}for(let o in r)i.push({name:o,value:d=>!r[o].includes(d+"")});t.set("filter",null),i.length&&t.set("filter",i),t._disableGroupCellsFromFilter(),t._refreshTimelineEvents()}_containerContextMenuHandler(e){const t=this;let n=e.target;if(t.disableContextMenu)return;const a=e.pageX-window.pageXOffset,i=e.pageY-window.pageYOffset;if(t._isMobile&&(t.$.timelineContent.classList.add("hide-overlay"),n=(t.shadowRoot||document).elementFromPoint(a,i),t.$.timelineContent.classList.remove("hide-overlay")),t.$.timelineContent.contains(n)||t.$.timelineViewAllDayContent.contains(n)){if(e.preventDefault(),n=n.closest(".smart-scheduler-event")||n.closest(".smart-scheduler-cell"),!n||t.disableContextMenu)return;n.classList.contains("smart-scheduler-event")&&t._handleCellSelection(),t._handleTooltipContent(n,{x:e.pageX,y:e.pageY})}else t.$.tooltip.close()}_handleViewNavigation(e){const t=this;let n;if(!e)return;const a=t.$.viewItemsContainer;n=e instanceof Smart.RepeatButton?10*(e.hasAttribute("prev")?-1:1):e.deltaY,a.scrollLeft+=t._getScrollLeft(n);const i=t._viewButtons;if(!i)return;n=a.scrollLeft;const r=i.prev,o=i.next;r.disabled=!n,o.disabled=a.offsetWidth+Math.abs(n)===a.scrollWidth}_handleDateSelection(e){const t=this,n=t.$.tooltip;if(e instanceof HTMLElement)if(e.hasAttribute("prev"))n.close(),t._navigateDate(-1);else if(e.hasAttribute("current")){const a=n.visible&&!n.contains(t._calendar);t._handleTooltipContent(t.$.currentDate),a||n.toggle()}else e.hasAttribute("next")?(n.close(),t._navigateDate(1)):e.hasAttribute("today")&&(n.close(),t._navigateDate())}navigateToDate(e){const t=this;if(e instanceof Date)e=new Date(e);else{if(e instanceof HTMLElement&&(!e.classList.contains("smart-scheduler-cell")||!t.$.timeline.contains(e)))return;if(typeof e=="object"){const a=new Date(t.dateCurrent);e.year=e.year!==void 0?e.year:a.getFullYear(),e.month=e.month!==void 0?e.month:a.getMonth(),e.date=e.date!==void 0?e.date:a.getDate(),e=new Date(e.year,e.month,e.date,e.hours,e.getMinutes)}else if(typeof e=="string"){if(e.indexOf("Date")>=0){e=(e=e.replace("new Date(","").replace(")","")).split(", ");let a="";for(let i=0;i<e.length;i++)a+=e[i],i<2?a+="-":i===2?a+=" ":i<e.length-1&&(a+=":");e=a}e=new Date(e)}}let n=e;t._refreshDateNavButtons(n),n.getTime()>t.max||n.getTime()<t.min||(t.set("dateCurrent",n),t.dateCurrent.getTime()!==n.getTime()&&t.$.fireEvent("dateChange",{oldValue:new Date(t.dateCurrent),value:new Date(n)}),t._calendar&&(t._calendar.selectedDates=[new Date(n)],t.$.tooltip.contains(t._calendar))||(t._createTimeline(),t._refreshDateSelector()))}_navigateDate(e){const t=this,n=t.viewType.toLowerCase();let a=t.dateCurrent,i=new Date(a);if(e===void 0)i=new Date;else{if(i.setHours(0,0,0,0),n.includes("day"))i.setDate(i.getDate()+e);else if(n.includes("week")||n==="agenda"){i.setDate(i.getDate()+7*e);const r=t.views.find(o=>o.value&&o.value===t.view)||{};if(r.additionalDays){let o=new Smart.Utilities.DateTime(a);o=o.addDays(e*(6+r.additionalDays)),i=o.toDate(),i.setHours(0,0,0,0)}}else{let r=new Date(i);e>0&&(r.setDate(1),r.setMonth(r.getMonth()+2)),r.setDate(0),i.setMonth(i.getMonth()+e),i.getMonth()!==r.getMonth()&&(i=r)}i.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())}t._refreshDateNavButtons(i),i.getTime()>t.max||i.getTime()<t.min||(t.set("dateCurrent",i),a.getTime()!==i.getTime()&&t.$.fireEvent("dateChange",{oldValue:new Date(a),value:new Date(i)}),t._calendar&&(t._calendar.selectedDates=[new Date(i)],t.$.tooltip.contains(t._calendar))||(t._createTimeline(),t._scrollTo(i),t._refreshDateSelector()))}_refreshDateNavButtons(e){const t=this;e||(e=t.dateCurrent);const n=t.$.dateSelectorContainer,a=n.querySelector(".smart-scheduler-nav[prev]"),i=n.querySelector(".smart-scheduler-nav[next]");a&&(a.disabled=e.getTime()<=t.min),i&&(i.disabled=e.getTime()>=t.max)}_handleTooltipContent(e,t){const n=this,a=n.$.tooltip;if(e){if(e===n.$.currentDate){a.selector=e,a.position="auto",a.arrow=!0;let r=n._calendar;r||(r=document.createElement("smart-calendar"),r.firstDayOfWeek=n.firstDayOfWeek,r.selectionMode="oneExtended",r.selectedDates=[new Date(n.dateCurrent)],r.max=n.max,r.min=n.min,r.rightToLeft=n.rightToLeft,r.locale=n.locale,r.id=n.id+"Calendar",r.classList.add("smart-scheduler-calendar-popup"),n._calendar=r),i(r)}else if(e===n.$.viewItemsButton)a.selector=e,a.position="auto",a.arrow=!0,i(n.$.viewItemsContainer),n._handleViewSelection(),n._checkHideWekendItem();else if(e.classList.contains("smart-scheduler-event")||e.classList.contains("smart-scheduler-cell")){let r,o=n._list;if(o||(n._list=o=document.createElement("smart-scroll-viewer"),o.horizontalScrollBarVisibility="hidden"),o.theme=n.theme,o.tabIndex=n.tabIndex,o.rightToLeft=n.rightToLeft,n.inverted?o.setAttribute("inverted",""):o.removeAttribute("inverted"),r=t?n._getContextMenu(e):n._getEventList(e),!r||!r.innerHTML)return;if(n._handleEventItemSelection(),o.contains(r)){if(a.selector===e&&a.contains(o)){if(t){const d=n.getBoundingClientRect();return a.style.top=Math.min(t.y+1,d.bottom+window.pageYOffset-a.offsetHeight)+"px",a.style.left=Math.min(t.x+1,d.right+window.pageXOffset-a.offsetWidth)+"px",a.visible&&n._fireTooltipVisibilityEvent({type:"opening",detail:{owner:a.selector}})?(n._skipEventFiring=!0,a.close(),void delete n._skipEventFiring):void a.open()}return a.visible&&a.selector&&a.selector.focus({preventScroll:!0}),o.refresh(),void a.toggle()}}else o.isCompleted&&o.removeAll(),o.appendChild(r);if(a.selector=e,i(o),o.refresh(),t){const d=n.getBoundingClientRect();a.style.top=Math.min(t.y+1,d.bottom+window.pageYOffset-a.offsetHeight)+"px",a.style.left=Math.min(t.x+1,d.right+window.pageXOffset-a.offsetWidth)+"px"}if(a.visible)return n._fireTooltipVisibilityEvent({type:"opening",detail:{owner:a.selector}})?(n._skipEventFiring=!0,a.close(),void delete n._skipEventFiring):void(t||a.reposition());a.visible||a.open()}}else a.close();function i(r){r&&!a.contains(r)&&(a.clear(),a.appendChild(r))}}_getContextMenu(e){const t=this,n=t.$.tooltip;let a,i,r=t._contextList,o=t.contextMenuDataSource;if(e.classList.contains("smart-scheduler-event")&&!e.hasAttribute("collector")){const w=e.$?e.$.event:void 0;w&&w.$&&w.$.event&&(i=!0),o||(o=["create","edit","delete"],t.contextMenuClipboardActions&&["copy","cut"].forEach(C=>o.push(C))),w.disableContextMenu&&(o=[],n.close())}else{if(!e.classList.contains("smart-scheduler-cell"))return void n.close();if(a=!0,!o){if(o=["create"],t.disableConflicts&&t._events){let w=[];for(let x=0;x<t._events.length;x++){const L=t._events[x];w.push({start:L.dateStart,end:L.dateEnd})}const C=new Date(e.$.cellObj.time);t.isCollision(C,C,w)&&(o=[],n.close())}t.contextMenuClipboardActions&&o.push("paste")}}n.position="absolute",n.arrow=!1,r||(t._contextList=r=document.createElement("div"),r.classList.add("smart-scheduler-context-menu"),r.setAttribute("role","listbox"),r.setAttribute("aria-label","Context Menu"));const d=document.createDocumentFragment(),f=Array.from(r.children),p=t.hideOtherMonthDays;let v=["copy","cut"];for(let w=0;w<f.length;w++){const C=f[w];o.indexOf(C.getAttribute("value"))<0&&C.remove()}for(let w=0;w<o.length;w++){const C=o[w];let x,L,A=f[w];typeof C=="object"?(x=C.label,L=C.value):x=L=C+"",A||(A=document.createElement("div"),A.classList.add("smart-scheduler-context-menu-item"),A.setAttribute("role","option")),A.parentElement||d.appendChild(A),e.hasAttribute("restricted")||p&&e.hasAttribute("other-month")?A.setAttribute("disabled",""):a&&L==="paste"?t._clipboard?A.removeAttribute("disabled"):A.setAttribute("disabled",""):i&&v.indexOf(L)>-1?A.setAttribute("disabled",""):A.removeAttribute("disabled"),A.innerHTML=t.localize(x)||x,A.setAttribute("value",L)}return r.appendChild(d),r}_getEventList(e){const t=this;if(!e.classList.contains("smart-scheduler-event")||!e.$)return;const n=e.hasAttribute("collector"),a=n?e.$.events:[e.cloneNode(!0)];let i=t._eventList;if(!a||!a.length)return void(i&&(i.innerHTML=""));const r=t.$.tooltip;r.position="auto",r.arrow=!0,i||(i=document.createElement("div"),i.classList.add("smart-scheduler-collector-event-list"),i.setAttribute("role","menu"),i.id=t.id+"EventMenu",t._eventList=i),i._target=e;const o=document.createDocumentFragment(),d=Array.from(i.children),f={isAllDayEvent:t.$.timelineViewAllDay.contains(e),isTooltipEvent:!0};for(let p=0;p<d.length;p++){const v=d[p];a.indexOf(v)<0&&v.remove()}for(let p=0;p<a.length;p++){const v=a[p];n||(v.$=e.$),f.eventObj=v.$.event,f.isAllDayEvent=f.eventObj.allDay,t._setEventCellContent(v,f),o.appendChild(a[p])}return i.appendChild(o),i}_tooltipVisibilityHandler(e){const t=this,n=e.type,a=t.$.tooltip,i=t.getRootNode().host||t.getRootNode();e.stopPropagation(),t._skipEventFiring||!t._fireTooltipVisibilityEvent(e)?(i===document||document.body.contains(i))&&(n==="opening"?(a.classList.remove("smart-visibility-hidden"),t.getShadowRootOrBody().appendChild(a)):n==="closing"&&(t.hasAnimation?a.addEventListener("animationend",()=>{a.visible||(a.classList.add("smart-visibility-hidden"),a.style.top=a.style.left=0,t.$.container.appendChild(a))},{once:!0}):t.$.container.appendChild(a))):e.preventDefault()}_fireTooltipVisibilityEvent(e){const t=this,n=e.type,a=t.$.tooltip,i=a.contains(t._contextList),r=a.contains(t._eventList),o=e.detail.owner;let d,f={target:a,owner:o};if(i)if(o.classList.contains("smart-scheduler-event"))f.eventObj=[t._cloneObject(o.$.event)];else{let p,v;if(t._selectedCellObj){const w=t._selectedCellObj.from,C=t._selectedCellObj.to,x=Math.min(w.time,C.time),L=Math.max(w.time,C.time);p=x===L?[new Date(x)]:[new Date(x),new Date(L)],v=w.vertical.group||w.horizontal.group}else{const w=o.$.cellObj;p=[new Date(w.time)],v=w.vertical.group||w.horizontal.group}f.cellObj={date:p},v&&(f.group=v)}else if(r){if(o.$.events)f.eventObj=o.$.events.map(p=>t._cloneObject(p.$.event));else if(o.$.event&&(f.eventObj=[t._cloneObject(o.$.event)],f.eventObj&&f.eventObj[0]&&f.eventObj[0].disableEventMenu))return!0}if(n==="open"||n==="close"){i?d="contextMenu":r?d="eventMenu":a.contains(t._calendar)?d="dateMenu":a.contains(t.$.viewItemsContainer)&&(d="viewMenu");let p=(t.getAttribute("aria-owns")||"")+" "+a.id;return n==="open"?t.setAttribute("aria-owns",p.trim()):t.hasAttribute("aria-owns")&&(p=t.getAttribute("aria-owns").replace(a.id,"").trim(),p?t.setAttribute("aria-owns",p):t.removeAttribute("aria-owns")),void(d&&t.$.fireEvent(d+(n==="open"?"Open":"Close"),f))}if(i?d=n==="opening"?"contextMenuOpening":"contextMenuClosing":r&&(d=n==="opening"?"eventMenuOpening":"eventMenuClosing"),d&&t.$.fireEvent(d,f).defaultPrevented)return!0}_tooltipChangeHandler(e){const t=this,n=t._calendar;if(e.target===n){e.stopPropagation();const a=t.dateCurrent;return t.set("dateCurrent",n.selectedDates[0]||t.dateCurrent),t.dateCurrent.getTime()!==a.getTime()&&t.$.fireEvent("dateChange",{oldValue:new Date(t.dateCurrent),value:new Date(a)}),t._refreshDateSelector(),t._createTimeline(),void e.context.close()}}_tooltipClickHandler(e){const t=this,n=t.$.tooltip,a=t.isInShadowDOM?(e||e.originalEvent).composedPath()[0]:(e||e.originalEvent).target;if(t.$.viewItemsContainer.contains(a)){const o=a.closest(".smart-scheduler-item");return o===t.$.showWeekendItem?t._checkHideWekendItem(o):t._handleViewSelection(o),void n.close()}const i=a.closest(".smart-scheduler-event");if(i)return a.closest(".smart-scheduler-event-button")?void t._handleEventMenuDelete(i):void t._doubleClickHandler(a);const r=a.closest(".smart-scheduler-context-menu-item");r&&t._handleContextMenuItemClick(r)}_handleEventMenuDelete(e){const t=this,n=t.$.tooltip,a=e.$?e.$.event:void 0;if(n.close(),!a)return void t.$.timeline.focus({preventScroll:!0});const i=a.$?a.$.event:void 0;if(i){const r=i&&i.repeat?i.repeat.exceptions:void 0;t._openWindow(r&&r.indexOf(a)>-1?a:Object.assign({},a,{dateStart:e.$.dateStart,dateEnd:e.$.dateEnd}),e,"deleteConfirm")}else t._deleteEventViaWindow(a),t.$.timeline.focus({preventScroll:!0})}_tooltipKeyDownHandler(e){this._keyDownHandler(e)}_tooltipKeyUpHandler(e){this._keyUpHandler(e)}_tooltipDownHandler(e){e.stopPropagation(),this._downHandler(e)}_tooltipContextMenuHandler(e){const t=e.target;t&&t.closest&&t.closest(".smart-scheduler-event")&&e.preventDefault()}_timelineFocusHandler(e){const t=this;if(e.type==="focusin"||e.type==="focusout")return e.type==="focusin"||t.hasAttribute("modal")?t.$.viewContent.firstElementChild.setAttribute("focus",""):t.$.viewContent.firstElementChild.removeAttribute("focus"),void t._handleEventFocus(e);if(t.readonly||t.hasAttribute("modal"))return;const n=t.$.timelineViewAllDay,a=n.offsetHeight>0;if(!(t._isMobile||t._dragDetails&&t._dragDetails.timelineCellObj))if(t._selectedCellObj){const i=e.relatedTarget,r=t.$.schedulerWindow,o=t.$.confirmWindow;if(r&&r.contains(i)||o&&o.contains(i))return;t._selectedCellObj.from.time!==t._selectedCellObj.to.time&&t._handleCellSelection(t._selectedCellObj.from)}else t._handleCellSelection((a?n:t.$.timelineContent).querySelector(".smart-scheduler-cell:not(.scale)"))}_handleEventFocus(e){const t=e&&e.type==="focusin"?e.target:void 0,n=t&&t.$?t.$.event:void 0,a=this.$.timeline.querySelectorAll(".smart-scheduler-event");let i;for(let r=0;r<a.length;r++){const o=a[r],d=o.$.event;o===t||n&&n===d?(o.setAttribute("focus",""),i=o):o.removeAttribute("focus")}return i}_handleViewSelection(e){const t=this,n=t.$.showWeekendItem,a=t.$.viewItemsContainer.children,i=t.view;let r;if(e instanceof HTMLElement&&(r=e.$?e.$.value:null),r||(r=t.view),r===i||!t.$.fireEvent("viewChanging",{oldValue:i,value:r}).defaultPrevented){for(let o=0;o<a.length;o++){const d=a[o];d.removeAttribute("selected"),!e&&d.$&&d.$.value===r&&(e=d)}e&&e.setAttribute("selected",""),e!==n&&(r!==i&&(t.set("view",r),t._createTimeline(),t._refreshDateSelector(),t._checkHideWekendItem(),t._scrollToView(e),t.$.fireEvent("viewChange",{oldValue:i,value:r})),t.$.viewItemsButton.innerHTML=`<span>${e?e.textContent.trim():t.localize(r)||r}</span>`)}}_checkHideWekendItem(e){const t=this,n=t.viewType.toLowerCase().indexOf("day")<0,a=t.view,i=t.views.find(f=>f.value&&f.value===a)||{},r=i&&i.hideWeekend!==void 0?i.hideWeekend:void 0,o=r&&i.hideWeekend||t.hideWeekend;if(!e)return!(e=t.$.showWeekendItem)||!e.parentElement?void 0:(e&&(o&&n?e.removeAttribute("checked"):e.setAttribute("checked","")),void(t.viewType.toLowerCase().indexOf("day")>-1?e.setAttribute("disabled",""):e.removeAttribute("disabled")));if(!e||!e.parentElement||e!==t.$.showWeekendItem)return;e.hasAttribute("checked")?(e.removeAttribute("checked"),t.set("hideWeekend",!0)):(e.setAttribute("checked",""),t.set("hideWeekend",!1));const d=t.hideWeekend;r!==void 0&&(i.hideWeekend=d),o!==d&&n&&t._createTimeline()}_scrollToView(e){const t=this;if(t.viewSelectorType!=="tabs")return;const n=t.$.viewItemsContainer;if(!(e=e||n.querySelector(".smart-scheduler-item[selected]")))return;const a=n.offsetWidth,i=e.offsetLeft,r=i+e.offsetWidth;let o=n.scrollLeft;o>i?o=n.scrollLeft=i:o+a<r&&(o=n.scrollLeft=r-a);const d=t._viewButtons;d&&(d.prev.disabled=!o,d.next.disabled=Math.abs(o)+a===n.scrollWidth)}_resizeEventHandler(e){const t=this;function n(){if(t._noResizeHandler)return void delete t._noResizeHandler;if(t.offsetHeight===0)return;t._refreshHeaderControlsVisibility();const a=t.$.tooltip;t._positionWindow(),t._createTimeline(),a.visible&&(a.contains(t._contextList)?a.close():a.reposition()),t._refreshViewSelector(),t._resizeLegend&&t._resizeLegend()}(e?t.enableShadowDOM?e.composedPath()[0]:e.target:void 0)===t&&(clearTimeout(t._resizeTimeout),t.resizeInterval?t._resizeTimeout=setTimeout(n.bind(t),t.resizeInterval):n())}_setScrollBars(){const e=this;e._scrollView||(e._scrollView=new Smart.Utilities.Scroll(e.$.timeline,e.$.horizontalScrollBar,e.$.verticalScrollBar));const t=e._scrollView.vScrollBar,n=e._scrollView.hScrollBar;n.$.addClass("smart-hidden"),t.$.addClass("smart-hidden"),t.hasStyleObserver=!1,n.hasStyleObserver=!1,t.hasResizeObserver=!1,n.hasResizeObserver=!1,n.wait=!1,t.wait=!1,e._refresh()}_setFocusable(){const e=this;if(e.disabled||e.unfocusable)return e.removeAttribute("tabindex"),e.$.timeline.removeAttribute("tabindex"),void e.$.viewItemsContainer.removeAttribute("tabindex");const t=e.tabIndex>0?e.tabIndex:0;e.tabIndex=t,e.$.tooltip.tabIndex=t,e.$.timeline.tabIndex=t,e.$.viewItemsContainer.tabIndex=t}_toHex(e){function t(n){const a=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");return isNaN(n)?"00":a[(n-n%16)/16]+a[n%16]}return(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))?"#"+t(e[1])+t(e[2])+t(e[3]).toUpperCase():"#ffffff"}_setExportStyles(e,t){const n=this;if(e.style)return;const a=e.header.columns,i=window.getComputedStyle(n),r={height:i.getPropertyValue("--smart-scheduler-timeline-header-horizontal-cells-size"),border:"1px solid "+n._toHex(i.borderColor),fontFamily:"Calibri",fontSize:i.fontSize,color:n._toHex(i.color),backgroundColor:n._toHex(i.backgroundColor),fontWeight:"400"},o={border:"1px solid "+n._toHex(i.borderColor),fontFamily:"Calibri",fontSize:i.fontSize},d=n._timelineCells;let f,p;d&&d.vertical&&d.horizontal&&(f=d.vertical[0]?d.vertical[0].height:void 0,p=d.horizontal[0]?d.horizontal[0].width:void 0),f===void 0&&(f=Math.max(parseFloat(i.getPropertyValue("--smart-scheduler-timeline-cell-height"))||0,parseFloat(i.getPropertyValue("--smart-scheduler-timeline-cell-min-height")||0))),p===void 0&&(p=Math.max(parseFloat(i.getPropertyValue("--smart-scheduler-timeline-cell-width"))||0,parseFloat(i.getPropertyValue("--smart-scheduler-timeline-cell-min-width")||0))),t==="pdf"?p=100/a.length+"%":p+="px",f+="px";for(let v=0;v<a.length;v++){const w=a[v];r[w.dataField]={textAlign:"center",width:p},o[w.dataField]={textAlign:"start",format:w.dataField.indexOf("date")>-1?"d":""}}e.style={border:"1px solid "+n._toHex(i.borderColor),borderCollapse:"collapse",header:r,columns:o,rows:{height:f}}}_getExportRecord(e){const t=this,n=t.locale,a=t._events,i=t.resources,r=a[0],o=t.yearFormat,d=t.monthFormat,f=t.dayFormat,p=t.hourFormat,v=t.minuteFormat;let w=t.dataExport.columns,C={};if(!w||!w.length){const x=["id","label","description","dateStart","dateEnd"];w=Object.keys(r).filter(L=>x.indexOf(L)>-1),i.forEach(L=>w.push(L.value))}for(let x=0;x<w.length;x++){const L=w[x],A=i.find(k=>k.value===L);if(e){if(A&&e[A.value]){if(A&&A.dataSource){const k=A.dataSource.find(B=>B.id===e[A.value]);C[L]=k&&k.label||""}}else{const k=e[L];k instanceof Date?C[L]=new Intl.DateTimeFormat(n,{year:o,month:d,day:f,hour:p,minute:v}).format(k):C[L]=k||""}C._keyDataField=a.indexOf(e)}else C[L]=(A?A.label:t.localize(L)||L)||""}return C}_refresh(){const e=this;function t(){const d=e.$.timelineContent.offsetWidth-e.$.timelineContainer.offsetWidth;return d>0&&e.horizontalScrollBarVisibility!=="hidden"||e.horizontalScrollBarVisibility==="visible"?e.$container.addClass("hscroll"):e.$container.removeClass("hscroll"),d}function n(){const d=e.$.timelineContent.offsetHeight-e.$.timelineContainer.offsetHeight;return d>0&&e.verticalScrollBarVisibility!=="hidden"||e.verticalScrollBarVisibility==="visible"?e.$container.addClass("vscroll"):e.$container.removeClass("vscroll"),d}const a=e.scrollWidth,i=e.scrollHeight;let r=t(),o=n();o&&i===o||(r=t()),r&&a===r||(o=n()),e.scrollWidth=r,e.scrollHeight=o,e.$.horizontalScrollBar.refresh(),e.$.verticalScrollBar.refresh()}_setHeader(){const e=this,t=e.$.header,n=e.$.todayDate;if(e.headerTemplate)e._applyTemplate("headerTemplate",t);else{const a=e.$.dateSelectorContainer;t.contains(a)||(t.innerHTML="",t.appendChild(a),t.appendChild(e.$.viewSelectorContainer)),e._setLegend(t)}t.contains(n)&&(n.innerHTML=`<span>${e.localize("today")}</span>`),e._refreshDateSelector(),e._refreshViewSelector(),e._refreshHeaderControlsVisibility()}_refreshHeaderControlsVisibility(){const e=this,t=e.viewSelectorType;if(t==="tabs"||t==="auto"&&!e._isMobile)return;const n=e.offsetWidth,a=e.$.todayDate,i=e.$.currentDate;n<=500?a.classList.add("smart-hidden"):a.classList.remove("smart-hidden"),n<=320?i.classList.add("smart-hidden"):i.classList.remove("smart-hidden")}_setFooter(){const e=this,t=e.$.footer;if(e.footerTemplate===null)return t.innerHTML=null,e._setLegend(t),void(t.children.length||e.$.container.removeAttribute("show-footer"));e.$.container.setAttribute("show-footer",""),e._applyTemplate("footerTemplate",t)}_setLegend(e){const t=this,n=t.$.footer,a=t.legendLocation==="header"?t.$.header:n;if(e&&e!==a)return;let i=t._legend;if(!t.showLegend)return i&&(i.innerHTML="",i.remove()),void(a!==n||n.children.length||t.$.container.removeAttribute("show-footer"));i||(i=t._legend=document.createElement("div"),i.classList.add("smart-scheduler-legend"),i.setAttribute("role","presentation")),i.innerHTML="";const r=t.resources,o=r.length===1,d=i.children;for(let f=0;f<r.length;f++)r[f].dataSource.length&&t._refreshLegendItems(f,o);for(;r.length<d.length;)d.lastElementChild.remove();a.contains(i)||a.appendChild(i)}_refreshLegendItems(e,t){const n=this,a=n.resources[e],i=n._legend;let r,o,d=i.children[e];d||(d=document.createElement("div"),d.classList.add("smart-scheduler-legend-item"),d.setAttribute("role","listbox")),d.setAttribute("resource",a.value+"");const f=d.children;for(let p=0;p<f.length;p++){const v=f[p];v.classList.contains("smart-scheduler-legend-res-label")?r=v:v.classList.contains("smart-scheduler-legend-res-items")&&(o=v)}r||t?r&&t&&r.remove():(r=document.createElement("label"),r.classList.add("smart-scheduler-legend-res-label"),r.id=n.id+"LegendResourceLabel"),r&&(r.textContent=a.label||"",d.setAttribute("aria-labelledby",r.id)),o||(o=document.createElement("div"),o.classList.add("smart-scheduler-legend-res-items"),o.setAttribute("role","presentation")),n._refereshLegendResItems(a,o),d.contains(o)||d.appendChild(o),t||d.contains(r)||d.insertBefore(r,o),i.contains(d)||i.appendChild(d)}_refereshLegendResItems(e,t){const n=this,a=n.filter,i=t.children,r=Math.max(n.tabIndex,0),o=e.dataSource,d=e.value;let f=0;for(let p=0;p<o.length;p++){const v=o[p];let w=i[p];if(w||(w=document.createElement("div"),w.classList.add("smart-scheduler-legend-res-item"),w.setAttribute("role","option")),w.innerHTML=`<span>${v.label||""}</span>`,w.title=v.label,f+=v.label.length,w.setAttribute("aria-label",v.label),w.setAttribute("resource",d+""),w.setAttribute("resource-id",v.id+""),a&&Array.isArray(a)){let C=a.find(x=>x.name===d);C&&typeof C.value=="function"&&!C.value(v.id)?w.setAttribute("unselected",""):w.removeAttribute("unselected")}else w.removeAttribute("unselected");v.disabled?(w.setAttribute("disabled",""),w.removeAttribute("tabindex"),w.removeAttribute("aria-selected")):(w.removeAttribute("disabled"),w.setAttribute("tabindex",r),w.hasAttribute("unselected")?w.setAttribute("aria-selected",!1):w.setAttribute("aria-selected",!0)),v.backgroundColor?w.style.setProperty("--smart-scheduler-legend-item-background",v.backgroundColor):w.style.removeProperty("--smart-scheduler-legend-item-background"),t.contains(w)||t.appendChild(w)}for(;o.length<i.length;)t.lastElementChild.remove();n._resizeLegend=()=>{let p=14*f*.52;const v=[...t.querySelectorAll(".smart-scheduler-legend-res-item")];v.forEach(w=>{w.classList.remove("smart-hidden")}),this.legendLayout==="auto"?p>n.offsetWidth?(t.querySelectorAll("span").forEach(w=>{w.classList.add("smart-hidden")}),n.offsetWidth<550||v.length>n.legendLayoutMenuBreakpoint?(v.forEach(w=>{w.classList.add("smart-hidden")}),n._legendList.parentElement&&n._legendList.parentElement.parentElement&&n._legendList.close(),n._legendList.classList.remove("smart-hidden")):(n._legendList.parentElement&&n._legendList.parentElement.parentElement&&n._legendList.close(),n._legendList.classList.add("smart-hidden"))):(n._legendList.parentElement&&n._legendList.parentElement.parentElement&&n._legendList.close(),n._legendList.classList.add("smart-hidden"),t.querySelectorAll("span").forEach(w=>{w.classList.remove("smart-hidden")})):this.legendLayout===""?(n._legendList.parentElement&&n._legendList.parentElement.parentElement&&n._legendList.close(),n._legendList.classList.add("smart-hidden"),t.querySelectorAll("span").forEach(w=>{w.classList.remove("smart-hidden")})):this.legendLayout==="menu"&&(t.querySelectorAll("span").forEach(w=>{w.classList.add("smart-hidden")}),v.forEach(w=>{w.classList.add("smart-hidden")}),n._legendList.parentElement&&n._legendList.parentElement.parentElement&&n._legendList.close(),n._legendList.classList.remove("smart-hidden"))},(()=>{const p=document.createElement("smart-check-input");p.classList.add("smart-scheduler-legend-list"),p.dataSource=o.map(v=>{const w=v.label,C=""+v.id;return{label:w,color:v.backgroundColor,value:C}}),p.readonly=!0,p.dataSource.length>10?p.dropDownHeight=200:p.dropDownHeight="auto",p.dropDownOpenPosition="auto",p.dropDownButtonPosition="none",p.parentElement&&p.checkAll(),p.onItemClick=v=>{const w=v.detail.index;t.children[w].click()},t.appendChild(p),n._legendList=p,p.classList.add("smart-hidden")})(),n._resizeLegend()}_refreshDateSelector(){const e=this,t=e.locale,n=e.$.currentDate;if(!e.$.header.contains(n))return;let a=new Smart.Utilities.DateTime(new Date(e.dateCurrent)).toDate(e.timeZone);isNaN(a.getTime())&&(a=new Date);let i="";if(e.dateSelectorFormatFunction)i=e.dateSelectorFormatFunction(a)+"";else{const r=e.viewType.toLowerCase(),o=e.dayFormat,d=e.monthFormat,f=e.yearFormat;if(r.indexOf("day")>-1)i=new Intl.DateTimeFormat(t,{day:o}).format(a);else if(r.indexOf("week")>-1||r==="agenda"){let p=new Date(a);r!=="agenda"&&p.setDate(p.getDate()-p.getDay()+e.firstDayOfWeek),e.viewStartDay==="dateCurrent"&&(p=new Date(a));let v=new Date(p);v.setDate(v.getDate()+6);const w=e.views.find(C=>C.value&&C.value===e.view)||{};if(w.additionalDays){let C=new Smart.Utilities.DateTime(p);C=C.addDays(6+w.additionalDays),v=C.toDate()}i=new Intl.DateTimeFormat(t,{day:o}).format(p),p.getMonth()!==v.getMonth()&&(i+=" "+new Intl.DateTimeFormat(t,{month:d}).format(p)),p.getFullYear()!==v.getFullYear()&&(i+=" "+new Intl.DateTimeFormat(t,{year:f}).format(p)),i+="-"+new Intl.DateTimeFormat(t,{day:o}).format(v),a=v}i+=" "+new Intl.DateTimeFormat(t,{month:d}).format(a)+" "+new Intl.DateTimeFormat(t,{year:f}).format(a)}n.innerHTML=i}_refreshViewSelector(){const e=this,t=e.views,n=e.viewSelectorType,a=e.$.viewSelectorContainer,i=e.$.viewItemsContainer,r=e.$.viewItemsButton,o=e.$.tooltip,d=o.contains(i);let f=e.$.showWeekendItem;if(!e.$.header.contains(r))return;for(a.classList.add("smart-visibility-hidden"),r.classList.add("smart-visibility-hidden"),a.classList.remove("no-overflowing"),i.remove(),f&&f.remove();t.length<i.children.length;)i.firstElementChild.remove();for(;t.length>i.children.length;){const w=document.createElement("div");w.classList.add("smart-scheduler-item"),w.setAttribute("role","option"),i.appendChild(w)}const p=i.children;for(let w=0;w<p.length;w++){const C=p[w],x=t[w];let L,A;if(typeof t[w]=="string")C.innerHTML="<div>"+e.localize(L=t[w])+"</div>";else{const k=x.label;L=x.value,C.innerHTML="<div>"+(typeof k!="string"&&isNaN(k)?e.localize(L):k)+"</div>",A=x.shortcutKey}A===void 0&&(A=e.localize(L+"Shortcut")),A?C.setAttribute("shortcut-key",e.localize(A)||A):C.removeAttribute("shortcut-key"),C.$={value:L}}if(a.appendChild(i),e._viewButtons)for(let w in e._viewButtons)e._viewButtons[w].remove();const v=a.offsetWidth-i.offsetWidth<0;if(n==="tabs"){let w,C;return d&&o.close(),v&&(e._viewButtons||(w=document.createElement("smart-repeat-button"),C=document.createElement("smart-repeat-button"),w.classList.add("smart-scheduler-nav"),C.classList.add("smart-scheduler-nav"),w.setAttribute("prev",""),C.setAttribute("next",""),w.setAttribute("aria-label","Previous View"),C.setAttribute("aria-label","Next View"),e._viewButtons={prev:w,next:C}),w=e._viewButtons.prev,C=e._viewButtons.next,a.classList.add("no-overflowing"),a.insertBefore(w,i),a.appendChild(C),e._scrollToView()),a.removeAttribute("show-menu"),a.classList.remove("smart-visibility-hidden"),void e._handleViewSelection()}delete e._viewButtons,n==="menu"||v?(e.hideViewMenuCheckableItems?f&&f.remove():i.contains(f)||(f||(f=e.$.showWeekendItem=document.createElement("div"),f.classList.add("smart-scheduler-item"),f.setAttribute("checkable",""),f.setAttribute("separator","")),f.innerHTML="<div>"+e.localize("showWeekends")+"</div>",e._checkHideWekendItem(),i.appendChild(f)),d?(o.clear(),o.appendChild(i)):i.remove(),a.setAttribute("show-menu",""),r.classList.remove("smart-visibility-hidden")):(a.removeAttribute("show-menu"),d&&o.close()),a.classList.remove("smart-visibility-hidden"),e._handleViewSelection()}_checkNotifications(e){const t=this,n=t._events,a=t.$.toast;if(e&&(a&&a.isCompleted&&a.items.forEach(r=>{r.classList.contains("smart-scheduler-event-notification")&&a.closeItem(r)}),delete t._notificationObj,delete t._notificationsInterval),clearInterval(t._notificationsInterval),!n)return t._removeToast(),delete t._notificationsInterval,void delete t._notificationObj;let i=t._notificationObj;if(i||(i=t._notificationObj={events:n.filter(r=>Array.isArray(r.notifications))}),!i.events)return t._removeToast(),void delete t._notificationsInterval;t._notificationsInterval||t._refreshNotifications(),t._notificationsInterval=setInterval(t._refreshNotifications.bind(t),1e3*t.notificationInterval)}_removeToast(){const e=this,t=e.$.toast;if(t){const n=e.$toast;n.unlisten("open"),n.unlisten("close"),t.remove()}}_appendToast(){const e=this,t=e.$.toast;if(!e.$.container.contains(t)){const n=e.$toast;n.listen("open",e._toastVisibilityHandler.bind(e)),n.listen("close",e._toastVisibilityHandler.bind(e)),e.$.container.appendChild(t)}}_toastVisibilityHandler(e){const t=this.$.toast;e.target===t&&(e.stopPropagation(),this.$.fireEvent(e.type==="open"?"notificationOpen":"notificationClose",e.detail))}_refreshNotifications(){const e=this,t=e._notificationObj;if(!t)return void clearInterval(e._notificationsInterval);const n=t.events;let a=new Date;if(a.setSeconds(0,0),a=a.getTime(),t.time===a)return;t.time=a;const i=e._getNotificationEvents(n,a);let r=[];for(let o=0;o<i.length;o++){const d=i[o],f=d.dateStart.getTime(),p=d.notifications;Array.isArray(p)&&p.forEach(v=>{const w=(v.interval||0)*(v.type==="days"||v.type===0?1:7),C=v.time,x=new Date(f-24*w*60*60*1e3);x.setHours(C[0]%23,C[1]%60,0,0),x.getTime()===a&&r.push({dateStart:d.dateStart,label:d.label,message:v.message,iconType:v.iconType})})}e._notifyForUpcomingEvents(r)}_getNotificationEvents(e,t){const n=this;let a=[];const i=t+24192e5,r=n._rRule,o={isMonthView:!0,hourStart:n.hourStart,hourEnd:n.hourEnd,restrictedDates:n.restrictedDates,restrictedHours:n.restrictedHours,dateStart:new Date(t),dateEnd:new Date(i),rRule:r,targetEvents:a};for(let d=0;d<e.length;d++){const f=e[d],p=f.dateStart,v=f.dateEnd;if(!p||!v)continue;const w=p.getTime(),C=v.getTime();if(f.repeat&&r){const x=n._getEventRepeatOptions(f);if(x){o.event=f,o.repeatObj=f.repeat,o.options=x,o.eventTimeStart=w,o.eventTimeEnd=C,n._setRepeatingEvents(o);continue}}else w>=t&&w<=i&&a.push(f)}return a}_notifyForUpcomingEvents(e){const t=this;if(!e.length)return;t._setToast();const n=t.$.toast;t._appendToast();const a=t.dayFormat,i=t.monthFormat,r=t.weekdayFormat,o=t.locale,d=t.hourFormat,f=t.minuteFormat,p=Smart.Utilities.DateTime,v=t.timeZone;for(let w=0;w<e.length;w++){const C=e[w],x=new p(C.dateStart).toDate(v),L=C.message?C.message:C.label+" "+t.localize("notificationMessage")+" "+new Intl.DateTimeFormat(o,{day:a,weekday:r,month:i}).format(x)+" at "+new Intl.DateTimeFormat(o,{hour:d,minute:f}).format(x);n.open(L,C.iconType)}}_setToast(){const e=this;let t=e.$.toast;t||(e.$.toast=t=document.createElement("smart-toast"),t.appendTo=e.$.timeline,t.showCloseButton=!0,t.itemClass="smart-scheduler-event-notification",e.$toast=Smart.Utilities.Extend(t)),t.rightToLeft=e.rightToLeft,t.theme=e.theme,t.animation=e.animation}_createEvents(e,t){const n=this;let a=e!==void 0;if(a||(e=n.dataSource,n._clearEvents()),n.dataSource instanceof Smart.DataAdapter&&(e=n.dataSource.dataSourceType==="ics"?n.dataSource.dataSource:n.dataSource.toArray()),!Array.isArray(e)||!e.length)return;const i=n.viewType;let r=[],o=[];for(let d=0;d<e.length;d++){const f=e[d];if(!f)continue;let p,v,w=f.allDay;if(typeof w=="string"&&(w=w==="true"),w=!!w,!f.dateStart&&!f.dateEnd){const L=Object.assign({},f,{dateStart:null,dateEnd:null,allDay:w,label:f.label||""});o.push(L);continue}if(p=n._dateValidator(void 0,f.dateStart),v=n._dateValidator(void 0,f.dateEnd),!p||!p.getTime())continue;switch(v&&v.getTime()||(v=new Date(p),v.setHours(v.getHours(),v.getMinutes()+60/n._getCellsScaleCount(),0,0)),v=new Date(Math.max(p.getTime(),v.getTime())),i){case"week":case"day":case"timelineWeek":case"timelineDay":w&&v.setHours(23,59,59,999);break;default:w&&v.getHours()===0&&v.getMinutes()===0&&v.getSeconds()===0&&v.getMilliseconds()===0&&v.setHours(23,59,59,999)}const C=Object.assign({},f,{dateStart:p,dateEnd:v,allDay:w,label:f.label||""});let x=C.repeat;if(x){x=C.repeat=Object.assign({},x);const L=["hourly","daily","weekly","monthly","yearly"];for(let A in x)if(A==="repeatFreq"&&L.indexOf(x[A])<0)x[A]=L[0];else if(A==="repeatInterval")x[A]=isNaN(x[A])?1:x[A];else if(A==="exceptions"){let k=x[A];k=Array.isArray(k)?k.slice():[k];for(let B=0;B<k.length;B++){let H=k[B];H.date===void 0?H={date:n._parseDate(H)}:(H=Object.assign({},H),H.date?H.date instanceof Date||(H.date=n._parseDate(H.date)):H.date=new Date(H.dateStart)),H.dateStart?H.dateStart instanceof Date||(H.dateStart=n._parseDate(H.dateStart)):H.dateStart=new Date(H.date),H.dateEnd?H.dateEnd instanceof Date||(H.dateEnd=n._parseDate(H.dateEnd)):H.dateEnd=new Date(H.dateStart.getTime()+C.dateEnd.getTime()-C.dateStart.getTime()),delete H.$,k[B]=H}k&&(x[A]=k)}}n._containsEvent(C)||(n._setEventTimeZone(C,t),r.push(C))}if(a)return r;n._removeToast(),delete n._notificationsInterval,delete n._notificationObj,n._events=r,n._noDateEvents=o}_setEventTimeZone(e,t="local"){const n=new Smart.Utilities.DateTime().timeZones,a=this.timeZone.toLowerCase(),i=(t||this.timeZone).toLowerCase();if(!e||!e.dateStart||!e.dateEnd||t&&a===i)return;const r=n.find(A=>A.id.toLowerCase()===a);if(!r)return;let o=n.find(A=>A.id.toLowerCase()===i),d=new Date(e.dateStart),f=new Date(e.dateEnd);const p=n.find(A=>A.id.toLowerCase()==="local");o||(o=p);const v=p.offset,w=60*(-1*d.getTimezoneOffset()-p.offset)*1e3,C=60*(-1*f.getTimezoneOffset()-p.offset)*1e3,x=60*o.offset*1e3,L=60*r.offset*1e3;if(e.allDay||(e.dateStart=new Date(d.getTime()-w-x+L),e.dateEnd=new Date(f.getTime()-C-x+L)),e.repeat&&e.repeat.exceptions){const A=e.repeat.exceptions;for(let k=0;k<A.length;k++){const B=A[k];if(B.allDay)continue;const H=60*(-1*B.date.getTimezoneOffset()-v)*1e3,V=60*(-1*B.dateStart.getTimezoneOffset()-v)*1e3,z=60*(-1*B.dateEnd.getTimezoneOffset()-v)*1e3;B.date=new Date(B.date.getTime()-H-x+L),B.dateStart=new Date(B.dateStart.getTime()-V-x+L),B.dateEnd=new Date(B.dateEnd.getTime()-z-x+L)}}}_clearEvents(){const e=this;e._events=[],e._eventList&&(e._eventList.innerHTML=null),e.$.timelineEventsContainer.innerHTML="",e.$.allDayEventsContainer.innerHTML="",delete e._eventsBetween,e.rendered&&e._refreshTimelineEvents()}_refreshEvents(){const e=this,t=e._events,n=e.$.timelineEventsContainer,a=e.$.allDayEventsContainer,i=e._timelineCells;if(!(t&&i.horizontal&&i.horizontal.length&&i.vertical&&i.vertical.length))return n.innerHTML="",a.innerHTML="",void delete e._eventsBetween;let r=e._eventsBetween?e._eventsBetween.eventCellDetails:void 0,o=[],d={};const f=e.view,p=e.views.find(x=>x.value&&x.value===f)||{},v=p?parseFloat(p.maxEventsPerCell):NaN;if(isNaN(v)?e.maxEventsPerCell!==null&&(d.maxEventsPerCell=e.maxEventsPerCell):d.maxEventsPerCell=v,r){const x=r.eventGroups,L=r.cellRanges,A=r.allDayEventGroups,k=r.allDayEventCellRanges;for(let B=0;B<x.length;B++)d.events=x[B],d.eventCells=L[B],o=o.concat(e._createTimelineEvents(d));for(let B=0;B<A.length;B++)d.events=A[B],d.eventCells=k[B],d.isAllDay=!0,o=o.concat(e._createTimelineEvents(d))}else o=e._createViewEvents();if(e.hasAttribute("resized"))return;const w=Array.from(n.children).concat(Array.from(a.children)),C=e._eventList;for(let x=0;x<w.length;x++){const L=w[x];o.indexOf(L)<0&&(L.remove(),C&&C._target===L&&(C.innerHTML="",delete C._target))}e._refreshViewList(),e._handleEventCut()}_createViewEvents(){const e=this,t=e._events,n=e._timelineCells.groups,a=e._getViewEvents();let i=[];const r=e.$.timeline.querySelectorAll(".smart-scheduler-event[collector]");for(let o=0;o<r.length;o++)r[o].$&&(r[o].$.events=r[o].$.events.reduce((d,f)=>(t.indexOf(f)>-1&&d.push(f),d),[]));return i=n&&n.length>0?e._createGroupedEvents(a,n):e._createNonGroupedEvents(a),i}_createNonGroupedEvents(e){const t=this;let n=[],a={};const i={eventGroups:[],cellRanges:[],allDayEventGroups:[],allDayEventCellRanges:[]},r=t.view,o=t.views.find(v=>v.value&&v.value===r)||{},d=o?parseFloat(o.maxEventsPerCell):NaN;isNaN(d)?t.maxEventsPerCell!==null&&(a.maxEventsPerCell=t.maxEventsPerCell):a.maxEventsPerCell=d;const f=t._getTimelineEventCells(e,[]),p=t._separateAllDayEvents(e,f);return p.events.length&&(a.events=p.events,a.eventCells=p.eventCells,i.eventGroups.push(p.events),i.cellRanges.push(p.eventCells),n=n.concat(t._createTimelineEvents(a))),p.allDayEvents.length&&(a.events=p.allDayEvents,a.eventCells=p.allDayEventCells,a.isAllDay=!0,i.allDayEventGroups.push(p.allDayEvents),i.allDayEventCellRanges.push(p.allDayEventCells),n=n.concat(t._createTimelineEvents(a))),t._eventsBetween.eventCellDetails=i,n}_createGroupedEvents(e,t){const n=this;let a=[],i={};const r=n.view,o=n.views.find(x=>x.value&&x.value===r)||{},d=o?parseFloat(o.maxEventsPerCell):NaN;isNaN(d)?n.maxEventsPerCell!==null&&(i.maxEventsPerCell=n.maxEventsPerCell):i.maxEventsPerCell=d;const f={eventGroups:[],cellRanges:[],allDayEventGroups:[],allDayEventCellRanges:[]};let p=[];const v=t[t.length-1].cells;let w={events:[],eventCells:[]};for(let x=0;x<v.length;x++){const L=e.filter(B=>n._isEventPartOfGroup(B,v[x])),A=n._getTimelineEventCells(L,p),k=n._separateAllDayEvents(L,A);w.events=w.events.concat(k.allDayEvents),w.eventCells=w.eventCells.concat(k.allDayEventCells),k.events.length&&(i.events=k.events,i.eventCells=k.eventCells,f.eventGroups.push(k.events),f.cellRanges.push(k.eventCells),a=a.concat(n._createTimelineEvents(i)))}const C=w.events.slice();n._sortEventCellObjs(w.events,["day","week"].indexOf(n.viewType)>-1),w.eventCells=w.events.map(x=>w.eventCells[C.indexOf(x)]);for(let x=0;x<w.events.length;x++)i.events=w.events,i.eventCells=w.eventCells,i.isAllDay=!0,f.allDayEventGroups.push(w.events),f.allDayEventCellRanges.push(w.eventCells),a=a.concat(n._createTimelineEvents(i));return n._eventsBetween.eventCellDetails=f,a}_separateAllDayEvents(e,t){let[n,a,i,r]=[[],[],[],[]];if(["day","week"].indexOf(this.viewType)<0)i=e,r=t;else for(let o=0;o<e.length;o++){const d=e[o];d.allDay||d.dateEnd.getTime()-d.dateStart.getTime()>=864e5?(n.push(d),a.push(t[o])):(i.push(d),r.push(t[o]))}return{allDayEvents:n,allDayEventCells:a,events:i,eventCells:r}}_getViewEvents(){const e=this,t=e.viewType.toLowerCase(),n=e.dateCurrent,a=e.firstDayOfWeek;let i=new Date(n),r=new Date(n);if(t==="agenda")i.setHours(0,0,0,0),r.setDate(r.getDate()+6),r.setHours(23,59,59,999);else if(t.indexOf("month")>-1)if(i.setDate(1),e.hideOtherMonthDays)i.setHours(0,0,0,0),r=new Date(i),r.setDate(32),r.setDate(0),r.setHours(23,59,59,999);else{i.setDate(i.getDate()-(i.getDay()-a+7)%7),i.setHours(0,0,0,0),r=new Date(i);for(let o=0;o<5;o++)r.setDate(r.getDate()+7);r.setDate(r.getDate()+6),r.setHours(23,59,59,999)}else if(t.indexOf("week")>-1){e.viewStartDay!=="dateCurrent"&&i.setDate(i.getDate()-i.getDay()+a),r.setDate(i.getDate()+6),i.setHours(0,0,0,0);const o=e.views.find(d=>d.value&&d.value===e.view)||{};if(o.additionalDays){let d=new Smart.Utilities.DateTime(i);d=d.addDays(6+o.additionalDays),r=d.toDate()}r.setHours(23,59,59,999)}else t.indexOf("day")>-1&&(i.setHours(0,0,0,0),r.setHours(23,59,59,999));return e._getEventsBetween(i,r)}_refreshTimelineEvents(){const e=this;delete e._eventsBetween,e.viewType==="agenda"?e._createTimeline():(e._refreshEvents(),e._checkNotifications(!0))}_getTimelineEventCells(e,t){const n=this,a=["day","week"].indexOf(n.viewType)>-1,i=n.hideAllDay;let r=[];for(let o=0;o<e.length;o++){const d=e[o];let f,p=[];a&&(d.allDay||d.dateEnd.getTime()-d.dateStart.getTime()>=864e5)&&(f=!0),d.hidden||f&&i?r.push(p):(p=n._getEventTimelineCells(d,t,f),r.push(n._getEventTimelineCellRanges(p,f)))}return r}_createTimelineEvents(e){const t=this,n=e.events,a=e.eventCells,i=e.isAllDay,r=t.viewType,o=t.view,d=t.views.find(k=>k.value&&k.value===o)||{},f=t.eventRenderMode,p=e.maxEventsPerCell,v=f==="classic"?r==="month"?t._monthViewNumberSize:0:t._eventCollectorSize,w=["day","week"].indexOf(r)>-1,C=t._getCellSize(),x=C[w?"width":"height"]-v,L=p!==void 0?x/p:Math.min(x,t._eventSize);let A={events:n,eventCells:a,viewType:r,viewDetails:d,isAllDayEvent:i,isMobile:t.$.timeline.hasAttribute("mobile"),isDayOrWeekView:w,rightToLeft:t.rightToLeft,eventRenderMode:f,eventSize:L,collectorSize:v,usedEventCells:[],eventIndexes:[],maxEventsPerCell:p};return i?(A.cellSize={height:t._allDayCellSize,width:C.width},A.spaceAvailable=t._allDayCellSize-v,A.currentEvents=t.$.allDayEventsContainer.children,p!==void 0&&(A.eventSize=A.spaceAvailable/p),t._setVerticalTimelineEvents(A),t._allDayEventDetails=A):(A.cellSize=C,A.spaceAvailable=x,A.currentEvents=t.$.timelineEventsContainer.children,w?(t._setHorizontalTimelineEvents(A),t._dayOrWeekEventDetails=A):(t._setVerticalTimelineEvents(A),t._eventDetails=A)),A.usedEventCells}_setHorizontalTimelineEvents(e){const t=this,n=e.events,a=e.eventCells,i=e.eventRenderMode;if(i==="modern"&&e.isMobile)return t._setAgendaOrMobileEvents(e);const r=e.eventIndexes,o=e.spaceAvailable,d=i==="classic"?1:e.maxEventsPerCell!==void 0?e.eventSize:t._eventSize,[f,p]=[t.scrollTop,t.scrollLeft],[v,w]=[f+t._scrollViewSize.height,p+t._scrollViewSize.width],C=t._getEventsCollisionIndexes(e),x=C.eventOverlaps,L=C.eventCollisionsCount;for(let A=0;A<n.length;A++){const k=a[A],B=n[A];let H=L[A];for(let V=0;V<k.length;V++){const z=k[V],N=z[0];if(!N)continue;const F=z[z.length-1],[q,Y]=[N.vertical,F.vertical],[X,ae]=[N.horizontal,F.horizontal];if(Y.top+Y.height<f||q.top>v||ae.left+ae.width<p||X.left>w)continue;const Q=r[A],ie=x.filter(E=>E.indexOf(B)>-1);for(let E=0;E<ie.length;E++){const l=ie[E].reduce((m,c)=>Math.max(m,L[n.indexOf(c)]||1),1);H=Math.max(H,l)}i==="modern"&&(H=Math.min(Math.floor(o/d),H));let te=1;for(let E=Q+1;E<H&&ie.every(l=>l.map(m=>r[n.indexOf(m)]).indexOf(E)<0);E++)te++;e.eventObj=B,e.cellEventsCount=H,e.cellRange=z,e.eventIndex=Q,e.eventSize=o/H*te,i==="modern"&&(Q+1)*d>o?t._addEventToCollector(e):t._setEventCell(e)}}return e.usedEventCells}_getAllEventCollisions(e,t,n){const a=this;n||(n=t);for(let i=0;i<n.length;i++){let r=e.filter(o=>n[i].some(d=>o.indexOf(d)>-1)&&t.indexOf(o)<0);r.length&&(t=a._getAllEventCollisions(e,t.concat(r),r))}return t}_getEventsCollisionIndexes(e){const t=this,n=e.events,a=e.eventCells,i=e.eventIndexes;let r=[],o=[],d=0;for(let f=0;f<n.length;f++){const p=n[f];if(!a[f].length)continue;e.eventObj=p;const v=t._getEventsInCollision(e);let w=r.filter(C=>v.some(x=>C.indexOf(x)>-1));if(o[f]=v.length,w.length){d!==o[f]&&(w=t._getAllEventCollisions(r,w)),w.sort((x,L)=>L.length-x.length);let C=Math.max(v.length,w[0].length);w.forEach(x=>x.forEach(L=>{const A=n.indexOf(L);o[A]=Math.max(o[A]||0,C)}))}d=Math.max(d,o[f]),r[f]=v,i[f]=v.indexOf(p)}return{eventOverlaps:r,eventCollisionsCount:o}}_getEventsInCollision(e){const t=this,n=t._getEventCellDetails(e),a=n.eventCellStartTime,i=n.eventCellEndTime,r=n.hCellGroup,o=n.vCellGroup,d=e.isDayOrWeekView&&o!==void 0?void 0:o||r;let f=e.events,p=[],v=[];for(let w=0;w<f.length;w++){const C=f[w];if(d&&!t._isEventPartOfGroup(C,d))continue;const x=C.dateStart.getTime(),L=C.dateEnd.getTime();x>=a&&x<=i?p.push(C):L>a&&x<i&&v.push(C)}return!p.length&&v.length&&(p=v,v=[]),t._sortEventCellObjs(p,e.isDayOrWeekView),t._getOrderedEventCollision(e,p,v)}isCollision(e,t,n){if(e>t)throw new Error("Start date must be before end date");for(let a=0;a<n.length;a++){let i=n[a].start,r=n[a].end;if(e>=i&&e<=r||t>=i&&t<=r||e<=i&&t>=r)return!0}return!1}_sortEventCellObjs(e,t){t?e.sort((n,a)=>{const i=n instanceof HTMLElement?n.$.event:n,r=a instanceof HTMLElement?a.$.event:a,o=i.dateStart.getTime(),d=r.dateStart.getTime();return o===d?r.dateEnd.getTime()-i.dateEnd.getTime():o-d}):e.sort((n,a)=>{const i=n instanceof HTMLElement?n.$.event:n,r=a instanceof HTMLElement?a.$.event:a;i.dateStart.getTime(),r.dateStart.getTime()})}_getOrderedEventCollision(e,t,n){const a=e.events,i=e.eventIndexes,r=Math.max(e.eventsInCollision||1,t.length+n.length);let o=[];if(n.length){const d=n.map(f=>i[a.indexOf(f)]);for(let f=0;f<r;f++){const p=n[d.indexOf(f)];if(p)o.push(p);else{const v=t.find(w=>o.indexOf(w)<0);v&&o.push(v)}}n.forEach(f=>o.indexOf(f)<0?o.push(f):null)}else o=t;return o}_getEventCellDetails(e){const t=this,n=t.viewType;if(n==="month")return t._getMonthEventCellDetails(e);const a=t.view,i=t.views.find(B=>B.value&&B.value===a)||{},r=e.eventObj,o=r.dateStart,d=r.dateEnd,f=t._getEventHorizontallCellObjs(r),p=t._getEventVerticalCellObjs(r),v=p.start||p.first,w=v.group;let C,x,L,A=f.start,k=0;if(A||(A=f.first),x=A.group,C=A.date,e.isAllDayEvent)C>o.getTime()&&(C=new Date(o),C.setHours(C.getHours(),0,0,0)),L=new Date(C),L.setHours(23,59,59,999),C=C.getTime(),L=L.getTime();else{let B=t._getCellsScaleCount();k=t._getEventScaleIndex(r,n.indexOf("timeline")>-1?A:v).start,C=t._getCellTime({horizontal:A,vertical:v,scaleIndex:k}),C>o.getTime()?(C=new Date(o),C.setHours(C.getHours(),0,0,0),C=C.getTime(),B=1):C<o.getTime()&&(C=new Date(C),C.setMinutes(o.getMinutes()),C=C.getTime()),L=C,n==="timelineMonth"||n==="timelineWeek"&&i&&i.hideHours?L+=86399999:L+=60/B*60*1e3-1,L>d.getTime()&&(L=new Date(L),L.setMinutes(d.getMinutes()-1),L=L.getTime())}return{eventCellStartTime:C,eventCellEndTime:L,hCellGroup:x,vCellGroup:w}}_getMonthEventCellDetails(e){const t=this,n=e.eventObj,a=n.dateStart,i=n.dateEnd,r=t._getEventVerticalCellObjs(n);let o,d,f,p,v,w=r.start||r.first;w=r.start,p=w.group;const C=new Date(w.date),x=new Date(w.date),L=Object.assign({},n);x.setDate(x.getDate()+6),x.setHours(23,59,59,999),C.setHours(0,0,0,0),L.dateStart=new Date(Math.max(a.getTime(),C.getTime())),L.dateEnd=new Date(Math.min(i.getTime(),x.getTime()));const A=t._getEventHorizontallCellObjs(L);return o=A.start,o||(o=A.first),f=o.group,d=o.date,d=t._getCellTime({horizontal:o,vertical:w,scaleIndex:0}),d>a.getTime()&&(d=new Date(a),d=d.getTime()),v=d+864e5-1,v>i.getTime()&&(v=new Date(v),v.setMinutes(i.getMinutes()-1),v=v.getTime()),{eventCellStartTime:d,eventCellEndTime:v,hCellGroup:f,vCellGroup:p}}_getEventScaleIndex(e,t){const n=this,a=n._getCellsScaleCount(),i=60/a,r=e.dateStart,o=e.dateEnd;let d,f,p,v,w=0,C=i;if(t){const x=t.date;let L=new Date(x),A=new Date(x);n.viewType.indexOf("timeline")<0&&(L=new Date(r),A=new Date(o),L.setHours(x.getHours(),x.getMinutes(),0,0),A.setHours(x.getHours(),x.getMinutes(),0,0)),L=L.getTime(),A=L+36e5,r.getTime()<=L&&(p=!0,d=0),o.getTime()>=A&&(v=!0,f=a-1)}if(d===void 0||f===void 0){const x=r.getMinutes(),L=o.getMinutes();for(let A=0;A<a;A++)!p&&w<=x&&C>=x&&(d=A),!v&&w<L&&C>=L&&(f=A),w+=i,C+=i}return{start:d||0,end:f||0}}_getEventVisibleDateRange(e){const t=this,n=e.dateStart,a=e.dateEnd;if(t.viewType.toLowerCase().indexOf("day")>-1)return{dateStart:n,dateEnd:a};const i=t.view,r=t.views.find(w=>w.value&&w.value===i)||{};let o,d,f=new Date(n),p=new Date(a),v=[];if(p.getHours()===0&&p.getMinutes()===0&&p.getSeconds()===0&&(p.setDate(p.getDate()-1),p.setHours(23,59,59,999)),(t.hideNonworkingWeekdays||r.hideNonworkingWeekdays)&&(t.nonworkingDays||r.nonworkingDays).forEach(w=>v.push(w)),(t.hideWeekend||r.hideWeekend)&&[0,6].forEach(w=>v.push(w)),![0,1,2,3,4,5,6].every(w=>v.indexOf(w)>-1)){for(;v.indexOf(f.getDay())>-1;)f.setDate(f.getDate()+1),o=!0;for(;v.indexOf(p.getDay())>-1;)p.setDate(p.getDate()-1),d=!0;return f.getTime()<=p.getTime()?{dateStart:o?f:n,dateEnd:d?p:a}:void 0}}_getEventHorizontallCellObjs(e){const t=this,n=t.hourStart,a=t.hourEnd,i=t._getEventVisibleDateRange(e);if(!i)return;const r=i.dateStart,o=i.dateEnd,d=r.getHours(),f=o.getHours(),p=r.getMinutes()+r.getSeconds()+r.getMilliseconds()===0,v=o.getMinutes()+o.getSeconds()+o.getMilliseconds()===0,w=o.getTime()>r.getTime()&&v,C=t.viewType,x=t.view,L=t.views.find(k=>k.value&&k.value===x)||{},A=r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()&&r.getDate()===o.getDate();return t._getEventCellObjs(e,function(k,B){let H;arguments.length?(H=!0,B||(B=k)):(k=r,B=o);let V=new Date(k),z=new Date(B);switch(C){case"agenda":V=r,z=o;break;case"day":case"week":case"timelineMonth":if(H)V.setHours(0,0,0,0),z.setHours(23,59,59,999);else{if(e.allDay||C!=="day")z=new Date(o);else{const N=new Date(r);N.setHours(23,59,59,999),o.getDate()===N.getDate()&&(z=new Date(Math.min(o.getTime(),N.getTime())))}z.setHours(z.getHours(),z.getMinutes(),0,0),w&&(z=new Date(z.getTime()-1),z.setHours(z.getHours(),59,59,999))}break;case"timelineDay":case"timelineWeek":if(C==="timelineWeek"&&L&&L.hideHours)return!H&&w&&(z=new Date(o.getTime()-1),z.setHours(z.getHours(),59,59,999)),{start:V.getDay(),end:z.getDay()};if(H){const N=k.getHours(),F=B.getHours();A&&(d<n&&(f<n||f===n&&v)||(d>a||d===n&&p)&&f>a)?(V.setHours(N,0,0,0),z.setHours(F,59,59,999)):(V.setHours(N===n&&d<n?d:N,0,0,0),z.setHours(F===a&&f>a?f:F,59,59,999))}else if(w&&(z=new Date(z.getTime()-1),z.setHours(z.getHours(),59,59,999)),!A){if(d>a){V.setHours(0),V.setDate(V.getDate()+1),V.setHours(n);const N=t._getEventVisibleDateRange({dateStart:V,dateEnd:z});V=N&&N.dateStart.getTime()<z.getTime()?N.dateStart:new Date(k)}if(f<n||f===n&&v){z.setHours(0),z.setDate(z.getDate()-1),z.setHours(a);const N=t._getEventVisibleDateRange({dateStart:V,dateEnd:z});z=N&&N.dateEnd.getTime()>V.getTime()?N.dateEnd:new Date(B)}f>a&&z.setHours(a)}break;case"month":return!H&&w&&(z=new Date(o.getTime()-1),z.setHours(z.getHours(),59,59,999)),{start:V.getDay(),end:z.getDay()}}return V=V.getTime(),z=z.getTime(),{start:V,end:z}},"horizontal")}_getEventVerticalCellObjs(e){const t=this,n=t.hourStart,a=t.hourEnd,i=t._getEventVisibleDateRange(e);if(!i)return;const r=i.dateStart,o=i.dateEnd,d=r.getHours(),f=o.getHours(),p=o.getTime()>r.getTime()&&o.getMinutes()+o.getSeconds()+o.getMilliseconds()===0,v=t.viewType;return t._getEventCellObjs(e,function(w,C){let x;arguments.length?(x=!0,C||(C=w)):(w=r,C=o);let L=new Date(w),A=new Date(C);switch(v){case"day":case"week":if(L=new Date(r),A=new Date(o),x){A=new Date(L);const k=w.getHours(),B=C.getHours();f<=n&&d<=n||d>=a&&f>=a?(L.setHours(k,0,0,0),A.setHours(B,59,59,999)):(L.setHours(k===n&&d<n?d:k,0,0,0),A.setHours(B===a&&f>a?f:B,59,59,999))}else L.setHours(L.getHours(),L.getMinutes(),0,0),A.setHours(A.getHours(),A.getMinutes(),0,0),p&&(A=new Date(A.getTime()-1),A.setHours(A.getHours(),59,59,999));break;case"agenda":x&&(L.setHours(0,0,0,0),A.setHours(23,59,59,999));break;case"month":x?(L.setHours(0,0,0,0),A=new Date(w),A.setDate(A.getDate()+6),A.setHours(23,59,59,999)):p&&(A=new Date(A.getTime()-1),A.setHours(A.getHours(),59,59,999));break;case"timelineDay":case"timelineWeek":case"timelineMonth":return{start:0,end:0}}return L=L.getTime(),A=A.getTime(),{start:L,end:A}},"vertical")}_getEventCellObjs(e,t,n="horizontal"){const a=this,i=a._timelineCells;if(!i||!i[n])return;const r=i[n],o=t(),d=o.start,f=o.end;let p,v,w,C,x,L;for(let A=0;A<r.length;A++){const k=r[A],B=k.date,H=k.group;if(H&&!a._isEventPartOfGroup(e,H))continue;const V=t(B,B),z=V.start,N=V.end;!p&&d>=z&&d<=N&&(p=k),f>=z&&f<=N&&(v=k),w||(w=k,x=z),C=k,L=z}return!p&&d<=x&&f>x&&(p=w),!v&&p&&(v=f>=x&&f<=L?p:C),{start:p,end:v,first:w,last:C}}_setVerticalTimelineEvents(e){const t=this,n=e.events,a=e.eventCells,i=e.eventRenderMode;if(e.viewType==="agenda"||i==="modern"&&e.isMobile)return t._setAgendaOrMobileEvents(e);const r=e.isAllDayEvent,o=e.spaceAvailable,d=e.eventSize,f=Math.floor(o/d),p=e.eventIndexes,[v,w]=[t.scrollTop,t.scrollLeft],[C,x]=[v+t._scrollViewSize.height,w+t._scrollViewSize.width];let L,A;if(i==="classic"||t.autoHeightAllDayCells){const k=t._getEventsCollisionIndexes(e,"vertical");L=k.eventOverlaps,A=k.eventCollisionsCount}t.autoHeightAllDayCells&&(t._allDayCellSize=t.__allDayCellSize);for(let k=0;k<n.length;k++){const B=a[k],H=n[k];e.eventObj=H;for(let V=0;V<B.length;V++){const z=B[V],N=z[0];if(!N)continue;e.cellRange=z;let F=p[k];if(F===void 0){const q=t._getEventsInCollision(e);e.cellEventsCount=q.length,p[k]=q.indexOf(H)}if(!r){const q=z[z.length-1],[Y,X]=[N.vertical,q.vertical],[ae,Q]=[N.horizontal,q.horizontal];if(X.top+X.height<v||Y.top>C||Q.left+Q.width<w||ae.left>x)continue}if(e.eventIndex=F=p[k],!t.autoHeightAllDayCells&&i==="modern"&&(F+1)*d>o)t._addEventToCollector(e);else{if(i==="classic"||t.autoHeightAllDayCells){const q=L.filter(ae=>ae.indexOf(H)>-1),Y=L[k].reduce((ae,Q)=>Math.max(ae,A[n.indexOf(Q)]||1),1);let X=1;for(let ae=F+1;ae<Y&&q.every(Q=>Q.map(ie=>p[n.indexOf(ie)]).indexOf(ae)<0);ae++)X++;e.isMaxSizeReached=Y>f,e.cellEventsCount=Y,e.eventSize=Math.min(d,o/Y*X),t.autoHeightAllDayCells&&(e.eventSize=d,t._allDayCellSize=Math.max(t._allDayCellSize,25+d*Y),t.style.setProperty("--smart-scheduler-timeline-header-all-day-cells-size",t._allDayCellSize+"px"),t._refresh())}t._setEventCell(e)}}}}_setAgendaOrMobileEvents(e){const t=this,n=e.events,a=e.isAllDayEvent,i=e.eventCells,r=e.viewType==="agenda";let o,d,f,p;a||([o,d]=[t.scrollTop,t.scrollLeft],[f,p]=[o+t._scrollViewSize.height,d+t._scrollViewSize.width]);for(let v=0;v<n.length;v++){const w=i[v],C=n[v];e.eventObj=C,w.forEach(x=>{if(x[0])if(e.cellRange=x,a)r?t._setEventCell(e):t._addEventToCollector(e);else{const L=x[0],A=x[x.length-1],[k,B]=[L.vertical,A.vertical],[H,V]=[L.horizontal,A.horizontal];B.top+B.height>=o&&k.top<=f&&V.left+V.width>=d&&H.left<=p&&(r?t._setEventCell(e):t._addEventToCollector(e))}})}return e.usedEventCells}_addEventToCollector(e){const t=this,n=e.viewType,a=n.indexOf("timeline")>-1,i=e.eventObj,r=e.cellRange,o=e.usedEventCells,d=t.$.allDayEventsContainer,f=e.isAllDayEvent,p=e.isDayOrWeekView,v=n==="month",w=f?d:t.$.timelineEventsContainer,C=t._getCellsScaleCount(),x=t._setEventCell(e,!0),L=r.length,A=t.hasAttribute("tabindex")?t.tabIndex:void 0;let k=document.createDocumentFragment(),B={tabIndex:A};e:for(let H=0;H<L;H++){const V=r[H],z=V.scaleIndex,N=V.vertical.group||V.horizontal.group;let F;F=f?1:L===1?t._getEventScaleIndex(i,a?V.horizontal:V.vertical).end+1:H===L-1?z+1:C;for(let q=H===0&&z||0;q<F;q++){V.scaleIndex=q;const Y=t._getCellTime(V);let X=t._findCollector(e,Y,N);if(X){const ae=X.$.events;ae.map(Q=>Q.$.event).indexOf(i)<0&&(ae.push(x),t._sortEventCellObjs(ae,p))}else X=document.createElement("div"),X.classList.add("smart-scheduler-event"),X.setAttribute("collector",""),X.setAttribute("role","menuitem"),X.setAttribute("aria-haspopup",!0),X.$={group:N,cellTime:Y,collector:!0,events:[x]},k.appendChild(X);if(v&&new Date(Y).getDate()===1?X.setAttribute("first-month-day",""):X.removeAttribute("first-month-day"),B.eventCollector=X,B.cellObj=V,t._setEventCollectorStyles(e,B),t._setEventCellContent(X,e),o.indexOf(X)<0&&o.push(X),p&&!f)break e}V.scaleIndex=z}k.children.length&&w.appendChild(k)}_findCollector(e,t,n){const a=this;if(!e)return;const i=e.currentEvents;for(let r=0;r<i.length;r++){const o=i[r];if(o.$.events&&o.$.cellTime===t&&(!n||a._isEventPartOfGroup(o.$.group,n)))return o}}_setEventCollectorStyles(e,t){const n=this,a=e.cellSize,i=e.eventRenderMode,r=t.eventCollector,o=t.cellObj,d=t.tabIndex,f=e.isMobile,p=e.rightToLeft?"right":"left",v=e.isAllDayEvent,w=e.isDayOrWeekView,C=n._getCellOffset(o);let x=e.collectorSize;r.style[e.rightToLeft?"left":"right"]="",i==="modern"&&f?(x=Math.min(a.width,a.height),r.style.width=r.style.height=x+"px",r.style[p]=C.left+(a.width-x)/2+"px",r.style.top=C.top+(a.height-x)/2+"px"):(r.style.top=C.top+"px",r.style.height=n._eventCollectorSize+"px",w&&!v?(r.style[p]=C.left+a.width-x+"px",r.style.width=x+"px"):(r.style[p]=C.left+"px",r.style.width=Math.max(0,a.width)+"px")),d!==void 0?r.tabIndex=d:r.removeAttribute("tabindex")}_removeEventFromCollector(e){const t=this,n=e.eventObj,a=e.cellRange;let i;for(let r=0;r<a.length;r++){const o=a[r],d=o.vertical.group||o.horizontal.group,f=t._getCellTime(o),p=t._findCollector(e,f,d);if(p){const v=p.$.events,w=v.map(C=>C.$.event).indexOf(n);w>-1&&(i=v.splice(w,1)[0]),v.length?t._setEventCellContent(p,e):p.remove()}}return i}_findEventElement(e,t,n){if(!e)return;const a=e.currentEvents;for(let i=0;i<a.length;i++){const r=a[i];if(r.$.event===n&&r.$.cellTime===t)return r}}_setEventCell(e,t){const n=this,a=e.viewType,i=e.eventObj,r=e.usedEventCells,o=i.$?i.$.event:void 0,d=i.dateStart,f=i.dateEnd,p=i.status,v=n._getCellTime(e.cellRange[0]),w=e.isAllDayEvent?n.$.allDayEventsContainer:n.$.timelineEventsContainer,C=n._dragDetails,x=n.tabIndex;let L,A,k=n._findEventElement(e,v,i);if(!t){const H=n._removeEventFromCollector(e);!k&&H&&(k=H)}if(k&&n.hasAttribute("resized")&&k===C.schedulerEvent)return;k?k.classList.remove("smart-hidden"):(k=document.createElement("div"),k.classList.add("smart-scheduler-event"),k.setAttribute("role","menuitem"),k.setAttribute("aria-haspopup",!0)),n._setEventCellStyles(e,{eventCell:k}),a==="agenda"?(L=new Date(v),L.setHours(d.getHours(),d.getMinutes())):L=new Date(d),k.$||(k.$={}),A=k.$,A.cellTime=v,A.dateStart=L,A.dateEnd=new Date(L.getTime()+f.getTime()-d.getTime()),A.event=i,n.resources.forEach(H=>{i[H.value]!==void 0&&k.setAttribute(H.value,i[H.value])});let B="";if(p!==void 0&&n.statuses.some(H=>H.value===p)){k.setAttribute("status",p);for(let H=0;H<n.statuses.length;H++)if(n.statuses[H].value===p){n.statuses[H].color&&(B=n.statuses[H].color);break}}else k.removeAttribute("status");if(B&&(k.setAttribute("status",""),k.style.setProperty("--smart-scheduler-status-background",n._getRGBA(B))),o){const H=o.repeat.exceptions;k.setAttribute("repeating",""),H&&H.indexOf(i)>-1?k.setAttribute("exception",""):k.removeAttribute("exception")}else k.removeAttribute("repeating"),k.removeAttribute("exception");if(i.allDay?k.setAttribute("all-day",""):k.removeAttribute("all-day"),t)return k;n._setEventCellContent(k,e),n.hasAttribute("tabindex")?k.tabIndex=x:k.removeAttribute("tabindex"),i.disableResize?k.setAttribute("disable-resize",""):k.removeAttribute("disable-resize"),k.setAttribute("title",i.label),r.indexOf(k)<0&&r.push(k),w.contains(k)||w.appendChild(k)}_setEventCellStyles(e,t){const n=this,a=e.viewType,i=e.eventObj,r=e.eventIndex,o=t.eventCell,d=e.collectorSize,f=e.cellRange,p=e.cellSize,v=f[0],w=f[f.length-1],C=n._getCellOffset(v),x=e.isDayOrWeekView,L=e.isAllDayEvent,A=e.rightToLeft?"right":"left",k=a.indexOf("timeline")>-1,B=e.viewDetails,H=["timelineDay","timelineWeek"].indexOf(a)>-1,V=i.class?Array.isArray(i.class)?i.class:[i.class]:[];let z=i.backgroundColor,N=i.color,F=i.statusColor;if(!z||!N){const q=n.resources.find(Y=>i[Y.value]!==void 0);if(q&&q.dataSource){const Y=q.dataSource.find(X=>X.id===i[q.value]);Y&&(z=z||Y.backgroundColor,N=N||Y.color)}}if(o.style[e.rightToLeft?"left":"right"]="",F&&(o.setAttribute("status",""),o.style.setProperty("--smart-scheduler-status-background",n._getRGBA(F))),o.style.setProperty("--smart-scheduler-event-background",n._getRGBA(z)),o.style.setProperty("--smart-scheduler-event-focus",n._getRGBA(z,-1)),o.style.setProperty("--smart-scheduler-event-hover",n._getRGBA(z,-2)),o.style.setProperty("--smart-scheduler-event-color",n._getRGBA(N)),o.style.setProperty("--smart-scheduler-event-color-hover",n._getRGBA(N)),o.style.setProperty("--smart-scheduler-event-color-focus",n._getRGBA(N)),a==="agenda")o.style.top=C.top+"px",o.style[A]=C.left+"px",o.style.width=p.width+"px",o.style.height=p.height+"px";else{const q=e.cellEventsCount,Y=w.scaleIndex;let X,ae=0,Q=0,ie=e.eventSize;if((H||x)&&(ae=n._getEventCellOffset(i,v)),v===w&&(w.scaleIndex=n._getEventScaleIndex(i,k?w.horizontal:w.vertical).end),X=n._getCellOffset(w),x&&!L){ae=parseFloat((p.height*ae).toFixed(2)),Q=parseFloat((p.height*n._getEventCellOffset(i,w,!0)).toFixed(2));const te=Q+X.top-C.top-ae;o.style.height=(te===0?p.height:te)+"px",o.style.width=ie+"px",o.style.top=C.top+ae+"px",o.style[A]=C.left+r*((p.width-d)/q)+"px"}else{a!=="timelineDay"&&(a!=="timelineWeek"||B&&B.hideHours)?(Q=p.width,ae=0):(ae=parseFloat((p.width*ae).toFixed(2)),Q=parseFloat((p.width*n._getEventCellOffset(i,w,!0)).toFixed(2)));const te=Q+X.left-C.left-ae;o.style.height=ie+"px",o.style.width=(te===0?p.width:te)+"px",o.style[A]=C.left+ae+"px",n.eventRenderMode==="classic"&&e.isMaxSizeReached?o.style.top=C.top+d+r*((p.height-d)/q)+"px":o.style.top=C.top+d+r*ie+"px"}V.length?V.forEach(te=>o.classList.add(te)):o.className!=="smart-scheduler-event"&&(o.className="smart-scheduler-event"),i.id!==void 0?o.id=i.id+"":delete i.id,w.scaleIndex=Y}}_getEventCellOffset(e,t,n){if(t.scaleIndex===void 0)return 0;const a=["day","week"].indexOf(this.viewType)>-1?"vertical":"horizontal",i=60/this._getCellsScaleCount()*60*1e3;let r=n?e.dateEnd:e.dateStart,o=t[a].date;return o=new Date(o.getTime()+i*t.scaleIndex),a==="vertical"&&(o=new Date(r.getFullYear(),r.getMonth(),r.getDate(),o.getHours(),o.getMinutes(),0,0),o.getHours()!==r.getHours())?n?1:0:(o=o.getTime(),r=r.getTime(),Math.max(0,Math.min(1,o>r?n?1:0:parseFloat(((r-o)/i).toFixed(2)))))}_getRGBA(e,t){if(!e)return"";const n=/^#(.)(.)(.)$/gi.exec(e),a=t!==void 0&&t<0?parseFloat((1+t/10).toFixed(2)):void 0;let i,r,o,d;const f={black:[0,0,0,1],white:[255,255,255,1],red:[255,0,0,1],green:[0,128,0,1],blue:[0,0,255,1],yellow:[255,255,0,1],cyan:[0,255,255,1],magenta:[255,0,255,1],gray:[128,128,128,1],maroon:[128,0,0,1],olive:[128,128,0,1],purple:[128,0,128,1],teal:[0,128,128,1],navy:[0,0,128,1],orange:[255,165,0,1],pink:[255,192,203,1],brown:[165,42,42,1],lime:[0,255,0,1],indigo:[75,0,130,1],violet:[238,130,238,1],gold:[255,215,0,1]};if(f[e]){const p=f[e];return`rgba(${p[0]},${p[1]},${p[2]},${t||1})`}if(n)i=parseInt(n[1]+n[1],16),r=parseInt(n[2]+n[2],16),o=parseInt(n[3]+n[3],16),t<0&&(t=parseFloat((1+t/10).toFixed()));else{const p=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e);if(!p)return"";i=parseInt(p[1],16),r=parseInt(p[2],16),o=parseInt(p[3],16),d=parseInt(p[4],16)/255,isNaN(d)||(t=parseFloat((t!==void 0&&t<0?d+t/10:d).toFixed(2)))}return t!==void 0&&t<0&&(t=a),`rgba(${i},${r},${o},${t||1})`}_getCellRanges(e,t="horizontal"){if(!e)return[];const n=this._timelineCells[t],a=e.start,i=e.end,r=e.first,o=e.last;if(!a&&!i||!r&&!o)return[];const d=e.start||r,f=e.end||o,p=n.indexOf(d),v=n.indexOf(f),w=n.indexOf(r),C=n.indexOf(o);let x=[];return x=p>v?[{fromIndex:p,toIndex:C},{fromIndex:w,toIndex:v}]:[{fromIndex:p,toIndex:v}],x}_getEventTimelineCells(e,t,n){const a=this,i=a.viewType,r=i==="agenda",o=new Date(e.dateStart),d=new Date(e.dateEnd),f=a._timelineCells.horizontal,p=a._timelineCells.vertical;let v=[];if(i==="month")return a._getEventTimelineCellsMonth(e);if(n){const A={height:a._allDayCellSize,top:0,date:new Date(a.dateCurrent)};return A.date.setHours(0,0,0,0),a._getCellRanges(a._getEventHorizontallCellObjs(e)).forEach(k=>{const B=k.fromIndex,H=k.toIndex;for(let V=B;V<=H;V++){const z=f[V],N=z.group;N&&!a._isEventPartOfGroup(e,N)||v.push({allDay:!0,horizontal:z,vertical:A})}}),v}const w=Object.assign({},e),C=i.indexOf("timeline")>-1;let x,L;return a._getCellRanges(a._getEventHorizontallCellObjs(e)).forEach(A=>{const k=A.fromIndex,B=A.toIndex;for(let H=k;H<=B;H++){const V=f[H],z=new Date(V.date),N=V.group;let F,q=new Date(V.date);if(!N||a._isEventPartOfGroup(e,N)){if(o.getTime()>=z.getTime()&&z.setHours(o.getHours(),o.getMinutes()),q.setHours(d.getHours(),d.getMinutes()),i==="timelineMonth"&&q.setHours(23,59,59),q.getTime()<z.getTime())if(i==="timelineWeek"||i==="timelineDay")for(;q.getTime()<z.getTime();){const Y=q.getHours();q.setHours(Y+1,0,0,0),Y===q.getHours()&&q.setHours(q.getHours()+2,0,0,0)}else q.setDate(q.getDate()+1),q.setHours(0,0,0,0);r||(w.dateStart=z,w.dateEnd=q),a._getCellRanges(a._getEventVerticalCellObjs(w),"vertical").forEach(Y=>{const X=Y.fromIndex,ae=Y.toIndex;for(let Q=X;Q<=ae;Q++){const ie=p[Q],te=ie.group;if(te&&!a._isEventPartOfGroup(w,te)||r&&(F&&F.date.getTime()===ie.date.getTime()||t.some(l=>l.horizontal===V&&l.vertical===ie)))continue;const E={horizontal:V,vertical:ie};C&&H!==k||Q!==X?C&&H!==B||Q!==ae||(L===void 0&&(L=a._getEventScaleIndex(e,C?V:ie).end),E.scaleIndex=L):(x===void 0&&(x=a._getEventScaleIndex(e,C?V:ie).start),E.scaleIndex=x),F=ie,v.push(E),t.push(E)}})}}}),v}_getEventTimelineCellsMonth(e){const t=this,n=new Date(e.dateStart),a=new Date(e.dateEnd),i=t._timelineCells.horizontal,r=t._timelineCells.vertical,o=Object.assign({},e);let d=[];return t._getCellRanges(t._getEventVerticalCellObjs(e),"vertical").forEach(f=>{const p=f.fromIndex,v=f.toIndex;for(let w=p;w<=v;w++){const C=r[w],x=new Date(C.date),L=new Date(C.date),A=C.group;A&&!t._isEventPartOfGroup(e,A)||(L.setDate(L.getDate()+6),L.setHours(23,59,59,999),x.setHours(0,0,0,0),o.dateStart=new Date(Math.max(n.getTime(),x.getTime())),o.dateEnd=new Date(Math.min(a.getTime(),L.getTime())),t._getCellRanges(t._getEventHorizontallCellObjs(o)).forEach(k=>{const B=k.fromIndex,H=k.toIndex;for(let V=B;V<=H;V++){const z=i[V],N=C.group;if(N&&!t._isEventPartOfGroup(e,N))continue;const F={horizontal:z,vertical:C};w!==p&&w!==v||(F.scaleIndex=0),d.push(F)}}))}}),d}_getEventTimelineCellRanges(e,t){const n=this,a=n.viewType;if(!e.length)return[];if(a==="agenda")return e.map(i=>[i]);{let i,r=[],o=[];const d=["day","week"].indexOf(a)>-1&&!t;for(let f=0;f<e.length;f++){const p=e[f];if(!i){r.push(i=p);continue}const v=p.horizontal,w=p.vertical,C=i.horizontal,x=i.vertical,L=n._getCellOffset(p,w.scaleIndex===void 0),A=n._getCellOffset(i,w.scaleIndex===void 0);!d&&(w!==x||A.right!==L.left)||d&&(v!==C||A.bottom!==L.top)?(o.push(r),r=[p]):r.push(p),i=p}return r.length&&o.push(r),o}}_getCellSize(e){const t=this,n=t.viewType;let a,i;if(e){let f=e;if(e instanceof HTMLElement&&(f=e.$?e.$.cellObj:void 0),!f)return{width:0,height:0};a=f.vertical,i=f.horizontal}else{const f=t._timelineCells,p=f.vertical,v=f.horizontal;if(!p.length||!v.length)return{width:0,height:0};a=p[0],i=v[0]}const r=t._getCellsScaleCount();let o,d;switch(n){case"agenda":case"month":case"timelineMonth":o=i.width,d=a.height;break;case"day":case"week":o=i.width,d=a.height/r;break;case"timelineDay":case"timelineWeek":o=i.width/r,d=a.height}return{width:o,height:d}}_getCellOffset(e,t){const n=this.viewType;let a,i,r=e;if(!e)return{left:0,top:0};if(e instanceof HTMLElement&&(r=e.$?e.$.cellObj:void 0),!r)return{left:0,top:0};a=r.vertical,i=r.horizontal;const o=this._getCellsScaleCount(),d=t||r.allDay?0:r.scaleIndex||0;let f,p;switch(n){case"agenda":case"month":case"timelineMonth":f=i.left,p=a.top;break;case"day":case"week":f=i.left,p=parseFloat((a.top+a.height/o*d).toFixed(2));break;case"timelineDay":case"timelineWeek":f=parseFloat((i.left+i.width/o*d).toFixed(2)),p=a.top}return{left:f,right:parseFloat((f+i.width).toFixed(2)),top:p,bottom:parseFloat((p+a.height).toFixed(2))}}_getCellDateRange(e){const t=this;let n=e;if(e instanceof HTMLElement&&(n=e&&e.$?e.$.cellObj:void 0),!n)return;const a=t.viewType;let i=new Date(n.time?n.time:t._getCellTime(n)),r=new Date(i);switch(a){case"agenda":case"month":case"timelineMonth":r.setHours(23,59,59,999);break;case"week":case"day":case"timelineWeek":case"timelineDay":n.allDay?r.setHours(23,59,59,999):r=new Date(r.getTime()+60/t._getCellsScaleCount()*60*1e3)}return{dateStart:i,dateEnd:r}}_setEventCellContent(e,t){const n=this,a=t.eventObj;if(!e||!a)return;const i=t.isDayOrWeekView,r=t.isAllDayEvent;let o=e.querySelector(".smart-scheduler-event-content");if(e.$&&e.$.events){const p=e.$.events;if(o||(e.innerHTML='<div class="smart-scheduler-event-content"><div></div></div>',o=e.firstElementChild),n.eventCollectorTemplate)n._applyTemplate("eventCollectorTemplate",o,p.map(v=>n._cloneObject(v)));else{const v=n.eventRenderMode,w=n.$.timeline.hasAttribute("mobile"),C=p.length+(w||v==="modern"&&i&&!r?"":" "+n.localize("collector"));o.firstElementChild.textContent=C}return}o||(e.innerHTML='<div class="smart-scheduler-event-content"></div><div class="smart-scheduler-event-button"></div>',o=e.firstElementChild);const d=e.querySelector(".smart-scheduler-event-button");let f;if(d&&(d.tabIndex=t.tabIndex),t.isTooltipEvent&&n.eventTooltipTemplate)n._applyTemplate("eventTooltipTemplate",o,n._cloneObject(a));else if(n.eventTemplate)n._applyTemplate("eventTemplate",o,n._cloneObject(a));else{const p=t.isMonthView!==void 0?t.isMonthView:["timelineMonth","month"].indexOf(n.viewType)>-1;let v=o.querySelector(".smart-scheduler-event-time"),w=a.label;f=o.querySelector(".smart-scheduler-event-label");const C=n.locale,x=a.dateStart,L=a.dateEnd;let A;if(t.isAllDayEvent||p){const k="short",B=n.dayFormat;if(x.getFullYear()===L.getFullYear()&&x.getMonth()===L.getMonth()&&x.getDate()===L.getDate())A=new Intl.DateTimeFormat(C,{day:B,month:k}).format(x);else{const H=new Intl.DateTimeFormat(C,{day:B,month:k});A=H.format(x)+" - "+H.format(L),a.allDay&&x.toString()===L.toString()&&(A=H.format(x))}}else{const k=new Intl.DateTimeFormat(C,{hour:n.hourFormat,minute:n.minuteFormat});if(A=k.format(x)+" - "+k.format(L),a.allDay){const B="short",H=n.dayFormat;A=new Intl.DateTimeFormat(C,{day:H,month:B}).format(x)}}if(v&&f||(a.label+""?o.innerHTML=`
                            <div role="presentation"><label class="smart-scheduler-event-label"></label></div>
                            <div role="presentation"><label class="smart-scheduler-event-time"></label></div>`:o.innerHTML='<div role="presentation"><label class="smart-scheduler-event-time"></label></div>',f=o.querySelector(".smart-scheduler-event-label"),v=o.querySelector(".smart-scheduler-event-time")),f&&(f.textContent=w),v&&(v.textContent=A,f&&p&&t.eventSize<45?o.setAttribute("single-line",""):o.removeAttribute("single-line")),t.isTooltipEvent&&a.conference&&/^(ftp|http|https):\/\/[^ "]+$/.test(a.conference)){const k=document.createElement("div");k.innerHTML=`<a target="_blank" href="${a.conference}" class="info">${n.localize("join")}</a>`,k.classList.add("meeting");const B=a.conference;B.startsWith("https://zoom.us/")?k.innerHTML=`<a target="_blank" href="${a.conference}" class="info">${n.localize("joinWith",{value:"Zoom"})}</a>`:B.startsWith("https://meet.google.com/")?k.innerHTML=`<a target="_blank" href="${a.conference}" class="info">${n.localize("joinWith",{value:"Google Meet"})}</a>`:B.startsWith("https://teams.microsoft.com/")&&(k.innerHTML=`<a target="_blank" href="${a.conference}" class="info">${n.localize("joinWith",{value:"Microsoft Teams"})}</a>`),o.appendChild(k)}}}_createTimeline(){const e=this,t=e.resizeTrigger,n=e.scrollTop,a=e.scrollLeft,i=e.$.timeline;let r,o;t&&(r=t.offsetWidth,o=t.offsetHeight,t.style.display="none"),delete e._selectedCellObj,delete e._eventsBetween,e._createTimelineHeader(),e._refreshTimelineContentCells(),e._handleMenuAria(),i.classList.contains("no-agenda")?i.setAttribute("agenda-placeholder",e.localize("agendaPlaceholder")):i.removeAttribute("agenda-placeholder"),e.scrollTop=n,e.scrollLeft=a,t&&(t.style.display=null,r===t.offsetWidth&&o===t.offsetHeight||(e._noResizeHandler=!0)),e._refreshEvents(),e._checkNotifications()}_createTimelineHeader(){const e=this,t=e.$.timelineContent;if(t.style.width=t.style.height=null,Smart.Utilities.Core.Browser.Chrome){const n=e.$.timelineHeaderVertical;n.style.display="none",n.offsetHeight,n.style.display=null}e._validateEventDateRange(),e._createTimelineCellsObj(),e._createTimelineHeaderCells("horizontal"),e._createTimelineHeaderCells("vertical"),e._refreshTimelineHeaderCells(),e._refreshTimelineAllDayCells(),e._refresh()}_validateEventDateRange(e){const t=this.viewType;if(["month","agenda"].indexOf(t.toLowerCase())>-1)return;const n=t==="day"||t==="week",a=e?[e]:this._events;for(let i=0;i<a.length;i++){const r=a[i],o=r.dateStart,d=r.dateEnd;n&&d.getTime()-o.getTime()>=864e5&&(r.allDay=!0),r.allDay&&(r.dateStart.setHours(0,0,0,0),r.dateEnd.setHours(23,59,59,999))}}_handleMenuAria(){const e=this,t=e.$.currentDate,n=e.$.viewItemsButton,a=e.$.tooltip;t.setAttribute("aria-haspopup",!0),n.setAttribute("aria-controls",a.id),n.setAttribute("aria-haspopup",!0)}_handleTimelineGroupHeader(e){const t=this,n=t._timelineCells.groups;let a=t.$.groupsContainer;if(!n||!n.length||t.viewType==="agenda"&&!Object.keys(e.vertical).length)return void(a&&a.remove());a||(a=document.createElement("div"),a.classList.add("smart-scheduler-groups-container"),a.innerHTML=`
                        <div class="smart-scheduler-view-groups-label-container" role="presentation"></div>
                        <div class="smart-scheduler-view-groups-content" role="presentation">
                            <div class="smart-scheduler-view-header-groups-container" role="presentation"></div>
                        </div>`,t.$.groupsContainer=a);const i=t.view,r=t.views.find(d=>d.value&&d.value===i)||{},o=(r&&r.groupOrientation?r.groupOrientation:t.groupOrientation)!=="vertical"?t.$.timelineHeaderHorizontal:t.$.timelineHeaderVertical;o.contains(a)||o.insertBefore(a,o.firstElementChild)}_handleTimeZoneHeader(e){const t=this;e||(e="horizontal",t._handleTimeZoneHeader("vertical"));const n=t.viewType.toLowerCase(),a=n.indexOf("timeline")>-1,i=(e==="vertical"?t.$.timelineHeaderVerticalContent:t.$.timelineHeaderHorizontalContent).querySelector(".smart-scheduler-view-time"),r=i.children,o=t.$.timelineViewCellsLabelContainer,d=!a&&n!=="agenda"&&e==="vertical"||e==="horizontal"&&a;let f=t.timeZones.slice(0);const p=t.$.viewDetailsLabel,v=t.$.timelineViewAllDay,w=t.$.timelineTimeZoneLabelContainer;if(w.remove(),p&&p.remove(),t._recycleContainerCells({fragment:i,cellsNeeded:1+(d&&n.indexOf("month")<0?f.length:0),className:"smart-scheduler-cells"}),f.push(t.timeZone),(a&&d||!a)&&t._recycleContainerCells({fragment:o,cellsNeeded:!a&&n.indexOf("month")<0&&n!=="agenda"?f.length:0,className:"smart-scheduler-time-zone"}),v.offsetHeight&&o.offsetHeight&&(t.$.timelineViewAllDaylabel.style.maxWidth=o.offsetWidth+"px"),d){const C=w.parentElement;t._recycleContainerCells({fragment:w,cellsNeeded:r.length===1?0:r.length,className:"smart-scheduler-time-zone"}),r.length&&C&&C.appendChild(w)}}_createTimelineHeaderCells(e="vertical"){const t=this,n=t.viewType.toLowerCase(),a=n.indexOf("timeline")>-1,i=e==="vertical"?t.$.timelineHeaderVerticalContent:t.$.timelineHeaderHorizontalContent,r=i.querySelector(".smart-scheduler-view-time"),o=i.querySelector(".smart-scheduler-view-details"),d=r.children,f=!a&&n!=="agenda"&&e==="vertical"||e==="horizontal"&&a;let p=t.timeZones.slice(0);const v=t._getTimelineVisibleCellsCount(e),w=t.timeZone,C=d.length;p.push(t.timeZone);for(let x=0;x<C;x++){const L=d[x],A=p[x];L.timeZone=C===1?w:A.id||A,t._recycleContainerCells({fragment:L,cellsNeeded:v})}if(o&&t._recycleContainerCells({fragment:o,cellsNeeded:t._getTimelineVisibleCellsCount({orientation:e,type:"details"})}),t._createTimelineHeaderGroupCells(e),f){const x=t.$.timelineTimeZoneLabelContainer,L=t.$.timelineViewCellsLabelContainer;x.remove();const A=t.$.timelineAllDayLabelContainer;let k=t.$.viewDetailsLabel;if(a&&n.indexOf("week")>-1&&o?(k||(k=document.createElement("div"),k.classList.add("smart-scheduler-view-details-label"),t.$.viewDetailsLabel=k),k.parentElement||L.appendChild(k)):k&&k.parentElement&&k.remove(),!x.children.length)return;!a&&A.offsetHeight?A.appendChild(x):L.offsetHeight&&L.appendChild(x)}}_createTimelineHeaderGroupCells(e){const t=this,n=t.view,a=t.viewType,i=a.indexOf("timeline")>-1,r=t.views.find(L=>L.value&&L.value===n)||{},o=t._timelineCells,d=o.groups,f=r&&r.groupOrientation?r.groupOrientation:t.groupOrientation;let p=t.$.groupsContainer;if(e==="vertical"&&f!=="vertical"||(e==="horizontal"&&a!=="day"||!e)&&f==="vertical"||(p&&p.remove(),!d||!d.length||a==="agenda"&&!o.vertical.length))return;const v=t._timelineCells.groups,w=p.querySelector(".smart-scheduler-view-header-groups-container"),C=w.children;t._recycleContainerCells({fragment:w,cellsNeeded:v.length,className:"smart-scheduler-cell-container",role:"row"});for(let L=0;L<C.length;L++)t._recycleContainerCells({fragment:C[L],cellsNeeded:t._getTimelineVisibleCellsCount({orientation:e,type:"groups",resource:v[L].resource})});let x=e==="vertical"||a.toLowerCase().indexOf("month")>-1?0:t.timeZones.length+(a==="month"?0:1);if(i&&(x=x>1?1:0),a==="agenda"&&(x=f!=="vertical"&&t._timelineCells.vertical.length?1:0),t._recycleContainerCells({fragment:p.querySelector(".smart-scheduler-view-groups-label-container"),cellsNeeded:x,className:"smart-scheduler-time-zone"}),!p.parentElement&&e===f){const L=e==="horizontal"?t.$.timelineHeaderHorizontal:t.$.timelineHeaderVertical;L.insertBefore(p,L.firstElementChild)}}_recycleContainerCells(e){const t=this,n=e.fragment;if(!n)return;const a=n.children,i=n.children.length,r=e.cellsNeeded,o=e.className,d=e.role,f=e.isBackwards?"lastElementChild":"firstElementChild";if(i>r)for(;a.length&&a.length!==r;)n.removeChild(n[f]);else i<r&&n.appendChild(t._createCells(r-i,o,d))}_createTimelineCellsObj(){const e=this,t=e.viewType,n=t.indexOf("timeline")>-1,a=e._getCellsCount(),i=e._getCellsScaleCount(),r=window.getComputedStyle(e);e.timeZones.length>0&&n&&t!=="timelineMonth"?e.$.timeline.setAttribute("show-vertical-header",""):e.$.timeline.removeAttribute("show-vertical-header");let o=Math.max(parseFloat(r.getPropertyValue("--smart-scheduler-timeline-cell-height"))||0,parseFloat(r.getPropertyValue("--smart-scheduler-timeline-cell-min-height")||0)),d=Math.max(parseFloat(r.getPropertyValue("--smart-scheduler-timeline-cell-width"))||0,parseFloat(r.getPropertyValue("--smart-scheduler-timeline-cell-min-width")||0));e._eventSize=parseFloat(r.getPropertyValue("--smart-scheduler-event-size"))||0,e._allDayCellSize=parseFloat(r.getPropertyValue("--smart-scheduler-timeline-header-all-day-cells-size"))||e.$.timelineViewAllDay.offsetHeight,e.__allDayCellSize||(e.__allDayCellSize=e._allDayCellSize),e._eventCollectorSize=parseFloat(r.getPropertyValue("--smart-scheduler-event-collector-size"))||0,e._monthViewNumberSize=t!=="month"?0:parseFloat(r.getPropertyValue("--smart-scheduler-month-view-number-size"))||0,t.indexOf("timeline")>-1?d*=i:o*=i,e._timelineCells={},e._scrollViewSize={},e.groups.length&&(e._timelineCells.groups=e._getTimelineCellsObjGroups()),e._handleTimelineGroupHeader(a),e._handleTimeZoneHeader(),e._refresh(),e._handleTimelineContentSize(a,o,"height");let f=e.$.timelineContainer.offsetHeight;e._handleTimelineContentSize(a,d,"width"),f!==(f=e.$.timelineContainer.offsetHeight)&&e._handleTimelineContentSize(a,o,"height"),e._scrollViewSize.height=f,e._scrollViewSize.width=e.$.timelineContainer.offsetWidth,e._timelineCells.horizontal=e._getTimelineCellsObjHorizontal(a.horizontal,d),e._timelineCells.vertical=e._getTimelineCellsObjVertical(a.vertical,o),t==="timelineWeek"&&(e._timelineCells.details=e._getTimelineCellsObjDetails())}_getResourceGroups(){const e=this,t=e.groups,n=e.resources;let a,i=[],r=[];if(!t.length||!n.length)return r;for(let o=0;o<t.length;o++){const d=n.find(p=>p.value===t[o]);if(!d||!d.dataSource.length)continue;const f=e._getResourceData(d);if(Object.keys(f).length){const p=Object.values(f),v=a?a.cells.length:1;let w=[];e._applyResourceSorting(d,p);for(let C=0;C<v;C++)for(let x=0;x<p.length;x++){const L={resource:d.value,label:p[x].label,group:a?Object.assign({},a.cells[C].group):{},groupSeparator:!0};L.group[d.value]=p[x].id,w.push(L)}i.push(a={resource:d.value,groups:p,cells:w})}}return i}_getResourceData(e){const t=e?e.dataSource:void 0;if(!t||!t.length)return;let n={};for(let a=0;a<t.length;a++){const i=t[a];n[i.id]={id:i.id,label:i.label,color:i.color}}return n}_applyResourceSorting(e,t){const n=this,a=e.sortFunction?e.sortFunction:n.sortFunction,i=e.sortBy?e.sortBy:n.sortBy,r=e.sortOrder?e.sortOrder:n.sortOrder;if(!i)return;const o=(d,f)=>{const p=d[i],v=f[i];return typeof p=="string"&&typeof v=="string"?p.toLowerCase().localeCompare(v.toLowerCase()):typeof p=="boolean"&&typeof v=="boolean"?p===v:p instanceof Date&&v instanceof Date?p.getTime()-v.getTime():p-v};switch(r){case"asc":case"ascending":t.sort((d,f)=>o(d,f));break;case"desc":case"descending":t.sort((d,f)=>o(f,d));break;case"custom":typeof a=="function"&&t.sort(a);break;default:return}}_getTimelineCellsObjGroups(){const e=this,t=e._getResourceGroups();let n=[];if(!t.length)return n;for(let a=t.length-1;a>-1;a--){const i=t[a];if(n.length){const r=n.slice(0);n=[],i.groups.forEach(o=>{r.forEach(d=>{const f=Object.assign({},d);f.group=Object.assign({},f.group),f.group[i.resource]=o.id,n.push(f)})})}else i.groups.forEach(r=>{const o={label:r.label,color:r.color,group:{},resource:i.resource,groupSeparator:!0};o.group[i.resource]=r.id,n.push(o)})}if(n.length){const a=e.view,i=e.views.find(o=>o.value&&o.value===a)||{},r=i&&i.groupOrientation?i.groupOrientation:e.groupOrientation;e.$.timeline.setAttribute("show-group-header",r)}else e.$.timeline.removeAttribute("show-group-header");return t[t.length-1].cells=n,t}_getTimelineCellsObjHorizontal(e,t){const n=this,a=n.view,i=n.viewType,r=a.indexOf("timeline")>-1,o=n.views.find(w=>w.value&&w.value===a)||{},d=new Date(n.dateCurrent);r?d.setHours(n.hourStart,0,0,0):d.setHours(0,0,0,0);const f=n.firstDayOfWeek;let p,v;switch(i){case"week":case"timelineWeek":n.viewStartDay!=="dateCurrent"&&d.setDate(d.getDate()-d.getDay()+f),v=n.hideWeekend||o.hideWeekend,p=n.hideNonworkingWeekdays||o.hideNonworkingWeekdays;break;case"month":case"timelineMonth":d.setDate(1),r||n.viewStartDay!=="dateCurrent"&&d.setDate(d.getDate()-d.getDay()+f),d.setHours(0,0,0,0),v=n.hideWeekend||o.hideWeekend,p=n.hideNonworkingWeekdays||o.hideNonworkingWeekdays}return n._getCellsObject({orientation:"horizontal",cells:[],cellSize:t,cellCount:e,date:d,hideWeekend:v,hideNonworkingWeekdays:p,hourStart:n.hourStart,hourEnd:n.hourEnd,viewSize:n.$.timelineContent.offsetWidth,viewDetails:o,offset:0})}_getCellsObject(e){const t=this,n=t.view,a=t.viewType,i=e.viewDetails||t.views.find(A=>A.value&&A.value===n)||{},r=t._timelineCells.groups,o=i&&i.groupOrientation?i.groupOrientation:t.groupOrientation,d=e.cellCount,f=e.viewSize,p=e.orientation,v=e.cells;let w,C=e.cellSize,[x,L]=p==="horizontal"?["width","left"]:["height","top"];if(e.restrictedDates=t.restrictedDates,e.restrictedHours=t.restrictedHours,r&&r.length&&(w=r[r.length-1].cells),!w||!w.length||p==="horizontal"&&o==="vertical"||p==="vertical"&&o!=="vertical")d*C<f&&(C=f/d),e.cellSize=parseFloat(C.toFixed(2)),a==="agenda"&&w&&w.length&&(e.groups=w),t._createCellObjects(e);else{const A=w.length;if(d===1){let k=f/A;k>=C&&(C=k)}else{const k=d*A;k*C<f&&(C=f/k)}if(e.cellSize=parseFloat(C.toFixed(2)),t.groupByDate&&p===o)e.groupHeader=r[r.length-1],t._createCellObjects(e);else{for(let k=0;k<w.length;k++){const B=w[k];B[L]=e.offset,e.size=0,e.group=B.group,t._createCellObjects(e),B[x]=e.size||0,t._refreshGroupHeaderCells(p,B)}v.length||t._createCellObjects(e)}}return v}_refreshGroupHeaderCells(e="horizontal",t){const n=t.group,a=this._timelineCells.groups;if(!a)return;let i=t.date,r=i?"cellsByDate":"cells";const[o,d]=e==="horizontal"?["width","left"]:["height","top"];a.forEach(f=>{if(f.resource!==t.resource){const p=f[r];for(let v=0;v<p.length;v++){const w=p[v],C=w.group;i&&i.getTime()!==w.date.getTime()||Object.keys(C).every(x=>C[x]===n[x])&&(w[o]=(w[o]===void 0?0:w[o])+t[o],w[d]===void 0&&(w[d]=t[d]))}}})}_createCellObjects(e){const t=this;e.orientation==="horizontal"?t._createCellsObjectHorizontal(e):t._createCellsObjectVertical(e)}_createCellsObjectHorizontal(e){if(!e)return[];const t=this,n=t.viewType,a=n.indexOf("timeline")>-1,i=e.cells,r=new Date(e.date),o=e.cellSize,d=e.cellCount,f=e.hideWeekend,p=e.hideNonworkingWeekdays,v=e.hourStart,w=e.hourEnd,C=e.group,x=e.groupHeader,L=e.viewDetails,A=["timelineDay","timelineWeek"].indexOf(n)>-1;let k,B,H,V,z,N=e.offset,F=0;n==="agenda"?B=H=V=z=[]:(B=t.nonworkingDays,H=t.nonworkingHours,V=e.restrictedDates,z=e.restrictedHours),A?r.setHours(v):r.setHours(0,0,0,0);for(let q=0;q<d;q++){if(k={width:o},p){let X=0;const ae=r.getHours();for(;X<7&&B.indexOf(r.getDay())>-1;)r.setDate(r.getDate()+1),X++;r.setHours(ae)}if(f&&[0,6].indexOf(r.getDay())>-1){const X=r.getHours();r.setDate(r.getDate()+1),r.setHours(X)}k.restricted=t._isDateRestricted(r,V),!k.restricted&&a&&(k.restricted=t._isHourRestricted(r,z));const Y=t._isSpecialDate(r,t.specialDates);if(Y&&(k.specialDate=Y),t.restricted)for(let X=0;X<t.restricted.length;X++){const ae=t.restricted[X];t._isDateRestricted(r,[ae.date])&&ae.hours.length===0&&(k.restricted=!0)}if(n==="agenda"?k.noLabel=!0:k.weekend=r.getDay()===0||r.getDay()===6,k.nonworking=B.indexOf(r.getDay())>-1,A&&(k.nonworking=k.nonworking||H.indexOf(r.getHours())>-1),x?(e.offset=N,e.date=r,t._createCellsObjByDate(k,e),N=e.offset):(C&&(k.group=C),k.left=N,k.date=new Date(r),i.push(k),N=parseFloat((N+o).toFixed(2))),!a||n==="timelineMonth"||n==="timelineWeek"&&L&&L.hideHours)r.setDate(r.getDate()+1),r.setHours(0,0,0,0);else{const X=r.getHours();n==="timelineWeek"&&X===w?(r.setDate(r.getDate()+1),r.setHours(v)):(r.setHours(r.getHours()+1),X===r.getHours()&&r.setHours(r.getHours()+2))}F+=o}k&&C&&(k.groupSeparator=!0),e.offset=N,e.size=F}_getTimelineCellsObjVertical(e,t){const n=this;return n._getCellsObject({orientation:"vertical",cells:[],date:new Date(n.dateCurrent),cellSize:t,cellCount:e,viewSize:n._scrollViewSize.height,offset:0})}_isEventPartOfGroup(e,t){if(e)return t=t.group||t,Object.keys(t).every(n=>e[n]!==void 0&&e[n]===t[n])}_createCellsObjByDate(e,t){const n=this,a=t.groupHeader;if(!a)return;const[i,r]=t.orientation==="horizontal"?["width","left"]:["height","top"],o=a.cells,d=t.date,f=e[i],p=t.cells,v=t.agendaItem;let w=t.offset;n._createGroupCellsByDate(t,v);const C=a.cellsByDate,x=o.length,L=x%2==0?"center":"offset";for(let A=0;A<x;A++){const k=o[A],B=k.group;if(v&&!n._isEventPartOfGroup(v,B))continue;const H=Object.assign({},e),V=C.find(z=>z.date.getTime()===d.getTime()&&Object.keys(B).every(N=>B[N]===z.group[N]));V&&(V[r]=V[r]===void 0?w:V[r],V[i]=H[i]+(v&&V[i]||0),H[r]=w,H.date=new Date(d),H.group=k.group,v||(A===x-1&&(H.groupSeparator=!0),A===Math.round(x/2)&&(H.showLabel=L)),n._refreshGroupHeaderCells(t.orientation,V),p.push(H),w=parseFloat((w+f).toFixed(2)))}t.offset=w}_createGroupCellsByDate(e,t){const n=this,a=e.date,i=n._timelineCells.groups;if(a)for(let r=0;r<i.length;r++){const o=i[r];let d=o.cellsByDate;d||(d=o.cellsByDate=[]);const f=o.cells;for(let p=0;p<f.length;p++){let v;if(t){if(!n._isEventPartOfGroup(t,f[p]))continue;v=d.find(w=>w.date.getTime()===a.getTime()&&w.group[w.resource]===t[w.resource])}v=v||Object.assign({},f[p]),v.date||(v.date=new Date(a)),v.separator=!!e.separator,v.groupSeparator=t?!v.separator:p===f.length-1,d.includes(v)||d.push(v)}}}_createCellsObjectVertical(e){const t=this;if(!e)return;const n=t.firstDayOfWeek,a=t.viewType,i=a.indexOf("timeline")>-1,r=e.cells,o=new Date(e.date),d=e.cellCount,f=e.viewSize,p=t.nonworkingHours,v=e.group,w=e.groups,C=e.groupHeader;let x,L=e.offset,A=0,k=e.cellSize;if(a==="agenda"){const B=Object.keys(d).sort((H,V)=>parseInt(H)-parseInt(V));for(let H of B){let V=d[H],z=k;if(v)V=V.filter(q=>t._isEventPartOfGroup(q,v));else if(w)V=t._getAgendaGroupEvents(V);else if(C){const q=C.cells;let Y=V.slice(0);V=[];for(let X=0;X<q.length;X++)V.push(...Y.filter(ae=>t._isEventPartOfGroup(ae,q[X])))}const N=V.length,F=new Date(parseInt(H));N*z<f&&(z=f/N),z=parseFloat(k.toFixed(2));for(let q=0;q<N;q++){const Y=F;x={height:z,separator:q===N-1,weekend:Y.getDay()===0||Y.getDay()===6,nonworking:t.nonworkingDays.indexOf(Y.getDay())>-1},q>0&&(x.noLabel=!0),C?(e.offset=L,e.date=Y,e.agendaItem=V[q],e.separator=x.separator,t._createCellsObjByDate(x,e),L=e.offset):(v&&(x.group=v),x.top=L,x.date=Y,r.push(x),L=parseFloat((L+z).toFixed(2))),A+=z}}t.$.timeline.classList[r.length?"remove":"add"]("no-agenda")}else if(i)for(let B=0;B<d;B++)o.setHours(0,0,0,0),x={height:k,weekend:o.getDay()===0||o.getDay()===6},C?(e.offset=L,e.date=o,t._createCellsObjByDate(x,e),L=e.offset):(v&&(x.group=v),x.top=L,x.date=new Date(o),r.push(x),L=parseFloat((L+k).toFixed(2))),A+=k;else{let B;a==="month"?(o.setDate(1),o.setDate(o.getDate()-(o.getDay()-n+7)%7),o.setHours(0,0,0,0)):(o.setHours(t.hourStart,0,0,0),B=e.restrictedHours);for(let H=0;H<d;H++)x={height:k},C?(e.offset=L,e.date=o,t._createCellsObjByDate(x,e),L=e.offset):(v&&(x.group=v),x.top=L,x.date=new Date(o),r.push(x),L=parseFloat((L+k).toFixed(2))),A+=k,a==="month"?o.setDate(o.getDate()+7):(x.nonworking=p.indexOf(o.getHours())>-1,o.setHours(o.getHours()+1),B&&(x.restricted=t._isHourRestricted(o,B)))}x&&v&&(x.groupSeparator=!0),e.offset=L,e.size=A}_getTimelineCellsObjDetails(){const e=this,t=e.view,n=e.views.find(p=>p.value&&p.value===t);if(e.viewType!=="timelineWeek"||n&&n.hideHours)return[];function a(p){let v="";if(!r&&p)for(const w in p)v+=w+p[w];return v}const i=e.hourStart,r=e.groupByDate,o=e._timelineCells.horizontal;let d,f={};for(let p=0;p<o.length;p++){const v=o[p],w=v.date,C=w.getDate()+a(v.group);if(d=f[C],d||(d=f[C]={width:0,left:v.left}),d.width+=v.width,v.groupSeparator&&(d.groupSeparator=v.groupSeparator),!d.date){const x=new Date(w);x.setHours(i,0,0,0),d.date=x}}return f=Object.values(f).sort((p,v)=>p.left-v.left),f}_getAgendaGroupEvents(e){const t=this,n=t._timelineCells.groups;let a;n&&n.length&&(a=n[n.length-1].cells);const i={};let r=0;for(let o=0;o<a.length;o++)i[o]=e.filter(d=>t._isEventPartOfGroup(d,a[o])),i[o].length>i[r].length&&(r=o);return i[r]}_handleTimelineContentSize(e,t,n){const a=this,i=a.view,r=a.viewType,o=a._timelineCells.groups,d=a.views.find(L=>L.value&&L.value===i)||{},f=d&&d.groupOrientation?d.groupOrientation:a.groupOrientation,p=r==="agenda"&&Object.keys(e.vertical).length?a.$.timelineHeaderVertical.offsetWidth:Math.max(a.$.timelineViewCellsLabelContainer.offsetWidth,a.$.timelineViewAllDaylabel.offsetWidth),v=n==="width"?Math.max(0,a.$.timeline.offsetWidth-p):a.$.timelineContainer.offsetHeight;let w=0,C=[],x=e[n==="width"?"horizontal":"vertical"];if(o&&o.length&&(C=o[o.length-1].cells),r==="agenda"&&n==="height")for(let L in x){let A=x[L];C.length&&(A=f==="horizontal"?a._getAgendaGroupEvents(A):A.filter(k=>C.some(B=>a._isEventPartOfGroup(k,B)))),w+=A.length*t}else{let L=1;a.groups.length&&(f!=="vertical"&&n==="width"||f==="vertical"&&n==="height")&&(L=Math.max(C.length,1)),x===1?v<t?w=t*L:(w=v/L,w<t&&(w=t*L)):(x*=L,x*t<v&&(t=v/x),w=x*(t=parseFloat(t.toFixed(2))))}w=Math.max(w,v,t),a.$.timelineContent.style[n]=w===v?"":w+"px",a._refresh()}_createCells(e,t="smart-scheduler-cell",n="gridcell"){let a,i=document.createDocumentFragment();Array.isArray(t)||(t=[t]);for(let r=0;r<e;r++)a=document.createElement("div"),t.forEach(o=>a.classList.add(o)),a.setAttribute("role",n),i.appendChild(a);return i}_refreshTimelineContentCells(){const e=this,t=e._timelineCells;if(!t||!t.vertical||!t.horizontal)return;const n=e.$.timelineContainer,a=e.$.timelineCellsContainer,i=e.$.timelineContent,r=e.view,o=e.viewType,d=e.views.find(w=>w.value&&w.value===r)||{},f=d&&d.groupOrientation?d.groupOrientation:e.groupOrientation,p=e._getVisibleCellObj();if(!p)return;const v={viewType:o,isTimelineView:o.indexOf("timeline")>-1,visibleCellObjs:p,groupOrientation:f,locale:e.locale,timeZone:e.timeZone,isRightToLeft:e.rightToLeft,dateCurrent:e.dateCurrent,restrictedDates:e.restrictedDates,restrictedHours:e.restrictedHours};a.remove(),e._recycleContainerCells({fragment:a,cellsNeeded:p[e.viewType.indexOf("timeline")>-1?"horizontal":"vertical"].length,className:"smart-scheduler-cell-container",role:"row"}),e._refreshContainerCells(a,v),i.insertBefore(a,i.firstElementChild),n.scrollTop=e.scrollTop,n.scrollLeft=e._getScrollLeft(e.scrollLeft),e._setCurrentTimeIndicators()}_getVisibleCellObj(){const e=this,t=e._timelineCells;if(!t||!t.vertical||!t.horizontal)return;const n=t.vertical,a=t.horizontal,[i,r]=[e.scrollTop,e.scrollLeft],[o,d]=[i+e._scrollViewSize.height,r+e._scrollViewSize.width];let[f,p]=[[],[]];for(let v=0;v<n.length;v++){const w=n[v];w.top+w.height>=i&&w.top<=o&&f.push(w)}for(let v=0;v<a.length;v++){const w=a[v];w.left+w.width>=r&&w.left<=d&&p.push(w)}return{vertical:f,horizontal:p}}_refreshContainerCells(e,t){const n=this,a=t.viewType,i=t.groupOrientation,r=t.isTimelineView,o=t.visibleCellObjs,d=e.children,f=e===n.$.timelineCellsContainer,p=t.isRightToLeft,v=t.dateCurrent,w=t.restrictedDates,C=t.restrictedHours,x=new Date;let L,A,k,B,H,V,z;if(f)r?(k=o.horizontal,[H,V,z]=["horizontal","left","width"]):(k=o.vertical,[H,V,z]=["vertical","top","height"]),L=o.vertical,B=n._getCellsScaleCount();else if(r?(L=o.horizontal,k=o.vertical,[H,V,z]=["vertical","top","height"]):(L=o.vertical,k=o.horizontal,[H,V,z]=["horizontal","left","width"]),n._selectedCellObj){const N=n._selectedCellObj.from;if(!N.allDay){const F=n._selectedCellObj.to;A={lastTime:N.time,fromTime:Math.min(N.time,F.time),toTime:Math.max(N.time,F.time),group:N[i]?N[i].group:void 0}}}for(let N=0;N<d.length;N++){const F=d[N],q=k[N];let Y;if(q.nonworking?F.setAttribute("nonworking",""):F.removeAttribute("nonworking"),q.weekend?F.setAttribute("weekend",""):F.removeAttribute("weekend"),q.separator?F.setAttribute("separator",""):F.removeAttribute("separator"),Y=q.groupSeparator,f)r||i!=="vertical"||(Y=L[N].groupSeparator),Y&&(r&&i!=="vertical"||!r&&i==="vertical")?F.setAttribute("group-separator",""):F.removeAttribute("group-separator"),F.$={cellObj:q},n._refreshScaleCells(F,t,B);else{F.$||(F.$={cellObj:{}});const X=F.$.cellObj;X.scaleIndex=e._scaleIndex,r?(X.horizontal=e.$.cellObj,X.vertical=q):(X.horizontal=q,X.vertical=e.$.cellObj);const ae=X[i]?X[i].group:void 0;if(ae)for(const ie in ae)F.setAttribute(ie,ae[ie]||""),F.setAttribute("group-value",ae[ie]||"");Y&&(!r&&i!=="vertical"||r&&i==="vertical")?F.setAttribute("group-separator",""):F.removeAttribute("group-separator");const Q=new Date(X.time=n._getCellTime(X));if(n._isDateRestricted(Q,w)||n._isHourRestricted(Q,C)?F.setAttribute("restricted",""):F.removeAttribute("restricted"),n.specialDates&&n.specialDates.length){const ie=n._isSpecialDate(Q,n.specialDates);if(F.style.background="",F.style.color="",F.removeAttribute("special-date"),n._customClassNames&&n._customClassNames.forEach(te=>{F.classList.remove(te)}),ie){if(ie.value?F.setAttribute("special-date",ie.value):F.setAttribute("special-date",""),ie.restricted){F.setAttribute("restricted",ie.restricted);const te=new Smart.Color(ie.color),E=`rgba(${te.r}, ${te.g}, ${te.b}, .15)`;F.style.background=`0 -245rem / 12px 12px linear-gradient(135deg, ${E} 25%, transparent 25%, transparent 50%, ${E} 50%, ${E} 75%, transparent 75%, transparent)`}else{const te=new Smart.Color(ie.color);F.style.background=ie.color,F.style.color=te.getInvertedColor()}ie.className&&(n._customClassNames||(n._customClassNames=[]),n._customClassNames.includes(ie.className)||n._customClassNames.push(ie.className),F.classList.add(ie.className))}}if(n.restricted)for(let ie=0;ie<n.restricted.length;ie++){const te=n.restricted[ie];if(n._isDateRestricted(Q,[te.date])){const E=Q.getHours();for(let l=0;l<te.hours.length;l++){const m=te.hours[l];Array.isArray(m)?E>=m[0]&&E<=m[1]&&F.setAttribute("restricted",""):E===m&&F.setAttribute("restricted","")}}}n._refreshAvailableState(q,F,Q),Q.getFullYear()===x.getFullYear()&&Q.getMonth()===x.getMonth()&&Q.getDate()===x.getDate()?F.setAttribute("today",""):F.removeAttribute("today",""),n._setCellContent(F,Q),F.setAttribute("aria-haspopup",!0),a==="month"&&Q.getMonth()!==v.getMonth()?F.setAttribute("other-month",""):F.removeAttribute("other-month"),F.setAttribute("date",Q),F.removeAttribute("selected"),A&&ae===A.group&&X.time>=A.fromTime&&X.time<=A.toTime&&F.setAttribute("selected",X.time===A.lastTime?"start":"")}F.style.top=F.style.left=F.style.right=F.style.width=F.style.height="",F.style[z]=q[z]+"px",H==="horizontal"?F.style[p?"right":"left"]=q.left+"px":F.style[V]=q[V]+"px"}}getViewDates(){const e=this.querySelectorAll(".smart-scheduler-cell");let t=null,n=null;for(let a=0;a<e.length;a++)!e[a].hasAttribute("all-day")&&e[a].hasAttribute("date")&&(t||(t=e[a]),n=e[a]);if(t&&n){const a=new Date(t.getAttribute("date")),i=new Date(n.getAttribute("date"));return a.setHours(0,0,0,0),i.setHours(23,59,59,999),[a,i]}return null}_refreshScaleCells(e,t,n){const a=this,i=t.visibleCellObjs,r=t.isTimelineView,o=e.children;a._recycleContainerCells({fragment:e,cellsNeeded:n,className:["smart-scheduler-cell","scale"],role:"presentation"});const d=r?"width":"height",f=o.length,p=e.$.cellObj,v=i[r?"vertical":"horizontal"].length;for(let w=0;w<f;w++){const C=o[w];C.$=e.$,C._scaleIndex=w,p.nonworking?C.setAttribute("nonworking",""):C.removeAttribute("nonworking"),C.style.width=C.style.height=null,C.style[d]=100/n+"%",a._recycleContainerCells({fragment:C,cellsNeeded:v}),a._refreshContainerCells(C,t),delete C._scaleIndex}}getDateFromCoordinates(e,t){const n=this.querySelectorAll(".smart-scheduler-cell");for(let a=0;a<n.length;a++){const i=n[a],r=i.getBoundingClientRect();if(i.hasAttribute("date")&&r.left<=e&&r.right>=e&&r.top<=t&&r.bottom>=t){const o=i.getAttribute("date");return new Date(o)}}return null}getIsAllDayCellFromCoordinates(e,t){const n=this.querySelectorAll(".smart-scheduler-cell");for(let a=0;a<n.length;a++){const i=n[a],r=i.getBoundingClientRect();if(i.hasAttribute("date")&&r.left<=e&&r.right>=e&&r.top<=t&&r.bottom>=t&&i.hasAttribute("all-day"))return!0}return!1}_refreshAvailableState(e,t,n){const a=this;if(a.available&&a.available.length){t.setAttribute("restricted",""),e.restricted=!0;for(let i=0;i<a.available.length;i++){const r=a.available[i],o=e.group?Object.keys(e.group)[0]:null;if(!e.group||r[o]===void 0||e.group&&e.group[o]===r[o])if(typeof r.start=="string"&&r.start.length===5&&r.start.indexOf(":")>=0){const d=r.start.split(":"),f=parseInt(d[0]),p=parseInt(d[1]),v=r.end.split(":"),w=parseInt(v[0]),C=parseInt(v[1]),x=new Date(n.getFullYear(),n.getMonth(),n.getDate(),f,p,0),L=new Date(n.getFullYear(),n.getMonth(),n.getDate(),w,C,0);x<=n&&n<=L&&(t.removeAttribute("restricted"),e.restricted=!1)}else if(typeof r.start=="string"&&r.start.length<=2){const d=parseInt(r.start),f=parseInt(r.end),p=new Date(n.getFullYear(),n.getMonth(),n.getDate(),d,0,0),v=new Date(n.getFullYear(),n.getMonth(),n.getDate(),f,0,0);p<=n&&n<=v&&(t.removeAttribute("restricted"),e.restricted=!1)}else if(r.date){if(r.date.getFullYear()===n.getFullYear()&&r.date.getMonth()===n.getMonth()&&r.date.getDate()===n.getDate()){const d=n.getHours();if(r.hours)for(let f=0;f<r.hours.length;f++){const p=r.hours[f];Array.isArray(p)?d>=p[0]&&d<=p[1]&&(t.removeAttribute("restricted",""),e.restricted=!1):d===p&&(t.removeAttribute("restricted",""),e.restricted=!1)}else t.removeAttribute("restricted",""),e.restricted=!1}}else if(typeof r.start=="number"){const d=r.start,f=r.end,p=new Date(n.getFullYear(),n.getMonth(),n.getDate(),d,0,0),v=new Date(n.getFullYear(),n.getMonth(),n.getDate(),f,0,0);p<=n&&n<=v&&(t.removeAttribute("restricted"),e.restricted=!1)}else{const d=new Smart.Utilities.DateTime(r.start).toDate(),f=new Smart.Utilities.DateTime(r.end).toDate();d<=n&&n<=f&&(t.removeAttribute("restricted"),e.restricted=!1)}}}}_refreshTimelineAllDayCells(){const e=this,t=new Date,n=e.restrictedHours,a=e.viewType.toLowerCase(),i=e.$.timelineViewAllDayContent,r=e.$.timelineViewAllDayCellsContainer;if(a.indexOf("timeline")>-1||a.indexOf("month")>-1)return void(r.innerHTML="");r.remove();const o=r.children,d=e.locale,f=e.rightToLeft,p={height:e._allDayCellSize,top:0},v=e.$.timelineHeaderHorizontalContent.querySelector(".smart-scheduler-cells").children;e._recycleContainerCells({fragment:r,cellsNeeded:a==="agenda"?0:v.length});for(let w=0;w<o.length;w++){const C=o[w],x=v[w],L=x.$.cellObj;C.$||(C.$={cellObj:{}});const A=C.$.cellObj;A.horizontal=L,A.vertical=p,A.allDay=!0,C.setAttribute("all-day","");const k=A.horizontal.group;if(k)for(const H in k)C.setAttribute(H,k[H]||""),C.setAttribute("group-value",k[H]||"");const B=new Date(A.time=e._getCellTime(A));L.restricted||n.length?C.setAttribute("restricted",""):C.removeAttribute("restricted"),B.getFullYear()===t.getFullYear()&&B.getMonth()===t.getMonth()&&B.getDate()===t.getDate()?C.setAttribute("today",""):C.removeAttribute("today",""),e._setCellContent(C,B),C.setAttribute("date",B.toLocaleDateString(d)),L.groupSeparator?C.setAttribute("group-separator",""):C.removeAttribute("group-separator"),L.weekend?C.setAttribute("weekend",""):C.removeAttribute("weekend"),L.nonworking?C.setAttribute("nonworking",""):C.removeAttribute("nonworking"),e._refreshAvailableState(L,C,B),f?(C.style.left="",C.style.right=x.style.right):(C.style.right="",C.style.left=x.style.left),C.style.width=x.style.width}i.insertBefore(r,i.firstElementChild),i.scrollLeft=e._getScrollLeft(e.scrollLeft)}_getCellsScaleCount(){const e=this,t=e.viewType,n=e.view;if(["timelineMonth","month","agenda"].indexOf(t)>-1)return 1;if(t==="timelineWeek"){const a=e.views.find(i=>i.value&&i.value===n)||{};if(a&&a.hideHours)return 1}switch(e.timelineDayScale){case"hour":return 1;case"halfHour":return 2;case"quarterHour":return 4;case"tenMinutes":return 6;case"fiveMinutes":return 12;default:return 1}}_getTimelineVisibleCellsCount(e="horizontal"){const t=this,n=e.orientation||e,a=e.type,i=e.resource;let r=t._timelineCells[n];if(a&&(r=i?t._timelineCells.groups.find(C=>C.resource===i)[t.groupByDate?"cellsByDate":"cells"]:t._timelineCells[a]),!r)return 0;const o=t._getFirstCellObjInView({orientation:n,type:a,resource:i});if(!o)return 0;const[d,f,p]=n==="horizontal"?["left","width",t.scrollLeft]:["top","height",t.scrollTop];let v;if(n==="vertical"?v=t._scrollViewSize.height:(v=t.$.timelineHeaderHorizontalContent.offsetWidth||t.$.timelineViewAllDayContent.offsetWidth,!v&&t.hideAllDay&&t.viewType==="day"&&(v=t.offsetWidth),t.viewType==="agenda"&&t._timelineCells.vertical.length&&(v-=t.$.timelineHeaderVertical.offsetWidth)),a){let C=0;if(a==="details"&&(t.viewType!=="timelineWeek"||n==="vertical"))return C;for(let x=r.indexOf(o);x<r.length;x++){const L=r[x];L[d]+L[f]>=p&&L[d]<v+p&&C++}return C}const w=1-(o[d]+o[f]-p)/r[0][f];return isNaN(w)||!isFinite(w)?0:Math.min(r.length,Math.ceil(parseFloat((v/o[f]+w).toFixed(2))))}_getFirstCellObjInView(e="horizontal"){const t=this,n=e.orientation||e,a=e.type,i=e.resource,r=t._timelineCells;if(!r)return;let o,d,f;const[p,v,w]=n==="horizontal"?["scrollLeft","left","width"]:["scrollTop","top","height"],C=Math.abs(t[p]);f=r[n],a&&(f=i?t._timelineCells.groups.find(x=>x.resource===i)[t.groupByDate?"cellsByDate":"cells"]:t._timelineCells[a]);for(let x=0;x<f.length;x++){const L=f[x];if(L[v]+L[w]>=C){o=L;break}d=L}return!o&&d&&(o=C>d[v]?d:f[0]),o}_getCellsCount(e){const t=this,n=t.dateCurrent,a=new Date(t.dateCurrent);e||(e=t.view);const i=t.viewType,r=t.views.find(x=>x.value&&x.value===e)||{},o=t.nonworkingDays;let[d,f,p,v]=[0,0,0,0,0];const w=t.hideNonworkingWeekdays||r.hideNonworkingWeekdays,C=t.hideWeekend||r.hideWeekend;switch(C&&(v=2,w&&(v-=(o.includes(0)?1:0)+(o.includes(6)?1:0))),i){case"agenda":f=t._getAgendaEvents(a,r),d=1;break;case"day":f=t._getDayHours(a),d=1;break;case"month":case"week":f=i==="month"?6:t.hourEnd-t.hourStart+1,d=7-(w?o.length:0)-v,r.additionalDays&&(d+=r.additionalDays);break;case"timelineDay":d=t._getDayHours(a),f=1,r&&r.hideHours&&(d=1);break;case"timelineWeek":{const x=t.firstDayOfWeek,L=r&&r.hideHours;let A=new Date(a);f=1,A.setDate(A.getDate()-A.getDay()+x);for(let k=0;k<7;k++)(!C||C&&[0,6].indexOf(A.getDay())<0)&&(!w||w&&o.indexOf(A.getDay())<0)&&(d+=L?1:t._getDayHours(A),p++),A.setDate(A.getDate()+1);break}case"timelineMonth":{const x=new Date(n);x.setDate(1),x.setMonth(x.getMonth()+1),x.setDate(0),d=x.getDate(),f=1;break}}return{horizontal:d,vertical:f,detail:p}}_getAgendaEvents(e,t){const n=this;if(!t){const L=n.view;t=n.views.find(A=>A.value&&A.value===L)||{}}e||(e=new Date(n.currentDate));const a=n.hideNonworkingWeekdays||t.hideNonworkingWeekdays,i=n.hideWeekend||t.hideWeekend,r=n.nonworkingDays,o=new Date(e),d=n.hourStart,f=n.hourEnd;o.setHours(0,0,0,0);const p=new Date(o);p.setDate(o.getDate()+6),p.setHours(23,59,59,999);const[v,w]=[o.getTime(),p.getTime()],C=n._getEventsBetween(v,w);let x={};if(!C||!C.length)return x;for(let L=0;L<C.length;L++){const A=C[L],k=A.dateStart,B=A.dateEnd,H=k.getTime(),V=B.getTime();if(!(H>=w||V<=v||A.hidden))for(let z=0;z<7;z++){const N=new Date(o);if(N.setDate(N.getDate()+z),a&&r.indexOf(N.getDay())>-1||i&&[0,6].indexOf(N.getDay())>-1)continue;N.setHours(d,0,0,0);const F=new Date(N);F.setHours(f,59,59,999);const q=N.getTime(),Y=F.getTime();if(q<=V&&Y>=H){let X=x[q];X||(x[q]=X=[]),X.push(A)}}}for(let L in x)x[L].sort((A,k)=>A.dateStart.getTime()-k.dateStart.getTime());return x}_getEventsBetween(e,t){const n=this;if(!e||!t)return[];e instanceof Date&&(e=e.getTime()),t instanceof Date&&(t=t.getTime());let a=n._eventsBetween;if(n._eventsBetween){if(a.timeStart===e&&a.timeEnd===t)return a.events}else a=n._eventsBetween={timeStart:e,timeEnd:t,events:[]};let i=[];const r=n._events,o=n._rRule,d=n.restrictedDates,f=n.restrictedHours,p={isMonthView:n.viewType.toLowerCase().indexOf("month")>-1,restrictedDates:n.restrictedDates,restrictedHours:n.restrictedHours,hourStart:n.hourStart,hourEnd:n.hourEnd,dateStart:new Date(e),dateEnd:new Date(t),rRule:o,targetEvents:i};for(let v=0;v<r.length;v++){const w=r[v],C=w.repeat,x=w.dateStart,L=w.dateEnd,A=x.getTime(),k=L.getTime();if(n._applyFiltering(w)){if(C&&o){const B=n._getEventRepeatOptions(w);if(B){p.event=w,p.repeatObj=C,p.options=B,p.eventTimeStart=A,p.eventTimeEnd=k,n._setRepeatingEvents(p);continue}}else if(n._isEventRestricted(w,d,f)||A>t||k<e)continue;i.push(w)}}return i.sort((v,w)=>v.dateStart.getTime()-w.dateStart.getTime()),a.timeStart=e,a.timeEnd=t,a.events=i}_applyFiltering(e){const t=this;if(!t.filterable)return!0;const n=t.filter;if(typeof n=="function")return!!n(t._cloneObject(e));if(!Array.isArray(n)||!n.length)return!0;for(let a=0;a<n.length;a++){const i=n[a];if(i.name===void 0)continue;const r=e[i.name],o=i.value;return typeof o=="function"?r===void 0?!!o(r)&&!!o(""):!!o(r):t._checkFilterMode(r+"",o+"")}}_checkFilterMode(e,t){switch(this.filterMode){case"startsWith":return e.indexOf(t)===0;case"startsWithIgnoreCase":return e.toLowerCase().indexOf(t.toLowerCase())===0;case"doesNotContain":return e.indexOf(t)<0;case"doesNotContainIgnoreCase":return e.toLowerCase().indexOf(t.toLowerCase())<0;case"contains":return e.indexOf(t)>-1;case"containsIgnoreCase":return e.toLowerCase().indexOf(t.toLowerCase())>-1;case"equals":return e.localeCompare(t)===0;case"equalsIgnoreCase":return e.toLowerCase().localeCompare(t.toLowerCase())===0;case"endsWith":return e.endsWith(t);case"endsWithIgnoreCase":return e.toLowerCase().endsWith(t.toLowerCase())}}_isEventRestricted(e,t,n){const a=this;if(!e)return!1;const i=e.dateStart,r=e.dateEnd,o=i.getTime(),d=r.getTime();let f;if(t||(t=a.restrictedDates),n||(n=a.restrictedHours),n.length){let p=Math.max(1,Math.min(23,Math.floor((r.getTime()-i.getTime())/36e5))),v=i.getHours();if(p>0){for(f=[];p>=0;)f.push(v),v=v===23?0:v+1,p--;f.length>1&&f.pop()}if(f&&n.some(w=>f.includes(w)))return!0}for(let p=0;p<t.length;p++){const v=t[p],w=v.getTime();let C=new Date(v);if(C.setHours(23,59,59,999),C=C.getTime(),o<=C&&d>=w)return!0}if(a.restricted)for(let p=0;p<a.restricted.length;p++){const v=a.restricted[p];if(a._isDateRestricted(i,[v.date])){const w=i.getHours();for(let C=0;C<v.hours.length;C++){const x=v.hours[C];if(Array.isArray(x)){if(w>=x[0]&&w<=x[1])return!0}else if(w===x)return!0}}}if(a.specialDates)for(let p=0;p<a.specialDates.length;p++){const v=a.specialDates[p];if(v.restricted&&a._isDateRestricted(i,[v.date])){const w=i.getHours();if(!v.hours)return!0;for(let C=0;C<v.hours.length;C++){const x=v.hours[C];if(Array.isArray(x)){if(w>=x[0]&&w<=x[1])return!0}else if(w===x)return!0}}}if(a.available&&a.available.length){let p=!0;for(let v=0;v<a.available.length;v++){const w=a.available[v],C=a.resources.length>0?a.resources[0].value:null;if(!C||e[C]===void 0||C&&(e[C]===w[C]||w[C]===void 0))if(typeof w.start=="string"&&w.start.length===5&&w.start.indexOf(":")>=0){const x=w.start.split(":"),L=parseInt(x[0]),A=parseInt(x[1]),k=w.end.split(":"),B=parseInt(k[0]),H=parseInt(k[1]),V=new Date(i.getFullYear(),i.getMonth(),i.getDate(),L,A,0),z=new Date(i.getFullYear(),i.getMonth(),i.getDate(),B,H,0);V<=i&&i<=z&&(p=!1)}else if(typeof w.start=="string"&&w.start.length<=2){const x=parseInt(w.start),L=parseInt(w.end),A=new Date(i.getFullYear(),i.getMonth(),i.getDate(),x,0,0),k=new Date(i.getFullYear(),i.getMonth(),i.getDate(),L,0,0);A<=i&&i<=k&&(p=!1)}else if(w.date){if(w.date.getFullYear()===i.getFullYear()&&w.date.getMonth()===i.getMonth()&&w.date.getDate()===i.getDate()){const x=i.getHours();if(w.hours)for(let L=0;L<w.hours.length;L++){const A=w.hours[L];Array.isArray(A)?x>=A[0]&&x<=A[1]&&(p=!1):x===A&&(p=!1)}else p=!1}}else if(typeof w.start=="number"){const x=w.start,L=w.end,A=new Date(i.getFullYear(),i.getMonth(),i.getDate(),x,0,0),k=new Date(i.getFullYear(),i.getMonth(),i.getDate(),L,0,0);A<=i&&i<=k&&(p=!1)}else{const x=new Smart.Utilities.DateTime(w.start).toDate(),L=new Smart.Utilities.DateTime(w.end).toDate();x<=i&&i<=L&&(p=!1)}}return p}return!1}_isDateRestricted(e,t){const n=this;if(!e||!e.getTime||isNaN(e.getTime()))return!1;const a=e.getFullYear(),i=e.getMonth(),r=e.getDate();t||(t=n.restrictedDates);for(let o=0;o<t.length;o++){const d=t[o],f=d.getFullYear(),p=d.getMonth(),v=d.getDate();if(a===f&&i===p&&r===v)return!0}return!1}_isSpecialDate(e,t){const n=this;if(!e||!e.getTime||isNaN(e.getTime()))return!1;const a=e.getFullYear(),i=e.getMonth(),r=e.getDate();t||(t=n.specialDates);for(let o=0;o<t.length;o++){const d=t[o],f=d.date.getFullYear(),p=d.date.getMonth(),v=d.date.getDate();if(a===f&&i===p&&r===v)return d}return!1}_isHourRestricted(e,t){const n=this;return e instanceof Date&&(e=e.getHours()),e!==void 0&&!isNaN(e)&&(t||(t=n.restrictedHours),t.includes(e))}_setRepeatingEvents(e){const t=this,n=e.isMonthView,a=e.hourStart,i=e.hourEnd,r=e.rRule,o=e.dateStart,d=e.dateEnd,f=e.restrictedDates,p=e.restrictedHours,v=o.getTime(),w=d.getTime(),C=e.event,x=e.options,L=e.repeatObj,A=e.eventTimeStart,k=e.eventTimeEnd,B=L.exceptions,H=e.targetEvents,V=C.dateStart,z=C.dateEnd;let N=o;V.getFullYear()===z.getFullYear()&&V.getMonth()===z.getMonth()&&V.getDate()===z.getDate()||(N=C.dateStart);let F=new r(x).between(new Date(Date.UTC(...t._getDateArgs(N))),new Date(Date.UTC(...t._getDateArgs(d))),!0);if(!F.length){const q=new r(x).before(new Date(Date.UTC(...t._getDateArgs(o))));q&&new Date(q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate(),q.getUTCHours(),q.getUTCMinutes()).getTime()+k-A>=v&&F.push(q)}for(let q=0;q<F.length;q++){let Y=F[q];Y=new Date(Y.getUTCFullYear(),Y.getUTCMonth(),Y.getUTCDate(),Y.getUTCHours(),Y.getUTCMinutes());let X,ae=new Date(Y),Q=new Date(Y.getTime()+k-A);if(!(t._isEventRestricted(C,f,p)||ae.getTime()>w||Q.getTime()<v)&&(B&&(X=B.find(ie=>{const te=ie.date;return C.allDay&&te.setHours(Y.getHours(),Y.getMinutes(),Y.getSeconds(),Y.getMilliseconds()),te.getTime()===Y.getTime()})),X&&(ae=X.dateStart,Q=X.dateEnd),ae&&!isNaN(ae.getTime())||(ae=new Date(Y)),Q&&!isNaN(Q.getTime())||(Q=new Date(ae.getTime()+k-A)),n||!(ae.getHours()<a&&Q.getHours()<a||ae.getHours()>i&&Q.getHours()>i))){if(X)X.dateStart&&!isNaN(X.dateStart.getTime())||(X.dateStart=ae),X.dateEnd&&!isNaN(X.dateEnd.getTime())||(X.dateEnd=Q),X.$={event:C};else if(X=t._cloneObject(C,!1,!0),X.dateStart=ae,X.dateEnd=Q,X.$={event:C},B){const ie=X.dateStart.getTime(),te=X.dateEnd.getTime();for(let E=0;E<B.length;E++){const l=B[E],m=l.date.getTime();m>ie&&m<=te&&(l.dateStart===void 0&&(l.dateStart=new Date(ae)),l.dateEnd===void 0&&(l.dateEnd=new Date(Q)),H.push(l))}}H.push(X)}}}_getEventRepeatOptions(e,t){const n=this,a=n._rRule;if(!e||!e.repeat||!a)return;const i=e.repeat,r=i.repeatFreq,o=r?a[r.toUpperCase()]:void 0;if(o===void 0)return;const d=i.repeatOn,f=i.repeatEnd;let p={freq:o,wkst:(n.firstDayOfWeek-1+7)%7,interval:i.repeatInterval||1};const v=n._getRepeatOnCondition(r,d);switch(r){case"weekly":p.byweekday=v.map(w=>(w-1+7)%7);break;case"monthly":p.bymonthday=v;break;case"yearly":p.bymonth=v.index+1,p.bymonthday=v.value}return f instanceof Date?p.until=new Date(Date.UTC(...n[t?"_getUTCDateArgs":"_getDateArgs"](f))):typeof f!="number"||isNaN(f)||(p.count=f),p.dtstart=new Date(Date.UTC(...n[t?"_getUTCDateArgs":"_getDateArgs"](e.dateStart))),p}_getUTCDateArgs(e){if(!isNaN(new Date(e).getTime()))return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()]}_getDateArgs(e){if(!isNaN(new Date(e).getTime()))return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()]}_getRepeatOnCondition(e,t){if(!e||!t)return[];let n;if(e==="weekly"){let a=[];Array.isArray(t)||(t=[t]);for(let i=0;i<t.length;i++)n=t[i],typeof n=="string"&&(n=isNaN(parseInt(n))?new Date(n):parseInt(n)),n instanceof Date&&!isNaN(n.getTime())?a.push(n.getDay()):a.push(Math.max(0,Math.min(6,parseInt(t[i])||0)));return a}if(e==="monthly")return Array.isArray(t)&&(t=t[0]),n=t,typeof n=="string"&&(n=isNaN(parseInt(n))?new Date(n):parseInt(n)),n=n instanceof Date&&!isNaN(n.getTime())?n.getDate():Math.max(0,Math.min(31,parseInt(t)||0)),n;if(e==="yearly"){let a,i;if(Array.isArray(t)&&(t=t[0]),n=t,typeof n=="string"&&(n=isNaN(parseInt(n))?new Date(n):parseInt(n)),n instanceof Date&&!isNaN(n.getTime()))a=n.getMonth(),i=n.getDate();else{let r=t,o=t;typeof t=="object"&&(r=t.month,o=t.date),a=Math.max(0,Math.min(11,parseInt(r)||0)),i=Math.max(0,Math.min(31,parseInt(o)||0))}return{index:a,value:i}}}_getDayHours(e){const t=this,n=new Date(e||t.dateCurrent),a=n.getDate(),i=t.hourStart,r=t.hourEnd;let o=0;for(n.setHours(i,0,0,0);a===n.getDate()&&n.getHours()<=r;){o++;const d=n.getHours();n.setHours(n.getHours()+1,0,0,0),d===n.getHours()&&n.setHours(n.getHours()+2,0,0,0)}return o}_getDateString(e,t="horizontal",n){const a=this,i=a.locale,r=a.view,o=a.viewType,d=a.views.find(w=>w.value&&w.value===r),f=o.indexOf("timeline")>-1,p=e.timeZone||a.timeZone;let v;if(e=n&&f||e.timeZone&&e.timeZone===a.timeZone?e.date||e:new Smart.Utilities.DateTime(e.date||e).toDate(p),f){if(t==="vertical")return"";v=o==="timelineMonth"||o==="timelineWeek"&&(n||d&&d.hideHours)||o==="timelineDay"&&d&&d.hideHours?new Intl.DateTimeFormat(i,{day:a.dayFormat,weekday:a.weekdayFormat}).format(e):new Intl.DateTimeFormat(i,{hour:a.hourFormat,minute:a.minuteFormat}).format(e)}else if(t==="horizontal"){if(o==="day")return"";o==="week"?v=new Intl.DateTimeFormat(i,{day:a.dayFormat,weekday:a.weekdayFormat}).format(e):o==="month"&&(v=new Intl.DateTimeFormat(i,{weekday:a.weekdayFormat}).format(e))}else{if(o==="month")return"";v=o==="agenda"?new Intl.DateTimeFormat(i,{day:a.dayFormat,weekday:a.weekdayFormat}).format(e):new Intl.DateTimeFormat(i,{hour:a.hourFormat,minute:a.minuteFormat}).format(e)}return a.timelineHeaderFormatFunction?a.timelineHeaderFormatFunction(e,t,n,v):v}_setGroupContent(e){const t=this,n=e.$.cellObj;if(t.groupTemplate)t._applyTemplate("groupTemplate",e,n);else{const a=t.resources.find(o=>o.value===n.resource);if(!a)return void(e.innerHTML="");let i;n.group&&(i=n.label);let r=i||a.label;if(t.timelineHeaderGroupFormatFunction){const o={cell:e,cellObj:n,isRendered:!1};if(r=t.timelineHeaderGroupFormatFunction(i,a,r,o),o.isRendered)return}e.innerHTML=`<div>${r}</div>`}}_applyTemplate(e,t,n){const a=this;let i,r=a[e];if(e==="groupTemplate"){if(i=a.resources.find(L=>L.value===n.resource),i){const L=n.group[n.resource];n=i.dataSource.find(A=>A.id===L)}n||(n=i)}a._templates||(a._templates={});const o=a._templates;if(typeof r=="function")return r.call(a,t,n),void delete o[e];if(typeof r=="string"){const L=r;if(r=document.getElementById(r),!r){if(r=L,typeof n=="object")for(let A in n)r=r.replaceAll("{{"+A+"}}",n[A]);else{const A=/{{\s*\w*\s*}}/gm;let k=[],B=r;if(A.test(B)){const H=B.match(A);k||(k=[]),H&&H.forEach(V=>{k.includes(V)||k.push(V)})}if(k)for(let H=0;H<k.length;H++){const V=k[H];B=B.replace(V,typeof n=="object"?n[V.replace(/{{|}}/gm,"").trim()]||"":n)}r=B}return void(t.innerHTML=r)}}if(!("content"in document.createElement("template")))return a.error(a.localize("htmlTemplateNotSuported",{elementType:a.nodeName.toLowerCase()})),void delete o[e];if(r===null||!("content"in r))return a.error(a.localize("invalidTemplate",{elementType:a.nodeName.toLowerCase(),property:"groupTemplate"})),void delete o[e];let d=o[e];d||(d=o[e]={}),t.innerHTML="";let f=document.createElement("span"),p="";try{f=r.content.cloneNode(!0)}catch(L){p=L}p&&(a._error=p);const v=f;if(e==="cellTemplate")n=new Intl.DateTimeFormat(a.locale,{day:a.dayFormat}).format(n);else if(e==="eventCollectorTemplate"||e==="headerTemplate"||e==="footerTemplate")return t.innerHTML="",void t.appendChild(v);const w=v.childNodes,C=d.bindings;let x;C&&(x=C);for(let L=0;L<w.length;L++){let A=w[L].outerHTML;if(A){if(!C){const k=/{{\s*\w*\s*}}/gm;if(k.test(A)){const B=A.match(k);x||(x=[]),B&&B.forEach(H=>{x.includes(H)||x.push(H)})}}if(x)for(let k=0;k<x.length;k++){const B=x[k];A=A.replace(B,typeof n=="object"?n[B.replace(/{{|}}/gm,"").trim()]||"":n)}t.innerHTML+=A}}x&&(d.bindings=x)}_setCellContent(e,t){const n=this;if(t=new Date(t||n.dateCurrent),n.cellTemplate)return void n._applyTemplate("cellTemplate",e,t);const a=()=>{if(n.specialDates&&n.specialDates.length){const i=n._isSpecialDate(t);if(i&&i.label)return void(n.viewType!=="month"?e.innerHTML+=`<span>${i.label}</span>`:e.innerHTML+=`<span class="center middle smart-flex" style="position: absolute;">${i.label}</span>`)}};if(n.viewType!=="month")return e.innerHTML="",void a();t.getDate()!==1||e.hasAttribute("today")?e.innerHTML=`<div>${new Intl.DateTimeFormat(n.locale,{day:n.dayFormat}).format(t)}</div>`:e.innerHTML=`<div>${new Intl.DateTimeFormat(n.locale,{month:"short",day:n.dayFormat}).format(t)}</div>`,a()}_refreshViewList(){const e=this;if(e._noDateEvents&&e._noDateEvents.length?e.$.viewListButton.innerHTML=`<span style="margin-right: 20px;">${e.localize("showN",{value:e._noDateEvents.length})}</span>`:e.$.viewListButton.innerHTML=`<span style="margin-right: 20px;">${e.localize("show")}</span>`,!e.showList)return e.$.viewListButton.classList.add("smart-hidden"),e._popupEventsList&&(e._popupEventsList.remove(),delete e._popupEventsList),void(e._listEventsChooser&&(e._listEventsChooser.remove(),delete e._listEventsChooser));if(e.$.viewListButton.classList.remove("smart-hidden"),!e._popupEventsList){e._popupEventsList=document.createElement("div"),e.$.container.appendChild(e._popupEventsList),e._popupEventsList.classList.add("smart-scheduler-list-container"),e._popupEventsList.style.width=e.listWidth+"px",e._popupEventsList.style.top=e.$.header.offsetHeight+"px",e._popupEventsList.style.height="calc(100% - "+e.$.header.offsetHeight+"px)",e._listEventsChooser=document.createElement("smart-input"),e._listEventsChooser.readonly=!0,e._listEventsChooser.classList.add("underlined"),e._listEventsChooser.dropDownButtonPosition="right",e._listEventsChooser.dataSource=[e.localize("all"),e.localize("withoutDates"),e.localize("withDates")],e._listEventsChooser.selectedIndex=0,e._listEventsChooser.style.setProperty("--smart-background","var(--smart-surface)"),e._listEventsChooser.style.height="var(--smart-scheduler-timeline-header-horizontal-cells-size)",e._listEventsChooser.style.width="100%",e._listEventsChooser.style.marginTop="1px",e._listEventsChooser.onchange=()=>{e._refreshViewList()};const o=document.createElement("div"),d=document.createElement("div");e._popupEventsList.appendChild(o);const f=document.createElement("div");f.classList.add("smart-flex","middle","center"),f.style.width=f.style.height="100%",f.style.position="absolute",f.style.top="0px",f.style.left="0px",f.innerHTML='<span style="padding: 10px; opacity: 0.8; border-radius: 15px; box-shadow: var(--smart-elevation-8); background: var(--smart-background); color: var(--smart-primary);">'+e.localize("dropToUnschedule")+"</span>",f.style.textAlign="center",f.style.fontWeight="bold",f.style.fontSize="16px",f.style.backgroundColor="#ffffff33",f.style.backdropFilter="blur(2px)",f.style.color="var(--smart-primary)",f.style.zIndex=999,f.style.display="none",f.onpointerup=()=>{if(e._dragDetails.schedulerEventObj){const p=e.$.timeline.querySelectorAll(".smart-scheduler-event");for(let v=0;v<p.length;v++){const w=p[v].$?[p[v]]:void 0;w&&w.some(C=>{const x=C.$?C.$.event:void 0;return x&&(JSON.stringify(x)===JSON.stringify(e._dragDetails.schedulerEventObj)||x.$&&JSON.stringify(x.$.event)===JSON.stringify(e._dragDetails.schedulerEventObj))})&&(e._dragDetails.schedulerEventObj.dateStart=e._dragDetails.schedulerEventObj.dateEnd=null,e._noDateEvents.push(w[0].$.event),e._events.splice(e._events.indexOf(w[0].$.event),1),w[0].$.event.dateStart=w[0].$.event.dateEnd=null)}e._refreshViewList(),e._refreshTimelineEvents(),f.style.display="none"}},e._popupEventsList.onmouseenter=()=>{e.showList&&e._dragDetails&&e.$.timeline.contains(e._dragDetails.schedulerEvent)&&(f.style.display="")},e._popupEventsList.onmouseleave=()=>{e.showList&&e._dragDetails&&e.$.timeline.contains(e._dragDetails.schedulerEvent)&&(f.style.display="none")},e._popupEventsList.appendChild(f),e._popupEventsList.appendChild(d),d.style.overflow="auto",d.style.height="100%",o.appendChild(e._listEventsChooser)}const t=e._popupEventsList.lastElementChild;t.innerHTML="";const n=document.createDocumentFragment();e._noDateEvents||(e._noDateEvents=[]);let a=[...e._events,...e._noDateEvents];const i=o=>e.filter&&e.filter[0]?o.filter(d=>{if(e.filter&&e.filter[0]){const f=e.filter[0];return f.value(d[f.name])}}):o;if(a=i(a),e._listEventsChooser.title="",e._listEventsChooser.selectedIndex===1){a=[...e._noDateEvents],a=i(a),e._listEventsChooser.title=e.localize("dropToSchedule");const o=document.createElement("div");o.style.background="var(--smart-surface)",o.style.color="var(--smart-surface-color)",o.style.marginLeft=o.style.marginTop=o.style.marginBottom=o.style.marginRight="5px",o.style.paddingLeft=o.style.paddingTop=o.style.paddingBottom=o.style.paddingRight="5px",o.style.color="var(--smart-surface-color)",o.innerHTML=e.localize("dropToSchedule"),a.length&&t.appendChild(o)}else e._listEventsChooser.selectedIndex===2&&(a=[...e._events],a=i(a));if(a=a.sort((o,d)=>o.dateStart<d.dateStart?-1:o.dateStart>d.dateStart?1:o.dateStart&&d.dateStart?0:-1),a.length===0){const o=e.localize("agendaPlaceholder"),d=document.createElement("div");d.innerHTML=o,d.style.width="100%",d.style.height="100%",d.style.display="flex",d.style.alignItems="center",d.style.justifyContent="center",n.appendChild(d)}const r=o=>{const d=document.createDocumentFragment();for(let f=0;f<o.length;f++){const p=o[f];let v=p.backgroundColor,w=p.color,C=p.statusColor;if(!v||!w){const B=e.resources.find(H=>p[H.value]!==void 0);if(B&&B.dataSource){const H=B.dataSource.find(V=>V.id===p[B.value]);H&&(v=v||H.backgroundColor,w=w||H.color)}}const x=document.createElement("div");x.classList.add("smart-scheduler-event","smart-scheduler-event-list-event"),x.style.width="calc(100% - 6px)",x.style.position="static",x.style.height="auto",x.style.marginLeft=x.style.marginRight=x.style.marginBottom="3px",x.style.borderRadius="var(--smart-border-radius)",x.style.setProperty("--smart-scheduler-event-background",e._getRGBA(v)),x.style.setProperty("--smart-scheduler-event-focus",e._getRGBA(v,-1)),x.style.setProperty("--smart-scheduler-event-hover",e._getRGBA(v,-2)),x.style.setProperty("--smart-scheduler-event-color",e._getRGBA(w)),x.style.setProperty("--smart-scheduler-event-color-hover",e._getRGBA(w)),x.style.setProperty("--smart-scheduler-event-color-focus",e._getRGBA(w)),x.data=p,x.data.dateStart=x.data.dateStart?new Date(x.data.dateStart):null,x.data.dateEnd=x.data.dateEnd?new Date(x.data.dateEnd):null;const L=p.status;if(e.resources.forEach(B=>{p[B.value]!==void 0&&x.setAttribute(B.value,p[B.value])}),L!==void 0&&e.statuses.some(B=>B.value===L)){x.setAttribute("status",L);for(let B=0;B<e.statuses.length;B++)if(e.statuses[B].value===L){e.statuses[B].color&&(C=e.statuses[B].color);break}}else x.removeAttribute("status");C&&(x.setAttribute("status",""),x.style.setProperty("--smart-scheduler-status-background",e._getRGBA(C))),x.setAttribute("role","menuitem"),x.title=p.label?p.label:e.localize("Unnamed");const A=new Intl.DateTimeFormat(e.locale,{hour:e.hourFormat,minute:e.minuteFormat});let k=p.dateStart?A.format(p.dateStart)+" - "+A.format(p.dateEnd):e.localize("noDate");p.allDay&&p.dateStart?(k=new Intl.DateTimeFormat(e.locale,{day:"2-digit",month:"short"}).format(p.dateStart),p.dateStart&&p.dateEnd&&(k=new Intl.DateTimeFormat(e.locale,{day:"2-digit",month:"short"}).format(p.dateStart)+" - "+new Intl.DateTimeFormat(e.locale,{day:"2-digit",month:"short"}).format(p.dateEnd))):p.dateStart&&p.dateEnd&&(k=p.dateStart.getDate()!==p.dateEnd.getDate()?new Intl.DateTimeFormat(e.locale,{day:"2-digit",month:"short",hour:e.hourFormat,minute:e.minuteFormat}).format(p.dateStart)+" - "+new Intl.DateTimeFormat(e.locale,{day:"2-digit",month:"short",hour:e.hourFormat,minute:e.minuteFormat}).format(p.dateEnd):new Intl.DateTimeFormat(e.locale,{day:"2-digit",month:"short",hour:e.hourFormat,minute:e.minuteFormat}).format(p.dateStart)+" - "+new Intl.DateTimeFormat(e.locale,{hour:e.hourFormat,minute:e.minuteFormat}).format(p.dateEnd)),p.dateStart&&p.dateEnd&&p.dateStart.getHours()===0&&p.dateStart.getMinutes()===0&&p.dateEnd.getHours()===23&&p.dateEnd.getMinutes()===59&&p.dateStart.getDate()===p.dateEnd.getDate()&&p.dateStart.getMonth()===p.dateEnd.getMonth()&&p.dateStart.getFullYear()===p.dateEnd.getFullYear()&&(k=new Intl.DateTimeFormat(e.locale,{day:e.dayFormat,month:e.monthFormat}).format(p.dateStart)),x.innerHTML=`
                <div class="smart-scheduler-event-content">
                    <div role="presentation"><label style="white-space: normal;" class="smart-scheduler-event-label">${p.label?p.label:e.localize("Unnamed")}</label><div class="smart-event-actions"><span title="${e.localize("editEvent")}" edit class="smart-icon-edit"></span><span title="${e.localize("navigateTo")}" navigate class="smart-icon-navigate"></span></div></div>
                    <div role="presentation"><label class="smart-scheduler-event-time">${k}</label></div>
                </div>`,d.appendChild(x)}return d};if(t.appendChild(n),a.length<=100)t.appendChild(r(a));else{let o=0;const d=Math.ceil(a.length/100);t.appendChild(r(a.slice(0,100))),o++,t.onscroll=()=>{if(t.scrollHeight-t.scrollTop-t.clientHeight<1&&o<d){const f=a.slice(100*o,100*(o+1));t.appendChild(r(f)),o++}}}t.onclick=o=>{const d=o.target.closest(".smart-scheduler-event");d&&(o.target.hasAttribute("edit")?e._openWindow(d.data):o.target.hasAttribute("navigate")&&e.scrollToEvent(d.data))},t.onpointerdown=o=>{const d=o.target.closest(".smart-scheduler-event");d&&(e._dragDetails={target:d,button:o.button,timestamp:Date.now()},e._dragDetails.schedulerEvent=d.cloneNode(!0),e._dragDetails.schedulerEvent.style.width="auto",e._dragDetails.schedulerEvent.style.position="",e._dragDetails.schedulerEvent.$={event:d.data},e._dragDetails.coordinates={x:o.pageX,y:o.pageY},e._dragDetails.originialEvent=o,e._listDragDetails={target:d,x:o.pageX,y:o.pageY},o.preventDefault(),o.stopPropagation())},t.onpointermove=o=>{if(e._listDragDetails&&!e._listDragDetails.dragStarted&&e._dragDetails){const d=e._listDragDetails;(Math.abs(o.pageX-d.x)>=3||Math.abs(o.pageY-d.y)>=3)&&(e._setDragStart(e._listDragDetails.target),e._listDragDetails.dragStarted=!0,o.preventDefault(),o.stopPropagation())}},t.onpointerup=()=>{delete e._listDragDetails},e.$.viewListButton.classList.contains("active")?e._popupEventsList.classList.add("open"):e._popupEventsList.classList.remove("open")}_openViewList(){const e=this;e.showList&&(e.$.viewListButton.classList.add("active"),e.$.viewContent.style.width="calc(100% - "+e.listWidth+"px)",e._refreshViewList(),e._createTimeline(),e._refreshViewSelector(),e._popupEventsList.classList.add("open"),e._resizeLegend&&e._resizeLegend())}_hideViewList(){const e=this;e.$.viewListButton.classList.remove("active"),e._popupEventsList.classList.remove("open"),e._refreshViewList(),e._createTimeline(),e._refreshViewSelector(),e._resizeLegend&&e._resizeLegend()}_viewListHandler(){const e=this;e.$.viewListButton.classList.toggle("active"),e.$.viewListButton.classList.contains("active")?e.$.viewContent.style.width="calc(100% - "+e.listWidth+"px)":e.$.viewContent.style.width="",e._refreshViewList(),e._createTimeline(),e._refreshViewSelector(),e._resizeLegend&&e._resizeLegend()}_setCurrentTimeIndicators(){const e=this;clearInterval(e._currentTimeIndicatorInterval),delete e._currentTimeIndicatorInterval,e._refreshIndicators(),(e.currentTimeIndicator||e.shadeUntilCurrentTime)&&(e._currentTimeIndicatorInterval=setInterval(e._refreshIndicators.bind(e),1e3*e.currentTimeIndicatorInterval))}_refreshIndicators(){const e=this,t=e.viewType,n=e.$.timelineCellsContainer,a=60/e._getCellsScaleCount(),i=t.toLowerCase().indexOf("month")>-1,r=n.querySelectorAll(".smart-scheduler-cell:not(.scale)");let o,d=[],f=e.currentTime||new Date;for(let p=0;p<r.length;p++){const v=r[p],w=new Date(v.$.cellObj.time);if(v.$&&f.getFullYear()===w.getFullYear()&&f.getMonth()===w.getMonth()&&f.getDate()===w.getDate()){if(!i&&w.getHours()!==f.getHours()||w.getMinutes()+a<f.getMinutes()||w.getMinutes()>f.getMinutes())continue;d.push(v)}}if(d.length){const p=d[0].$.cellObj,v=new Date(p.time),w=p.scaleIndex||0;let C,x;i?(x=60*f.getHours()+f.getMinutes(),C=1440):(x=f.getMinutes(),C=v.getMinutes()+a),o={cells:d,minutes:x,max:C,scaleIndex:w}}e._refreshCurrentTimeIndicator(o),e._refreshCurrentTimeShader(o)}_refreshCurrentTimeIndicatorHeader(){const e=this,t=e.currentTimeIndicator,n=e.timeZone,a=e.currentTime||new Date,i=a.getFullYear(),r=a.getMonth(),o=a.getDate(),d=a.getHours(),f=e.viewType.toLowerCase(),p=L=>{let A=new Date(L);for(let k=0;k<6;k++){if(A.getFullYear()===i&&A.getMonth()===r&&A.getDate()===o)return!0;A.setDate(A.getDate()+7)}},v=f.indexOf("agenda")>-1,w=f.indexOf("timeline")>-1,C=f.indexOf("month")>-1;function x(L,A){let k;const B=!v&&!C&&(A&&!w||!A&&w);for(let H=0;H<L.length;H++){const V=L[H];if(V.timeZone===n){k=V.children;break}}if(k)for(let H=0;H<k.length;H++){const V=k[H];if(!V.$||!V.$.cellObj)return;const z=V.$.cellObj.date;if(t){if(C&&!w){p(z)?V.setAttribute("current",""):V.removeAttribute("current");continue}if(z.getDate()===o&&(!B||z.getFullYear()===i&&z.getMonth()===r&&z.getHours()===d)){V.setAttribute("current","");continue}}V.removeAttribute("current")}}x(e.$.timelineHeaderHorizontalContent.querySelectorAll(".smart-scheduler-cells")),x(e.$.timelineHeaderVerticalContent.querySelectorAll(".smart-scheduler-cells"),!0)}_refreshCurrentTimeIndicator(e){const t=this,n=t.viewType,a=t.$.timelineIndicatorsContainer;let i=a.querySelector(".smart-scheduler-current-time");if(t._refreshCurrentTimeIndicatorHeader(),!t.currentTimeIndicator||n==="agenda"||!e)return i&&i.remove(),void(a.firstElementChild||(clearInterval(t._currentTimeIndicatorInterval),delete t._currentTimeIndicatorInterval));const[r,o,d,f]=[e.cells,e.minutes,e.max,e.scaleIndex],p=r.length,v=t._getCellsScaleCount();i||(i=document.createElement("div"),i.classList.add("smart-scheduler-current-time"),i.setAttribute("role","presentation"));const w=i.children;t._recycleContainerCells({fragment:i,cellsNeeded:p,className:"smart-scheduler-current-time-indicator"});for(let C=0;C<w.length;C++){const x=r[C],L=w[C],A=x.closest(".smart-scheduler-cell-container");let k;t.rightToLeft?n.toLowerCase().indexOf("timeline")>-1?(k=parseFloat(A.style.width)/v*(f+1),L.style.width=x.style.width,L.style.height=x.style.height,L.style.right=parseFloat(A.style.right)+k*(o/d)+"px",L.style.top=x.style.top):(k=parseFloat(A.style.height)/v*(f+1),L.style.width=x.style.width,L.style.height=x.style.height,L.style.right=x.style.right,L.style.top=parseFloat(A.style.top)+k*(o/d)+"px"):n.toLowerCase().indexOf("timeline")>-1?(k=parseFloat(A.style.width)/v*(f+1),L.style.width=x.style.width,L.style.height=x.style.height,L.style.left=parseFloat(A.style.left)+k*(o/d)+"px",L.style.top=x.style.top):(k=parseFloat(A.style.height)/v*(f+1),L.style.width=x.style.width,L.style.height=x.style.height,L.style.left=x.style.left,L.style.top=parseFloat(A.style.top)+k*(o/d)+"px"),L.setAttribute("aria-label","Current Time Indicator")}i.parentElement||a.appendChild(i)}_refreshCurrentTimeShader(e){const t=this,n=t.$.timelineIndicatorsContainer;let a=n.querySelector(".smart-scheduler-shader");if(!t.shadeUntilCurrentTime||t.viewType==="agenda")return a&&a.remove(),void(t.currentTimeIndicator||(clearInterval(t._currentTimeIndicatorInterval),delete t._currentTimeIndicatorInterval));a||(a=document.createElement("div"),a.classList.add("smart-scheduler-shader"));const i=a.children;if(e)t._shadeUntilToday(a,e);else{const r=t._getCellShadeRangesByDate(),o=r.length;if(t._recycleContainerCells({fragment:a,cellsNeeded:o,className:"smart-scheduler-shade"}),!o&&(a.remove(),!n.firstElementChild))return clearInterval(t._currentTimeIndicatorInterval),void delete t._currentTimeIndicatorInterval;for(let d=0;d<o;d++){const f=r[d],p=f.hFrom,v=f.hTo,w=t._getFirstShadeCell(f.vFrom.$.cellObj,!0),C=t._getFirstShadeCell(f.vTo.$.cellObj,!0,!0),x=i[d];t._recycleContainerCells({fragment:x,cellsNeeded:1,className:"smart-scheduler-shade-section"});const L=x.children[0];t.rightToLeft?(L.style.width=parseFloat(v.style.right)+parseFloat(v.style.width)-parseFloat(p.style.right)+"px",L.style.height=parseFloat(C.style.top)+parseFloat(C.style.height)-parseFloat(w.style.top)+"px",L.style.right=p.style.right,L.style.top=w.style.top):(L.style.width=parseFloat(v.style.left)+parseFloat(v.style.width)-parseFloat(p.style.left)+"px",L.style.height=parseFloat(C.style.top)+parseFloat(C.style.height)-parseFloat(w.style.top)+"px",L.style.left=p.style.left,L.style.top=w.style.top)}}a.parentElement||n.insertBefore(a,n.firstElementChild)}_shadeUntilToday(e,t){const n=this;if(!t)return void(e.innerHTML="");const a=n.rightToLeft?"right":"left",i=e.children,r=n.viewType,o=r.indexOf("month")>-1,d=n._getCellsScaleCount(),[f,p,v,w]=[t.cells,t.minutes,t.max,t.scaleIndex],C=f?f.length:1;n._recycleContainerCells({fragment:e,cellsNeeded:C,className:"smart-scheduler-shade"});for(let x=0;x<C;x++){const L=f[x],A=i[x],k=L.closest(".smart-scheduler-cell-container"),B=L.$.cellObj.horizontal,H=L.$.cellObj.vertical;let V;if(r.toLowerCase().indexOf("timeline")>-1){n._recycleContainerCells({fragment:A,cellsNeeded:1,className:"smart-scheduler-shade-section"});const z=A.children[0],N=n._getFirstShadeCell(B);V=parseFloat(k.style.width)/d*(w+1),z.style.width=parseFloat(k.style[a])-parseFloat(N.style[a])+V*(p/v)+"px",z.style.height=L.style.height,z.style[a]=N.style[a],z.style.top=L.style.top}else{n._recycleContainerCells({fragment:A,cellsNeeded:o?3:2,className:"smart-scheduler-shade-section"});const z=A.children[0],N=A.children[1],F=n._getFirstShadeCell(B),q=n._getFirstShadeCell(H,!0),Y=n._getFirstShadeCell(H,!0,!0);if(V=parseFloat(k.style.height)/d*(w+1),z.style.top=q.style.top,z.style[a]=F.style[a],o){z.style.width=parseFloat(L.style[a])-parseFloat(F.style[a])+"px",z.style.height=parseFloat(k.style.top)-parseFloat(q.style.top)+parseFloat(k.style.height)+"px";const X=n._getFirstShadeCell(B,void 0,!0),ae=A.children[2];N.style.width=parseFloat(X.style[a])+parseFloat(X.style.width)-parseFloat(F.style[a])-parseFloat(z.style.width)+"px",N.style.height=parseFloat(k.style.top)-parseFloat(q.style.top)+"px",N.style.top=q.style.top,N.style[a]=parseFloat(F.style[a])+parseFloat(z.style.width)+"px",ae.style.top=parseFloat(N.style.top)+parseFloat(N.style.height)+"px",ae.style[a]=N.style[a],ae.style.width=L.style.width,ae.style.height=V*(p/v)+"px"}else z.style.width=parseFloat(L.style[a])+parseFloat(L.style.width)-parseFloat(F.style[a])+"px",z.style.height=parseFloat(k.style.top)-parseFloat(q.style.top)+V*(p/v)+"px",N.style.top=parseFloat(z.style.top)+parseFloat(z.style.height)+"px",N.style[a]=F.style[a],N.style.width=parseFloat(L.style[a])-parseFloat(F.style[a])+"px",N.style.height=parseFloat(Y.style.top)+parseFloat(Y.style.height)-parseFloat(N.style.top)+"px"}}}_getFirstShadeCell(e,t,n){const a=(t?this.$.timelineHeaderVerticalContent:this.$.timelineHeaderHorizontalContent).querySelectorAll(".smart-scheduler-view-time .smart-scheduler-cell"),i=e.group;if(!i)return n?a[a.length-1]:a[0];let r;for(let o=0;o<a.length;o++){const d=a[o],f=d.$.cellObj.group;if(f&&Object.keys(f).every(p=>f[p]===i[p])&&(r=d,!n))return r}return r}_getCellShadeRangesByDate(){const e=this,t=e.viewType.indexOf("timeline")>-1,n=e.currentTime||new Date,a=n.getFullYear(),i=n.getMonth(),r=n.getDate(),o=n.getHours(),d=e.$.timelineHeaderHorizontalContent.querySelectorAll(".smart-scheduler-view-time .smart-scheduler-cell"),f=e.$.timelineHeaderVerticalContent.querySelectorAll(".smart-scheduler-cell"),p=A=>{let k,B;for(let H=0;H<f.length;H++){if(B=f[H],!B.$)continue;const V=new Date(B.$.cellObj.date);V.setDate(A.getDate());const z=V.getTime()||0;if(!k&&z<=n.getTime()&&(k=B),k&&z>n.getTime())break}return k&&B?{from:k,to:B}:void 0},v=A=>A.getFullYear()===a&&A.getMonth()===i&&A.getDate()===r;let w,C,x,L=[];for(let A=0;A<d.length;A++){const k=d[A],B=k.$.cellObj.date;!w&&B.getTime()<=n.getTime()&&(w=k),!v(B)||t&&B.getHours()!==o||(x=p(B),C=x?k:C,C&&(x=p(C.$.cellObj.date),x&&L.push({hFrom:w,hTo:C,vFrom:x.from,vTo:x.to})),w=void 0),C=k}return w&&!L.length&&(C=d[d.length-1],(C.$?C.$.cellObj.date.getTime():0)>n.getTime()&&(C=w),x=C.$?p(C.$.cellObj.date):void 0,x&&L.push({hFrom:w,hTo:C,vFrom:x.from,vTo:x.to})),L}_refreshTimelineHeaderCells(e){const t=this;e||(e="horizontal",t._refreshTimelineHeaderCells("vertical")),e==="horizontal"&&t.$.timelineViewAllDay.offsetHeight&&(t.$.timelineViewAllDaylabel.innerHTML=`<div>${t.localize("allDay")}</div>`);const[n,a,i,r]=e==="horizontal"?["scrollLeft","left","width",t.$.timelineHeaderHorizontalContent]:["scrollTop","top","height",t.$.timelineHeaderVerticalContent],o=t.$.timelineTimeZoneLabelContainer,d=t.timeZones,f=t.rightToLeft,p=r.querySelector(".smart-scheduler-view-time"),v=t.viewType,w=v.indexOf("timeline")>-1,C=p.children,x=t[n],L=t._timelineCells[e];let A,k;for(let B=0;B<L.length;B++){const H=L[B];if(x<=H[a]+H[i]){A=B;break}}(o.parentElement&&!w&&v!=="agenda"&&e==="vertical"||w&&e==="horizontal")&&(k=o.children);for(let B=0;B<C.length;B++){const H=C[B],V=H.children;let z=A;if(k){const N=d.find(F=>F.id===H.timeZone);k[B]&&(k[B].innerHTML=N?`<div>${N.label}</div>`:"")}for(let N=0;N<V.length;N++){const F=V[N],q=L[z];if(!q)break;z++,F.$={cellObj:q},F.innerHTML=`<div>${q.noLabel?"":t._getDateString({date:new Date(q.date),timeZone:H.timeZone},e)}</div>`,F.style[i]=q[i]+"px",e==="horizontal"?f?(F.style.left="",F.style.right=q[a]+"px"):(F.style.right="",F.style.left=q[a]+"px"):F.style[a]=q[a]+"px",q.weekend?F.setAttribute("weekend",""):F.removeAttribute("weekend"),q.nonworking?F.setAttribute("nonworking",""):F.removeAttribute("nonworking"),q.separator?F.setAttribute("separator",""):F.removeAttribute("separator"),q.groupSeparator?F.setAttribute("group-separator",""):F.removeAttribute("group-separator"),q.showLabel?F.setAttribute("show-label",q.showLabel):F.removeAttribute("show-label"),q.restricted?F.setAttribute("restricted",""):F.removeAttribute("restricted")}}t._refreshHeaderDetailCells(e),t._refreshHeaderGroupCells(e),r[n]=n==="scrollLeft"?t._getScrollLeft(t[n]):t[n]}_refreshHeaderGroupCells(e){const t=this,n=t._timelineCells.groups,a=t.$.groupsContainer,i=t.groupByDate;let r,o,d,f,p;if(!a||(p=a.querySelector(".smart-scheduler-view-header-groups-container"),f=e==="horizontal"?t.$.timelineHeaderHorizontal:t.$.timelineHeaderVertical,!n||!p||!f.contains(p)))return;[r,o,d]=e==="vertical"?["top","height","scrollTop"]:["left","width","scrollLeft"];let v=p.children,w=document.createDocumentFragment();for(;v.length;)w.appendChild(p.firstElementChild);v=w.children;for(let C=0;C<v.length;C++){const x=v[C],L=n[C];t._refreshAdditionalHeaderCells({orientation:e,fragment:x,type:"groups",offset:r,size:o,cellsObj:L[i?"cellsByDate":"cells"],resource:L.resource})}p.appendChild(w),t.$.groupsContainer.querySelector(".smart-scheduler-view-groups-content")[d]=d==="scrollLeft"?t._getScrollLeft(t[d]):t[d]}_refreshHeaderDetailCells(e,t){const n=this,a=n._timelineCells.details;let i,r,o,d;if(!a||e!=="horizontal"||n.viewType!=="timelineWeek"||(o=n.$.timelineHeaderHorizontalContent,d=o.querySelector(".smart-scheduler-view-details"),!d))return;[i,r]=["left","width"];let f=d.children,p=document.createDocumentFragment();for(;f.length;)p.appendChild(d.firstElementChild);n._refreshAdditionalHeaderCells({orientation:e,fragment:p,type:"details",offset:i,size:r,cellsObj:a,refreshContentOnly:t}),d.appendChild(p)}_refreshAdditionalHeaderCells(e){const t=this,n=t.viewType==="agenda",a=e.orientation,i=e.fragment,[r,o,d,f,p]=[e.type,e.offset,e.size,e.cellsObj,e.resource],v=t._getFirstCellObjInView({orientation:a,type:r,resource:p});if(!v)return;t._recycleContainerCells({fragment:i,cellsNeeded:t._getTimelineVisibleCellsCount({orientation:a,type:r,resource:p})});const w=Array.from(i.children),C=f.indexOf(v),x=t.rightToLeft,L=o==="top"?o:"left";for(let A=0;A<w.length;A++){const k=w[A],B=f[C+A];if(k.$={cellObj:B},r==="groups"){if(!B[d]&&n){k.remove();continue}t._setGroupContent(k)}else{const H=B.date;k.innerHTML=`<div>${B.noLabel?"":t._getDateString({date:new Date(H)},a,!0)}</div>`}if(B.groupSeparator?k.setAttribute("group-separator",""):k.removeAttribute("group-separator"),B.separator?k.setAttribute("separator",""):k.removeAttribute("separator"),B.group){const H=B.group;for(const V in H)k.setAttribute(V,H[V]||""),k.setAttribute("group-value",H[V]||"")}k.style.top=k.style.left=k.style.width=k.style.height=null,k.style[d]=B[d]+"px",L==="left"?x?(k.style.left="",k.style.right=B[o]+"px"):(k.style.right="",k.style.left=B[o]+"px"):(k.style.left="",k.style.right="",k.style[L]=B[o]+"px")}}_createWindow(e){const t=this,n=e?e+"SchedulerWindow":"schedulerWindow";if(t.$[n])return t.$[n];const a=document.createElement("smart-window");return a.classList.add("smart-scheduler-window"),e?(a.classList.add(e),a.id=t.id+"ConfirmWindow"):a.id=t.id+"Window",a.setAttribute("smart-id",n),t.$[n]=a,t["$"+n]=Smart.Utilities.Extend(a),a.rightToLeft=t.rightToLeft,a.theme=t.theme,a.animation=t.animation,a.disableSnap=!0,a.headerButtons=["close"],a}_openWindow(e,t,n){const a=this;if(!e&&!(e=a._createEventFromSelection())||[a.$.schedulerWindow,a.$.confirmSchedulerWindow].some(d=>d&&d.opened)||a.disableWindowEditor)return;const i=t?"confirm":"";function r(){function d(){a._positionWindow(),o.opened?(o.bringToFront(),o._handleActiveState(),o._onOpenCallback&&o._onOpenCallback()):o.open()}if(a.windowCustomizationFunction?a.windowCustomizationFunction(o,i,a._cloneObject(e)):(a._setPopupWindowTemplate("header",i,n),a._setPopupWindowTemplate("footer",i,n),a._setPopupWindowTemplate("content",i,n)),!o.opened){const p=a["$"+(i?i+"SchedulerWindow":"schedulerWindow")];p.unlisten("transitionend"),p.unlisten("open"),p.unlisten("close"),p.unlisten("closing"),p.unlisten("click"),p.unlisten("change"),p.unlisten("keydown"),i||(o._onOpenCallback=()=>{((o.shadowRoot||o).querySelector(".smart-input")||o).focus({preventScroll:!0})}),o.hasAnimation&&p.listen("transitionend",a._windowTransitionendHandler.bind(a)),p.listen("open",a._windowOpenHandler.bind(a)),p.listen("close",a._windowCloseHandler.bind(a)),p.listen("closing",a._windowClosingHandler.bind(a)),p.listen("click",a._windowClickHandler.bind(a)),p.listen("change",a._windowChangeHandler.bind(a)),p.listen("keydown",a._windowKeyDownHandler.bind(a))}o.shadowRoot?(o.importStyle(Smart.Utilities.Core.getScriptLocation()+Smart.StyleBaseUrl.replace("/scoped/","/smart.textbox.css")),a._onShadowDomLoaded(o,"smart.window.css",d)):d();const f=(a.getAttribute("aria-owns")||"")+" "+o.id;a.setAttribute("aria-owns",f.trim())}if(!e)return;const o=a._createWindow(i);a.$.fireEvent("editDialogOpening",{target:o,type:i,item:a._cloneObject(e)}).defaultPrevented||(o._target={event:e,originalTarget:t,windowType:n},o.parentElement||a.getShadowRootOrBody().appendChild(o),o.isCompleted?r():o.whenReady(()=>r()))}_positionWindow(){const e=this,t=e.getShadowRootOrBody(),n=[e.$.schedulerWindow,e.$.confirmSchedulerWindow];for(let a=0;a<n.length;a++){const i=n[a];if(!i||!t.contains(i))continue;const r=e.getBoundingClientRect();if(i.opened||(i.style.left=i.style.top=""),i.querySelector(".smart-scheduler-window-repeat")){const o=i.offsetWidth;!i.hasAttribute("horizontal")&&2*o<=r.width?i.setAttribute("horizontal",""):i.hasAttribute("horizontal")&&o>r.width&&i.removeAttribute("horizontal")}else i.removeAttribute("horizontal");e._isMobile?(i.setAttribute("mobile",""),i.style.left=r.left+window.pageXOffset+"px",i.style.top=r.top+window.pageYOffset+"px",i.style.width=r.width+"px",i.style.height=r.height+"px"):(i.style.left=Math.max(r.left+window.pageXOffset,r.left+window.pageXOffset+r.width/2-i.offsetWidth/2)+"px",i.style.top=Math.max(r.top+window.pageYOffset,r.top+window.pageYOffset+r.height/2-i.offsetHeight/2)+"px")}}_windowTransitionendHandler(e){const t=this,n=e.target;if(!n.classList.contains("smart-scheduler-window"))return;let a,i;n.classList.contains("confirm")?(a=t.$.confirmSchedulerWindow,i=t.$confirmSchedulerWindow):(a=t.$.schedulerWindow,i=t.$schedulerWindow),a.opened||e.propertyName!=="visibility"||(i.unlisten("transitionend"),a.remove())}_windowOpenHandler(e){const t=this,n=e.target;if(!n.classList.contains("smart-scheduler-window"))return;const a=n.classList.contains("confirm")?t.$confirmSchedulerWindow:t.$schedulerWindow,i=n._target.event;a&&(t._handleModal(!0),n===t.$.schedulerWindow?t.$.fireEvent("editDialogOpen",{target:e.target,editors:t._windowEditors,item:t._cloneObject(i)}):t.$.fireEvent("editDialogOpen",{target:e.target,item:t._cloneObject(i)}),a.unlisten("open"))}_windowClosingHandler(e){const t=this,n=e.target;if(!n.classList.contains("smart-scheduler-window"))return;const a=n.classList.contains("confirm")?t.$confirmSchedulerWindow:t.$schedulerWindow;if(a){const i={target:e.target,item:t._cloneObject(e.target._target.event)};if(n===t.$.schedulerWindow&&(i.editors=t._windowEditors),t.$.fireEvent("editDialogClosing",i).defaultPrevented)return void e.preventDefault();if(a.unlisten(e.type),t.hasAttribute("aria-owns")){const r=t.getAttribute("aria-owns").replace(a.id,"").trim();r?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}}_windowCloseHandler(e){const t=this,n=e.target;if(!n.classList.contains("smart-scheduler-window"))return;const a=n.classList.contains("confirm")?t.$confirmSchedulerWindow:t.$schedulerWindow;if(a){const i=e.target._target.event;t._handleModal(),n===t.$.schedulerWindow?t.$.fireEvent("editDialogClose",{target:e.target,editors:t._windowEditors,item:t._cloneObject(i)}):t.$.fireEvent("editDialogClose",{target:e.target,item:t._cloneObject(i)}),a.unlisten("close"),a.unlisten("click"),a.unlisten("keydown"),t.hasAttribute("aria-owns")&&t.removeAttribute("aria-owns"),t.hasAnimation||a.remove(),(t._getEventCell(n._target.originalTarget||i)||t.$.timeline).focus({preventScroll:!0})}}_getEventCell(e){if(e instanceof HTMLElement&&(e=e.$.event),!e)return;const t=this.$.timelineEventsContainer.children;for(let n=0;n<t.length;n++){const a=t[n],i=a.$?a.$.event:void 0;if(!i)continue;const r=i.$?i.$.event:void 0;if(i===e||r&&(r===e||e.$&&r===e.$.event))return a}}_windowChangeHandler(e){const t=this,n=e.target,a=n.closest(".smart-scheduler-window.confirm")?t.$.confirmSchedulerWindow:t.$.schedulerWindow;if(e.stopPropagation(),a!==t.$.schedulerWindow)return;const i=n.closest(".smart-scheduler-window-editor"),r=i?i.getAttribute("type"):void 0;if(r){if(r.indexOf("repeatEnd")>-1){const o=n.closest(".smart-scheduler-window-editor[multiple]");if(o){const d=o.children;for(let f=0;f<d.length;f++){const p=d[f],v=p.querySelector("[event-editor]");v&&(v.disabled=!p.contains(n))}}}else if(t._windowEditors&&n.hasAttribute("event-editor"))if(r!=="allDay")if(r!=="repeat"){if(r==="repeatFreq")return t._setPopupWindowEditor(t._windowEditors.repeatOn),void t._setPopupWindowEditor(t._windowEditors.repeatInterval);r!=="dateStart"&&r!=="dateEnd"?r!=="resources"||t._setResourceDataEditor(t._windowEditors.resourceData):t._handleEditorDateValidation(n)}else a._target.event&&(t._createWindowEditor("repeat"),t._positionWindow());else t._handleEditorAllDay(n,a)}}_windowKeyDownHandler(e){const t=this,n=e.target.closest(".smart-scheduler-window.confirm")?t.$.confirmSchedulerWindow:t.$.schedulerWindow;if(e.stopPropagation(),n!==t.$.schedulerWindow||e.key!=="Enter")return;const a=n.getRootNode().activeElement,i=t._windowEditors,r=n._target.event;r&&i&&i.label&&i.label.contains(a)&&(t._updateEventViaWindow(r,i),t._handleCellSelection(),n.close(),delete n._target)}_handleEditorDateValidation(e){const t=this,n=t._windowEditors.dateStart,a=t._windowEditors.dateEnd,i=t._windowEditors.allDay?t._windowEditors.allDay.querySelector("[event-editor]"):void 0;if(!n||!a)return;const r=n.querySelector("[event-editor]"),o=a.querySelector("[event-editor]"),d={dateStart:r.value.toDate(),dateEnd:o.value.toDate(),allDay:!!i&&i.checked};e===r?(d.type="end",o.value=t._getValidDate(d)):e===o&&(d.type="start",r.value=t._getValidDate(d))}_handleEditorAllDay(e){const t=this,n=t._windowEditors.dateStart,a=t._windowEditors.dateEnd;if(!n||!a)return;const i=n.querySelector("[event-editor]"),r=a.querySelector("[event-editor]"),o=e.checked;let d=i.value.toDate(),f=r.value.toDate();if(o){const p={dateStart:d,dateEnd:f,allDay:o,type:"start"};i.formatString="yyyy-MMM-dd",r.formatString="yyyy-MMM-dd",d.setHours(t.hourStart,0,0,0),f.setHours(t.hourEnd,0,0,0),i.value=t._getValidDate(p),p.type="end",r.value=t._getValidDate(p)}else{const p=t.hourStart,v=t.$.schedulerWindow;v&&v._target?(d=v._target.event.dateStart,f=v._target.event.dateEnd):(f=new Date(d),d.setHours(p,0,0,0),f.setHours(p,60/t._getCellsScaleCount(),0,0)),i.value=d,r.value=f,i.formatString="yyyy-MMM-dd HH:mm",r.formatString="yyyy-MMM-dd HH:mm"}}_windowClickHandler(e){const t=this;let n=(e.originalEvent||e).target;n.shadowRoot&&(n=(e.originalEvent||e).composedPath()[0]);const a=n.closest(".smart-scheduler-window.confirm")?t.$.confirmSchedulerWindow:t.$.schedulerWindow,i=n.closest(".smart-scheduler-window-button"),r=t._windowEditors,o=a._target.event,d=a._target.windowType;if(a&&i){if(i.classList.contains("ok")&&r?(t._handleCellSelection(),t._updateEventViaWindow(o,r)):i.classList.contains("delete")&&t._deleteEventViaWindow(o),a.close(),delete a._target,i.classList.contains("edit-event")){if(o.date||(o.date=new Date(o.dateStart)),delete o.repeat,d==="deleteConfirm")return o.hidden=!0,void t._updateEventViaWindow(o);t._openWindow(o)}else if(i.classList.contains("edit-series")&&o.$){if(d==="deleteConfirm")return delete o.$.event.repeat,void t._updateEventViaWindow(o);t._openWindow(o.$.event)}}}_deleteEventViaWindow(e){const t=this,n=t._events.indexOf(e),a=e.$?e.$.event:void 0;if(a){const i=a.repeat?a.repeat.exceptions:void 0,r=i?i.indexOf(e):void 0;r>-1&&(i.splice(r,1),t._refreshTimelineEvents())}else if(n>-1){const i=t._cloneObject(e);if(t.$.fireEvent("itemChanging",{type:"removing",item:i}).defaultPrevented)return;t._events.splice(n,1),t._refreshTimelineEvents(),t._updateUndoRedo(t._cloneObject(e),void 0,"itemRemove"),t.$.fireEvent("itemRemove",{item:i}),t.$.fireEvent("itemChange",{type:"remove",item:i})}}_updateEventViaWindow(e,t){const n=this,a=n._events.indexOf(e),i=e.$?e.$.event:void 0,r=a<0;if(!r&&n.$.fireEvent("itemChanging",{type:"updating",item:n._cloneObject(e)}).defaultPrevented||r&&!i&&n.$.fireEvent("itemChanging",{type:"inserting",item:n._cloneObject(e)}).defaultPrevented)return;let o,d="Update";if(t&&n._updateEventSettings(e,t),r){if(n.disableConflicts&&n._events){let f=[];for(let p=0;p<n._events.length;p++){const v=n._events[p];f.push({start:v.dateStart,end:v.dateEnd})}if(n.isCollision(e.dateStart,e.dateEnd,f))return!0}if(e.id||(e.id=n._generateUUID()),i){if(i.repeat){const f=i.repeat;f.exceptions||(f.exceptions=[]);const p=f.exceptions;delete f.repeat,p.indexOf(e)<0&&f.exceptions.push(e),o=n._cloneObject(i)}}else d="Insert",o=n._cloneObject(e),n._events.push(e),n._updateUndoRedo(void 0,o,"itemInsert")}else o=n._cloneObject(e);n.$.fireEvent("item"+d,{item:o}),n.$.fireEvent("itemChange",{type:d.toLowerCase(),item:o}),n._validateEventDateRange(e),n._refreshTimelineEvents()}_updateEventSettings(e,t){const n=this,a=Object.keys(t);for(let i=0;i<a.length;i++){const r=a[i],o=t[r].querySelectorAll("[event-editor]"),d=o[0];if(d)switch(r){case"allDay":e[r]=d.checked,d.checked&&(e.dateStart.setHours(0,0,0,0),e.dateEnd.setHours(23,59,59,999),e.dateEnd=n._getValidDate({dateStart:e.dateStart,dateEnd:e.dateEnd,allDay:!0,type:"end"}));break;case"dateEnd":case"dateStart":{const f=d.value.toDate();let p,v;r==="dateStart"?(p=f,v=e.dateEnd):(p=e.dateStart,v=f),v=n._getValidDate({dateStart:p,dateEnd:v,type:"end"}),n._isEventRestricted({dateStart:p,dateEnd:v})||(e.dateStart=p,e.dateEnd=v);break}case"conference":e[r]=d.value;break;case"description":case"label":e[r]=d.value;break;case"exceptions":e.repeat&&d.checked&&delete e.repeat.exceptions;break;case"notifications":d.value.length?e.notifications=d.value.slice(0):delete e.notifications;break;case"hidden":e.$&&e.$.event&&(e[r]=d.checked);break;case"backgroundColor":e[r]=d.value,e[r]||delete e[r];break;case"resources":n._updateEventResources(e,t,d);break;case"resoruceData":break;case"status":{const f=n.statuses[d.selectedIndex];f&&f.value?e[r]=f.value:delete e[r];break}default:n._updateEventRepeating(e,t,r,o)}}}_updateEventResources(e,t,n){const a=this.resources;if(!n.value)return void a.forEach(d=>delete e[d.value]);const i=t.resourceData.querySelectorAll(".smart-scheduler-window-editor[resource-type]");let r,o=[];for(let d=0;d<i.length;d++){const f=i[d],p=f.querySelector("[event-editor]"),v=f.getAttribute("resource-type");if(!p||p.value&&p.selectedIndex<0){o.push(v);continue}const w=a.find(C=>C.value===v);if(w){const C=w.dataSource[p.selectedIndex];r=!0,C?(e[v]=C.id,o.push(v)):delete e[v]}}r&&a.forEach(d=>{o.indexOf(d.value)<0&&delete e[d.value]})}_updateEventRepeating(e,t,n,a){const i=a[0];if(n==="repeat")i.checked?e.repeat=e.repeat||{}:delete e.repeat;else{if(n.toLowerCase().indexOf("repeat")<0||!e.repeat)return;typeof e.repeat!="object"&&(e.repeat={});const r=e.repeat;switch(n){case"repeatEnd":case"repeatEndAfter":case"repeatEndOn":{const o=t[n].querySelector(".smart-radio-button");if(o&&o.checked){const d=i.value;r.repeatEnd=n==="repeatEndOn"?d.toDate():parseInt(d)}break}case"repeatFreq":r[n]=i.value.toLowerCase();break;case"repeatInterval":r[n]=parseInt(i.value);break;case"repeatOn":switch(r.repeatFreq){case"weekly":r[n]=i.selectedValues;break;case"monthly":r[n]=i.value;break;case"yearly":{const o=a[1]?parseInt(a[1].value):0;r[n]={month:i.selectedIndex,date:o};break}}}}}_updateUndoRedo(e,t,n){const a=this;if(!t&&!e)return void delete a._undoRedoHistory;let i=a._undoRedoHistory;if(i||(i=a._undoRedoHistory={currentStep:1,steps:[]}),n){const r=i.currentStep;r!==i.steps.length&&(i.steps=r<1?[]:i.steps.slice(0,r)),i.steps.length===a.undoRedoSteps&&i.steps.shift(),i.steps.push({oldValue:e,newValue:t,action:n,timeStamp:Date.now()})}i.currentStep=Math.max(1,i.steps.length)}_isUndoPossible(){const e=this._undoRedoHistory;if(e)return e.steps.length&&e.currentStep>0}_isRedoPossible(){const e=this._undoRedoHistory;if(!e)return;const t=e.steps;return t.length&&e.currentStep<t.length}_handleUndoRedo(e="undo",t){const n=this,a=n._undoRedoHistory;if(!a)return;const i=a.steps,r=e==="undo"?0:1,o=i[(isNaN(t)?a.currentStep+r:t)-1];if(o){const d=n._events;let f,p,v;switch(e==="undo"?o.newValue&&!o.oldValue?(p="delete",f=o.newValue):!o.newValue&&o.oldValue?(p="insert",f=o.oldValue):o.newValue&&o.oldValue&&(p="update",f=o.oldValue):o.newValue&&!o.oldValue?(p="insert",f=o.newValue):!o.newValue&&o.oldValue?(p="delete",f=o.oldValue):o.newValue&&o.oldValue&&(p="update",f=o.newValue),p){case"insert":v=f,d.push(v);break;case"delete":v=n._containsEvent(f),v&&d.splice(d.indexOf(v),1);break;case"update":if(v=n._containsEvent(e==="undo"?o.oldValue:o.newValue),v){for(let C in v)delete v[C];const w=n._cloneObject(f);for(let C in w)v[C]=w[C]}}if(v)return a.currentStep=Math.max(0,i.indexOf(o)+r),n.$.tooltip.close(),n.closeWindow(),n._refreshTimelineEvents(),n.$.fireEvent(o.action,{operation:e,eventObj:n._cloneObject(v),itemDateRange:{dateStart:new Date(f.dateStart),dateEnd:new Date(f.dateEnd)}}),n.unfocusable||n.$.timeline.focus({preventScroll:!0}),!0}}_getValidDate(e){const[t,n,a,i]=[e.dateStart,e.dateEnd,e.type,e.allDay];let r=new Date(t),o=new Date(n);if(isNaN(r)||isNaN(o)||n.getTime()>t.getTime())return a==="start"?r:o;for(a==="start"?r=new Date(o):o=new Date(r);r.getTime()>o.getTime();){const d=r.getTime();a==="start"?(r.setHours(r.getHours()-1),r.getTime()===d&&r.setHours(r.getHours()-2)):(o.setHours(o.getHours()+1),o.getTime()===d&&o.setHours(o.getHours()+2))}return i&&r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()&&r.getDate()===o.getDate()&&(o.setHours(0,0,0,0),o.setDate(o.getDate()+1)),a==="start"?r:o}_handleModal(e){const t=this;let n=(t.shadowRoot||t).querySelector(".smart-scheduler-window-modal");e?(n||(n=document.createElement("div"),n.classList.add("smart-scheduler-window-modal")),n.parentElement||(t.$.container.appendChild(n),t.setAttribute("modal",""))):n&&n.parentElement&&(n.parentElement.removeChild(n),t.removeAttribute("modal"))}_onShadowDomLoaded(e,t,n){requestAnimationFrame(function a(){const i=(e.shadowRoot||e.getRootNode()).querySelectorAll("link");for(let r=0;r<i.length;r++)if(i[r].href.indexOf(t)!==-1)return void n();requestAnimationFrame(a)})}_setPopupWindowTemplate(e,t,n){const a=this,i=a.$[t?t+"SchedulerWindow":"schedulerWindow"];if(!i)return;if(e==="content")return void a._setWindowContent(t,n);if(i[e+"Template"]||(i[e+"Template"]=a._createWindowTemplate(e,t)),t)return void a._setWindowTypeSection(e,t,n);const r=i._target.event,o=r.$&&r.$.event,d=a._events.indexOf(r)<0&&!o;let f;if(o&&o.repeat.exceptions&&(f=o.repeat.exceptions.indexOf(r)>-1),e==="header"){const p=(i.shadowRoot||i).querySelector(".smart-scheduler-window-label");r&&p&&(p.innerHTML=d?a.localize("newEvent"):o&&!f?a.localize("eventException"):r.label)}else if(e==="footer"){const p=(i.shadowRoot||i).querySelectorAll(".smart-scheduler-window-button");for(let v=0;v<p.length;v++){const w=p[v];w.innerHTML='<span class="smart-icon"></span>',w.theme=a.theme,w.rightToLeft=a.rightToLeft,w.animation=a.animation,w.classList.contains("ok")?(w.innerHTML+=a.localize("ok"),w.setAttribute("aria-label","ok")):w.classList.contains("cancel")?(w.innerHTML+=a.localize("cancel"),w.setAttribute("aria-label","cancel")):w.classList.contains("delete")&&(w.innerHTML+=a.localize("delete"),w.setAttribute("aria-label","delete"),w.classList[d||o&&!f?"add":"remove"]("smart-hidden"));const C=w.querySelector(".smart-ripple");C&&C.parentElement.removeChild(C)}}}_setWindowTypeSection(e,t,n){const a=this,i=a.$[t?t+"SchedulerWindow":"schedulerWindow"];if(t&&i&&t==="confirm"){if(e==="header"){const r=(i.shadowRoot||i).querySelector(".smart-scheduler-window-label");r&&(r.innerHTML=a.localize(n?n+"Label":"repeatConfirmLabel")||"")}else if(e==="footer"){const r=(i.shadowRoot||i).querySelectorAll(".smart-scheduler-window-button");for(let o=0;o<r.length;o++){const d=r[o];d.theme=a.theme,d.rightToLeft=a.rightToLeft,d.animation=a.animation,d.classList.contains("edit-event")?(d.innerHTML=a.localize(n?n+"Event":"editEvent"),d.setAttribute("aria-label","edit-event")):d.classList.contains("edit-series")&&(d.innerHTML=a.localize(n?n+"Series":"editSeries"),d.setAttribute("aria-label","edit-series"));const f=d.querySelector(".smart-ripple");f&&f.parentElement.removeChild(f)}}}}_setWindowContent(e,t){const n=this,a=n.$[e?e+"SchedulerWindow":"schedulerWindow"];if(e){let o=a.querySelector(".smart-scheduler-confirm-label");return!a.content||a.content.innerHTML&&!o?void 0:(o||(o=document.createElement("label"),o.classList.add("smart-scheduler-confirm-label"),a.appendChild(o)),void(e==="confirm"&&o&&(o.innerHTML=n.localize(t||"repeatConfirm")||"")))}const i=a._target.event,r=[].slice.call(a.getElementsByClassName("smart-scheduler-window-editor"));a.innerHTML&&!r.length||i&&(n._createWindowEditor(),n._createWindowEditor("repeat"),i.id&&a.setAttribute("aria-controls",i.id))}_createWindowEditor(e="main"){const t=this,n=t.$.schedulerWindow,a=n._target.event,i=t._windowEditors;let r=n.querySelector(".smart-scheduler-window-content-wrapper"),o=n.querySelector(`.smart-scheduler-window-${e}`),d=a.repeat,f=a.$&&a.$.event;if(i&&i.repeat){const v=i.repeat.querySelector("[event-editor]");v&&(d=v.checked)}if(r||(r=document.createElement("div"),r.classList.add("smart-scheduler-window-content-wrapper"),n.appendChild(r)),e==="repeat"&&(!d||f))return void(o&&o.remove());if(!o){if(i){const v=e==="main"?i.label:i.repeatFreq;v&&(o=v.closest(`.smart-scheduler-window-${e}`))}o||(o=document.createElement("div"),o.classList.add(`smart-scheduler-window-${e}`),o.innerHTML=t._getWindowEditorTemplate(e))}r.contains(o)||r.appendChild(o);const p=o.querySelectorAll(".smart-scheduler-window-editor[type]");for(let v=0;v<p.length;v++)t._setPopupWindowEditor(p[v])}_getWindowEditorTemplate(e){return e&&e!=="main"?e==="repeat"?`
                <div class="smart-scheduler-window-editor" type="repeatFreq">
                    <label></label>
                    <smart-input readonly event-editor drop-down-button-position="right"></smart-input>
                </div>
                <div class="smart-scheduler-window-editor" type="repeatInterval">
                    <label></label>
                    <smart-number-input min="1" event-editor></smart-number-input>
                </div>
                <div class="smart-scheduler-window-editor" type="repeatOn" multiple>
                    <label></label>
                </div>
                <div class="smart-scheduler-window-editor" multiple>
                    <div class="smart-scheduler-window-editor" type="repeatEnd">
                        <label></label>
                        <smart-radio-button group-name="repeat"></smart-radio-button>
                    </div>
                    <div class="smart-scheduler-window-editor" type="repeatEndOn">
                        <smart-radio-button group-name="repeat"></smart-radio-button>
                        <smart-date-time-picker calendar-button drop-down-append-to="body" event-editor
                        enable-mouse-wheel-action drop-down-display-mode="auto"></smart-date-time-picker>
                    </div>
                    <div class="smart-scheduler-window-editor" type="repeatEndAfter">
                        <smart-radio-button group-name="repeat"></smart-radio-button>
                        <smart-number-input min="1" event-editor></smart-number-input>
                        <label></label>
                    </div>
                </div>
                <div class="smart-scheduler-window-editor smart-hidden" type="exceptions">
                    <label></label>
                    <smart-check-box event-editor></smart-check-box>
                </div>`:void 0:`
            <div class="smart-scheduler-window-editor" type="label">
                <label></label>
                <smart-input event-editor></smart-input>
            </div>
            <div class="smart-scheduler-window-editor" multiple>
                <div class="smart-scheduler-window-editor" type="dateStart">
                    <label></label>
                    <smart-date-time-picker calendar-button drop-down-append-to="body" event-editor
                    enable-mouse-wheel-action drop-down-display-mode="auto"></smart-date-time-picker>
                </div>
                <div class="smart-scheduler-window-editor" type="dateEnd">
                    <label></label>
                    <smart-date-time-picker calendar-button drop-down-append-to="body" event-editor
                        enable-mouse-wheel-action drop-down-display-mode="auto"></smart-date-time-picker>
                </div>
            </div>
            <div class="smart-scheduler-window-editor" type="description">
                <label></label>
                <smart-text-area event-editor></smart-text-area>
            </div>
            <div class="smart-scheduler-window-editor" multiple>
                <div class="smart-scheduler-window-editor" type="allDay">
                    <label></label>
                    <smart-switch-button event-editor></smart-switch-button>
                </div>
                <div class="smart-scheduler-window-editor" type="hidden">
                    <label></label>
                    <smart-switch-button event-editor></smart-switch-button>
                </div>
                <div class="smart-scheduler-window-editor" type="repeat">
                    <label></label>
                    <smart-switch-button event-editor></smart-switch-button>
                </div>
            </div>
            <div class="smart-scheduler-window-editor" type="conference">
                <label></label>
                <smart-input event-editor></smart-input>
                <div style="color: var(--smart-error);" class="smart-hidden smart-invalid-conference-link-label"></div>
                <div class="smart-hidden" class="smart-conference-link"></div>
            </div>
            <div class="smart-scheduler-window-editor" type="notifications">
                <label></label>
                <smart-notification-panel event-editor></smart-notification-panel>
            </div>
            <div class="smart-scheduler-window-editor" multiple>
                <div class="smart-scheduler-window-editor" type="backgroundColor">
                    <label></label>
                    <smart-color-input event-editor></smart-color-input>
                </div>
                <div class="smart-scheduler-window-editor" type="status">
                    <label></label>
                    <smart-input event-editor></smart-input>
                </div>
            </div>
            <div class="smart-scheduler-window-editor smart-hidden" type="resources">
                <label></label>
                <smart-check-input event-editor disabled></smart-check-input>
            </div>
            <div class="smart-scheduler-window-editor smart-hidden" multiple type="resourceData"></div>
            </div>`}_setPopupWindowEditor(e){const t=this,n=e.getAttribute("type"),a=e.querySelector("label"),i=t.$.schedulerWindow._target.event,r=i.$&&i.$.event;let o=e.querySelector("[event-editor]");if(!i)return;t._windowEditors||(t._windowEditors={});const d=t._windowEditors,f=t.rightToLeft;if(d[n]||(d[n]=e),a&&(a.id=t.id+n+"Label",a.innerHTML=t.localize(n)),n==="label"||n==="description")o.value=i[n]!==void 0?i[n]+"":"";else if(n.indexOf("date")>-1){const p=!!i.allDay;o.formatString=p?"yyyy-MMM-dd":"yyyy-MMM-dd HH:mm",o.calendarButtonPosition=f?"left":"right",o.value=new Date(i[n])}else if(n==="allDay"||n==="repeat")o.checked=!!i[n],e.classList[n==="repeat"&&r?"add":"remove"]("smart-hidden");else if(n==="notifications")t._setNotificationEditor(e,o);else if(n==="conference"){const p=o.nextElementSibling;p.innerHTML=t.localize("invalidConferenceLink"),p.classList.add("smart-hidden");const v=o.nextElementSibling.nextElementSibling;v.innerHTML=`<smart-button class="info">${t.localize("join")}</smart-button>`,v.classList.add("smart-hidden"),a.innerHTML=`<div class="smart-notification-panel">
               <div class="smart-notification-placeholder" role="button" smart-id="placeholder" tabindex="0">${t.localize("placeholderLink")}</div>
            </div>`,a.onclick=()=>{o.classList.contains("smart-hidden")&&(o.classList.remove("smart-hidden"),a.innerHTML=`<div class="smart-notification-panel">
                <div role="button" smart-id="placeholder" tabindex="0">${t.localize("placeholderSetLink")}</div>
             </div>`,o.focus())},v.onclick=x=>{x.target&&x.target.classList.contains("smart-button")&&window.open(v.getAttribute("link"),"_blank")};const w=()=>{o.value.startsWith("https://zoom.us/")?v.innerHTML=`<smart-button class="info">${t.localize("joinWith",{value:"Zoom"})}</smart-button>`:o.value.startsWith("https://meet.google.com/")?v.innerHTML=`<smart-button class="info">${t.localize("joinWith",{value:"Google Meet"})}</smart-button>`:o.value.startsWith("https://teams.microsoft.com/")&&(v.innerHTML=`<smart-button class="info">${t.localize("joinWith",{value:"Microsoft Teams"})}</smart-button>`),v.setAttribute("link",o.value),v.classList.remove("smart-hidden")},C=()=>{/^(ftp|http|https):\/\/[^ "]+$/.test(o.value)?(p.classList.add("smart-hidden"),w()):(p.classList.remove("smart-hidden"),v.classList.add("smart-hidden"))};o.onchange=o.onkeyup=()=>{const x=/^(ftp|http|https):\/\/[^ "]+$/.test(o.value);t._typing&&clearTimeout(t._typing),t._typing=setTimeout(()=>{x?(p.classList.add("smart-hidden"),w()):(p.classList.remove("smart-hidden"),v.classList.add("smart-hidden"))},300)},o.classList.add("smart-hidden"),i[n]?(o.value=i[n],o.classList.remove("smart-hidden"),a.innerHTML=`<div class="smart-notification-panel">
                <div role="button" smart-id="placeholder" tabindex="0">${t.localize("placeholderSetLink")}</div>
             </div>`,w(),C()):o.value=""}else if(n==="repeatFreq"){const p=["hourly","daily","weekly","monthly","yearly"],v=i.repeat?(i.repeat.repeatFreq+"").toLowerCase():p[0];o.dataSource=[{label:t.localize(p[0]),value:p[0]},{label:t.localize(p[1]),value:p[1]},{label:t.localize(p[2]),value:p[2]},{label:t.localize(p[3]),value:p[3]},{label:t.localize(p[4]),value:p[4]}],o.value=t.localize(p.indexOf(v)>-1?v:p[0])}else if(n==="repeatInterval"){const p=parseInt(i.repeat?i.repeat.repeatInterval:void 0);if(o.value=isNaN(p)?1:p,a&&d.repeatFreq){const v=d.repeatFreq.querySelector("[event-editor]");if(v){const w={hourly:"repeatEveryHour",daily:"repeatEveryDay",weekly:"repeatEveryWeek",monthly:"repeatEveryMonth",yearly:"repeatEveryYear"},C=v.dataSource[Math.max(0,v.selectedIndex)].value||"";a.innerHTML+=` (${t.localize(w[C.toLowerCase()])||""})`}}}else if(n==="repeatOn")t._setRepeatOnEditor(e,o);else if(n.indexOf("repeatEnd")>-1){let p=i.repeat?i.repeat.repeatEnd:void 0,v=p;switch(n){case"repeatEnd":v=!v;break;case"repeatEndOn":v=v instanceof Date;break;case"repeatEndAfter":v=typeof v=="number"&&!isNaN(v)}const w=e.querySelector(".smart-radio-button");w&&(w.innerHTML=t.localize(n+"Option"),w.checked=v,t._setEditorCommonProperties(w)),o&&(o instanceof Smart.DateTimePicker?(p=new Date(p),o.formatString="yyyy-MMM-dd",o.calendarButtonPosition=f?"left":"right",o.value=v&&!isNaN(p.getTime())?p:new Date):(p=parseInt(p),o.value=v&&!isNaN(p)?p:1),o.disabled=w&&!w.checked)}else if(n==="exceptions"){const p=!r&&i.repeat&&i.repeat.exceptions&&i.repeat.exceptions.length;o.checked=!1,o.innerHTML=t.localize("resetExceptions"),e.classList[p?"remove":"add"]("smart-hidden")}else if(n==="hidden")o.checked=!!i[n],e.classList[r?"remove":"add"]("smart-hidden");else if(n==="backgroundColor"){o.dataSource||(o.dataSource=i.colorScheme||t.colorScheme);const p=o.$.scrollView;p&&p.classList.add("smart-scheduler-color-input"),o.valueDisplayMode="colorBox",o.value=i.backgroundColor||""}else n==="status"?t._setStatusEditor(e,o):n==="resources"?t._setResourceEditor(e,o):n==="resourceData"&&t._setResourceDataEditor(e);o&&a&&o.setAttribute("aria-labelledby",a.id),t._setEditorCommonProperties(o)}_setEditorCommonProperties(e){const t=this;if(e){const n=e.messages,a=t.messages,i=t.locale;if(n)for(let r in n.en){const o=a[i][r];o!==void 0&&(n[i]||(n[i]={}),n[i][r]=o)}e.locale=t.locale,e.rightToLeft=t.rightToLeft,e.animation=t.animation,e.theme=t.theme}}_setNotificationEditor(e,t){const n=this,a=n.$.schedulerWindow._target.event;a?(t.value=Array.isArray(a.notifications)?a.notifications.slice():[],t.hourStart=n.hourStart,t.hourFormat=n.hourFormat,t.minuteFormat=n.minuteFormat,t.timeZone=n.timeZone,n._setEditorCommonProperties(t)):t.value=[]}_setStatusEditor(e,t){const n=this,a=n.statuses,i=n.$.schedulerWindow._target.event;if(!i||!a.length)return void e.classList.add("smart-hidden");const r=i.status,o=a.find(d=>d.value===r);e.classList.remove("smart-hidden"),t.dataSource=n.statuses.map(d=>{const f=d.value===void 0?"none":d.value;return d.label=n.localize(f)||f}),t.value=o?n.localize(o.label)||o.label:"",t.readonly=!0,t.placeholder=n.localize("selectPlaceholder"),t.dropDownButtonPosition=n.rightToLeft?"left":"right",n._setEditorCommonProperties(t)}_setResourceEditor(e,t){const n=this,a=n.resources,i=n.$.schedulerWindow._target.event;let r=[],o=[];i&&a.length?(e.classList.remove("smart-hidden"),r=a.map(d=>(d&&i[d.value]&&o.push(d.label),{label:d.label,value:d.value})),t.readonly=!0,t.placeholder=n.localize("selectPlaceholder"),t.dropDownButtonPosition=n.rightToLeft?"left":"right",t.disabled=!a.length,t.dataSource=r,t.value=o.toString(),n._setEditorCommonProperties(t),t.wait&&(t.wait=!1)):e.classList.add("smart-hidden")}_setResourceDataEditor(e){const t=this,n=t.resources,a=t.$.schedulerWindow._target.event;let i,r,o=Array.from(e.querySelectorAll(".smart-scheduler-window-editor")),d=[];if(a&&n.length){t._windowEditors.resources&&(r=t._windowEditors.resources.querySelector("[event-editor]"),r&&r.value&&(i=r.selectedValues));for(let f=0;f<n.length;f++){const p=n[f],v=p.label,w=p.value,C=p.dataSource;if(!C||!i)continue;const x=i.length;if(x&&i.indexOf(w)>-1||!x&&a[w]){const L=C.find(H=>p&&H.id===a[w]);let A,k,B=o.find(H=>H.getAttribute("resource-type")===w);B?(A=B.querySelector("label"),k=B.querySelector("[event-editor]")):(B=document.createElement("div"),A=document.createElement("label"),k=document.createElement("smart-input"),k.setAttribute("event-editor",""),B.appendChild(A),B.appendChild(k),B.classList.add("smart-scheduler-window-editor"),B.setAttribute("resource-type",w),e.appendChild(B)),d.push(B),t._setEditorCommonProperties(k),A.innerHTML=t.localize(v)||v,k.dataSource=p.dataSource.map(H=>Object.create({label:H.label,value:H.value})),k.value=L?L.label:"",k.dropDownButtonPosition=t.rightToLeft?"left":"right",k.readonly=!0,k.placeholder=t.localize("selectPlaceholder")}}for(let f=0;f<o.length;f++)d.indexOf(o[f])<0&&o[f].remove();e.classList.remove("smart-hidden")}else e.classList.add("smart-hidden")}_setRepeatOnEditor(e){const t=this,n=t.$.schedulerWindow._target.event,a=t._windowEditors,i=a.repeatOn,r=a.repeatFreq.querySelector("[event-editor]").value.toLowerCase();let o,d=n.repeat?n.repeat.repeatOn:void 0;if(!n||!r||["weekly","monthly","yearly"].indexOf(r)<0)return void e.classList.add("smart-hidden");i.$||(i.$={});const f=i.$;for(let v in f)v!==r&&f[v]&&f[v].remove();d===void 0&&(d=new Date(n.dateStart));let p=f[r];switch(r){case"weekly":p||(p=document.createElement("smart-button-group"),p.dataSource=t._getWeekDays(),p.selectionMode="zeroOrMany",p.setAttribute("event-editor",""),f[r]=p),t._setEditorCommonProperties(p),p.selectedValues=t._getRepeatOnCondition(r,d).map(v=>v.toString());break;case"monthly":p||(p=document.createElement("smart-number-input"),p.min=1,p.max=31,p.setAttribute("event-editor",""),f[r]=p),t._setEditorCommonProperties(p),p.value=t._getRepeatOnCondition(r,d).toString();break;case"yearly":{let v,w;if(!p){p=document.createElement("div");const C=document.createElement("smart-input"),x=document.createElement("smart-number-input");C.dataSource=t._getMonthNames(),C.dropDownButtonPosition=t.rightToLeft?"left":"right",C.readonly=!0,x.min=1,x.max=31,C.setAttribute("event-editor",""),x.setAttribute("event-editor",""),t._setEditorCommonProperties(C),t._setEditorCommonProperties(x),p.appendChild(C),p.appendChild(x),p.classList.add("smart-scheduler-window-editor"),f[r]=p}v||(v=p.querySelector("smart-input")),w||(w=p.querySelector("smart-number-input")),o=t._getRepeatOnCondition(r,d),v.selectedIndex=o.index,w.value=o.value.toString();break}}p=f[r],e.contains(p)||e.appendChild(p),e.classList.remove("smart-hidden")}_getMonthNames(){const e=[],t=this.monthFormat,n=this.locale,a=new Date;a.setMonth(0);for(let i=0;i<12;i++)e.push({label:new Intl.DateTimeFormat(n,{month:t}).format(a),value:a.getMonth()}),a.setMonth(a.getMonth()+1);return e}_getWeekDays(){const e=this,t=[],n=e.weekdayFormat,a=e.locale,i=new Date;i.setDate(i.getDate()-i.getDay()+e.firstDayOfWeek);for(let r=0;r<7;r++)t.push({label:new Intl.DateTimeFormat(a,{weekday:n}).format(i),value:i.getDay()}),i.setDate(i.getDate()+1);return t}_createWindowTemplate(e,t){const n=this,a=n.animation,i=n.theme,r=n.rightToLeft,o=document.createElement("template");return e==="footer"?t?t==="confirm"&&(o.innerHTML=`
                    <smart-button class="smart-scheduler-window-button edit-event"
                        animation="${a}" theme="${i}" ${r?"right-to-left":""}>
                    </smart-button>
                    <smart-button class="smart-scheduler-window-button edit-series"
                        animation="${a}" theme="${i}" ${r?"right-to-left":""}>
                    </smart-button>`):o.innerHTML=`<smart-button class="smart-scheduler-window-button ok primary"
                        animation="${a}" theme="${i}" ${r?"right-to-left":""}>
                    </smart-button>
                    <smart-button class="smart-scheduler-window-button cancel"
                        animation="${a}" theme="${i}" ${r?"right-to-left":""}>
                    </smart-button>
                    <smart-button class="smart-scheduler-window-button delete secondary"
                        animation="${a}" theme="${i}" ${r?"right-to-left":""}>
                    </smart-button>`:e==="header"&&(o.innerHTML='<span class="smart-scheduler-window-label"></span>'),o}_currentTimeIndicatorIntervalValidator(e,t){return Math.max(1,t)}_hourValidator(e,t){return Math.max(0,Math.min(23,t))}_datesValidator(e,t){const n=this;let a=[];for(let i=0;i<t.length;i++){const r=n._parseDate(t[i]);isNaN(r)||(r.setHours(0,0,0,0),a.push(r))}return a}_dateValidator(e,t){return t=this._parseDate(t),this._minMaxDateValidator(isNaN(t)?e:t)}_parseDate(e){let t;if(e instanceof Date)return e;if(Smart.Utilities.DateTime&&e instanceof Smart.Utilities.DateTime)return e.toDate();if(typeof e=="string"){const n=/\d+:\d+:\d+/;if(e.trim()==="new Date()"||e.trim()==="new Smart.Utilities.DateTime()")return new Date;if(isNaN(Date.parse(e))){const a=/(\d+[,-.\/]{1}\s*\d+[,-.\/]{1}\s*\d+)/;if(a.test(e)){const i=a.exec(e)[0].replace(/[,-.\/]/g,",").split(",");if(i.length===3){const[r,o]=parseInt(i[0])<parseInt(i[2])?[i[0],i[2]]:[i[2],i[0]];if(t=new Date(parseInt(o),parseInt(i[1])-1,parseInt(r)),n.test(e)){const d=n.exec(e)[0].split(":");t.setHours(d[0]||0,d[1]||0,d[2]||0)}e=t}}}else t=new Date(Date.parse(e)),n.test(e)||t.setHours(0,0,0,0),e=t}return new Date(e)}_firstDayOfWeekValidator(e,t){return Math.min(6,Math.max(0,t))}_minMaxDateValidator(e){if(!e||isNaN(e.getTime()))return e;const t=new Date(this.min),n=new Date(this.max);return t&&(e=new Date(Math.max(t.getTime(),e.getTime()))),n&&(e=new Date(Math.min(n.getTime(),e.getTime()))),e}_nonworkingDayValidator(e,t){return this._nonworkingDateTimeValidator(e,t)}_nonworkingTimeValidator(e,t){return this._nonworkingDateTimeValidator(e,t,!0)}_nonworkingDateTimeValidator(e,t,n){let a=[];const[i,r]=[0,n?23:6];for(let o=0;o<t.length;o++){const d=t[o];if(typeof d!="number"||isNaN(d))if(Array.isArray(d)){let f=Math.max(i,Math.min(r,parseInt(d[0]))),p=Math.max(i,Math.min(r,parseInt(d[1])));if(!isNaN(f)&&!isNaN(p)){for(;f!==p;)a.push(f),f=f===r?i:++f;a.push(f)}}else{const f=this._dateValidator(d,d);f instanceof Date&&a.push(n?f.getHours():f.getDay())}else a.push(Math.max(i,Math.min(r,parseInt(d))))}return a}_setViewType(e){const t=this,n=t.views.find(a=>a.value&&a.value===e);e=n?n.type:e,t.set("viewType",t.properties.viewType.allowedValues.indexOf(e)>-1?e:"day")}_timeZoneValidator(e,t){const n=this,a=new Smart.Utilities.DateTime().timeZones;t||(t="local"),t=t.toLowerCase();const i=a.find(r=>r.id.toLowerCase()===t);return i?i.id:(n.error(n.localize("invalidTimeZone",{elementType:n.nodeName.toLowerCase()})),e)}_timeZonesValidator(e,t){const n=this;let a=[];for(let i=0;i<t.length;i++){const r=t[i],o=r.id||r;n._timeZoneValidator(null,o)!==null&&a.push({id:o,label:r.label||o})}return a}_viewValidator(e,t){const n=this;return n._isViewUpdated=!0,n._setViewType(t),delete n._isViewUpdated,t}_viewTypeValidator(e,t){return this._isViewUpdated?t:e}_viewsValidator(e,t){const n=this,a=n.properties.viewType.allowedValues;let i=[];for(let r=0;r<t.length;r++){const o=t[r];typeof o=="string"&&a.includes(o)?i.push(o):typeof o=="object"&&a.includes(o.type)&&(o.value=o.value||o.type,o.label=o.label===void 0?n.localize(o.type):o.label+"",i.push(o))}return i}}),Smart("smart-notification-panel",class extends Smart.BaseElement{static get properties(){return{hourStart:{value:0,type:"number"},hourFormat:{value:"numeric",allowedValues:["numeric","2-digit"],type:"string"},messages:{extend:!0,value:{en:{beforeAt:"before at",days:"days",weeks:"weeks",placeholder:"Add notification",hours:"Hours",minutes:"Minutes",am:"am",pm:"pm"}},type:"object"},minuteFormat:{value:"2-digit",allowedValues:["numeric","2-digit"],type:"string"},placeholder:{value:"placeholder",type:"string"},timeZone:{value:"local",type:"string"},value:{value:[],type:"array"}}}template(){return`<div id="container" role="presentation">
                    <div id="notificationsContainer" class="smart-notification-container" role="group"></div>
                    <div id="placeholder" class="smart-notification-placeholder" role="button"></div>
                    <smart-input wait right-to-left="[[rightToLeft]]" readonly id="typeInput" class="smart-notification-editor smart-hidden"></smart-input>
                    <smart-time-input wait right-to-left="[[rightToLeft]]" id="timeInput" class="smart-notification-editor smart-hidden"></smart-time-input>
                    <smart-number-input wait right-to-left="[[rightToLeft]]" id="intervalInput" class="smart-notification-editor smart-hidden"></smart-number-input>
                </div>`}static get listeners(){return{"document.click":"_clickHandler",keydown:"_keyDownHandler","container.change":"_containerChangeHandler"}}static get requires(){return{"Smart.Input":"smart.input.js","Smart.TimeInput":"smart.timeinput.js","Smart.NumberInput":"smart.numberinput.js"}}propertyChangedHandler(e,t,n){const a=this;if(e!=="placeholder"){if(e==="rightToLeft"){const i=n?"left":"right";a.$.typeInput.dropDownButtonPosition=i,a.$.intervalInput.dropDownButtonPosition=i}else e==="locale"?(a.$.placeholder.textContent=a.localize(a.placeholder),a._handleNotificationEditors()):super.propertyChangedHandler(e,t,n);a._handleNotifications()}else a.$.placeholder.textContent=a.localize(a.placeholder)}render(){const e=this;e.hasAttribute("role")||e.setAttribute("role","dialog"),e.$.placeholder.textContent=e.localize(e.placeholder),e._handleNotifications(),e._handleNotificationEditors(),e._setFocusable(),super.render()}_setFocusable(){const e=this,t=e.$.placeholder;if(e.disabled||e.unfocusable)return e.removeAttribute("tabindex"),void t.removeAttribute("tabindex");const n=e.tabIndex>0?e.tabIndex:0;e.tabIndex=n,t.setAttribute("tabindex",n);const a=e.$.notificationsContainer.children;for(let i=0;i<a.length;i++){const r=a[i];Array.from(r.children).forEach(o=>{o instanceof HTMLLabelElement||(o.tabIndex=n)})}}_keyDownHandler(e){const t=this;if(t.disabled||t.readonly)return;const n=e.target;switch(e.key){case"Enter":(n.closest(".smart-notification-item")||n.closest(".smart-notification-placeholder"))&&(e.preventDefault(),t._clickHandler({target:n}));break;case"Escape":case"Tab":t._hideEditor()}}_clickHandler(e){const t=this;let n=e.target;if(!n||!n.closest||!t.$.container.contains(n)||t.disabled||t.readonly)return void t._hideEditor();if(n.closest(".smart-notificaiton-editor"))return;if(n.closest(".smart-notification-placeholder"))return t._createNotificaiton(),void t._hideEditor();const a=n.closest(".smart-notification-item");if(!a)return t._editor&&!t._editor.classList.contains("smart-hidden")&&n.closest(".smart-notification-editor")?void 0:void t._hideEditor();t._hideEditor();const i=a._notificationObj;if(n.hasAttribute("delete"))return void t._deleteNotification(a);const r=n.closest(".smart-input");if(!r)return;let o;n.hasAttribute("interval")?(o=t.$.intervalInput,o.value=i.interval,o.min=0,o.max=i.type==="days"?28:4):n.hasAttribute("type")?(o=t.$.typeInput,o.value=o.dataSource.find(d=>d.value===i.type).label):n.hasAttribute("time")&&(o=t.$.timeInput,o.dateTimeFormat={hour:t.hourFormat,minute:t.minuteFormat},o.value=i.time),o._notificationObj=i,o.classList.remove("smart-hidden"),o.wait=!1,o.style.width=r.offsetWidth+"px",o.style.height=r.offsetHeight+"px",o.style.top=r.offsetTop+"px",o.style.left=r.offsetLeft+"px",o&&o.open(),t._editor=o}_hideEditor(){const e=this,t=e._editor;if(!t)return;const n=e._editor._notificationObj;n&&(t===e.$.timeInput?n.time=t.value:t===e.$.typeInput?n.type=t.value:n.interval=t.value,e._refreshNotificationItem(n)),t.close&&t.close(),e._editor.classList.add("smart-hidden"),delete e._editor}_createNotificaiton(){const e=this,t=e._notifications;if(!t)return;const n={interval:1,type:"days",time:[e.hourStart,0]};t.push(n),e._refreshNotificationItems()}_deleteNotification(e){const t=this._notifications;if(!t||!e)return;const n=e._notificationObj;if(delete e._notificationObj,e.remove(),!n)return;const a=t.indexOf(n);a<0||(t.splice(a,1),this._refreshNotificationItems())}_containerChangeHandler(e){const t=this,n=e.target,a=n._notificationObj;n===t.$.timeInput?a.time=n.value:n===t.$.typeInput?a.type=n.dataSource.find(i=>i.label===n.value).value:n===t.$.intervalInput&&(a.interval=n.value),t._refreshNotificationItem(a)}_refreshNotificationItem(e){const t=this,n=t.$.notificationsContainer.children;for(let a=0;a<n.length;a++){const i=n[a];if(i._notificationObj===e){let r=new Date;r.setHours(e.time[0],e.time[1]);const o=i.children;for(let d=0;d<o.length;d++){const f=o[d];f.hasAttribute("interval")?f.textContent=e.interval:f.hasAttribute("type")?f.textContent=t.localize(e.type)||e.type:f.hasAttribute("time")&&(f.textContent=r.toLocaleTimeString(t.locale,{hour:t.hourFormat,minute:t.minuteFormat}))}}}}_refreshNotificationItems(){const e=this,t=e.$.notificationsContainer,n=e._notifications;for(;t.firstElementChild;)delete t.firstElementChild._notificationObj,t.firstElementChild.remove();if(n&&n.length){const a=document.createDocumentFragment();for(let i=0;i<n.length;i++)a.appendChild(e._createNotificationItem(n[i]));a.children.length&&t.appendChild(a)}e._setFocusable(),e.set("value",n)}_handleNotifications(){const e=this,t=e.value;let n;e.$.notificationsContainer.innerHTML="",n=e._notifications=[];for(let a=0;a<t.length;a++){const i=t[a];let r=i.interval,o=i.type,d=i.time;if(r===void 0||o===void 0||d===void 0)continue;d instanceof Date?d=[d.getHours(),d.getMinutes()]:Array.isArray(d)||(d=[]),o=o&&o!=="days"?"weeks":"days",o==="days"?r=Math.max(0,Math.min(28,r)):(o="weeks",r=Math.max(0,Math.min(4,r))),d[0]=Math.max(0,Math.min(23,d[0]||0)),d[1]=Math.max(0,Math.min(59,d[1]||0));const f={interval:r,type:o,time:d};n.push(f)}e._refreshNotificationItems()}_createNotificationItem(e){const t=this,n=document.createElement("div");n.classList.add("smart-notification-item"),n.setAttribute("role","group");let a=new Smart.Utilities.DateTime(new Date).toDate(t.timeZone);return a.setHours(e.time[0],e.time[1]),n.innerHTML=`
            <div class="smart-input" interval>${e.interval}</div>
            <div class="smart-input" type>${t.localize(e.type)||e.type}</div>
            <label>${t.localize("beforeAt")||""}</label>
            <div class="smart-input" time>${a.toLocaleTimeString(t.locale,{hour:t.hourFormat,minute:t.minuteFormat})}</div>
            <div class="smart-button" delete aria-label="Delete" role="button"></div>`,n._notificationObj=e,n}_handleNotificationEditors(){const e=this,t=e.rightToLeft,n=e.locale,a=e.theme,i=e.$.intervalInput,r=e.$.typeInput,o=e.$.timeInput,d=e.messages;[i,r,o].forEach(p=>{const v=p.messages;for(let w in v.en){const C=d[n][w];C!==void 0&&(v[n]||(v[n]={}),v[n][w]=C)}p.rigtToLeft=t,p.locale=n,p.theme=a});const f=t?"left":"right";o.dropDownButtonPosition="none",r.dropDownButtonPosition=f,i.dropDownButtonPosition=f,r.dataSource=[{label:e.localize("days"),value:"days"},{label:e.localize("weeks"),value:"weeks"}]}})},9135:()=>{Smart("smart-scroll-bar",class extends Smart.BaseElement{static get properties(){return{clickRepeatDelay:{type:"integer",value:50},largeStep:{type:"integer",value:100},min:{type:"integer",value:0},max:{type:"integer",value:1e3},mechanicalAction:{value:"switchWhileDragging",allowedValues:["switchUntilReleased","switchWhenReleased","switchWhileDragging"],type:"string"},orientation:{type:"string",value:"horizontal",allowedValues:["horizontal","vertical"]},step:{type:"integer",value:10},showButtons:{type:"boolean",value:!0,defaultReflectToAttribute:!0},value:{type:"integer",value:0}}}static get styleUrls(){return["smart.scrollbar.css"]}template(){return`<div id="container" class="smart-container" role="presentation">
                    <div id="nearButton" class="smart-scroll-button smart-arrow-left" role="presentation" aria-hidden="true"></div>
                    <div  id="track" class="smart-track" role="presentation">
                        <div id="thumb" class="smart-thumb" role="presentation"></div>
                    </div>
                    <div id="farButton" class="smart-scroll-button smart-arrow-right" role="presentation" aria-hidden="true"></div>
            </div>`}static get listeners(){return{"nearButton.click":"_nearButtonClickHandler","nearButton.down":"_startRepeat","nearButton.up":"_stopRepeat","nearButton.pointerenter":"_updateInBoundsFlag","nearButton.pointerleave":"_updateInBoundsFlag","farButton.click":"_farButtonClickHandler","farButton.down":"_startRepeat","farButton.up":"_stopRepeat","farButton.pointerenter":"_updateInBoundsFlag","farButton.pointerleave":"_updateInBoundsFlag","track.down":"_trackDownHandler","track.click":"_trackClickHandler","track.move":"_trackMoveHandler","thumb.down":"_dragStartHandler","document.move":"_dragHandler","document.up":"_dragEndHandler",up:"_dragEndHandler","document.selectstart":"_selectStartHandler",resize:"_resizeHandler"}}_updateInBoundsFlag(e){const t=this,n=e.target;n._isPointerInBounds=!0,e.type.indexOf("leave")!==-1&&(n._isPointerInBounds=!1),("buttons"in e?e.buttons:e.which)!==1&&t._stopRepeat(e)}_startRepeat(e){const t=this;if(t.disabled)return;const n=e.target;n._initialTimer||(n._initialTimer=setTimeout(function(){n._repeatTimer=setInterval(()=>{if(n._isPointerInBounds){const a="buttons"in e?e.buttons:e.which;n.$.fireEvent("click",{buttons:a,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}},t.clickRepeatDelay)},3*t.clickRepeatDelay))}_stopRepeat(e){if(this.disabled)return;const t=e.target;t._repeatTimer&&(clearInterval(t._repeatTimer),t._repeatTimer=null),t._initialTimer&&(clearTimeout(t._initialTimer),t._initialTimer=null)}_calculateThumbSize(e){const t=this,n=t.max-t.min,a=t.orientation==="horizontal"?t.$.track.offsetWidth>10:t.$.track.offsetHeight>10;let i=0;return n>=1&&a?(i=e/(n+e)*e,t.$.thumb.className.indexOf("smart-hidden")>=0&&t.$thumb.removeClass("smart-hidden")):t.$thumb.addClass("smart-hidden"),Math.max(10,Math.min(i,e))}_dragStartHandler(e){const t=this;t.disabled||(t.thumbCapture=!0,t.dragStartX=e.clientX,t.dragStartY=e.clientY,t.dragStartValue=t.value,e.stopPropagation(),e.preventDefault())}_dragHandler(e){const t=this;if(t.thumbCapture!==!0)return;t._isThumbDragged=!0;const n=(t.max-t.min)/(t.scrollBarSize-t.thumbSize),a=t.orientation==="horizontal"?(e.clientX-t.dragStartX)*n:(e.clientY-t.dragStartY)*n;let i=a;t.rightToLeft&&t.orientation==="horizontal"&&(i=-a),t._updateValue(t.dragStartValue+i),e.stopPropagation(),e.preventDefault(),e.originalEvent&&(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault())}_dragEndHandler(e){const t=this;t._trackDownTimer&&(clearInterval(t._trackDownTimer),t._trackDownTimer=null),t.thumbCapture&&(t.thumbCapture=!1,t._isThumbDragged=!1,t.mechanicalAction==="switchWhenReleased"?t._updateValue(t.dragStartValue,t.value):this.mechanicalAction==="switchUntilReleased"&&t._updateValue(t.dragStartValue),e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation())}_farButtonClickHandler(){const e=this;if(e.disabled)return;const t=e.value;e._updateValue(e.value+(e.orientation==="horizontal"&&e.rightToLeft?-1:1)*e.step),e.mechanicalAction==="switchUntilReleased"&&e._updateValue(t)}_nearButtonClickHandler(){const e=this;if(e.disabled)return;const t=e.value;e._updateValue(e.value-(e.orientation==="horizontal"&&e.rightToLeft?-1:1)*e.step),e.mechanicalAction==="switchUntilReleased"&&e._updateValue(t)}propertyChangedHandler(e,t,n){super.propertyChangedHandler(e,t,n);const a=this;switch(e){case"min":case"max":case"orientation":case"showButtons":a._layout(),e==="min"?a.setAttribute("aria-valuemin",n):e==="max"?a.setAttribute("aria-valuemax",n):e==="orientation"&&a.setAttribute("aria-orientation",n);break;case"value":a._updateValue(t,n);break;default:a._layout()}}render(){const e=this;e.setAttribute("role","scrollbar"),e.setAttribute("aria-orientation",e.orientation),e.setAttribute("aria-valuemin",e.min),e.setAttribute("aria-valuemax",e.max),e.setAttribute("aria-valuenow",e.value),e._layout(),super.render()}_resizeHandler(){this._layout()}refresh(){this._layout()}beginUpdate(){this._isUpdating=!0}endUpdate(){this._isUpdating=!1,this.refreshValue()}refreshValue(){const e=this;e._layout(),e._updateValue(e.value)}_layout(){const e=this;e._isUpdating||(e.scrollBarSize=e.orientation==="horizontal"?e.$.track.offsetWidth:e.$.track.offsetHeight,e.thumbSize=e._calculateThumbSize(e.scrollBarSize),e.orientation==="horizontal"&&e.$.thumb.style.width!==e.thumbSize+"px"?e.$.thumb.style.width=e.thumbSize+"px":e.orientation==="vertical"&&e.$.thumb.style.height!==e.thumbSize+"px"&&(e.$.thumb.style.height=e.thumbSize+"px"),e.orientation==="horizontal"?(e.$.nearButton.classList.contains("smart-arrow-up")&&e.$.nearButton.classList.remove("smart-arrow-up"),e.$.farButton.classList.contains("smart-arrow-down")&&e.$.farButton.classList.remove("smart-arrow-down"),e.$.nearButton.classList.contains("smart-arrow-left")||e.$.nearButton.classList.add("smart-arrow-left"),e.$.farButton.classList.contains("smart-arrow-right")||e.$.farButton.classList.add("smart-arrow-right")):(e.$.nearButton.classList.contains("smart-arrow-left")&&e.$.nearButton.classList.remove("smart-arrow-left"),e.$.farButton.classList.contains("smart-arrow-right")&&e.$.farButton.classList.remove("smart-arrow-right"),e.$.nearButton.classList.contains("smart-arrow-up")||e.$.nearButton.classList.add("smart-arrow-up"),e.$.farButton.classList.contains("smart-arrow-down")||e.$.farButton.classList.add("smart-arrow-down")),e._updateThumbPosition(),(e.value>e.max||e.value<e.min)&&e._updateValue(e.value,e.value>e.max?e.max:e.min))}_selectStartHandler(e){this.thumbCapture&&e.preventDefault()}_trackDownHandler(e){const t=this;e.target===t.$.track&&(t._trackDownTimer&&clearInterval(t._trackDownTimer),t.thumbCapture||(t._trackDownTimer=setInterval(function(){t._trackClickHandler(e)},t.clickRepeatDelay),e.stopPropagation(),e.preventDefault()))}_trackClickHandler(e){const t=this;if(t.disabled)return;if(t._isThumbDragged)return clearInterval(t._trackDownTimer),void(t._trackDownTimer=null);const n=t.$.thumb.getBoundingClientRect(),a=e.pageX-window.pageXOffset,i=e.pageY-window.pageYOffset,r=(t.rightToLeft?-1:1)*t.value;t.orientation==="horizontal"?a>(t._isThumbDragged?t.dragStartX:n.right)?t._updateValue(t.value+(t.rightToLeft?-1:1)*t.largeStep):a<(t._isThumbDragged?t.dragStartX:n.left)&&t._updateValue(t.value-(t.rightToLeft?-1:1)*t.largeStep):i>(t._isThumbDragged?t.dragStartY:n.bottom)?t._updateValue(t.value+t.largeStep):i<(t._isThumbDragged?t.dragStartY:n.top)&&t._updateValue(t.value-t.largeStep),t.mechanicalAction==="switchUntilReleased"&&t._updateValue(r)}_trackMoveHandler(e){e.originalEvent.type==="touchmove"&&e.originalEvent.preventDefault()}_updateValue(e,t){const n=this;if(!n._isUpdating&&(arguments.length===1&&(t=e,e=n.value),(t===void 0||isNaN(t))&&(t=n.min),t>n.max&&(t=n.max),t<n.min&&(t=n.min),n.value=t,e!==t)){if(n.setAttribute("aria-valuenow",t),n._updateThumbPosition(),n.thumbCapture&&n.mechanicalAction==="switchWhenReleased")return;if(n.onChange)return void n.onChange({value:n.value,oldValue:e,min:n.min,max:n.max,context:n});n.$.fireEvent("change",{value:n.value,oldValue:e,min:n.min,max:n.max})}}_updateThumbPosition(){const e=this,t=e.orientation==="horizontal"?e.$.track.offsetWidth:e.$.track.offsetHeight,n=e._calculateThumbSize(t),a=t-n;let i=(t-n)/(e.max-e.min)*(e.value-e.min);e.rightToLeft&&e.orientation==="horizontal"&&(i=(t-n)/(e.max-e.min)*(e.max-e.value-e.min)),i=Math.min(a,Math.max(0,i)),e.orientation==="vertical"&&e.$.thumb.style.top!==i+"px"?e.$.thumb.style.top=i+"px":e.orientation==="horizontal"&&e.$.thumb.style.left!==i+"px"&&(e.$.thumb.style.left=i+"px")}})},2616:()=>{Smart("smart-switch-button",class extends Smart.ToggleButton{static get properties(){return{inverted:{value:!1,type:"boolean"},orientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"},switchMode:{value:"default",allowedValues:["default","click","drag","none"],type:"string"},clickMode:{value:"release",allowedValues:["press","release","pressAndRelease"],type:"string"}}}static get listeners(){return{"container.down":"_mouseDownHandler","document.move":"_drag","container.move":"_moveHandler","document.up":"_switchThumbDropHandler",mouseenter:"_switchButtonOnMouseEnter",mouseleave:"_switchButtonOnMouseLeave",resize:"_resizeHandler","container.resize":"_resizeHandler","document.selectstart":"_selectStartHandler"}}static get styleUrls(){return["smart.switchbutton.css"]}propertyChangedHandler(e,t,n){const a=this;switch(super.propertyChangedHandler(e,t,n),a._updateContentProperties(),e){case"indeterminate":n?(a._valueCache=a.checked,a.checked=null):a.checked=a._valueCache,a._setAriaState();break;case"trueContent":a.trueContent=n;break;case"falseContent":a.falseContent=n;break;case"orientation":a._resizeHandler()}a._getContainersSizeAndBreakPoint(),a._removeDragStyles(),a._resizeHandler()}template(){return`<div  id='container' class='smart-container' role="presentation">
                    <div id='innerContainer' class='smart-inner-container' role="presentation">
                        <span id='falseContentContainer' inner-h-t-m-l='[[falseContent]]' class='smart-false-content-container'></span>
                        <span id='switchThumb' class='smart-thumb' role="presentation"></span>
                        <span id='trueContentContainer' inner-h-t-m-l='[[trueContent]]' class='smart-true-content-container'></span>
                    </div>
                    <input id='hiddenInput' class='smart-hidden-input' type='hidden'>
                </div>`}ready(){const e=this;super.ready(),e.setAttribute("role","switch");let t=e.animation;e.hasAnimation&&(e.animation="none"),e._supportCSSVariables=Smart.Utilities.Core.CSSVariablesSupport()&&!!window.getComputedStyle(e.$.container).getPropertyValue("--smart-switch-button-default-width"),e._htmlBindOnInitialization(),e._resizeHandler(),e._initializePrivateVariables(),e._getContainersSizeAndBreakPoint(),e.indeterminate&&(e._valueCache=e.checked,e.checked=null),e._setAriaState(),e._handleTemplate(!0),e._handleTemplate(!1),e._handleTemplate(),e._updateHidenInputNameAndValue(),e._updateThumbPosition(),e.animation=t}_mouseDownHandler(e){const t=this;t.disabled||t.readonly||t.switchMode==="none"||(e.originalEvent.target.closest(".smart-thumb")!==t.$.switchThumb||t.switchMode!=="default"&&t.switchMode!=="drag"||t._switchThumbDragStartHandler(e),t._isSwitchClicked=t,t._updateContentProperties(),t.clickMode!=="release"&&t.switchMode==="click"&&(t._updateStateOnClick(),t.$.fireEvent("click"),t.indeterminate=!1,t._updateHidenInputNameAndValue()))}_updateStateOnClick(){this._changeCheckState(),this.focus()}_drag(e){this._mouseDown&&(Smart.Utilities.Core.isMobile&&e.originalEvent.preventDefault(),this._switchThumbDragHandler(e))}_switchThumbDragStartHandler(e){const t=this;t.disabled||(t.switchMode==="click"&&t.clickMode!=="release"&&(e.preventDefault(),e.stopPropagation()),t._isInactiveOn("drag")||(t._mouseDown=!0,t._getContainersSizeAndBreakPoint(),t._pointerPosition=t.orientation==="vertical"?e.pageY:e.pageX,e.preventDefault()))}_selectStartHandler(e){this._mouseDown&&e.preventDefault()}_switchThumbDragHandler(e){const t=this;if(t._isInactiveOn("drag"))return;if(t._mouseDown===!1)return void t._removeDragStyles();if(!t.hasAttribute("dragged")){if(Math.abs((t.orientation==="vertical"?e.pageY:e.pageX)-t._pointerPosition)<=1.5)return;t.setAttribute("dragged","")}let n=t.$.innerContainer,a=t.$.container.getBoundingClientRect(),i=t.orientation==="vertical"?document.body.scrollTop||document.documentElement.scrollTop:document.body.scrollLeft||document.documentElement.scrollLeft,r=t.orientation==="vertical"?a.top+i:a.left+i,o=t.orientation==="vertical"?t._pointerPosition-n.offsetTop:t._pointerPosition-n.offsetLeft,d=t._pointerPosition>=r&&t._pointerPosition<=r+t._switchContainerSize;const f=-1*(t.offsetWidth-t.$.switchThumb.offsetWidth),p=-1*(t.offsetHeight-t.$.switchThumb.offsetHeight);if(t._pointerPosition=t.orientation==="vertical"?e.pageY:e.pageX,d){let v=t._pointerPosition-o;v<-t._switchTrackLength&&(v=-t._switchTrackLength),v>0&&(v=0),t.orientation==="vertical"?t.$.innerContainer.style.top=Math.max(p,v)+"px":t.$.innerContainer.style.left=Math.max(f,v)+"px"}}_switchThumbDropHandler(){const e=this;e.hasAttribute("dragged")?e._endDrag():e._isSwitchClicked&&e._endClick(),e._mouseDown=!1,delete e._isSwitchClicked}_endDrag(){const e=this,t=e.inverted&&!e.rightToLeft||!e.inverted&&e.rightToLeft;if(e.indeterminate=!1,e._updateHidenInputNameAndValue(),e._isInactiveOn("drag")||!e._mouseDown)return;e.removeAttribute("dragged"),delete e._pointerPosition;const n=(e.orientation==="vertical"?e.$.innerContainer.offsetTop+e.$.switchThumb.offsetTop+e.$.switchThumb.clientHeight/2:e.$.innerContainer.offsetLeft+e.$.switchThumb.offsetLeft+e.$.switchThumb.clientWidth/2)>e._switchBreakPoint;e.checked!==null?!t==(n===e.checked)&&e._changeCheckState(!e.checked):n?e._changeCheckState(t):e._changeCheckState(!t),e._removeDragStyles(),e._updateThumbPosition()}_endClick(){const e=this;e._resizeHandler(),e.disabled||e.readonly||e._isInactiveOn("click")||(e.clickMode!=="release"&&e.clickMode!=="pressAndRelease"||e._updateStateOnClick(),e.indeterminate=!1,e._updateHidenInputNameAndValue())}_switchButtonOnMouseEnter(){const e=this;e.disabled||e.readonly||e.$.addClass("hovered")}_switchButtonOnMouseLeave(){const e=this;e.disabled||e.readonly||e.$.removeClass("hovered")}_isInactiveOn(e){const t=this,n=t.disabled||t.readonly||t.switchMode!==e;return t.switchMode!=="default"&&n}_keyUpHandler(e){const t=this;t.disabled||t.readonly||e.keyCode!==32||t.switchMode==="none"||(t._getContainersSizeAndBreakPoint(),t._changeCheckState())}_initializePrivateVariables(){const e=this;e._switchContainerSize=e._switchTrackLength=e._switchBreakPoint=e._pointerPosition=0,e._mouseDown=!1}_changeCheckState(e){const t=this;let n=t.checked;if(n===null&&e!==void 0)return t.$.fireEvent("change",{value:e,oldValue:null,changeType:"pointer"}),t.$.fireEvent("uncheckValue",{changeType:"pointer"}),t.checked=e,void t._updateThumbPosition();t.checked===null?t.checked=!0:t.checked=!t.checked,t._setAriaState(),t._updateThumbPosition(),t.$.fireEvent("change",{value:t.checked,oldValue:n,changeType:"pointer"}),t.checked?t.$.fireEvent("checkValue",{changeType:"pointer"}):t.$.fireEvent("uncheckValue",{changeType:"pointer"}),t._updateHidenInputNameAndValue()}_getContainersSizeAndBreakPoint(){const e=this;e._switchContainerSize=e.orientation==="vertical"?e.$.container.offsetHeight:e.$.container.offsetWidth,e._switchTrackLength=e.orientation==="vertical"?e._switchContainerSize-e.$.switchThumb.offsetHeight:e._switchContainerSize-e.$.switchThumb.offsetWidth,e._switchBreakPoint=e._switchContainerSize/2}_removeDragStyles(){const e=this;e._supportCSSVariables?e.$.innerContainer.removeAttribute("style"):e.$.innerContainer.style.left="",e._supportCSSVariables?e.$.innerContainer.removeAttribute("style"):e.$.innerContainer.style.top="",e._mouseDown=!1}_moveHandler(e){e.originalEvent.type==="touchmove"&&e.originalEvent.preventDefault()}_resizeHandler(){const e=this;if(!document.body.contains(e))return;const t=window.getComputedStyle(e,null),n=parseInt(t.getPropertyValue("border-top-width")),a=parseInt(t.getPropertyValue("border-right-width")),i=parseInt(t.getPropertyValue("border-bottom-width")),r=parseInt(t.getPropertyValue("border-left-width")),o=e.orientation==="vertical"?e.offsetHeight-(n+i):e.offsetWidth-(r+a);e._getContainersSizeAndBreakPoint(),e._supportCSSVariables?e.$.container.style.setProperty("--smart-switch-button-default-width",o+"px"):(e._innerContainerSize=o,e.$.innerContainer.style.height=e.$.innerContainer.style.width="",e.$.trueContentContainer.style.height=e.$.trueContentContainer.style.width="",e.$.falseContentContainer.style.height=e.$.falseContentContainer.style.width="",e.orientation==="horizontal"?(e.$.innerContainer.style.setProperty("width",2*o-e.$.switchThumb.clientWidth+"px"),e.$.trueContentContainer.style.setProperty("width",e._switchTrackLength+"px"),e.$.falseContentContainer.style.setProperty("width",e._switchTrackLength+"px")):(e.$.innerContainer.style.setProperty("height",2*o-e.$.switchThumb.clientHeight+"px"),e.$.trueContentContainer.style.setProperty("height",e._switchTrackLength+"px"),e.$.falseContentContainer.style.setProperty("height",e._switchTrackLength+"px")),e._updateThumbPosition())}_updateThumbPosition(){const e=this,t=e.inverted&&!e.rightToLeft||!e.inverted&&e.rightToLeft;!e._supportCSSVariables&&(t?e.checked!==!0:e.checked!==!1)&&e._innerContainerSize?((t?e.checked===!1:e.checked)&&(e.orientation==="horizontal"?(e.$.innerContainer.style.left=-1*(e._innerContainerSize-e.$.switchThumb.offsetWidth)+"px",e.$.innerContainer.style.top=""):(e.$.innerContainer.style.top=-1*(e._innerContainerSize-e.$.switchThumb.offsetHeight)+"px",e.$.innerContainer.style.left="")),e.checked===null&&(e.orientation==="horizontal"?(e.$.innerContainer.style.left=-1*(e._innerContainerSize/2-e.$.switchThumb.offsetWidth/2)+"px",e.$.innerContainer.style.top=""):(e.$.innerContainer.style.top=-1*(e._innerContainerSize/2-e.$.switchThumb.offsetHeight/2)+"px",e.$.innerContainer.style.left=""))):e.$.innerContainer.style.left=e.$.innerContainer.style.top=""}_setAriaState(){const e=this,t=!!e.checked;e.setAttribute("aria-checked",t),t?(e.$.falseContentContainer.setAttribute("aria-hidden",!0),e.$.trueContentContainer.removeAttribute("aria-hidden")):(e.$.trueContentContainer.setAttribute("aria-hidden",!0),e.$.falseContentContainer.removeAttribute("aria-hidden"))}})},7341:()=>{(()=>{Smart("smart-text-area",class extends Smart.Input{static get properties(){return{users:{value:[],type:"array",reflectToAttribute:!1},resize:{value:"none",type:"string"},richText:{value:!1,type:"boolean"},enableHTMLEncode:{value:!0,type:"boolean"},minWidth:{value:0,type:"number"},minHeight:{value:0,type:"number"},toolbarOnFocus:{value:!1,type:"boolean"},dataSource:{value:[],type:"array",reflectToAttribute:!1},uploadSettings:{value:{url:{value:"",type:"string",reflectToAttribute:!1},removeUrl:{value:"",type:"string",reflectToAttribute:!1},existsUrl:{value:"",type:"string",reflectToAttribute:!1},name:{value:"userfile[]",type:"string",reflectToAttribute:!1},uploadMaxCount:{value:5,type:"number",reflectToAttribute:!1},uploadMaxSize:{value:2097152,type:"number",reflectToAttribute:!1},data:{value:null,type:"object",reflectToAttribute:!1},onUploadStarted:{value:null,type:"any",reflectToAttribute:!1},onUploadCompleted:{value:null,type:"any",reflectToAttribute:!1},onUploadRemove:{value:null,type:"any",reflectToAttribute:!1},onUploadError:{value:null,type:"any",reflectToAttribute:!1},onChange:{value:null,type:"any",reflectToAttribute:!1},onProgress:{value:null,type:"any",reflectToAttribute:!1},onAbort:{value:null,type:"any",reflectToAttribute:!1},onError:{value:null,type:"any",reflectToAttribute:!1},onSetHeaders:{value:null,type:"any",reflectToAttribute:!1}},reflectToAttribute:!1,type:"object"},toolbarItems:{value:["bold","italic","underline","strikethrough","fontsize","fontname","fontcolor","backgroundcolor","alignment","orderedlist","unorderedlist","checklist","hyperlink","image","tableheader","undo","redo","clearformat"],reflectToAttribute:!1,type:"array"},emojis:{value:[{value:"😄",listValue:"😄 smile"},{value:"😆",listValue:"😆 laughing"},{value:"😊",listValue:"😊 blush"},{value:"😃",listValue:"😃 smiley"},{value:"😏",listValue:"😏 smirk"},{value:"😍",listValue:"😍 heart_eyes"},{value:"😘",listValue:"😘 kissing_heart"},{value:"😚",listValue:"😚 kissing_closed_eyes"},{value:"😳",listValue:"😳 flushed"},{value:"😌",listValue:"😌 relieved"},{value:"😆",listValue:"😆 satisfied"},{value:"😁",listValue:"😁 grin"},{value:"😉",listValue:"😉 wink"},{value:"😀",listValue:"😀 grinning"},{value:"😗",listValue:"😗 kissing"},{value:"😙",listValue:"😙 kissing_smiling_eyes"},{value:"😛",listValue:"😛 stuck_out_tongue"},{value:"😴",listValue:"😴 sleeping"},{value:"😟",listValue:"😟 worried"},{value:"😦",listValue:"😦 frowning"},{value:"😧",listValue:"😧 anguished"},{value:"😮",listValue:"😮 open_mouth"},{value:"😬",listValue:"😬 grimacing"},{value:"😕",listValue:"😕 confused"},{value:"😯",listValue:"😯 hushed"},{value:"😑",listValue:"😑 expressionless"},{value:"😒",listValue:"😒 unamused"},{value:"😅",listValue:"😅 sweat_smile"},{value:"😓",listValue:"😓 sweat"},{value:"😥",listValue:"😥 disappointed_relieved"},{value:"😩",listValue:"😩 weary"},{value:"😔",listValue:"😔 pensive"},{value:"😞",listValue:"😞 disappointed"},{value:"😖",listValue:"😖 confounded"},{value:"😨",listValue:"😨 fearful"},{value:"😰",listValue:"😰 cold_sweat"},{value:"😣",listValue:"😣 persevere"},{value:"😢",listValue:"😢 cry"},{value:"😭",listValue:"😭 sob"},{value:"😂",listValue:"😂 joy"},{value:"😲",listValue:"😲 astonished"},{value:"😱",listValue:"😱 scream"},{value:"😫",listValue:"😫 tired_face"},{value:"😠",listValue:"😠 angry"},{value:"😡",listValue:"😡 rage"},{value:"😤",listValue:"😤 triumph"},{value:"😪",listValue:"😪 sleepy"},{value:"😋",listValue:"😋 yum"},{value:"😷",listValue:"😷 mask"},{value:"😎",listValue:"😎 sunglasses"},{value:"😵",listValue:"😵 dizzy_face"},{value:"👿",listValue:"👿 imp"},{value:"😈",listValue:"😈 smiling_imp"},{value:"😐",listValue:"😐 neutral_face"},{value:"😶",listValue:"😶 no_mouth"},{value:"😇",listValue:"😇 innocent"},{value:"👽",listValue:"👽 alien"},{value:"💛",listValue:"💛 yellow_heart"},{value:"💙",listValue:"💙 blue_heart"},{value:"💜",listValue:"💜 purple_heart"},{value:"❤️",listValue:"❤️ heart"},{value:"💚",listValue:"💚 green_heart"},{value:"💔",listValue:"💔 broken_heart"},{value:"💓",listValue:"💓 heartbeat"},{value:"💗",listValue:"💗 heartpulse"},{value:"💕",listValue:"💕 two_hearts"},{value:"💞",listValue:"💞 revolving_hearts"},{value:"💘",listValue:"💘 cupid"},{value:"💖",listValue:"💖 sparkling_heart"},{value:"✨",listValue:"✨ sparkles"},{value:"⭐",listValue:"⭐ star"},{value:"🌟",listValue:"🌟 star2"},{value:"💫",listValue:"💫 dizzy"},{value:"💥",listValue:"💥 boom"},{value:"💥",listValue:"💥 collision"},{value:"💢",listValue:"💢 anger"},{value:"❗",listValue:"❗ exclamation"},{value:"❓",listValue:"❓ question"},{value:"💤",listValue:"💤 zzz"},{value:"💨",listValue:"💨 dash"},{value:"💦",listValue:"💦 sweat_drops"},{value:"🎶",listValue:"🎶 notes"},{value:"🎵",listValue:"🎵 musical_note"},{value:"🔥",listValue:"🔥 fire"},{value:"💩",listValue:"💩 hankey"},{value:"💩",listValue:"💩 poop"},{value:"💩",listValue:"💩 shit"},{value:"👍",listValue:"👍 +1"},{value:"👍",listValue:"👍 thumbsup"},{value:"👎",listValue:"👎 +1"},{value:"👎",listValue:"👎 thumbsdown"},{value:"👌",listValue:"👌 ok_hand"},{value:"👊",listValue:"👊 facepunch"},{value:"✊",listValue:"✊ fist"},{value:"✌️",listValue:"✌️ v"},{value:"👋",listValue:"👋 wave"},{value:"✋",listValue:"✋ raised_hand"},{value:"👐",listValue:"👐 open_hands"},{value:"☝️",listValue:"☝️ point_up"},{value:"👇",listValue:"👇 point_down"},{value:"👈",listValue:"👈 point_left"},{value:"👉",listValue:"👉 point_right"},{value:"🙌",listValue:"🙌 raised_hands"},{value:"🙏",listValue:"🙏 pray"},{value:"👆",listValue:"👆 point_up_2"},{value:"👏",listValue:"👏 clap"},{value:"💪",listValue:"💪 muscle"},{value:"🤘",listValue:"🤘 metal"},{value:"🖕",listValue:"🖕 fu"},{value:"🚶",listValue:"🚶 walking"},{value:"🏃",listValue:"🏃 runner"},{value:"🏃",listValue:"🏃 running"},{value:"👫",listValue:"👫 couple"},{value:"👪",listValue:"👪 family"},{value:"👬",listValue:"👬 two_men_holding_hands"},{value:"👭",listValue:"👭 two_women_holding_hands"},{value:"💃",listValue:"💃 dancer"},{value:"👯",listValue:"👯 dancers"},{value:"🙆‍♀️",listValue:"🙆‍♀️ ok_woman"},{value:"🙅",listValue:"🙅 no_good"},{value:"💁",listValue:"💁 information_desk_person"},{value:"🙋",listValue:"🙋 raising_hand"},{value:"👰‍♀️",listValue:"👰‍♀️ bride_with_veil"},{value:"🙇",listValue:"🙇 bow"},{value:"💏",listValue:"💏 couplekiss"},{value:"💑",listValue:"💑 couple_with_heart"},{value:"💆",listValue:"💆 massage"},{value:"💇",listValue:"💇 haircut"},{value:"💅",listValue:"💅 nail_care"},{value:"👦",listValue:"👦 boy"},{value:"👧",listValue:"👧 girl"},{value:"👩",listValue:"👩 woman"},{value:"👨",listValue:"👨 man"},{value:"👶",listValue:"👶 baby"},{value:"👵",listValue:"👵 older_woman"},{value:"👴",listValue:"👴 older_man"},{value:"👲",listValue:"👲 man_with_gua_pi_mao"},{value:"👳‍♂️",listValue:"👳‍♂️ man_with_turban"},{value:"👷",listValue:"👷 construction_worker"},{value:"👮",listValue:"👮 cop"},{value:"👼",listValue:"👼 angel"},{value:"👸",listValue:"👸 princess"},{value:"😺",listValue:"😺 smiley_cat"},{value:"😸",listValue:"😸 smile_cat"},{value:"😻",listValue:"😻 heart_eyes_cat"},{value:"😽",listValue:"😽 kissing_cat"},{value:"😼",listValue:"😼 smirk_cat"},{value:"🙀",listValue:"🙀 scream_cat"},{value:"😿",listValue:"😿 crying_cat_face"},{value:"😹",listValue:"😹 joy_cat"},{value:"😾",listValue:"😾 pouting_cat"},{value:"👹",listValue:"👹 japanese_ogre"},{value:"👺",listValue:"👺 japanese_goblin"},{value:"🙈",listValue:"🙈 see_no_evil"},{value:"🙉",listValue:"🙉 hear_no_evil"},{value:"🙊",listValue:"🙊 speak_no_evil"},{value:"💂‍♂️",listValue:"💂‍♂️ guardsman"},{value:"💀",listValue:"💀 skull"},{value:"🐾",listValue:"🐾 feet"},{value:"👄",listValue:"👄 lips"},{value:"💋",listValue:"💋 kiss"},{value:"💧",listValue:"💧 droplet"},{value:"👂",listValue:"👂 ear"},{value:"👀",listValue:"👀 eyes"},{value:"👃",listValue:"👃 nose"},{value:"👅",listValue:"👅 tongue"},{value:"🔔",listValue:"🔔 bell"},{value:"🔕",listValue:"🔕 no_bell"},{value:"🎋",listValue:"🎋 tanabata_tree"},{value:"🎉",listValue:"🎉 tada"},{value:"🎊",listValue:"🎊 confetti_ball"},{value:"🔮",listValue:"🔮 crystal_ball"},{value:"♻️",listValue:"♻️ recycle"},{value:"🔚",listValue:"🔚 end"},{value:"🔛",listValue:"🔛 on"},{value:"🔜",listValue:"🔜 soon"}],type:"array",reflectToAttribute:!1}}}template(){return`<div id="inputContainer" role="presentation"><textarea class="smart-input" id='input' readonly='[[readonly]]' placeholder='[[placeholder]]'  name='[[name]]' value='{{value::keyup}}' disabled='[[disabled]]' aria-label="[[placeholder]]"></textarea><div id="editor"></div><span class="smart-hidden smart-hint" inner-h-t-m-l="[[hint]]" id="span"></span><div id="dropDownButton" tabindex=-1 class="smart-drop-down-button" role="button" aria-label="Toggle popup"><div id="arrow" class="arrow" aria-hidden="true"></div></div></div>`}_blurHandler(){const n=this;n.richText?n.removeAttribute("focus"):super._blurHandler()}_focusHandler(){const n=this;n.richText&&(n.$.editor.component.focus(),setTimeout(()=>{const a=n.$.editor.value;n.$.editor.selectionStart=a.length})),super._focusHandler()}setHTML(n){const a=this;if(a.richText)return a.$.editor.value=n;this.value=n.replaceAll("<","&lt;").replaceAll(">","&gt;")}getHTML(){const n=this;return n.richText?n.$.editor?n.$.editor.component.getHTML():"":n.value}propertyChangedHandler(n,a,i){const r=this;n==="value"&&r.richText&&(r.$.editor.value=i),n==="richText"&&r.render(),n==="users"?(delete r._initMenu,r._mentionMenu&&(r._mentionPlugin&&r._mentionPlugin.destroy(),r._mentionMenu.remove(),r._initUsersMention()),r._renderMentionTrigger()):n==="resize"&&(r.richText?r.$.editor.querySelector(".smart-editor-editable").style.resize=i:r.$.input.style.resize=i,r._mentionTrigger&&(r.resize!=="none"?r._mentionTrigger.style.right="10px":r._mentionTrigger.style.right="5px"))}detached(){const n=this;delete n._initMenu,n._mentionMenu&&n._mentionMenu.remove()}findMatches(){const n=this.$.input.value.split("").concat([" "]),a=[];let i="";for(let r in n){let o=n[r],d=n[r-1]||" ",f=[" ","\\n"].indexOf(d)>-1||d.charCodeAt(0)===10;(o==="@"&&f||i.length)&&o!==" "&&(i+=o),i.length&&o===" "&&(a.push({word:i,index:Math.max(r-i.length,0)}),i="")}return a}getMentions(){const n=this,a=this.findMatches(),i=[];return a.forEach(r=>{n.users.forEach(o=>{const d=r.word.replace("@","");o.name===d&&i.push(o)})}),i}_initUsersMention(){const n=this;if(n._initMenu||n.richText)return;n._initMenu=!0;const a=document.createElement("div");a.id=n.id+"_mention_menu",a.classList.add("smart-text-area-mention-menu","smart-hidden"),n._mentionMenu=a,document.body.appendChild(a),n._mentionPlugin=new Smart.Mention(n.richText?n.$.editor.querySelector(".smart-editor-editable"):n.$.input,a,i=>i===""?n.users:n.users.filter(r=>r.name.startsWith(i)),(i,r)=>i?`${r}${i.name} `:"",(i,r,o)=>{const d=document.createElement("div");return d.setAttribute("role","option"),d.className="smart-text-area-mention-menu-item",o&&(d.classList.add("selected"),d.setAttribute("aria-selected","")),d.textContent=i.name,d.onpointerdown=f=>{f.preventDefault(),r()},d})}cleanWordHTML(n){let a=document.createElement("div");return a.innerHTML=n,["o:p","w:","v:","xml"].forEach(i=>{let r=a.getElementsByTagName(i);for(;r.length>0;)r[0].remove()}),a.querySelectorAll("b").forEach(i=>i.outerHTML=i.outerHTML.replace("<b","<strong").replace("</b>","</strong>")),a.querySelectorAll("i").forEach(i=>i.outerHTML=i.outerHTML.replace("<i","<em").replace("</i>","</em>")),a.querySelectorAll("*[style]").forEach(i=>{const r=["color","background-color","font-weight","font-style"],o=i.getAttribute("style");if(o){let d="";o.split(";").forEach(f=>{let[p,v]=f.split(":");p=p&&p.trim(),v=v&&v.trim(),r.includes(p)&&(d+=`${p}: ${v}; `)}),d.trim()?i.setAttribute("style",d.trim()):i.removeAttribute("style")}}),a.innerHTML=a.innerHTML.replace(/\r?\n|\r/g," "),a.innerHTML=a.innerHTML.replace(/(<br\s*\/?>\s*){2,}/g,"<br>"),a.innerHTML=a.innerHTML.replace(/(<p>(\s|&nbsp;)*<\/p>\s*){2,}/g,"<p></p>"),a.innerHTML=a.innerHTML.replace(/(\s|&nbsp;){2,}/g," "),a.innerHTML=a.innerHTML.replace(/>\s+</g,"><"),a.innerHTML=a.innerHTML.replaceAll("·",""),a.innerHTML=a.innerHTML.replaceAll('class="MsoNormal"',""),a.innerHTML=a.innerHTML.replace(/<!--.*?-->/gs,""),["div","span"].forEach(i=>{let r=a.getElementsByTagName(i);Array.from(r).forEach(o=>{let d=o.parentNode;for(;o.firstChild;)d.insertBefore(o.firstChild,o);d.removeChild(o)})}),a.querySelectorAll("p, div, span").forEach(i=>{i.textContent.trim()||i.querySelector("img")||i.querySelector("a")||i.remove()}),a.innerHTML}_handlePaste(n,a){const i=this,r=navigator.clipboard,o=r.read?"read":"readText",d=()=>{r[o]&&r[o]().then(f=>{if(Array.isArray(f)&&f.length){const p=f[0];let v=p.types.indexOf("text/html")>-1?"text/html":"text/plain";p.getType(v).then(w=>{w.text().then(C=>{(C.indexOf("<div>")>=0||C.indexOf("<span>")>=0||C.indexOf("<p>")>=0)&&(v="text/html"),i._handleTextPaste(C,n,v,a)})})}else if(typeof f=="string"){let p="text/plain";(f.indexOf("<div>")>=0||f.indexOf("<span>")>=0||f.indexOf("<p>")>=0)&&(p="text/html"),i._handleTextPaste(f,n,p,a)}})};if(navigator.permissions&&navigator.permissions.query&&!i._isFireFox)try{navigator.permissions.query({name:"clipboard-read"}).then(f=>{(f.state==="granted"||f.state==="prompt"&&r[o])&&d()})}catch{i.error(i.localize("permissionsRequired",{elementType:i.nodeName.toLowerCase(),actionName:"paste"}))}else if(r[o])return void d();n.getRootNode().execCommand("paste")}_handleTextPaste(n,a,i,r){const o=this;n=n.replace(/<!--StartFragment-->|<!--EndFragment-->/gi,"");let d;if(!i){const C=document.createElement("div");C.innerHTML=n,n=C.innerText}const f=n.toLocaleLowerCase();if(d=document.createElement("span"),n=o.cleanWordHTML(n),d.innerHTML=n,f.indexOf("<video")>-1||f.indexOf("<iframe")>-1||f.indexOf("smart-editor-image-caption")>-1){const C=d.querySelectorAll("video, iframe"),x=d.querySelector(".smart-editor-image-caption"),L=C.length>0;let A=document.createDocumentFragment();for(let k=0,B=C.length;k<B;k+=1)A.appendChild(C[k]);if(x&&(x.removeAttribute("style"),A.appendChild(x)),L||x){const k=document.createElement("span");d.classList.add("smart-editor-image-container"),L&&d.classList.add("smart-editor-video-container"),d.setAttribute("contenteditable",!1),A.childElementCount&&(d.innerHTML="",d.appendChild(A)),k.appendChild(d),d=k}}i&&i!=="text/plain"||(d=document.createTextNode(d.innerHTML));const p=r._getSelectionRange(),[v,w]=[window,document];if(p instanceof v.Range){if(p.deleteContents(),d.childNodes.length)for(;d.lastChild;)p.insertNode(d.lastChild);else p.insertNode(d);p.collapse()}else w.execCommand("paste")}_initRichText(n,a,i){const r=this,o=r,d={};if(!n)return;i||(i={undo:"Undo",redo:"Redo",bold:"Bold",italic:"Italic",underline:"Underline",striketrhough:"Strikethrough",fontname:"Font Name",fontsize:"Font Size",alignment:"Alignment",unorderedlist:"Bulleted list",orderedlist:"Numbered list",checklist:"Checklist",paragraph:"Paragraph",format:"Format",image:"Image",h1:"Large Heading",h2:"Medium Heading",h3:"Small Heading",link:"Create link",code:"Code",openLink:"Ctrl + Click to go to link: ",clearformat:"Clear format",backgroundcolor:"Background Color",fontcolor:"Font Color",okButton:"Ok",cancelButton:"Cancel"});const f=`
            <div class="smart-container">
                <div class="smart-editor-toolbar"> 
                    <div style="height: auto;" class="smart-editor-toolbar-items-primary">
                         <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.bold}" command="bold" item-name="bold"></div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.italic}" command="italic" item-name="italic"></div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.underline}" command="underline" item-name="underline"></div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.striketrhough}" command="strikethrough" item-name="strikethrough"></div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center smart-arrow-down" item-value="Roboto" item-type="drop-down" item-name="fontname" tooltip="${i.fontname}"></div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center smart-arrow-down" item-value="14" item-type="drop-down" item-name="fontsize" tooltip="${i.fontsize}"></div>
                        <div style="--item-value: var(--smart-primary);" class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="color-input" tooltip="${i.fontcolor}" command="fontcolor" item-name="fontcolor"><span item-name="fontcolor" class="smart-editor-item-action-button"></span></div>
                        <div style="--item-value: var(--smart-secondary);" class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="color-input" tooltip="${i.backgroundcolor}" command="backgroundcolor" item-name="backgroundcolor"><span item-name="backgroundcolor" class="smart-editor-item-action-button"></span></div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center smart-arrow-down" item-type="button" item-value="left" item-name="alignment" command="justify" tooltip="${i.alignment}"></div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.unorderedlist}" command="insertUnorderedList" item-name="unorderedlist"></div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.orderedlist}" command="insertOrderedList" item-name="orderedlist"></div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.checklist}" command="insertUnorderedList" item-name="checklist"></div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.link}" command="hyperlink" item-name="hyperlink"></div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.image}" command="image" item-name="image"></div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center smart-arrow-down" item-type="button" item-name="tableheader" tooltip="${i.format}"></div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.undo}" command="undo" item-name="undo"></div>
                         <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.redo}" command="redo" item-name="redo"></div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.clearformat}" command="removeformat" item-name="clearformat"></div>
                        </div>
                </div>
            <div class="smart-editor-content-container">
                <div class="smart-editor-editable" contenteditable="true"></div>
            </div>
        </div>
        `,p=n;p.className="smart-editor smart-rich-textarea",p.style.borderLeftWidth=p.style.borderTopWidth=p.style.borderRightWidth=p.style.borderBottomWidth="0px",p.innerHTML=f;const v=p.querySelector(".smart-editor-editable");v.style.resize=r.resize,p.addEventListener("drop",N=>{if(N.dataTransfer.items){let F=0;const q=5,Y=["image/apng","image/bmp","image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/svg+xml","image/tiff","image/webp","image/x-icon","video/x-msvideo","text/csv","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-fontobject","image/gif","application/json","text/plain","application/xml","application/zip","application/gzip","application/pdf","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/x-7z-compressed","application/vnd.rar","application/rtf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/x-zip-compressed","audio/mpeg","video/mp4","video/mpeg","video/x-msvideo","video/quicktime"];for(let X=0;X<N.dataTransfer.items.length;X++)if(N.dataTransfer.items[X].kind==="file"){const ae=N.dataTransfer.items[X].getAsFile();if(Y.indexOf(ae.type)>=0&&(F++,F<=q&&ae!==null)){let Q=new FileReader;return Q.onload=function(ie){if(v.getRootNode().execCommand("insertHTML",!1,`<img id="targetImage" src="${ie.target.result}"/>`),r.uploadSettings.uploadUrl){const te=v.getRootNode().querySelector("#targetImage");te&&(te.id=""),L(te,ae,E=>{te&&E&&E.length&&(te.src=E[0].medium||E[0].value,te.classList.remove("smart-hidden"),n.imgArray||(n.imgArray=[]),n.imgArrayId||(n.imgArrayId=[]),n.imgArray.push(te.src),n.imgArrayId[te.src]=E[0])})}},Q.readAsDataURL(ae),void N.preventDefault()}}}}),p.addEventListener("paste",N=>{const F=N.clipboardData;if(F&&F.types.length){N.preventDefault();let q=(N.clipboardData||N.originalEvent.clipboardData).items,Y=null;for(let X=0;X<q.length;X++)q[X].type.indexOf("image")===0&&(Y=q[X].getAsFile());if(Y!==null){let X=new FileReader;return X.onload=function(ae){if(v.getRootNode().execCommand("insertHTML",!1,`<img id="targetImage" src="${ae.target.result}"/>`),r.uploadSettings.uploadUrl){const Q=v.getRootNode().querySelector("#targetImage");Q&&(Q.id=""),L(Q,Y,ie=>{Q&&ie&&ie.length&&(Q.src=ie[0].medium||ie[0].value,Q.classList.remove("smart-hidden"),n.imgArray||(n.imgArray=[]),n.imgArrayId||(n.imgArrayId=[]),n.imgArray.push(Q.src),n.imgArrayId[Q.src]=ie[0])})}},void X.readAsDataURL(Y)}}this._handlePaste(v,d),N.preventDefault()}),r.style.minHeight=r.minHeight+"px",v.style.minHeight=r.minHeight+"px",v.style.minWidth=r.minWidth+"px",n.style.minHeight=r.minHeight+"px",n.style.minWidth=r.minWidth+"px";const w=p.querySelectorAll(".smart-editor-toolbar-item");for(let N=0;N<w.length;N++){const F=w[N],q=F.getAttribute("item-name");r.toolbarItems.indexOf(q)===-1&&F.classList.add("smart-hidden")}if(d.textarea=a,d.tools=[],d.toolbar=p.querySelector(".smart-editor-toolbar"),r.toolbarOnFocus){d.toolbar.id=r.id+"_toolbar";const N=document.createElement("div");N.classList.add("smart-editor"),N.classList.add("smart-editor-toolbar-float"),N.setAttribute("focus",""),N.appendChild(d.toolbar),p.querySelector(".smart-container").setAttribute("toolbar-on-focus",""),r.appendChild(N)}d.contentContainer=p.querySelector(".smart-editor-content-container");const C=document.createElement("div");C.className="smart-editor-tooltip",C.setAttribute("tooltip-position","bottom"),document.body.appendChild(C),d.tooltip=document.querySelector(".smart-editor-tooltip"),new ResizeObserver(()=>{if(r.resize!=="none"){if(r.style.width=parseInt(v.offsetWidth)+2+"px",r.toolbarOnFocus)return void(r.style.height=parseInt(v.offsetHeight)+2+"px");r.style.height=parseInt(v.offsetHeight)+d.toolbar.offsetHeight+2+"px"}}).observe(v);const x=[],L=(N,F,q)=>{const Y=this;if(!N)return;const X=new FormData,ae=Y.uploadSettings.url,Q=F,ie=F.type,te=Y.uploadSettings.data;te&&te!==""&&(typeof te=="string"?X.append("postData",te):X.append("postData",JSON.stringify(te))),X.append("fileType",ie),X.append(Y.uploadSettings.name,F);let E=new XMLHttpRequest;E.open("POST",ae),Y.uploadSettings.onSetHeaders&&typeof Y.uploadSettings.onSetHeaders=="function"&&Y.uploadSettings.onSetHeaders(E,Q),Y.uploadSettings.onUploadStarted&&Y.uploadSettings.onUploadStarted({files:[F],status:E.status}),E.upload.onprogress=function(l){Y.uploadSettings.onProgress&&Y.uploadSettings.onProgress(l)},E.onabort=function(l){Y.uploadSettings.onAbort&&Y.uploadSettings.onAbort(l)},E.onerror=function(l){Y.uploadSettings.onError&&Y.uploadSettings.onError(l)},E.onload=function(){let l=!1;if(E.response&&(typeof E.response=="string"?(l=E.response,l.indexOf("[{")>=0&&(l=JSON.parse(E.response))):l=JSON.parse(E.response)),E.status>=200&&E.status<=299){const m=(y,b)=>{if(y.response&&y.response.response&&y.response.response!=="success")return null;let S=!1;E.fileURL&&(S=E.file_url);let D={};y&&y.file_url?S=y.file_url:y&&y[0]&&y[0].file_url&&(S=y[0].file_url);let M=!1;y&&y.file_url_small?M=y.file_url_small:y&&y[0]&&y[0].file_url_small&&(M=y[0].file_url_small);let $=!1;y&&y.file_url_medium?$=y.file_url_medium:y&&y[0]&&y[0].file_url_medium&&($=y[0].file_url_medium);let P=!1;return y&&y.file_url_large?P=y.file_url_large:y&&y[0]&&y[0].file_url_large&&(P=y[0].file_url_large),S&&(D.value=S),M&&(D.small=M),$&&(D.medium=$),P&&(D.large=P),D.label=b,D},c=[F];for(let y=0;y<c.length;y++){const b=c[y].name?[]:c[y].split("/"),S=ie==="url"?b[b.length-1]:c[y].name;Y.uploadSettings.url;const D=m((l.files||l[0]&&l[0].files||[l[0]])[y],S);D&&x.push(D)}q(x,l)}else q(x,l)},E.onreadystatechange=function(){},E.send(X)};w.forEach(N=>{const F=N.getAttribute("item-name");d.tools[F]={element:N,type:"button"},N.onmouseenter=q=>{setTimeout(()=>{const Y=q.target.getAttribute("tooltip"),X=q.target.getBoundingClientRect(),ae=(d.toolbar.getBoundingClientRect(),E=>E?E.offsetTop+ae(E.offsetParent):0),Q=E=>E?E.offsetLeft+Q(E.offsetParent):0,ie=(te=q.target,{left:Q(te),top:ae(te)});var te;d.tooltip.style.top=5+ie.top+X.height+"px",d.tooltip.setAttribute("hover-tooltip",Y),d.tooltip.classList.add("open"),d.tooltip.style.left=ie.left+X.width/2-d.tooltip.offsetWidth/2+"px",r._tooltipTimer&&clearTimeout(r._tooltipTimer),r._tooltipTimer=setTimeout(()=>{d.tooltip.classList.remove("open")},1e3)},150)},N.onmouseleave=()=>{d.tooltip.classList.remove("open")},N.onpointerup=q=>(q.preventDefault(),q.stopPropagation(),!1),N.onpointerdown=q=>{const Y=q.target.getAttribute("item-name"),X=(q.target.getAttribute("item-value"),q.target.getAttribute("command")),ae=q.target.getAttribute("command-value"),Q=p.querySelector(".smart-editor-editable"),ie=te=>{if(!te||te==="tableheader"){const E=r.toolbarOnFocus?document.querySelector("#"+r.id+'_toolbar [item-name="tableheader"]'):p.querySelector('[item-name="tableheader"]');E._popup&&(E._popup.remove(),delete E._popup)}if(!te||te==="alignment"){const E=r.toolbarOnFocus?document.querySelector("#"+r.id+'_toolbar [item-name="alignment"]'):p.querySelector('[item-name="alignment"]');E._popup&&(E._popup.remove(),delete E._popup)}if(!te||te==="fontsize"){const E=r.toolbarOnFocus?document.querySelector("#"+r.id+'_toolbar [item-name="fontsize"]'):p.querySelector('[item-name="alignment"]');E._popup&&(E._popup.remove(),delete E._popup)}if(!te||te==="fontname"){const E=r.toolbarOnFocus?document.querySelector("#"+r.id+'_toolbar [item-name="fontname"]'):p.querySelector('[item-name="alignment"]');E._popup&&(E._popup.remove(),delete E._popup)}if(!te||te==="fontcolor"){const E=r.toolbarOnFocus?document.querySelector("#"+r.id+'_toolbar [item-name="fontcolor"]'):p.querySelector('[item-name="fontcolor"]');E._popup&&(E._popup.remove(),delete E._popup)}if(!te||te==="backgroundcolor"){const E=r.toolbarOnFocus?document.querySelector("#"+r.id+'_toolbar [item-name="backgroundcolor"]'):p.querySelector('[item-name="backgroundcolor"]');E._popup&&(E._popup.remove(),delete E._popup)}};if(Y!=="tableheader")if(Y!=="fontcolor"&&Y!=="backgroundcolor")if(Y!=="alignment")if(Y!=="fontsize")if(Y!=="fontname"){switch(ie(),q.target.hasAttribute("checked")?q.target.removeAttribute("checked"):q.target.setAttribute("checked",""),Y){case"bold":case"italic":case"underline":case"strikethrough":case"unorderedlist":case"checklist":case"orderedlist":case"undo":case"redo":Q.getRootNode().execCommand(X,!1,null);break;case"removeformat":case"clearformat":Q.getRootNode().execCommand("removeformat",!1,null);break;case"image":{const te=document.createElement("input");te.type="file",te.accept="image/jpeg, image/png, image/gif",te.hidden=!0,document.body.appendChild(te),d._getSelectionRange(),Q.getRootNode().execCommand("insertHTML",!1,'<img style="max-width: 100%;" class="smart-hidden" id="targetImage"/>'),te.click(),te.onchange=()=>{const E=Q.getRootNode().getElementById("targetImage"),l=te.files[0];E.id="",E.classList.add("smart-hidden");const m=new FileReader;m.addEventListener("load",function(){E.src=m.result,E.classList.remove("smart-hidden")}),l&&m.readAsDataURL(l),r.uploadSettings.uploadUrl&&L(E,l,c=>{c&&c.length&&(E.src=c[0].medium||c[0].value,E.classList.remove("smart-hidden"),n.imgArray||(n.imgArray=[]),n.imgArrayId||(n.imgArrayId=[]),n.imgArray.push(E.src),n.imgArrayId[E.src]=c[0])})};break}case"hyperlink":{if(o._activeAnchorMenu)return q.preventDefault(),void q.stopPropagation();const te=d._getSelectionRange();let E,l=te.startContainer;l&&l.nodeName.toLowerCase()!=="a"&&(l=l.parentElement);let m=!1;if(l&&l.nodeName.toLowerCase()==="a"?(E=l.textContent,m=!0):E=te.toString(),m){if(E!==void 0){const c=z(r.id+"_anchor",E,l);o._activeAnchorMenu=c;const y=V(document),b=y.getRange();c.onselectitem=(S,D,M)=>{if(Q.focus(),y.selectRange(b),S=(S=S.replace("https://","")).replace("http://",""),M)return l.remove(),void Q.getRootNode().execCommand("insertHTML",!1,D);l.innerHTML=D,l.href="https://"+S.trim()+'"',l.title=i.openLink+"https://"+S.trim(),setTimeout(()=>{let $=d._getSelectionRange().startContainer;$&&$.nodeName.toLowerCase()!=="a"&&($=$.parentElement),$&&$.nodeName.toLowerCase()==="a"&&($.onmouseenter=P=>{P.ctrlKey&&$.classList.add("ctrl")},$.onmousemove=P=>{P.ctrlKey&&$.classList.add("ctrl")},$.onmouseleave=()=>{$.classList.remove("ctrl")})},50)}}}else if(E!==void 0){const c=z(r.id+"_anchor",E);o._activeAnchorMenu=c;const y=V(document),b=y.getRange();c.onselectitem=(S,D)=>{Q.focus(),y.selectRange(b),S=(S=S.replace("https://","")).replace("http://",""),Q.getRootNode().execCommand("insertHTML",!1,'<a title="'+i.openLink+"https://"+S.trim()+'" href="https://'+S.trim()+'">'+D+"</a>"),setTimeout(()=>{let M=d._getSelectionRange().startContainer;M&&M.nodeName.toLowerCase()!=="a"&&(M=M.parentElement),M&&M.nodeName.toLowerCase()==="a"&&(M.onmouseenter=$=>{$.ctrlKey&&M.classList.add("ctrl")},M.onmousemove=$=>{$.ctrlKey&&M.classList.add("ctrl")},M.onmouseleave=()=>{M.classList.remove("ctrl")})},50)}}break}case"h1":case"h2":case"h3":case"p":case"pre":case"justify":case"formats":Q.getRootNode().execCommand(X,!1,ae)}if(Y==="checklist"){const te=window.getSelection();if(te.focusNode){const E=te.focusNode.parentElement.closest("ul");E&&E.setAttribute("checklist","")}}q.preventDefault(),q.stopPropagation()}else{q.preventDefault(),q.stopPropagation(),ie("fontcolor"),ie("backgroundcolor"),ie("tableheader"),ie("alignment"),ie("fontsize");const te=r.toolbarOnFocus?document.querySelector("#"+r.id+'_toolbar [item-name="fontname"]'):p.querySelector('[item-name="fontname"]');if(te._popup)te._popup.remove(),delete te._popup;else{te._popup=document.createElement("div");const E=te._popup;document.body.appendChild(E),E.style.position="absolute",E.style.height="auto",E.style.width="auto",E.style.paddingLeft=E.style.paddingLeft=E.style.paddingRight=E.style.paddingBottom=E.style.paddingTop="5px",E.style.background="var(--smart-background)",E.style.borderStyle="solid",E.style.borderWidth="1px",E.style.borderColor="var(--smart-border)",E.style.boxShadow="var(--smart-elevation-8)",E.style.zIndex=99999;const l=te.getBoundingClientRect();E.style.top=l.bottom+"px",E.style.left=l.left+"px",E.innerHTML=`
                     <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" style="padding-left: 5px; padding-right: 5px; justify-content: flex-start; font-family: 'Roboto'" command="fontname" command-value="roboto" item-name="fontname" item-value="roboto">Roboto</div>
                    <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" style="padding-left: 5px; padding-right: 5px; justify-content: flex-start; font-family: 'Segoe UI'" command="fontname" command-value="segoeUi" item-name="fontname" item-value="segoeUi">Segoe UI</div>
                    <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" style="padding-left: 5px; padding-right: 5px; justify-content: flex-start; font-family: 'Arial'" command="fontname" command-value="arial" item-name="fontname" item-value="arial">Arial</div>
                    <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" style="padding-left: 5px; padding-right: 5px; justify-content: flex-start; font-family: 'georgia'" command="fontname" command-value="georgia" item-name="fontname" item-value="georgia">Georgia</div>
                    <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" style="padding-left: 5px; padding-right: 5px; justify-content: flex-start; font-family: 'impact'" command="fontname" command-value="impact" item-name="fontname" item-value="impact">Impact</div>
                    <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" style="padding-left: 5px; padding-right: 5px; justify-content: flex-start; font-family: 'tahoma'" command="fontname" command-value="tahoma" item-name="fontname" item-value="tahoma">Tahoma</div>
                    <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" style="padding-left: 5px; padding-right: 5px; justify-content: flex-start; font-family: 'timesNewRoman'" command="fontname" command-value="timesNewRoman" item-name="timesNewRoman" item-value="timesNewRoman">Times New Roman</div>
                    <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" style="padding-left: 5px; padding-right: 5px; justify-content: flex-start; font-family: 'verdana'" command="fontname" command-value="verdana" item-name="fontname" item-value="verdana">Verdana</div>
                    `,E.querySelectorAll(".smart-button").forEach(m=>{m.onpointerup=c=>(c.preventDefault(),c.stopPropagation(),te._popup.remove(),delete te._popup,!1),m.onpointerdown=c=>{c.preventDefault(),c.stopPropagation();const y=c.target.getAttribute("command"),b=c.target.getAttribute("command-value");p.querySelector(".smart-editor-editable").getRootNode().execCommand(y,!1,b)}})}}else{q.preventDefault(),q.stopPropagation(),ie("fontcolor"),ie("backgroundcolor"),ie("tableheader"),ie("alignment"),ie("fontname");const te=r.toolbarOnFocus?document.querySelector("#"+r.id+'_toolbar [item-name="fontsize"]'):p.querySelector('[item-name="fontsize"]');if(te._popup)te._popup.remove(),delete te._popup;else{te._popup=document.createElement("div");const E=te._popup;document.body.appendChild(E),E.style.position="absolute",E.style.height="auto",E.style.width="50px",E.style.paddingLeft=E.style.paddingLeft=E.style.paddingRight=E.style.paddingBottom=E.style.paddingTop="5px",E.style.background="var(--smart-background)",E.style.borderStyle="solid",E.style.borderWidth="1px",E.style.borderColor="var(--smart-border)",E.style.boxShadow="var(--smart-elevation-8)",E.style.zIndex=99999;const l=te.getBoundingClientRect();E.style.top=l.bottom+"px",E.style.left=l.left+"px",E.innerHTML=`
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" style="padding-left: 5px; padding-right: 5px; justify-content: flex-start; font-size: 8;" command="fontSize" command-value="8" item-name="8" item-value="8">8</div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" style="padding-left: 5px; padding-right: 5px; justify-content: flex-start; font-size: 10;" command="fontSize" command-value="10" item-name="10" item-value="10">10</div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" style="padding-left: 5px; padding-right: 5px; justify-content: flex-start; font-size: 12;" command="fontSize" command-value="12" item-name="12" item-value="12">12</div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" style="padding-left: 5px; padding-right: 5px; justify-content: flex-start; font-size: 14;" command="fontSize" command-value="14" item-name="14" item-value="14">14</div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" style="padding-left: 5px; padding-right: 5px; justify-content: flex-start; font-size: 16;" command="fontSize" command-value="16" item-name="16" item-value="16">16</div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" style="padding-left: 5px; padding-right: 5px; justify-content: flex-start; font-size: 18;" command="fontSize" command-value="18" item-name="18" item-value="18">18</div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" style="padding-left: 5px; padding-right: 5px; justify-content: flex-start; font-size: 24;" command="fontSize" command-value="24" item-name="24" item-value="24">24</div>
                        <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" style="padding-left: 5px; padding-right: 5px; justify-content: flex-start; font-size: 36;" command="fontSize" command-value="36" item-name="36" item-value="36">36</div>
                       `,E.querySelectorAll(".smart-button").forEach(m=>{m.onpointerup=c=>(c.preventDefault(),c.stopPropagation(),te._popup.remove(),delete te._popup,!1),m.onpointerdown=c=>{c.preventDefault(),c.stopPropagation();const y=c.target.getAttribute("command"),b=c.target.getAttribute("command-value");p.querySelector(".smart-editor-editable").getRootNode().execCommand(y,!1,3),function(){const S=d._getSelectionRange();if(S.commonAncestorContainer.closest){const D=S.commonAncestorContainer.querySelectorAll("font[size]");for(let M=0,$=D.length;M<$;M+=1){const P=D[M];P.removeAttribute("size"),P.style.fontSize=b+"px"}}else{const D=window.getSelection().focusNode;if(!D)return;const M=D.closest?D.closest(".smart-editor-editable font"):D.parentElement;M.nodeName.toLowerCase()==="font"&&(M.removeAttribute("size"),M.style.fontSize=b+"px")}}()}})}}else{q.preventDefault(),q.stopPropagation(),ie("fontcolor"),ie("backgroundcolor"),ie("tableheader"),ie("fontsize"),ie("fontname");const te=r.toolbarOnFocus?document.querySelector("#"+r.id+'_toolbar [item-name="alignment"]'):p.querySelector('[item-name="alignment"]');if(te._popup)te._popup.remove(),delete te._popup;else{te._popup=document.createElement("div");const E=te._popup;document.body.appendChild(E),E.style.position="absolute",E.style.height="auto",E.style.width="30px",E.style.background="var(--smart-background)",E.style.borderStyle="solid",E.style.borderWidth="1px",E.style.borderColor="var(--smart-border)",E.style.boxShadow="var(--smart-elevation-8)",E.style.zIndex=99999;const l=te.getBoundingClientRect();E.style.top=l.bottom+"px",E.style.left=l.left+"px",E.innerHTML=`
                    <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.alignLeft}" command="justify" command-value="Left" item-name="alignment" item-value="left"></div>
                    <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.alignCenter}" command="justify" command-value="Center" item-name="alignment" item-value="center"></div>
                    <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.alignRight}" command="justify" command-value="Right" item-name="alignment" item-value="right"></div>
                    <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.alignJustify}" command="justify" command-value="Full" item-name="alignment" item-value="justify"></div>
                    `,E.querySelectorAll(".smart-button").forEach(m=>{m.onpointerup=c=>(c.preventDefault(),c.stopPropagation(),te._popup.remove(),delete te._popup,!1),m.onpointerdown=c=>{c.preventDefault(),c.stopPropagation();const y=c.target.getAttribute("command"),b=c.target.getAttribute("command-value");p.querySelector(".smart-editor-editable").getRootNode().execCommand(y+b,!1,null)}})}}else{q.preventDefault(),q.stopPropagation(),ie();const te=r.toolbarOnFocus?document.querySelector("#"+r.id+'_toolbar [item-name="'+Y+'"]'):p.querySelector('[item-name="'+Y+'"]');if(te._popup)te._popup.remove(),delete te._popup;else{te._popup=document.createElement("div");const E=te._popup;document.body.appendChild(E),E.style.position="absolute",E.style.height="auto",E.style.width="auto",E.style.background="var(--smart-background)",E.style.borderStyle="solid",E.style.borderWidth="1px",E.style.borderColor="var(--smart-border)",E.style.boxShadow="var(--smart-elevation-8)",E.style.zIndex=99999;const l=te.getBoundingClientRect();E.style.top=l.bottom+"px",E.style.left=l.left+"px",E.innerHTML=`<style>
                        
.smart-editor-color-picker table {
    margin: 0;
    padding: 4px 4px 4px;
    empty-cells: show;
    border-collapse: separate;
}

.smart-editor-color-picker td {
    border-collapse: separate;
    border: 1px solid transparent;
    cursor: pointer;
    margin: 0;
    position: relative;
}

.smart-editor-color-picker td:hover {
    border: 1px solid #000;
}

.smart-editor-color-picker-selected-cell {
    outline: 1px solid #000;
}

.smart-editor-color-picker td div {
    width: 16px;
    height: 16px;
}
                        </style>`,E.innerHTML+='<div tool-name="'+Y+'" class="smart-editor-color-picker"><div role="grid"><table class="smart-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (0, 0, 0)"><div title="RGB (0, 0, 0)" style="background-color: rgb(0, 0, 0);"></div></td><td aria-label="RGB (68, 68, 68)"><div title="RGB (68, 68, 68)" style="background-color: rgb(68, 68, 68);"></div></td><td aria-label="RGB (102, 102, 102)"><div title="RGB (102, 102, 102)" style="background-color: rgb(102, 102, 102);"></div></td><td aria-label="RGB (153, 153, 153)"><div title="RGB (153, 153, 153)" style="background-color: rgb(153, 153, 153);"></div></td><td aria-label="RGB (204, 204, 204)"><div title="RGB (204, 204, 204)" style="background-color: rgb(204, 204, 204);"></div></td><td aria-label="RGB (238, 238, 238)"><div title="RGB (238, 238, 238)" style="background-color: rgb(238, 238, 238);"></div></td><td aria-label="RGB (243, 243, 243)"><div title="RGB (243, 243, 243)" style="background-color: rgb(243, 243, 243);"></div></td><td aria-label="RGB (255, 255, 255)"><div title="RGB (255, 255, 255)" style="background-color: rgb(255, 255, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="smart-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (255, 0, 0)"><div title="RGB (255, 0, 0)" style="background-color: rgb(255, 0, 0);"></div></td><td aria-label="RGB (255, 153, 0)"><div title="RGB (255, 153, 0)" style="background-color: rgb(255, 153, 0);"></div></td><td aria-label="RGB (255, 255, 0)"><div title="RGB (255, 255, 0)" style="background-color: rgb(255, 255, 0);"></div></td><td aria-label="RGB (0, 255, 0)"><div title="RGB (0, 255, 0)" style="background-color: rgb(0, 255, 0);"></div></td><td aria-label="RGB (0, 255, 255)"><div title="RGB (0, 255, 255)" style="background-color: rgb(0, 255, 255);"></div></td><td aria-label="RGB (0, 0, 255)"><div title="RGB (0, 0, 255)" style="background-color: rgb(0, 0, 255);"></div></td><td aria-label="RGB (153, 0, 255)"><div title="RGB (153, 0, 255)" style="background-color: rgb(153, 0, 255);"></div></td><td aria-label="RGB (255, 0, 255)"><div title="RGB (255, 0, 255)" style="background-color: rgb(255, 0, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="smart-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (244, 204, 204)"><div title="RGB (244, 204, 204)" style="background-color: rgb(244, 204, 204);"></div></td><td aria-label="RGB (252, 229, 205)"><div title="RGB (252, 229, 205)" style="background-color: rgb(252, 229, 205);"></div></td><td aria-label="RGB (255, 242, 204)"><div title="RGB (255, 242, 204)" style="background-color: rgb(255, 242, 204);"></div></td><td aria-label="RGB (217, 234, 211)"><div title="RGB (217, 234, 211)" style="background-color: rgb(217, 234, 211);"></div></td><td aria-label="RGB (208, 224, 227)"><div title="RGB (208, 224, 227)" style="background-color: rgb(208, 224, 227);"></div></td><td aria-label="RGB (207, 226, 243)"><div title="RGB (207, 226, 243)" style="background-color: rgb(207, 226, 243);"></div></td><td aria-label="RGB (217, 210, 233)"><div title="RGB (217, 210, 233)" style="background-color: rgb(217, 210, 233);"></div></td><td aria-label="RGB (234, 209, 220)"><div title="RGB (234, 209, 220)" style="background-color: rgb(234, 209, 220);"></div></td></tr><tr><td id="T-Kw-Jn88" aria-label="RGB (234, 153, 153)"><div title="RGB (234, 153, 153)" style="background-color: rgb(234, 153, 153);"></div></td><td aria-label="RGB (249, 203, 156)"><div title="RGB (249, 203, 156)" style="background-color: rgb(249, 203, 156);"></div></td><td aria-label="RGB (255, 229, 153)"><div title="RGB (255, 229, 153)" style="background-color: rgb(255, 229, 153);"></div></td><td aria-label="RGB (182, 215, 168)"><div title="RGB (182, 215, 168)" style="background-color: rgb(182, 215, 168);"></div></td><td aria-label="RGB (162, 196, 201)"><div title="RGB (162, 196, 201)" style="background-color: rgb(162, 196, 201);"></div></td><td aria-label="RGB (159, 197, 232)"><div title="RGB (159, 197, 232)" style="background-color: rgb(159, 197, 232);"></div></td><td aria-label="RGB (180, 167, 214)"><div title="RGB (180, 167, 214)" style="background-color: rgb(180, 167, 214);"></div></td><td aria-label="RGB (213, 166, 189)"><div title="RGB (213, 166, 189)" style="background-color: rgb(213, 166, 189);"></div></td></tr><tr><td aria-label="RGB (224, 102, 102)"><div title="RGB (224, 102, 102)" style="background-color: rgb(224, 102, 102);"></div></td><td aria-label="RGB (246, 178, 107)"><div title="RGB (246, 178, 107)" style="background-color: rgb(246, 178, 107);"></div></td><td aria-label="RGB (255, 217, 102)"><div title="RGB (255, 217, 102)" style="background-color: rgb(255, 217, 102);"></div></td><td aria-label="RGB (147, 196, 125)"><div title="RGB (147, 196, 125)" style="background-color: rgb(147, 196, 125);"></div></td><td aria-label="RGB (118, 165, 175)"><div title="RGB (118, 165, 175)" style="background-color: rgb(118, 165, 175);"></div></td><td aria-label="RGB (111, 168, 220)"><div title="RGB (111, 168, 220)" style="background-color: rgb(111, 168, 220);"></div></td><td aria-label="RGB (142, 124, 195)"><div title="RGB (142, 124, 195)" style="background-color: rgb(142, 124, 195);"></div></td><td aria-label="RGB (194, 123, 160)"><div title="RGB (194, 123, 160)" style="background-color: rgb(194, 123, 160);"></div></td></tr><tr><td id="T-Kw-Jn104" aria-label="RGB (204, 0, 0)"><div title="RGB (204, 0, 0)" style="background-color: rgb(204, 0, 0);"></div></td><td aria-label="RGB (230, 145, 56)"><div title="RGB (230, 145, 56)" style="background-color: rgb(230, 145, 56);"></div></td><td aria-label="RGB (241, 194, 50)"><div title="RGB (241, 194, 50)" style="background-color: rgb(241, 194, 50);"></div></td><td aria-label="RGB (106, 168, 79)"><div title="RGB (106, 168, 79)" style="background-color: rgb(106, 168, 79);"></div></td><td aria-label="RGB (69, 129, 142)"><div title="RGB (69, 129, 142)" style="background-color: rgb(69, 129, 142);"></div></td><td aria-label="RGB (61, 133, 198)"><div title="RGB (61, 133, 198)" style="background-color: rgb(61, 133, 198);"></div></td><td aria-label="RGB (103, 78, 167)"><div title="RGB (103, 78, 167)" style="background-color: rgb(103, 78, 167);"></div></td><td aria-label="RGB (166, 77, 121)"><div title="RGB (166, 77, 121)" style="background-color: rgb(166, 77, 121);"></div></td></tr><tr><td aria-label="RGB (153, 0, 0)"><div title="RGB (153, 0, 0)" style="background-color: rgb(153, 0, 0);"></div></td><td aria-label="RGB (180, 95, 6)"><div title="RGB (180, 95, 6)" style="background-color: rgb(180, 95, 6);"></div></td><td aria-label="RGB (191, 144, 0)"><div title="RGB (191, 144, 0)" style="background-color: rgb(191, 144, 0);"></div></td><td aria-label="RGB (56, 118, 29)"><div title="RGB (56, 118, 29)" style="background-color: rgb(56, 118, 29);"></div></td><td aria-label="RGB (19, 79, 92)"><div title="RGB (19, 79, 92)" style="background-color: rgb(19, 79, 92);"></div></td><td aria-label="RGB (11, 83, 148)"><div title="RGB (11, 83, 148)" style="background-color: rgb(11, 83, 148);"></div></td><td aria-label="RGB (53, 28, 117)"><div title="RGB (53, 28, 117)" style="background-color: rgb(53, 28, 117);"></div></td><td aria-label="RGB (116, 27, 71)"><div title="RGB (116, 27, 71)" style="background-color: rgb(116, 27, 71);"></div></td></tr><tr><td aria-label="RGB (102, 0, 0)"><div title="RGB (102, 0, 0)" style="background-color: rgb(102, 0, 0);"></div></td><td aria-label="RGB (120, 63, 4)"><div title="RGB (120, 63, 4)" style="background-color: rgb(120, 63, 4);"></div></td><td aria-label="RGB (127, 96, 0)"><div title="RGB (127, 96, 0)" style="background-color: rgb(127, 96, 0);"></div></td><td aria-label="RGB (39, 78, 19)"><div title="RGB (39, 78, 19)" style="background-color: rgb(39, 78, 19);"></div></td><td aria-label="RGB (12, 52, 61)"><div title="RGB (12, 52, 61)" style="background-color: rgb(12, 52, 61);"></div></td><td aria-label="RGB (7, 55, 99)"><div title="RGB (7, 55, 99)" style="background-color: rgb(7, 55, 99);"></div></td><td aria-label="RGB (32, 18, 77)"><div title="RGB (32, 18, 77)" style="background-color: rgb(32, 18, 77);"></div></td><td aria-label="RGB (76, 17, 48)"><div title="RGB (76, 17, 48)" style="background-color: rgb(76, 17, 48);"></div></td></tr></tbody></table></div></div>',E.querySelectorAll("td div").forEach(m=>{m.onpointerup=c=>(c.preventDefault(),c.stopPropagation(),te._popup.remove(),delete te._popup,!1),m.onpointerdown=c=>{const y=c.target.closest(".smart-editor-color-picker").getAttribute("tool-name"),b=(D=>{if(D){if(D.substr(0,1)==="#")return D.length===4?"#"+($=D.substr(1,1))+$+(P=D.substr(2,1))+P+(G=D.substr(3,1))+G:D;var M=/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/i.exec(D);if(!M)return null;var $=parseInt(M[2],10).toString(16),P=parseInt(M[3],10).toString(16),G=parseInt(M[4],10).toString(16);return"#"+(($.length===1?"0"+$:$)+(P.length===1?"0"+P:P)+(G.length===1?"0"+G:G))}return null})(c.target.style.backgroundColor),S=p.querySelector(".smart-editor-editable");y==="fontcolor"?S.getRootNode().execCommand("forecolor",!1,b):S.getRootNode().execCommand("backcolor",!1,b),c.preventDefault(),c.stopPropagation()}})}}else{q.stopPropagation(),q.preventDefault(),ie("alignment"),ie("fontcolor"),ie("backgroundcolor"),ie("fontsize"),ie("fontname");const te=r.toolbarOnFocus?document.querySelector("#"+r.id+'_toolbar [item-name="tableheader"]'):p.querySelector('[item-name="tableheader"]');if(te._popup)te._popup.remove(),delete te._popup;else{te._popup=document.createElement("div");const E=te._popup;document.body.appendChild(E),E.style.position="absolute",E.style.height="auto",E.style.width="70px",E.style.background="var(--smart-background)",E.style.borderStyle="solid",E.style.borderWidth="1px",E.style.borderColor="var(--smart-border)",E.style.boxShadow="var(--smart-elevation-8)",E.style.zIndex=99999;const l=te.getBoundingClientRect();E.style.top=l.bottom+"px",E.style.left=l.left-20+"px",E.innerHTML=`
                    <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.paragraph}" command="insertParagraph" command-value="p" item-name="p">P</div>
                    <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.h1}" command="formatBlock" command-value="H1" item-name="h1">H1</div>
                    <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.h2}" command="formatBlock" command-value="H2" item-name="h2">H2</div>
                    <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.h3}" command="formatBlock" command-value="H3" item-name="h3">H3</div>
                    <div class="smart-button smart-editor-toolbar-item smart-editor-toolbar-item-center" item-type="button" tooltip="${i.code}" command="formatBlock" command-value="pre" item-name="pre">Code</div>       
                    `,E.querySelectorAll(".smart-button").forEach(m=>{m.onpointerup=c=>(c.preventDefault(),c.stopPropagation(),te._popup.remove(),delete te._popup,!1),m.onpointerdown=c=>{c.preventDefault(),c.stopPropagation();const y=c.target.getAttribute("command"),b=c.target.getAttribute("command-value");p.querySelector(".smart-editor-editable").getRootNode().execCommand(y,!1,b)}})}}}});const A=p.querySelector(".smart-editor-editable");d.content=A,d.content.innerHTML="<div>"+a.value+"&#8203;</div>";const k=(N,F)=>{const q=d;return N===void 0&&(N=a.value),N=!F&&q.enableHtmlEncode?N.replaceAll("<","&lt;").replaceAll(">","&gt;"):N.replaceAll("&lt;","<").replaceAll("&gt;",">")};n.component=d;const B=(N,F)=>{var q=F(N);for(N=N.firstChild;q!==!1&&N;N=N.nextSibling)q=B(N,F);return q};d.getCaretPosition=N=>{var F=window.getSelection(),q=[0,0];if(F.anchorNode===N)q=[F.anchorOffset,F.extentOffset];else{var Y=[F.anchorNode,F.extentNode];if(!N.contains(F.anchorNode)||!N.contains(F.extentNode))return;var X,ae=[0,0];B(N,function(Q){for(X=0;X<2;X++)if(Q==Y[X]&&(ae[X]=!0,ae[X==0?1:0]))return!1;if(Q.textContent&&!Q.firstChild)for(X=0;X<2;X++)ae[X]||(q[X]+=Q.textContent.length)}),q[0]+=F.anchorOffset,q[1]+=F.extentOffset}return q[0]<=q[1]?q:[q[1],q[0]]},d.setCaretPosition=N=>{if(N>=0){const F=window.getSelection(),q=(X,ae,Q)=>{if(Q||((Q=document.createRange()).selectNode(X),Q.setStart(X,0)),ae.count===0)Q.setEnd(X,ae.count);else if(X&&ae.count>0)if(X.nodeType===Node.TEXT_NODE)X.textContent.length<ae.count?ae.count-=X.textContent.length:(Q.setEnd(X,ae.count),ae.count=0);else for(var ie=0;ie<X.childNodes.length&&(Q=q(X.childNodes[ie],ae,Q),ae.count!==0);ie++);return Q},Y=q(p.querySelector(".smart-editor-editable"),{count:N});Y&&(Y.collapse(!1),F.removeAllRanges(),F.addRange(Y))}},d.execCommand=(N,F)=>{const q=A.getRootNode();q&&q.execCommand(N,!1,F)},Object.defineProperty(n,"selectionStart",{configurable:!1,enumerable:!0,get(){a.value=d.content.textContent;const N=d.getCaretPosition(d.content);return N!==void 0?N[1]:0},set(N){d.setCaretPosition(N)}}),Object.defineProperty(n,"value",{configurable:!1,enumerable:!0,get:()=>(a.value=d.content.textContent,d._getInputValue()),set(N){if(d.content.innerHTML!==N){if(d.content.innerHTML="<div>"+N+"&#8203;</div>",a.value=N,o.set("value",a.value,!1),o.disableSetCaretPosition)return;d.setCaretPosition(d.content.textContent.length-1)}}});const H=N=>{const F=d.content;for(;N&&N!==F;){const q=N.style.backgroundColor;if(q)return q;N=N.parentElement}};d._getSelectionRange=()=>{const N=d;return N._selectionRange||N._setSelectionRange(),N._selectionRange},d._setSelectionRange=(N,F,q)=>{const Y=d;let X=p.querySelector(".smart-editor-editable");const ae=window.getSelection();let Q;if(N){if(Q=document.createRange(),typeof F=="number"&&typeof q=="number")try{Q.setStart(N,parseInt(F)),Q.setEnd(N,parseInt(q))}catch{Q.selectNodeContents(N)}else N.nodeName.toLowerCase()==="img"||N.classList.contains("smart-editor-video-container")?(Q.setStartBefore(N),Q.setEndAfter(N),Q.selectNode(N)):Q.selectNodeContents(N);ae.removeAllRanges(),ae.addRange(Q)}else ae.rangeCount&&(Q=ae.getRangeAt(0));try{Q&&Q.startContainer&&X.contains(Q.startContainer)&&(d._selectionRange=Q)}catch{}Y._selectionRange||(Q=document.createRange(),Q.selectNodeContents(X),Q.collapse(!0),d._selectionRange=Q)},d._getNodeFromList=(N,F)=>{const q=d.content;if(N&&F)for(;N&&N!==q;){const Y=N.nodeName.toLocaleLowerCase();if(F.indexOf(Y)>-1)return Y;N=N.parentElement}},d._setItemValue=(N,F)=>{let q=F.value;if(N&&F)if(F.type==="button")q?(N.setAttribute("checked",""),N.setAttribute("aria-pressed",!0)):(N.removeAttribute("checked"),N.setAttribute("aria-pressed",!1));else{if(q||F.type!=="color-input"){if(["fontname","formats"].indexOf(F.name)>-1&&(q=F.value,F.name==="fontname")){const Y={segoeUI:"Segoe UI",arial:"Arial",georgia:"Georgia",impact:"Impact",tahoma:"Tahoma",timesNewRoman:"Times New Roman",verdana:"Verdana",roboto:"Roboto"};Y[q]&&(q=Y[q])}}else q="transparent";q?(N.setAttribute("item-value",q),N.style.setProperty("--item-value",q)):(N.removeAttribute("item-value"),N.style.removeProperty("--item-value"))}},d._getInputValue=k,d._updateToolbarItems=N=>{const F=d,q=F._getSelectionRange();if(!q)return;const Y=F.content;let X,ae=q.startOffset>q.endOffset?q.endContainer:q.startContainer;if(ae&&(ae.closest||(ae=ae.parentElement),ae&&ae.closest)){N||(N=["alignment","bold","hyperlink","italic","strikethrough","underline","fontsize","fontname","formats","fontcolor","backgroundcolor","orderedlist","unorderedlist","image","checklist","subscript","superscript","h1","h2","h3","code","pre","undo","redo","clearformat"]);for(let Q=0,ie=N.length;Q<ie;Q+=1){const te=N[Q],E=F.tools[te];if(E){let l;if(te==="alignment")l=ae.style.textAlign;else if(te==="bold")l=!!F._getNodeFromList(ae,["b","strong","h4","h5","h6"]);else if(te==="hyperlink")l=!!F._getNodeFromList(ae,["a"]);else if(te==="h1")l=!!F._getNodeFromList(ae,["h1"]);else if(te==="h2")l=!!F._getNodeFromList(ae,["h2"]);else if(te==="h3")l=!!F._getNodeFromList(ae,["h3"]);else if(te==="pre")l=!!F._getNodeFromList(ae,["pre"]);else if(te==="p")l=!!F._getNodeFromList(ae,["p"]);else if(te==="italic")l=!!F._getNodeFromList(ae,["i"]);else if(te==="underline")l=!!F._getNodeFromList(ae,["u"]);else if(te==="strikethrough")l=!!F._getNodeFromList(ae,["strike"]);else if(te==="fontsize"){const m=ae.closest(".smart-editor-editable font");m&&(l=m.style.fontSize),l||(X||(X=window.getComputedStyle(ae)),l=X.fontSize),l=parseInt(l),isNaN(l)&&(l=""),E.name="fontsize",E.type="dropDown"}else if(te==="fontname"){const m=ae.closest(".smart-editor-editable font");m&&m.hasAttribute("face")?l=m.getAttribute("face"):(X||(X=window.getComputedStyle(ae)),l=X.fontFamily.split(",")[0]),E.name="fontname",E.type="dropDown"}else if(te==="formats"&&ae!==Y){const m=["h1","h2","h3","p","pre"];if(l="",m){const c=m;l=F._getNodeFromList(ae,c)||""}}else if(te==="fontcolor"){const m=ae.closest(".smart-editor-editable font");m?l=m.color:(X||(X=window.getComputedStyle(ae)),l=X.color),E.type="colorInput"}else if(te==="backgroundcolor")l=H(ae),l||(X||(X=window.getComputedStyle(ae)),l=X.backgroundColor),E.type="colorInput";else if(te==="orderedlist"||te==="unorderedlist"){l=!!ae.closest(`.smart-editor-editable ${te==="orderedlist"?"ol":"ul"} li`);const m=ae.closest(`.smart-editor-editable ${te==="orderedlist"?"ol":"ul"} li`);m&&m.parentElement&&m.parentElement.hasAttribute("checklist")&&(l=!1)}else if(te==="checklist"){const m=ae.closest(`.smart-editor-editable ${te==="orderedlist"?"ol":"ul"} li`);m&&m.parentElement.hasAttribute("checklist")&&(l=!0)}else te==="subscript"?l=!!ae.closest(".smart-editor-editable sub"):te==="superscript"?l=!!ae.closest(".smart-editor-editable sup"):te==="clearformat"&&(l=!1);if(!l&&E.dataSource){const m=E.dataSource[0];m&&(l=m.value||m)}l!==null&&(E.value=l,F._setItemValue(F.toolbar.querySelector(`.smart-editor-toolbar-item[item-name=${te}]`),E))}}}},d._getTextFromCarret=()=>{const N=d._getSelectionRange(),F=N.startContainer,q=F.textContent;let Y,X;if(!N.toString()&&q.length>0&&q.indexOf(" ")>-1){const ae=q.slice(0,N.startOffset).lastIndexOf(" ")+1;let Q=q.slice(N.endOffset).indexOf(" ");Q<0&&(Q=q.length-1),Y=ae>-1?ae:N.startOffset,X=Math.max(N.endOffset,N.endOffset+Q)}else Y=0,X=F.length;return{selectionStartIndex:Y,selectionEndIndex:X}},d.focus=()=>{A.focus()},d.blur=()=>{A.blur()},d.getHTML=()=>k(d.content.innerHTML),A.onpointerup=N=>{const F=d,q=N.target;if(F._setSelectionRange(),F._updateToolbarItems(),N.ctrlKey){let Y=F._getSelectionRange().startContainer;Y&&Y.nodeName.toLowerCase()!=="a"&&(Y=Y.parentElement),Y&&Y.nodeName.toLowerCase()==="a"&&window.open(Y.href,"_blank")}if(q&&q.nodeName==="LI"&&q.closest("UL[checklist]")){const Y=F._getSelectionRange();Y&&Y.startOffset===0&&Y.endOffset===0&&(q.hasAttribute("checked")?q.removeAttribute("checked"):q.setAttribute("checked",""))}},A.onpaste=()=>{const N=d;N._setSelectionRange(),N._updateToolbarItems(),a.value=N.content.textContent,o.set("value",a.value,!1)},A.oninput=N=>{const F=d;F._setSelectionRange(),F._updateToolbarItems();const q=a.value;a.value=F.content.textContent,o.set("value",a.value,!1),o.$.fireEvent("input",{value:a.value,oldValue:q,html:d.getHTML()}),N.stopPropagation()};const V=N=>{var F={initialize:function(q){this.document=q},getSelection:function(){return this.document.getSelection?this.document.getSelection():this.document.selection},getRange:function(){var q=this.getSelection();if(!q)return null;try{return q.rangeCount>0?q.getRangeAt(0):this.document.createRange?this.document.createRange():this.document.selection.createRange()}catch{return this.document.body.createTextRange()}},selectRange:function(q){if(q.select)q.select();else{var Y=this.getSelection();Y.addRange&&(Y.removeAllRanges(),Y.addRange(q))}},selectNode:function(q,Y){var X=this.getRange(),ae=this.getSelection();if(X.moveToElementText)X.moveToElementText(q),X.select();else if(ae.addRange)try{Y?X.selectNodeContents(q):X.selectNode(q),ae.removeAllRanges(),ae.addRange(X)}catch{}else ae.setBaseAndExtent(q,0,q,1);return q},isCollapsed:function(){var q=this.getRange();return!q.item&&(q.boundingWidth==0||this.getSelection().isCollapsed)},collapse:function(q){var Y=this.getRange(),X=this.getSelection();Y.select?(Y.collapse(q),Y.select()):q?X.collapseToStart():X.collapseToEnd()},getContent:function(){var q=this.getRange(),Y=N.createElement("div");return this.isCollapsed()?"":(q.cloneContents&&Y.appendChild(q.cloneContents()),Y.outerHTML)},getText:function(){var q=this.getRange(),Y=this.getSelection();return this.isCollapsed()?"":q.text||(Y.toString?Y.toString():"")},insertContent:function(q){var Y=this.getRange();if(Y.pasteHTML)Y.pasteHTML(q),Y.collapse(!1),Y.select();else if(Y.insertNode)if(Y.deleteContents(),Y.createContextualFragment)Y.insertNode(Y.createContextualFragment(q));else{var X=this.document,ae=X.createDocumentFragment(),Q=X.createElement("div");ae.appendChild(Q),Q.outerHTML=q,Y.insertNode(ae)}}};return F.initialize(N),F},z=(N,F,q)=>{document.getElementById(N)&&document.getElementById(N).remove();const Y=document.createElement("div");Y.id=N,Y.classList.add("smart-text-area-mention-menu");const X=document.createElement("div");X.setAttribute("role","option"),X.className="smart-text-area-mention-menu-item",X.innerHTML='<input autocomplete="off" spellcheck="false" placeholder="Text to Display" class="smart-input"/>';const ae=X.firstElementChild;ae.value=F,ae.style.width="100%",Y.style.minWidth="250px";const Q=document.createElement("div");Q.setAttribute("role","option"),Q.className="smart-text-area-mention-menu-item";const ie=F;Q.innerHTML='<input autocomplete="off" spellcheck="false" placeholder="URL" class="smart-input"/>';const te=Q.firstElementChild;te.style.width="100%",q&&(te.value=q);let E=!1;ae.value===""&&(E=!0),ae.onchange=()=>{ae.value===""?E=!0:ae.value!==te.value&&(E=!1)},te.oninput=()=>{E&&(ae.value=te.value)},setTimeout(()=>{te.focus()},50),Q.label=ie,Y.appendChild(X),Y.appendChild(Q);const l=document.createElement("div");l.classList.add("smart-flex","middle","center");const m=document.createElement("div");m.innerHTML="CANCEL",m.style.cursor="pointer",m.style.paddingLeft=m.style.paddingTop=m.style.paddingRight=m.style.paddingBottom="5px",m.onmouseenter=()=>{m.style.backgroundColor="var(--smart-surface)",m.style.color="var(--smart-surface-color)"},m.onmouseleave=()=>{m.style.backgroundColor="",m.style.color=""};const c=document.createElement("div");c.innerHTML="REMOVE",c.style.cursor="pointer",c.style.paddingLeft=c.style.paddingTop=c.style.paddingRight=c.style.paddingBottom="5px",c.onmouseenter=()=>{c.style.backgroundColor="var(--smart-surface)",c.style.color="var(--smart-surface-color)"},m.onmouseleave=()=>{m.style.backgroundColor="",m.style.color=""};const y=document.createElement("div");y.innerHTML="OK",y.classList.add("smart-button"),y.style.paddingLeft=y.style.paddingTop=y.style.paddingRight=y.style.paddingBottom="5px",y.style.cursor="pointer",y.style.marginLeft="5px",y.style.color="var(--smart-primary)",y.onmouseenter=()=>{y.style.backgroundColor="var(--smart-surface)",y.style.color="var(--smart-surface-color)"},y.onmouseleave=()=>{y.style.backgroundColor="",y.style.color="var(--smart-primary)"},y.onclick=()=>{b(),Y.onselectitem(te.value,ae.value)},te.onkeydown=M=>{M.key==="Enter"&&y.click()},l.appendChild(m),q&&l.appendChild(c),l.appendChild(y),Y.appendChild(l),document.body.appendChild(Y),function(){const M=document.createElement("div");return M.className="smart-overlay-anchor",M.style.position="fixed",M.style.top="0",M.style.left="0",M.style.width="100%",M.style.height="100%",M.style.backgroundColor="rgba(0, 0, 0, 0.1)",M.style.zIndex="9999",M.style.display="none",document.body.appendChild(M),M.addEventListener("click",$=>{$.preventDefault(),$.stopPropagation()}),M.addEventListener("onpointerdown",$=>{$.preventDefault(),$.stopPropagation()}),M.addEventListener("onpointerup",$=>{$.preventDefault(),$.stopPropagation()}),{showOverlay:function(){M.style.display="block"},hideOverlay:function(){M.style.display="none"}}}().showOverlay(),m.onclick=()=>{b()},c.onclick=()=>{b(),Y.onselectitem(te.value,ae.value,q)};const b=()=>{Y.remove();const M=document.querySelector(".smart-overlay-anchor");M&&M.remove(),delete o._activeAnchorMenu};Y.onKey=M=>{switch(M.key){case"Escape":b();break;case"Enter":case"Tab":{const $=Y.options[Y.active];let P=$.name||$.label;if(b(),Y.query&&Y.query.length>=1){const G=window.getSelection(),Z=G.focusNode;Z.nodeValue=Z.nodeValue.replace(Y.query,""),G.getRangeAt(0).setStartAfter(Z)}A.getRootNode().execCommand("insertHTML",!1,P),M.preventDefault(),M.stopPropagation();break}}};const S=d._getSelectionRange();let D=S.getClientRects()[0];if(D){let M=D.left,$=D.top;Y.style.top=$+10+"px",Y.style.left=M+15+"px"}else if(S.startContainer.nodeType!==Node.TEXT_NODE){const M=ee=>ee?ee.offsetTop+M(ee.offsetParent):0,$=ee=>ee?ee.offsetLeft+$(ee.offsetParent):0,P=(ee=>({left:$(ee),top:M(ee)}))(S.startContainer);let G=P.left,Z=P.top;Y.style.top=Z+10+"px",Y.style.left=G+15+"px"}return Y};return A.onkeydown=N=>{const F=d,q=N.key;if(o._activeMenu&&(q==="ArrowDown"||q==="ArrowUp"||q==="Enter"||q==="Tab"))return o._activeMenu.onKey(N),N.preventDefault(),void N.stopPropagation();if(o._activeAnchorMenu&&(q==="Escape"||q==="Enter"||q==="Tab"))return o._activeAnchorMenu.onKey(N),N.preventDefault(),void N.stopPropagation();if(q==="Tab"&&N.shiftKey){const X=(ae=>{const Q=Array.from(document.querySelectorAll(["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","))).filter(te=>te.offsetWidth>0&&te.offsetHeight>0&&getComputedStyle(te).visibility!=="hidden"),ie=Q.indexOf(ae);return ie>0?Q[ie-1]:null})(a);X&&setTimeout(()=>{X.focus(),A.blur()},100)}if(F._setSelectionRange(),F._updateToolbarItems(),N.key==="@"&&o.users.length){const X=((ae,Q)=>{if(Q.length===0)return;document.getElementById(ae)&&document.getElementById(ae).remove();const ie=document.createElement("div");ie.id=ae,ie.classList.add("smart-text-area-mention-menu"),ie.query="";const te=y=>{y.length===0?ie.classList.add("smart-hidden"):ie.classList.remove("smart-hidden"),y.forEach((b,S)=>{const D=document.createElement("div");D.setAttribute("role","option"),D.className="smart-text-area-mention-menu-item",ie.appendChild(D);const M=b.name||b.label;D.textContent=M,D.label=M,S===ie.active&&(D.classList.add("selected"),D.setAttribute("aria-selected","")),D.onpointerdown=$=>{E(),A.getRootNode().execCommand("insertHTML",!1,M),$.preventDefault(),$.stopPropagation()}})};document.body.appendChild(ie);const E=()=>{ie.remove(),delete o._activeMenu};ie.onKeyUp=y=>{if(b=y.key,!/^[a-zA-Z]$/.test(b)&&!function(D){return/^[0-9]$/.test(D)}(y.key))return;var b;ie.query+=y.key;const S=ie.query;if(S.length>=1){const D=Q.filter(M=>(M.label||M.name).toLowerCase().startsWith(S)?(M.hidden=!1,!0):(M.hidden=!0,!1));ie.innerHTML="",ie.active=0,ie.options=D,te(D)}else ie.innerHTML="",ie.active=0,ie.options=Q,te(Q)},ie.onKey=y=>{switch(y.key){case"ArrowDown":ie.active=Math.min(ie.active+1,ie.options.length-1),[...ie.children].forEach((b,S)=>{b.classList.remove("selected"),b.removeAttribute("aria-selected"),S===ie.active&&(b.classList.add("selected"),b.setAttribute("aria-selected",""))});break;case"ArrowUp":ie.active=Math.max(ie.active-1,0),[...ie.children].forEach((b,S)=>{b.classList.remove("selected"),b.removeAttribute("aria-selected"),S===ie.active&&(b.classList.add("selected"),b.setAttribute("aria-selected",""))});break;case"Enter":case"Tab":{const b=ie.options[ie.active];let S=b.name||b.label;if(E(),ie.query&&ie.query.length>=1){const D=window.getSelection(),M=D.focusNode;M.nodeValue=M.nodeValue.replace(ie.query,""),D.getRangeAt(0).setStartAfter(M)}A.getRootNode().execCommand("insertHTML",!1,S),y.preventDefault(),y.stopPropagation();break}}};const l=d._getSelectionRange();ie.active=0,ie.options=Q,te(Q);let m=l.getClientRects()[0];if(m){let y=m.left,b=m.top;ie.style.top=b+10+"px",ie.style.left=y+15+"px"}else if(l.startContainer.nodeType!==Node.TEXT_NODE){const y=$=>$?$.offsetTop+y($.offsetParent):0,b=$=>$?$.offsetLeft+b($.offsetParent):0,S=(c=l.startContainer,{left:b(c),top:y(c)});let D=S.left,M=S.top;ie.style.top=M+10+"px",ie.style.left=D+15+"px"}var c;return ie})(F.id+"_users",o.users);o._activeMenu=X}let Y=d._getSelectionRange().startContainer;Y&&Y.nodeName.toLowerCase()!=="a"&&(Y=Y.parentElement),Y&&Y.nodeName.toLowerCase()==="a"&&N.ctrlKey&&Y.classList.add("ctrl")},A.onkeyup=N=>{const F=d;F._setSelectionRange(),F._updateToolbarItems(),a.value=F.content.textContent,o.set("value",a.value,!1),o._activeMenu&&o._activeMenu.onKeyUp(N)},A.onfocus=()=>{p.setAttribute("focus",""),o.toolbarOnFocus&&d.toolbar.parentElement.classList.add("show")},A.onblur=()=>{const N=d;if(o._activeAnchorMenu)return;p.removeAttribute("focus");const F=a.value;a.value=N.content.textContent,o.set("value",a.value,!1),o.toolbarOnFocus&&d.toolbar.parentElement.classList.remove("show"),d.tooltip.classList.remove("open"),o.$.fireEvent("change",{value:a.value,oldValue:F,html:d.getHTML()}),N.content.querySelector("img")&&o.uploadSettings.uploadUrl&&o.uploadSettings.removeUrl&&N.content.querySelectorAll("img").forEach(q=>{if(n.imgArray&&n.imgArray.indexOf(q.src)===-1&&n.uploadSettings.removeUrl){let Y=new FormData,X=new XMLHttpRequest;if(Y.append(n.uploadSettings.name,q.src),n.imgArrayId[q.src]){const ae=n.imgArrayId[q.src].small,Q=n.imgArrayId[q.src].medium,ie=n.imgArrayId[q.src].large,te=n.imgArrayId[q.src].value;ae&&Y.append(n.uploadSettings.name+"_small",ae),Q&&Y.append(n.uploadSettings.name+"_medium",Q),ie&&Y.append(n.uploadSettings.name+"_large",ie),te&&Y.append(n.uploadSettings.name+"_value",te)}X.open("POST",n.uploadSettings.removeUrl),X.send(Y)}})},document.addEventListener("selectionchange",N=>{const F=d;if(!N.target.getSelection)return;const q=N.target.getSelection().focusNode;F.contentContainer.contains(q)&&(F._setSelectionRange(),F._updateToolbarItems())}),d}render(){const n=this;super.render(),n.richText?n._initRichText(n.$.editor,n.$.input):(new ResizeObserver(()=>{n.resize!=="none"&&(n.style.width=parseInt(n.$.input.offsetWidth)+2+"px",n.style.height=parseInt(n.$.input.offsetHeight)+2+"px")}).observe(n.$.input),n.$.input.style.resize=n.resize),n._initUsersMention(),n._renderMentionTrigger(),n.classList.add("smart-input")}_renderMentionTrigger(){const n=this;if(!this.richText&&n.users&&n.users.length){n.setAttribute("has-users","");const a=document.createElement("span");a.innerHTML="@",a.style.position="absolute",a.classList.add("smart-hidden"),a.classList.add("smart-mention-trigger"),a.style.bottom="3px",n.resize!=="none"?a.style.right="10px":a.style.right="5px",a.style.cursor="pointer",a.onpointerdown=i=>{const r=this.$.input.selectionEnd,o=this.$.input.value.slice(0,r),d=this.$.input.value.substring(r);return n.richText?(n.$.editor.component.execCommand("insertHTML","@"),this.$.editor.dispatchEvent(new Event("input")),void i.preventDefault()):o.length>1&&o.substring(o.length-2).indexOf("@")>=0?(this.$.input.dispatchEvent(new Event("input")),void i.preventDefault()):(o.length>0?(this.$.input.value=o+" @"+d,this.$.input.selectionStart=this.$.input.selectionEnd=r+2):n.$.input.selectionStart===0&&(this.$.input.value=o+"@ "+d,this.$.input.selectionStart=this.$.input.selectionEnd=1),this.$.input.dispatchEvent(new Event("input")),void i.preventDefault())},n._mentionTrigger=a,n.addEventListener("focus",()=>{a.classList.remove("smart-hidden"),n._mentionPlugin&&n._mentionPlugin.refreshMenu()}),n.addEventListener("blur",()=>{a.classList.add("smart-hidden"),n._mentionPlugin&&n._mentionPlugin.refreshMenu()}),n.onmouseenter=()=>{a.classList.remove("smart-hidden")},n.onmouseleave=()=>{a.classList.add("smart-hidden")},n.$.inputContainer.appendChild(a)}}});const e=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];function t(n,a){const i=document.createElement("div");document.body.appendChild(i);const r=i.style;let o=getComputedStyle(n);if(n.className.indexOf("smart-editor")>=0){const p=n.querySelector(".smart-editor-editable");o=getComputedStyle(p)}r.whiteSpace="pre-wrap",r.wordWrap="break-word",r.position="absolute",r.visibility="hidden",e.forEach(p=>{r[p]=o[p]}),r.overflow="hidden",i.textContent=n.value.substring(0,a);const d=document.createElement("span");d.textContent=n.value.substring(a)||".",i.appendChild(d);const f={top:d.offsetTop+parseInt(o.borderTopWidth),left:d.offsetLeft+parseInt(o.borderLeftWidth),height:d.offsetHeight};if(n.className.indexOf("smart-editor")>=0){const p=n.getBoundingClientRect(),v=window.getSelection().getRangeAt(0).getClientRects()[0];v&&p&&(f.left=v.left-p.left,f.top=v.top-p.top)}return i.remove(),f}Smart.Mention=class{constructor(n,a,i,r,o){this.ref=n,this.menuRef=a,this.resolveFn=i,this.replaceFn=r,this.menuItemFn=o,this.options=[],this.makeOptions=this.makeOptions.bind(this),this.closeMenu=this.closeMenu.bind(this),this.selectItem=this.selectItem.bind(this),this.onInput=this.onInput.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.renderMenu=this.renderMenu.bind(this),this.ref.addEventListener("input",this.onInput),this.ref.addEventListener("keydown",this.onKeyDown)}destroy(){this.ref.removeEventListener("input",this.onInput),this.ref.removeEventListener("keydown",this.onKeyDown)}async makeOptions(n){const a=await this.resolveFn(n);a.lenght!==0?(this.options=a,this.renderMenu()):this.closeMenu()}closeMenu(){setTimeout(()=>{this.options=[],this.left=void 0,this.top=void 0,this.triggerIdx=void 0,this.renderMenu()},0)}selectItem(n){return()=>{const a=this.ref.value.substr(0,this.triggerIdx),i=this.options[n],r=this.replaceFn(i,this.ref.value[this.triggerIdx]),o=this.ref.value.substr(this.ref.selectionStart),d=`${a}${r}${o}`;this.ref.className.indexOf("smart-editor")!==-1?this.ref.component.execCommand("insertHTML",i.name):(this.ref.value=d,this.ref.ownerElement&&(this.ref.ownerElement.value=d));const f=this.ref.value.length-o.length;this.ref.className.indexOf("smart-editor")===-1?this.ref.setSelectionRange(f,f):this.ref.selectionStart=f,this.ref.dispatchEvent(new Event("input")),this.closeMenu(),this.ref.focus()}}onInput(n){const a=this.ref.selectionStart,i=this.ref.value.slice(0,a),r=i.split(/\s/),o=r[r.length-1],d=i.endsWith(o)?i.length-o.length:-1;if(i[d]!=="@")return void this.closeMenu();const f=i.slice(d+1);this.makeOptions(f);const p=t(this.ref,a),{top:v,left:w}=this.ref.getBoundingClientRect();setTimeout(()=>{this.active=0,this.left=window.scrollX+p.left+w+this.ref.scrollLeft,this.top=window.scrollY+p.top+v+p.height-this.ref.scrollTop,this.triggerIdx=d,this.renderMenu()},0)}refreshMenu(){this.triggerIdx!==void 0&&this.triggerIdx!==null&&(this.ref===document.activeElement?this.triggerIdx&&this.menuRef.classList.remove("smart-hidden"):this.menuRef.classList.add("smart-hidden"),setTimeout(()=>{const n=this.ref.selectionStart,a=t(this.ref,n),{top:i,left:r}=this.ref.getBoundingClientRect();this.left=window.scrollX+a.left+r+this.ref.scrollLeft,this.top=window.scrollY+a.top+i+a.height-this.ref.scrollTop,this.menuRef.style.left=this.left+"px",this.menuRef.style.top=this.top+"px"}))}onKeyDown(n){let a=!1;if(this.triggerIdx!==void 0)switch(n.key){case"ArrowDown":this.active=Math.min(this.active+1,this.options.length-1),this.renderMenu(),a=!0;break;case"ArrowUp":this.active=Math.max(this.active-1,0),this.renderMenu(),a=!0;break;case"Enter":case"Tab":this.selectItem(this.active)(),a=!0}a&&n.preventDefault()}renderMenu(){return this.top===void 0?(this.menuRef.hidden=!0,void this.menuRef.classList.add("smart-hidden")):this.options.length?(this.menuRef.style.left=this.left+"px",this.menuRef.style.top=this.top+"px",this.menuRef.innerHTML="",this.ref===document.activeElement&&this.menuRef.classList.remove("smart-hidden"),this.options.forEach((n,a)=>{this.menuRef.appendChild(this.menuItemFn(n,this.selectItem(a),this.active===a))}),this.menuRef.hidden=!1,void this.menuRef.classList.remove("smart-hidden")):(this.menuRef.hidden=!0,void this.menuRef.classList.add("smart-hidden"))}}})()},5435:()=>{Smart("smart-time-box",class extends Smart.BaseElement{static get properties(){return{messages:{value:{en:{hours:"Hours",minutes:"Minutes",am:"am",pm:"pm"}},type:"object",extend:!0},hour12:{type:"boolean",value:!0},value:{type:"array",value:[0,0]}}}static get listeners(){return{click:"_changeHandler"}}render(){const e=this,t=document.createElement("div");e.tabindex=-1,t.innerHTML=`
            <div class="hour-selection smart-calendar-week" role="row"><div class="header" role="rowheader"></div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="0" h12="12">12</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="1" h12="01">01</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="2" h12="02">02</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="3" h12="03">03</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="4" h12="04">04</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="5" h12="05">05</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="6" h12="06">06</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="7" h12="07">07</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="8" h12="08">08</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="9" h12="09">09</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="10" h12="10">10</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="11" h12="11">11</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="12" h12="12" pm>12</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="13" h12="01" pm>01</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="14" h12="02" pm>02</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="15" h12="03" pm>03</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="16" h12="04" pm>04</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="17" h12="05" pm>05</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="18" h12="06" pm>06</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="19" h12="07" pm>07</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="20" h12="08" pm>08</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="21" h12="09" pm>09</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="22" h12="10" pm>10</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="23" h12="11" pm>11</div>
            </div>
            <div class="minute-selection smart-calendar-week" role="row"><div class="header" role="rowheader"></div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="0">00</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="5">05</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="10">10</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="15">15</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="20">20</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="25">25</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="30">30</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="35">35</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="40">40</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="45">45</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="50">50</div>
                <div class="smart-calendar-cell" role="gridcell" aria-selected="false" value="55">55</div>
            </div>`,t.classList.add("smart-timepicker","smart-calendar"),t.setAttribute("role","grid"),e.$.content.appendChild(t),Smart.Utilities.Core.isMobile||(t.onmouseover=function(r){const o=r.target.closest(".smart-calendar-cell");o&&o.setAttribute("hover","")},t.onmouseout=function(r){const o=r.target.closest(".smart-calendar-cell");o&&o.removeAttribute("hover")}),e._timepicker=t;const n=e._timepicker.querySelector(".hour-selection"),a=e._timepicker.querySelector(".minute-selection");n.setAttribute("am-label",e.localize("am")),n.setAttribute("pm-label",e.localize("pm")),e._updateHours(),n.querySelector(".header").textContent=e.localize("hours"),a.querySelector(".header").textContent=e.localize("minutes"),Array.from(e._timepicker.querySelectorAll("div[selected]")).map(r=>{r.removeAttribute("selected"),r.setAttribute("aria-selected",!1)});const i=e._timepicker.querySelectorAll(`.hour-selection div[value="${e.value[0]}"], .minute-selection div[value="${e.value[1]}"]`);for(let r=0;r<i.length;r++){const o=i[r];o&&(o.setAttribute("selected",!0),o.setAttribute("aria-selected",!0))}}refresh(){this._updateHours()}_updateHours(){const e=this,t=e._timepicker.querySelectorAll(".hour-selection div"),n=e._timepicker.querySelector(".hour-selection");e.hour12?(n.setAttribute("am-label",e.localize("am")),n.setAttribute("pm-label",e.localize("pm"))):(n.setAttribute("am-label",""),n.setAttribute("pm-label",""));for(let a=0;a<t.length;a++){const i=t[a];i&&(i.innerHTML=e.hour12?i.getAttribute("h12"):i.getAttribute("value"))}}_changeHandler(e){const t=this;let n=e.target;if(!n||!n.classList.contains("smart-calendar-cell"))return;n.closest(".hour-selection")?Array.from(t._timepicker.querySelectorAll(".hour-selection div[selected]")).map(d=>{d.removeAttribute("selected"),d.setAttribute("aria-selected",!1)}):Array.from(t._timepicker.querySelectorAll(".minute-selection div[selected]")).map(d=>{d.removeAttribute("selected"),d.setAttribute("aria-selected",!1)}),n.setAttribute("selected",!0),n.setAttribute("aria-selected",!0);const a=t._timepicker.querySelector(".hour-selection div[selected]"),i=a?parseInt(a.getAttribute("value")):0,r=t._timepicker.querySelector(".minute-selection div[selected]"),o=r?parseInt(r.getAttribute("value")):0;t.value=[i,o]}_setValue(e,t){const n=this;if(isNaN(e)&&(e=0),isNaN(t)&&(t=0),!n._timepicker)return void(n.value=[e,t]);Array.from(n._timepicker.querySelectorAll(".hour-selection div[selected]")).map(r=>{r.removeAttribute("selected"),r.setAttribute("aria-selected",!1)}),Array.from(n._timepicker.querySelectorAll(".minute-selection div[selected]")).map(r=>{r.removeAttribute("selected"),r.setAttribute("aria-selected",!1)});const a=n._timepicker.querySelector(`.hour-selection div[value="${e}"]`),i=n._timepicker.querySelector(`.minute-selection div[value="${t}"]`);a&&(a.setAttribute("selected",!0),a.setAttribute("aria-selected",!0)),i&&(i.setAttribute("selected",!0),i.setAttribute("aria-selected",!0)),n.value=[e,t]}propertyChangedHandler(e,t,n){const a=this;switch(e){case"value":a._setValue(n[0],n[1]);break;case"hour12":a._updateHours();break;case"locale":{const i=a._timepicker.querySelector(".hour-selection"),r=a._timepicker.querySelector(".minute-selection");i.setAttribute("am-label",a.localize("am")),i.setAttribute("pm-label",a.localize("pm")),i.querySelector(".header").textContent=a.localize("hours"),r.querySelector(".header").textContent=a.localize("minutes");break}}}}),Smart("smart-time-input",class extends Smart.Input{static get properties(){return{dropDownButtonPosition:{allowedValues:["none","left","right"],value:"right",defaultReflectToAttribute:!0,type:"string"},dropDownHeight:{type:"any",value:"auto"},messages:{value:{en:{hours:"Hours",minutes:"Minutes",am:"am",pm:"pm"}},type:"object",extend:!0},placeholder:{value:"hh:mm",type:"string"},hour12:{type:"boolean",value:!0},dateTimeFormat:{type:"object",value:{hour:"2-digit",minute:"2-digit"}},value:{type:"any",value:""}}}template(){return`<div id="inputContainer" role="presentation"><input class="smart-input" id='input' readonly='[[readonly]]' placeholder='[[placeholder]]' type='[[type]]' name='[[name]]' disabled='[[disabled]]' aria-label="[[placeholder]]" /><span class="smart-hidden smart-hint" id="span">[[hint]]</span><div id="dropDownButton" tabindex=-1 class="smart-drop-down-button" role="button" aria-label="Toggle popup"><div id="arrow" class="arrow" aria-hidden="true"></div></div></div>`}static get listeners(){return{"input.change":"_changeHandler","input.focus":"_focusHandler","input.blur":"_blurHandler","input.keydown":"_keyDownHandler","input.keyup":"_keyUpHandler","input.keypress":"_keyPressHandler","dropDownButton.down":"_dropDownButtonDownHandler","inputContainer.down":"_downHandler","document.up":"_documentUpHandler"}}focus(){this.$.input.focus()}select(){const e=this;e.readonly?e.$.input.focus():e.$.input.select()}_documentUpHandler(e){const t=this,n=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(t.contains(n))requestAnimationFrame(()=>{});else{if(t.$.scrollView.contains(n.shadowParent||n))return t._isPointerDown&&(t._isPointerDown=!1,t.opened&&(t._preventLookup=!0),t.$.input.focus()),void e.preventDefault();t.opened&&(t._preventLookup=!0),t._isPointerDown=!1,t.close()}}_changeHandler(e){e.stopPropagation(),this._performSelect()}_focusHandler(){const e=this;e.setAttribute("focus",""),(e.readonly||e.minLength!==0||e.$.input.value.length!==0||e._preventLookup)&&(e.$.fireEvent("focus"),delete e._preventLookup)}_blurHandler(){const e=this;if(e.opened||e.removeAttribute("focus"),e.$.fireEvent("blur"),e._popup&&e._popup.isCompleted)e._setInputValue(e._popup.value[0],e._popup.value[1]);else{const t=e._getInputValue();e._setInputValue(t[0],t[1])}delete e._preventLookup}_is12HourFormat(){const e=new Date().toLocaleTimeString(this.locale,this.dateTimeFormat);return e.indexOf("A")>=0||e.indexOf("a")>=0||e.indexOf("P")>=0||e.indexOf("p")>=0}_getInputValue(){const e=this.$.input.value,t=this.$.input.value.split(":");if(t.length<2)return e.length===1||t.length===2?[parseInt(e),0]:[0,0];let n=parseInt(t[0]),a=parseInt(t[1]);if(isNaN(n)&&(n=0),isNaN(a)&&(a=0),e.match(/\s(.*)$/)){const i=e.match(/\s(.*)$/)[1];i==="PM"&&n<12&&(n+=12),i==="AM"&&n===12&&(n-=12)}return[n,a]}_setInputValue(e,t){const n=this;let a=n.value&&n.value.slice?n.value.slice(0):[0,0];const i=new Date;isNaN(e)&&(e=0),isNaN(t)&&(t=0),e>24&&(e=0),t>59&&(t=0),i.setHours(e),i.setMinutes(t);let r=i.toLocaleTimeString(n.locale,n.dateTimeFormat),o=[e,t];n.hour12===!1&&(r=i.toLocaleTimeString(n.locale,Object.assign({hour12:!1},n.dateTimeFormat))),n.$.input.value=r,n.value=[e,t],n.setAttribute("data-value",e+":"+t),a.some(d=>o.indexOf(d)<0)&&(n.$.fireEvent("change",{oldValue:a,value:o}),n._updateTargetValue())}_performSelect(){}_open(){const e=this,t=e.getBoundingClientRect(),n=window.scrollX,a=window.scrollY;let i=0,r=0;if(this.opened)return;if(e.timer&&clearTimeout(e.timer),document.body.appendChild(e.$.scrollView),e.setAttribute("aria-owns",e.$.scrollView.id),e.readonly||e.$.input.setAttribute("aria-controls",e.$.scrollView.id),e.$.scrollView.enableShadowDOM&&!e._importedStyle&&(e.$.scrollView.importStyle(e._getStyleUrl("smart.textbox.css")),e._importedStyle=!0),getComputedStyle(document.body).position!=="static"){const f=document.body.getBoundingClientRect();i=f.left,r=f.top}e.$.scrollView.style.setProperty("--smart-input-drop-down-menu-width",""),e.$.scrollView.style.left=-3+t.left+n-i+"px",e.$.scrollView.style.top=t.bottom+a-r+1+"px",e.$.scrollView.classList.remove("open"),e.$.scrollView.onpointerdown=function(){e._isPointerDown=!0};const o=e._popup,d=o.context;o.rightToLeft=e.rightToLeft,o.messages=e.messages,o.theme=e.theme,o.hour12=e.hour12,o.context=e,o.locale=e.locale,o.context=d,e._popup.refresh(),e._refreshPopup(),requestAnimationFrame(function(){e.$.scrollView.setAttribute("open",""),e.setAttribute("open",""),e.$.dropDownButton.setAttribute("open",""),e.$.input.setAttribute("open","")}),this.opened=!0}_refreshPopup(){const e=this._getInputValue();this._popup._setValue(e[0],e[1])}close(){const e=this;return!!e.opened&&(e.timer&&clearTimeout(e.timer),e.timer=setTimeout(function(){e.$.scrollView.parentNode&&!e.opened&&(document.body.removeChild(e.$.scrollView),e.removeAttribute("aria-owns"),e.readonly||e.$.input.removeAttribute("aria-controls"))},1e3),e.$.scrollView.removeAttribute("open"),e.$.dropDownButton.removeAttribute("open"),e.$.input.removeAttribute("open"),e.removeAttribute("open"),e.opened=!1,!0)}_lookup(){}_downHandler(e){const t=this;t.readonly&&t._dropDownButtonDownHandler(e)}_dropDownButtonDownHandler(e){return this._toggle(),e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),!1}_toggle(){const e=this;e.opened?e.close():e.open()}open(){const e=this;e._process(),e.$.input.focus(),setTimeout(function(){e.$.input.focus()},25)}_process(){this._performSelect(void 0,!0),this._open()}_matcher(){}_sorter(){}_highlighter(){}_render(){}ensureVisible(){}_next(){}_prev(){}_move(e){e.stopPropagation()}_keyPressHandler(e){this._suppressKeyPressRepeat||e.shiftKey||e.altKey||e.ctrlKey}_insertKey(e,t=1){const n=this,a=n.$.input.selectionStart,i=n.$.input.value,r=i.substring(0,a),o=i.substring(a+t);n.$.input.value=r+e.key+o,n.$.input.selectionStart=n.$.input.selectionEnd=a+1}_keyDownHandler(e){const t=this;t._suppressKeyPressRepeat=![40,38,9,13,27,16,17,18].includes(e.keyCode);let n=!1;e.keyCode>=48&&e.keyCode<=57&&(n=!0),e.key===":"&&t.$.input.value.length===1&&(t.$.input.value="0"+t.$.input.value+":");const a=t.$.input.selectionEnd-t.$.input.selectionStart;switch(t.$.input.value.length>5&&n&&a<=1&&(t.$.input.value.indexOf(":")===t.$.input.selectionStart&&(t.$.input.selectionStart=t.$.input.selectionEnd=t.$.input.selectionStart+1),t._insertKey(e),e.preventDefault()),e.key){case"ArrowLeft":case"ArrowUp":case"ArrowDown":case"ArrowRight":case"Home":case"End":case"Delete":case"Backspace":case"Tab":n=!0}e.key==="Tab"&&t.close(),e.ctrlKey&&(n=!0),n||e.preventDefault(),e.shiftKey||e.altKey||e.ctrlKey}_keyUpHandler(e){const t=this,n=t.$.input.value.trim(),a=n.indexOf(":");n.length===2&&e.key!=="Backspace"&&e.key!=="Delete"?t.$.input.value=n+":":e.key===":"&&a===-1?t._insertKey(e,0):e.key===":"&&a>=0&&(t.$.input.selectionStart=t.$.input.selectionEnd=a+1);const i=n.split(":"),r=t._is12HourFormat();if(i.length===2&&r&&(e.key==="p"||e.key==="a")){let o=parseInt(parseInt(i[0])),d=parseInt(parseInt(i[1]));isNaN(o)&&(o=0),isNaN(d)&&(d=0);let f=n.match(/\s(.*)$/);if(!f)return;f=n.match(/\s(.*)$/)[1],f==="PM"&&o<12&&(o+=12),f==="AM"&&o===12&&(o-=12);const p=n.indexOf("a")>=0||n.indexOf("A")>=0;if(e.key==="p"&&p)o+=12;else{if(e.key!=="a"||p)return;o-=12}const v=t.$.input.selectionStart;t._setInputValue(o,d),t.$.input.selectionStart=v,t.$.input.selectionEnd=v}if((i.length===2||i.length===1)&&(t.value=t._getInputValue()),t._refreshPopup(),!e.shiftKey)switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:e.keyCode===40&&e.altKey&&t.open(),e.keyCode===38&&e.altKey&&t.close();break;case 27:if(!t.opened)return;t.close(),e.stopPropagation(),e.preventDefault()}}propertyChangedHandler(e,t,n){const a=this;switch(e){case"value":if(typeof n=="string")a.$.input.value=n;else if(n instanceof Date)a._setInputValue(n.getHours(),n.getMinutes());else if(Array.isArray(n))a._setInputValue(n[0],n[1]);else{a.$.input.value=n;const i=a._getInputValue();a._setInputValue(i[0],i[1])}break;case"month":case"min":case"max":a.$.calendar&&(a.$.calendar[e]=n);break;case"theme":case"rightToLeft":case"animation":case"inverted":a.$.calendar&&(a.$.calendar[e]=n),n?a.$.scrollView.setAttribute(Smart.Utilities.Core.toDash(e),typeof n=="boolean"?"":n):a.$.scrollView.removeAttribute(Smart.Utilities.Core.toDash(e));break;case"locale":a._performSelect(),a.$.calendar.locale=n;break;default:super.propertyChangedHandler(e,t,n)}}_createElement(){const e=this,t=document.createElement("div");if(t.classList.add("smart-input-drop-down-menu","smart-date-input-drop-down-menu"),t.setAttribute("animation",e.animation),t.setAttribute("role","presentation"),e.rightToLeft?t.setAttribute("right-to-left",""):t.removeAttribute("right-to-left"),e.inverted?t.setAttribute("inverted",""):t.removeAttribute("inverted"),t.onclick=function(a){a.stopPropagation(),a.preventDefault();const i=a.target;e.$.input.focus();const r=i.closest(".smart-timepicker-button");if(r){const o=t.querySelectorAll(".smart-timepicker-button");for(let d=0;d<o.length;d++)o[d].removeAttribute("selected");r.setAttribute("selected","")}else i.closest("smart-done-button")?e.close():i.closest(".smart-timepicker")&&e._popup&&e._setInputValue(e._popup.value[0],e._popup.value[1])},!t.id){const a=t.tagName.toLowerCase();t.id=a.slice(0,1).toLowerCase()+a.slice(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}e.$.scrollView=t,e.classList.add("smart-input");const n=document.createElement("smart-time-box");if(e._popup=n,t.appendChild(n),e.value===""&&(e.value=[0,0]),e.$.input.value=e.value.join(":"),e.value&&e.value.length>0){const a=e._getInputValue();e._setInputValue(a[0],a[1])}}setValue(e){this.value=e}getValue(){return this.value}getFormattedValue(){const e=this;if(!e.$.input)return"";if(e.value&&e.value.length>0){const t=e._getInputValue();e._setInputValue(t[0],t[1])}return e.$.input.value}_refreshMenu(){}_setAriaRelations(){const e=this,t=e.getAttribute("aria-label");e.readonly?(e.setAttribute("role","button"),!t&&e.placeholder&&e.setAttribute("aria-label",e.placeholder),e.removeAttribute("aria-readonly"),e.$.input.setAttribute("aria-hidden",!0),e.$.input.removeAttribute("aria-controls"),e.$.dropDownButton.setAttribute("aria-hidden",!0)):(e.setAttribute("role","presentation"),t&&t===e.placeholder&&e.removeAttribute("aria-label"),e.$.input.removeAttribute("aria-hidden"),e.$.dropDownButton.removeAttribute("aria-hidden")),e.setAttribute("aria-haspopup","dialog"),e.$.scrollView.setAttribute("role","dialog")}_setActiveDescendant(){}_setInputPurpose(){}})},1419:()=>{Smart("smart-time-picker",class extends Smart.BaseElement{static get properties(){return{autoSwitchToMinutes:{value:!1,type:"boolean"},footer:{value:!1,type:"boolean"},footerTemplate:{value:null,type:"any?"},format:{value:"12-hour",allowedValues:["12-hour","24-hour"],type:"string"},minuteInterval:{value:1,type:"number"},name:{value:"",type:"string"},selection:{value:"hour",allowedValues:["hour","minute"],type:"string"},value:{value:new Date,type:"any",reflectToAttribute:!1},view:{value:"portrait",allowedValues:["landscape","portrait"],type:"string"}}}static get listeners(){return{keydown:"_keydownHandler",resize:"_resizeHandler","header.click":"_headerClickHandler","picker.down":"_pickerDownHandler","picker.move":"_pickerMoveHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler"}}static get requires(){return{"Smart.Utilities.NumericProcessor":"smart.numeric.js","Smart.Utilities.BigNumber":"smart.math.js","Smart.Utilities.Draw":"smart.draw.js"}}static get styleUrls(){return["smart.timepicker.css"]}template(){return`<div id="container" role="presentation">
                <div id="header" class="smart-header smart-unselectable" role="heading" aria-level="1">
                    <div id="hourMinuteContainer" class="smart-hour-minute-container">
                        <div id="hourContainer" class="smart-hour-container" role="button"></div>
                        <div role="presentation">:</div>
                        <div id="minuteContainer" class="smart-minute-container" role="button"></div>
                    </div>
                    <div id="ampmContainer" class="smart-am-pm-container" role="presentation">
                        <div id="amContainer" class="smart-am-container" role="button">AM</div>
                        <div id="pmContainer" class="smart-pm-container" role="button">PM</div>
                    </div>
                </div>
                <div id="main" class="smart-main-container">
                    <div id="svgContainer" class="smart-svg-container">
                        <div id="picker" class="smart-svg-picker" role="slider"></div>
                    </div>
                    <div id="footer" class="smart-footer"></div>
                </div>
                <input id="hiddenInput" type="hidden" name="[[name]]">
            </div>`}ready(){super.ready()}render(){this._createElement(),super.render()}setHours(e){const t=this;(e=e===24?0:Math.max(0,Math.min(e,23)))<12?t._selectAmPm("am"):t._selectAmPm("pm"),t.format==="12-hour"&&(e===0?e=12:e>12&&(e-=12)),t._updateHours(e,arguments[1]),t.selection==="hour"&&(t._inInnerCircle=t.format==="24-hour"&&(e===0||e>12),t._drawArrow(!0,e,arguments[2]),t.hasAnimation||(t._inInnerCircle=!1))}setMinutes(e){const t=this;e=e===60?0:Math.max(0,Math.min(e,59)),t._updateMinutes(e),t.selection==="minute"&&t._drawArrow(!0,e,arguments[1])}propertyChangedHandler(e,t,n){super.propertyChangedHandler(e,t,n);const a=this;switch(e){case"disabled":case"unfocusable":a._setFocusable();break;case"footer":case"view":a._resizeHandler();break;case"footerTemplate":a._validateFooterTemplate();break;case"format":{let i=a.value.getHours();n==="12-hour"?(a.$ampmContainer.removeClass("smart-hidden"),a.value.getHours()<12?a._selectAmPm("am"):a._selectAmPm("pm"),i===0?i=12:i>12&&(i-=12)):a.$ampmContainer.addClass("smart-hidden"),a.$.hourContainer.innerHTML=i,a.selection==="hour"&&(a.$.picker.setAttribute("aria-valuenow",i),a._draw.clear(),a._renderSVG());break}case"minuteInterval":{const i=Math.max(1,Math.min(n,60));i!==n&&(a.minuteInterval=i),a.selection==="minute"&&(a.interval=i);break}case"selection":n==="hour"?a._changeToHourSelection():a._changeToMinuteSelection();break;case"value":{a._oldValue=t,a._validateValue();const i=a.value.getHours()===t.getHours(),r=a.value.getMinutes()===t.getMinutes();i&&r||(r?a.setHours(a.value.getHours()):(i||a.setHours(a.value.getHours(),!0),a.setMinutes(a.value.getMinutes()))),delete a._oldValue;break}}}_applyInitialSettings(){const e=this,t=e.value;let n,a;n=t.getHours(),a=t.getMinutes(),e.format==="12-hour"?n<12?(e._ampm="am",e.$amContainer.addClass("smart-selected"),n===0&&(n=12)):(e._ampm="pm",e.$pmContainer.addClass("smart-selected"),n>12&&(n-=12)):e.$ampmContainer.addClass("smart-hidden"),a=a.toString(),a.length===1&&(a="0"+a),e.$.hourContainer.innerHTML=n,e.$.minuteContainer.innerHTML=a,e.selection==="hour"?(e.$hourContainer.addClass("smart-selected"),e.$.picker.setAttribute("aria-valuenow",n)):(e.$minuteContainer.addClass("smart-selected"),e.$.picker.setAttribute("aria-valuenow",a))}_changeSelection(e,t){const n=this,a=e.pageX,i=e.pageY,r=n._getCenterCoordinates(),o=Math.sqrt(Math.pow(r.x-a,2)+Math.pow(r.y-i,2));if(n._measurements.center=r,e.type==="down"){if(o>n._measurements.radius)return void e.stopPropagation();n._dragging=!0}n.format==="24-hour"&&n.selection==="hour"&&o<n._measurements.radius-50?n._inInnerCircle=!0:n._inInnerCircle=!1;let d=-1*Math.atan2(i-r.y,a-r.x)*180/Math.PI;d<0&&(d+=360),n._angle=d;let f=n._numericProcessor.getValueByAngle(n._angle);n.selection==="hour"?(n.format==="24-hour"&&n._inInnerCircle?f!==0&&f!==12?f+=12:f=0:f===0&&(f=12),n._updateHours(f)):(f===60&&(f=0),n._updateMinutes(f)),n._oldTimePart!==void 0&&(cancelAnimationFrame(n._animationFrameId),delete n._animationFrameId,n._drawArrow(!0,f,t))}_changeToHourSelection(){const e=this,t=e._centralCircle.parentElement||e._centralCircle.parentNode;let n=e.value.getHours();cancelAnimationFrame(e._animationFrameId),delete e._animationFrameId,e.interval=1,e.$hourContainer.addClass("smart-selected"),e.$minuteContainer.removeClass("smart-selected"),t.removeChild(e._centralCircle),t.removeChild(e._arrow),t.removeChild(e._head),e._getMeasurements(),e._numericProcessor.getAngleRangeCoefficient(),e._draw.clear(),t.appendChild(e._centralCircle),t.appendChild(e._arrow),t.appendChild(e._head),e._renderHours(),e.format==="24-hour"&&(n===0||n>12)?e._inInnerCircle=!0:e.format==="12-hour"&&(n%=12,n===0&&(n=12)),e._drawArrow(!0,void 0,!0),e._inInnerCircle=!1,e.$.picker.firstElementChild.setAttribute("aria-hidden",!0),e.$.picker.setAttribute("aria-valuenow",n)}_changeToMinuteSelection(){const e=this,t=e._centralCircle.parentElement||e._centralCircle.parentNode;e._inInnerCircle=!1,cancelAnimationFrame(e._animationFrameId),delete e._animationFrameId,e.interval=e.minuteInterval,e.$hourContainer.removeClass("smart-selected"),e.$minuteContainer.addClass("smart-selected"),t.removeChild(e._centralCircle),t.removeChild(e._arrow),t.removeChild(e._head),e._getMeasurements(),e._numericProcessor.getAngleRangeCoefficient(),e._draw.clear(),t.appendChild(e._centralCircle),t.appendChild(e._arrow),t.appendChild(e._head),e._renderMinutes(),e._drawArrow(!0,void 0,!0),e.$.picker.firstElementChild.setAttribute("aria-hidden",!0),e.$.picker.setAttribute("aria-valuenow",e.value.getMinutes())}_computeArrowBodyPoints(e,t,n,a){const i=Math.sin(t),r=Math.cos(t),o=e-n*r+a*i,d=e+n*i+a*r,f=e+n*r+a*i,p=e-n*i+a*r,v="M "+(e+n*r)+","+(e-n*i)+" L "+(e-n*r)+","+(e+n*i)+" L "+o+","+d+" "+f+","+p;return this._headCenter={x:(o+f)/2,y:(d+p)/2},v}_createElement(){const e=this;if(e.setAttribute("role","dialog"),e.value){const t=new Date;let n=e.value;n.calendar&&(n=n.toDate()),n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getHours()===t.getHours()&&n.getMinutes()===t.getMinutes()&&(e.value=new Date)}e.coerce=!0,e.min=0,e._drawMin="0",e.startAngle=-270,e.endAngle=90,e._angleDifference=e.endAngle-e.startAngle,e.ticksVisibility="none",e._tickIntervalHandler={},e._tickIntervalHandler.labelsSize={},e._distance={majorTickDistance:0,minorTickDistance:0,labelDistance:10},e._measurements={},e._validateInitialPropertyValues(),e._applyInitialSettings(),e._numericProcessor=new Smart.Utilities.DecimalNumericProcessor(e),e._draw=new Smart.Utilities.Draw(e.$.picker),e._isVisible()?(e._setPickerSize(),e._getMeasurements(),e._numericProcessor.getAngleRangeCoefficient(),e._renderSVG(),e._setFocusable(),e.$.hiddenInput.value=e.value,e.enableShadowDOM&&e.appendChild(e.$.hiddenInput)):e._renderingSuspended=!0}_documentMoveHandler(e){const t=this;t._dragging&&t._changeSelection(e,!0)}_documentUpHandler(){const e=this;e._dragging?(e._inInnerCircle=!1,e._dragging=!1,e.autoSwitchToMinutes&&e.selection==="hour"&&(e.hasAnimation?function t(){e._animationFrameId?requestAnimationFrame(t):(e.$picker.addClass("animate"),setTimeout(function(){e.selection="minute",e._changeToMinuteSelection()},250),setTimeout(function(){e.$picker.removeClass("animate")},550))}():(e.selection="minute",e._changeToMinuteSelection()))):e.hasAttribute("focus")&&(e.$.fireEvent("blur"),e.removeAttribute("focus"))}_drawArrow(e,t,n){const a=this,i=a.selection==="hour",r=a.format==="12-hour";let o,d,f=a._oldTimePart;if(delete a._oldTimePart,t===void 0&&(i?(t=a.value.getHours(),r&&t>12&&(t-=12)):t=a.value.getMinutes()),f===void 0||n||!a.hasAnimation)return void a._drawArrowSVG(e,t);if(i&&!r)return void a._animate24HourView(f,t);i?(o=.2,d=12,t%=d,f%=d):(o=1,d=60);let p=t-f,v=f-t;p<0&&(p+=d),v<0&&(v+=d),v<p&&(o*=-1),function w(){f+=o,f=parseFloat((f%d).toFixed(1)),f<0&&(f+=d),a._drawArrowSVG(e,f),e=!0,f!==t%d?a._animationFrameId=requestAnimationFrame(w):delete a._animationFrameId}()}_animate24HourView(e,t){const n=this;let a=.2;n._inInnerCircle=!1;const i=e===0||e>12,r=t===0||t>12;if(i!==r){if(e=i?Math.abs(e-12):(e+12)%24,n._inInnerCircle=r,n._drawArrowSVG(!0,e),e===t)return}else n._inInnerCircle=r;let o=e,d=t;n._inInnerCircle&&(d===0&&o<18?d=12:o===0&&d<18&&(o=12));let f=d-o,p=o-d;f<0&&(f+=12),p<0&&(p+=12),p<f&&(a*=-1),function v(w){n._inInnerCircle=w,w?((e=parseFloat((e+a).toFixed(1)))<0?e+=24:e<1&&(e+=12),e!==12&&e!==24||(e=0)):((e+=a)!==12&&(e=parseFloat((e%12).toFixed(1))),e<=0&&(e+=12)),n._drawArrowSVG(!0,e),e!==t?n._animationFrameId=requestAnimationFrame(function(){v(w)}):(delete n._animationFrameId,n._inInnerCircle=!1)}(n._inInnerCircle)}_drawArrowSVG(e,t){const n=this,a=n._measurements,i=n._numericProcessor.getAngleByValue(t);let r;r=n._inInnerCircle?n._computeArrowBodyPoints(a.radius,i,1,a.innerRadius-n._largestLabelSize/2-45):n._computeArrowBodyPoints(a.radius,i,1,a.innerRadius-n._largestLabelSize/2),e?(n._arrow.setAttribute("d",r),n._head.setAttribute("cx",n._headCenter.x),n._head.setAttribute("cy",n._headCenter.y),n._head.setAttribute("r",n._largestLabelSize),n._headRect=n._head.getBoundingClientRect(),t%1==0&&n._highlightLabel(t)):(n._arrow=n._draw.path(r,{class:"smart-needle"}),n._head=n._draw.circle(n._headCenter.x,n._headCenter.y,n._largestLabelSize,{class:"smart-needle-central-circle"}),n._headRect=n._head.getBoundingClientRect())}_drawLabel(e,t,n){const a=this,i=a._measurements,r=i.radius,o={class:"smart-label smart-unselectable","font-size":i.fontSize,"font-family":i.fontFamily,"font-weight":i.fontWeight,"font-style":i.fontStyle};a.selection==="hour"?a._plotInnerCircle?t>0?t+=12:t="00":t===0&&(t=12):t.toString().length===1&&(t="0"+t);const d=a._draw.measureText(t,0,o),f=r-n-a._largestLabelSize/2,p=r+f*Math.sin(e),v=r+f*Math.cos(e);a._draw.text(t,Math.round(p)-d.width/2,Math.round(v)-d.height/2,d.width,d.height,0,o).setAttribute("value",parseFloat(t))}_getCenterCoordinates(){const e=this.$.picker.getBoundingClientRect(),t=this._measurements.radius,n=document.body.scrollLeft||document.documentElement.scrollLeft,a=document.body.scrollTop||document.documentElement.scrollTop;return{x:e.left+n+t,y:e.top+a+t}}_getMeasurements(){const e=this,t=e._measurements,n=document.createElement("div");let a,i,r,o,d,f;n.className="smart-label",n.style.position="absolute",n.style.visibility="hidden",e.$.svgContainer.appendChild(n),e.selection==="hour"?(a="1",i="23",e.max=12,e._drawMax="12",e._range=12):(a="00",i="55",e.max=60,e._drawMax="60",e._range=60),n.innerHTML=a,r=n.offsetWidth,d=n.offsetHeight,n.innerHTML=i,o=n.offsetWidth,f=n.offsetHeight,e._largestLabelSize=Math.max(r,d,o,f),e._tickIntervalHandler.labelsSize.minLabelSize=d,e._tickIntervalHandler.labelsSize.maxLabelSize=f;const p=window.getComputedStyle(n);t.fontSize=p.fontSize,t.fontFamily=p.fontFamily,t.fontWeight=p.fontWeight,t.fontStyle=p.fontStyle,e.$.svgContainer.removeChild(n)}_headerClickHandler(e){const t=this;if(!t.disabled&&!t.readonly)switch(e.target){case t.$.hourContainer:t.selection!=="hour"&&(t.selection="hour",t._changeToHourSelection());break;case t.$.minuteContainer:t.selection!=="minute"&&(t.selection="minute",t._changeToMinuteSelection());break;case t.$.amContainer:if(!t.$amContainer.hasClass("smart-selected")){t._selectAmPm("am");const n=new Date(t.value.getTime());t.value.setHours(t.value.getHours()-12),t.$.hiddenInput.value=t.value,t.$.fireEvent("change",{value:t.value,oldValue:n})}break;case t.$.pmContainer:if(!t.$pmContainer.hasClass("smart-selected")){t._selectAmPm("pm");const n=new Date(t.value.getTime());t.value.setHours(t.value.getHours()+12),t.$.hiddenInput.value=t.value,t.$.fireEvent("change",{value:t.value,oldValue:n})}}}_highlightLabel(e){const t=this;if(t._highlightedLabel){if(parseFloat(t._highlightedLabel.getAttribute("value"))===e)return;t._highlightedLabel.classList.remove("smart-selected"),t._highlightedLabel=void 0}let n;t.selection==="hour"?(e===void 0&&(e=t.value.getHours()),t.format==="12-hour"&&(e===0?e=12:e>12&&(e-=12)),n=e):(e===void 0&&(e=t.value.getMinutes()),n=5*Math.round(e/5),n===60&&(n=0));const a=t.$.picker.querySelector('.smart-label[value="'+n+'"]');a&&(n===e||t._overlapsLabel(a))&&(t._highlightedLabel=a,a.classList.add("smart-selected"))}_isVisible(){const e=this;return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}_keydownHandler(e){const t=this;if(t._dragging)return;const n=(t.shadowRoot||t.getRootNode()).activeElement,a=e.key;if(!t.$.header.contains(n)||a!=="Enter"&&a!==" "){if(n===t.$.picker&&!e.altKey){let i;if(a==="ArrowRight"||a==="ArrowUp"?i=1:a!=="ArrowLeft"&&a!=="ArrowDown"||(i=-1),i)if(e.preventDefault(),t.selection==="hour"){let r=t.value.getHours();r===0&&i===-1?r=23:r===23&&i===1?r=0:r+=i,t.format==="12-hour"&&(r>=12&&t.$amContainer.hasClass("smart-selected")?r-=12:r<12&&t.$pmContainer.hasClass("smart-selected")&&(r+=12)),t.setHours(r,void 0,!0)}else{let r=t.value.getMinutes();i*=t.minuteInterval,r+i>=60?r=0:r<-1*i?r=60%i==0?60+i:60-60%i:r+=i,t.setMinutes(r,!0)}}}else e.preventDefault(),t._headerClickHandler({target:n})}_overlapsLabel(e){const t=this,n=e.getBoundingClientRect();let a=t._headRect;return a.height===0&&(a=t._headRect=t._head.getBoundingClientRect()),!(n.right-10<a.left||n.left+10>a.right||n.bottom-10<a.top||n.top+10>a.bottom)}_parseDateString(e,t){const n=e.indexOf("Date("),a=e.indexOf(")");let i=e;if(n!==-1&&a!==-1){if(i=e.slice(n+5,a),i=i.replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,""),i.trim()==="")return new Date;if(new RegExp(/(^(\d+)(\s*,\s*\d+)+$)/g).test(i))return i=i.replace(/\s/g,""),i=i.split(","),i.map(function(r,o){i[o]=parseInt(r)}),i.unshift(null),i=new(Function.prototype.bind.apply(Date,i)),i}if(i.trim()==="")return t;if(!isNaN(i))return new Date(parseInt(i,10));try{i=new Date(i)}catch{i=t}return isNaN(i.getTime())?t:i}_pickerDownHandler(e){const t=this;t.disabled||t.readonly||!Smart.Utilities.Core.isMobile&&e.which!==1||(t._changeSelection(e),t.$.fireEvent("focus"),t.setAttribute("focus",""))}_pickerMoveHandler(e){e.originalEvent.type==="touchmove"&&e.originalEvent.preventDefault()}_renderHours(){const e=this;e._highlightedLabel=void 0,e._majorTicksInterval=1,e._numericProcessor.addGaugeTicksAndLabels(),e.format==="24-hour"?(e._plotInnerCircle=!0,e._distance.labelDistance=55,e._numericProcessor.addGaugeTicksAndLabels(),e._plotInnerCircle=!1,e._distance.labelDistance=10,e.$.picker.setAttribute("aria-valuemin",0),e.$.picker.setAttribute("aria-valuemax",23)):(e.$.picker.setAttribute("aria-valuemin",1),e.$.picker.setAttribute("aria-valuemax",12))}_renderMinutes(){const e=this;e._highlightedLabel=void 0,e._majorTicksInterval=5,e._numericProcessor.addGaugeTicksAndLabels(),e.$.picker.setAttribute("aria-valuemin",0),e.$.picker.setAttribute("aria-valuemax",59)}_renderSVG(){const e=this;if(e._isVisible()&&!e._renderingSuspended){if(e._centralCircle=e._draw.circle(e._measurements.radius,e._measurements.radius,4,{class:"smart-needle-central-circle"}),e.selection==="hour"&&e.format==="24-hour"&&(e.value.getHours()===0||e.value.getHours()>12)&&(e._inInnerCircle=!0),e._drawArrow(!1),e._inInnerCircle=!1,e.selection==="hour"){e.interval=1,e._renderHours();let t=e.value.getHours();e.format==="12-hour"&&t>12&&(t-=12),e._highlightLabel(t)}else e.interval=e.minuteInterval,e._renderMinutes(),e._highlightLabel(e.value.getMinutes());e.$.picker.firstElementChild.setAttribute("aria-hidden",!0)}else e._renderingSuspended=!0}refresh(){const e=this;let t=!1;e.isRendered&&(e._isVisible()?(e._renderingSuspended=!1,t=!0,e._getMeasurements(),e._numericProcessor.getAngleRangeCoefficient(),e._setPickerSize(),e._sizeChanged||t?(e._draw.clear(),e._renderSVG(),e._sizeChanged=!1):(e._headRect=e._head.getBoundingClientRect(),e._highlightLabel())):e._renderingSuspended=!0)}_resizeHandler(){this.refresh()}_selectAmPm(e){const t=this;e==="am"?(t._ampm="am",t.$pmContainer.removeClass("smart-selected"),t.$amContainer.addClass("smart-selected")):(t._ampm="pm",t.$amContainer.removeClass("smart-selected"),t.$pmContainer.addClass("smart-selected"))}_setFocusable(){const e=this;if(e.disabled||e.unfocusable)return e.$.hourContainer.removeAttribute("tabindex"),e.$.minuteContainer.removeAttribute("tabindex"),e.$.amContainer.removeAttribute("tabindex"),e.$.pmContainer.removeAttribute("tabindex"),void e.$.picker.removeAttribute("tabindex");const t=e.tabIndex>0?e.tabIndex:0;e.$.hourContainer.tabIndex=t,e.$.minuteContainer.tabIndex=t,e.$.amContainer.tabIndex=t,e.$.pmContainer.tabIndex=t,e.$.picker.tabIndex=t}_setPickerSize(){const e=this,t=e.$.svgContainer.offsetWidth,n=e.$.svgContainer.offsetHeight;let a=.9*Math.min(t,n);e._pickerSize!==void 0&&e._pickerSize!==a?e._sizeChanged=!0:e._sizeChanged=!1,e._pickerSize=a,e._measurements.radius=a/2,e._measurements.innerRadius=e._measurements.radius-10,a+="px",e.$.picker.style.width=a,e.$.picker.style.height=a}_updateHours(e,t){const n=this;let a=e;n.format==="12-hour"?n._ampm==="am"?a===12&&(a=0):a<12&&(a+=12):a=e;const i=n._oldValue!==void 0?n._oldValue:new Date(n.value.getTime()),r=i.getHours();a!==r?(n._oldTimePart=r,n._oldValue===void 0&&n.value.setHours(a),n.$.hourContainer.innerHTML=e,t!==!0&&(n.$.hiddenInput.value=n.value,n.$.fireEvent("change",{value:n.value,oldValue:i})),n.selection==="hour"&&n.$.picker.setAttribute("aria-valuenow",e)):delete n._oldTimePart}_updateMinutes(e){const t=this,n=t._oldValue!==void 0?t._oldValue:new Date(t.value.getTime()),a=n.getMinutes();e!==a?(t._oldTimePart=a,t._oldValue===void 0&&t.value.setMinutes(e),t.selection==="minute"&&t.$.picker.setAttribute("aria-valuenow",e),(e=e.toString()).length===1&&(e="0"+e),t.$.minuteContainer.innerHTML=e,t.$.hiddenInput.value=t.value,t.$.fireEvent("change",{value:t.value,oldValue:n})):delete t._oldTimePart}_validateFooterTemplate(){const e=this,t=e.footerTemplate;if(t===null)return void(e.$.footer.innerHTML="");let n;if(t instanceof HTMLTemplateElement?n=t:typeof t=="string"&&(n=document.getElementById(t),n instanceof HTMLTemplateElement||(n=void 0)),n===void 0)return e.footerTemplate=null,void(e.$.footer.innerHTML="");const a=document.importNode(n.content,!0);if(e.enableShadowDOM)return e.$.footer.innerHTML="<slot></slot>",void e.appendChild(a);e.$.footer.appendChild(a)}_validateInitialPropertyValues(){const e=this;e._validateFooterTemplate(),e.minuteInterval=Math.max(1,Math.min(e.minuteInterval,60)),e._validateValue()}_validateValue(){const e=this,t=e.value,n=e._oldValue!==void 0?this._oldValue:new Date;if(!(t instanceof Date))if(typeof t=="string"){if(/^\d{1,2}:\d{1,2}$/.test(t)){const a=t.split(":");return void(e.value=new Date(n.getFullYear(),n.getMonth(),n.getDate(),parseFloat(a[0]),parseFloat(a[1])))}e.value=e._parseDateString(t,n)}else e.value=n}})},4595:()=>{Smart("smart-toast-item",class extends Smart.ContentElement{static get properties(){return{showCloseButton:{value:!1,type:"boolean"},iconClass:{value:null,type:"string?"},itemClass:{value:null,type:"string?"},opened:{value:!1,type:"boolean"}}}static get styleUrls(){return["smart.toast.css"]}template(){return`<div id="container" role="presentation">
                    <div class="smart-toast-item-header">
                        <span class="smart-toast-item-close-button" role="button" aria-label="Close"></span>
                    </div>
                    <div class="smart-toast-item-container" id="itemContainer">
                        <span class="smart-toast-item-icon" role="presentation"></span>
                        <span class="smart-toast-item-content" id="itemContent" inner-h-t-m-l="[[innerHTML]]">
                            <content></content>
                        </span>
                    </div>
                </div>`}propertyChangedHandler(e,t,n){super.propertyChangedHandler(e,t,n)}render(){const e=this,t=e.iconClass;e.setAttribute("role","alert"),e.itemClass&&(e.className+=" "+e.itemClass),e.$.itemContainer.firstElementChild.className+=" "+(t||"default"),super.render()}appendChild(e){const t=this;if(e){if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}t.$.itemContent.appendChild(e)}else t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}refresh(){}insertBefore(e,t){const n=this;if(e){if(!n.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(n,a.concat(Array.prototype.slice.call(arguments)))}n.$.itemContent.insertBefore(e,t||null)}else n.error(n.localize("invalidNode",{elementType:n.nodeName.toLowerCase(),method:"insertBefore",node:"node"}))}removeChild(e){const t=this;if(e){if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}t.$.itemContent.removeChild(e)}else t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}}),Smart("smart-toast",class extends Smart.ContentElement{static get properties(){return{appendTo:{value:null,type:"any"},autoClose:{value:!1,type:"boolean"},autoCloseDelay:{value:3e3,type:"number"},autoOpen:{value:!1,type:"boolean"},iconClass:{value:null,type:"string?"},itemClass:{value:null,type:"string?"},itemTemplate:{value:null,type:"string?"},modal:{value:!1,type:"boolean"},position:{allowedValues:["top-left","top-right","bottom-left","bottom-right"],value:"top-right",type:"string"},showCloseButton:{value:!1,type:"boolean"},type:{allowedValues:["info","warning","success","error","mail","time",null],value:"info",type:"string?"},value:{value:"",type:"any"}}}get enableShadowDOM(){return!1}template(){return""}propertyChangedHandler(e,t,n){const a=this;switch(e){case"value":{const i=a._instances[a._instances.length-1];i&&(n instanceof HTMLElement?i.appendChild(n):a.itemTemplate?i.innerHTML=a._handleItemTemplate(n)||n:(i.shadowRoot?i.shadowRoot:i).querySelector(".smart-toast-item-content").innerHTML=n);break}case"itemTemplate":{const i=a._instances[a._instances.length-1];i&&a.itemTemplate&&(i.innerHTML=a._handleItemTemplate(a.value)||a.value);break}case"appendTo":case"modal":case"position":a._handleContainers();break;case"rightToLeft":case"showCloseButton":case"type":a._instances&&a._instances.forEach(i=>{if(i[e]=n,e==="type"&&n){const r=i.querySelector(".smart-toast-item-icon");["info","warning","success","error","mail","time"].forEach(o=>{i.classList.remove(o)}),i.classList.add(n),r&&r.setAttribute("aria-label",n+" icon")}});break;default:super.propertyChangedHandler(e,t,n)}}attached(){super.attached();const e=this,t=["TopLeft","TopRight","BottomLeft","BottomRight","Custom","Modal"];for(let n=0;n<t.length;n++){const a=e.$["toastContainer"+t[n]];a&&a.children.length&&(t[n]==="Custom"?e._appendTo.appendChild(e._container):e.getShadowRootOrBody().appendChild(a))}}detached(){super.detached();const e=this,t=["TopLeft","TopRight","BottomLeft","BottomRight","Custom","Modal"];for(let n=0;n<t.length;n++){const a=e.$["toastContainer"+t[n]];a&&(e._removeContainerListeners(a),a.remove()),e.closeAll()}}ready(){super.ready()}render(){const e=this;if(!e.value||e.value instanceof HTMLElement){const t=e.querySelectorAll(".smart-element");if(t.length>0){for(let a=0;a<t.length;a++){const i=t[a],r=document.createElement(i.nodeName+"-clone");r.innerHTML=i.innerHTML,r.className=i.className,i.parentElement.insertBefore(r,i),i.remove()}const n=document.createElement("div");for(;e.childNodes.length;)n.appendChild(e.firstChild);e.value=n.innerHTML.replace(/-clone/gi,"")}else e.value=e.innerHTML}else e.innerHTML=e.value;e._instances=[],e.autoOpen&&e.open(),super.render()}closeAll(){const e=this,t=e._instances;if(t&&t.length)for(var n=e._instances.length-1;n>-1;n--)e._close(e._instances[n])}closeItem(e){const t=this;e&&t._instances.length!==0&&(typeof e=="string"?e=document.getElementById(e):e instanceof HTMLElement&&(e=e.closest("smart-toast-item")),e&&t._instances.indexOf(e)!==-1&&t._close(e))}closeLast(){const e=this;e._instances.length>0&&e._close(e._instances[e._instances.length-1])}get items(){const e=this._instances;return this.isReady&&e&&e.length?e.slice():[]}toggle(){const e=this;e.opened===void 0&&(e.opened=!1,e.autoOpen&&(e.opened=!0)),e.opened=!e.opened,e.opened?e.open():e.closeAll()}open(e,t){const n=this;if(n.disabled)return;e===void 0&&(e=n.value),t||(t=n.type),n._handleContainers();let a=document.createElement("smart-toast-item");a.iconClass=n.iconClass,a.itemClass=n.itemClass,e instanceof HTMLElement?a.appendChild(e):a.innerHTML=n._handleItemTemplate(e)||e,a.rightToLeft=n.rightToLeft,a.theme=n.theme,a.animation=n.animation,a.showCloseButton=n.showCloseButton;for(let i=0;i<n.classList.length;i++)n.classList[i].indexOf("smart-")<0&&a.classList.add(n.classList[i]);if(n._container.appendChild(a),t){const i=a.querySelector(".smart-toast-item-icon");a.classList.add(t),i&&i.setAttribute("aria-label",t+" icon")}return a._parent=n._container,n._instances.push(a),n.hasAttribute("smart-blazor")?n.$.fireEvent("open",{instance:a.id||""}):n.$.fireEvent("open",{instance:a}),setTimeout(function(){a.opened=!0},10),n.autoClose&&(a._autoCloseTimeout=setTimeout(function(){n._close(a)},n.autoCloseDelay)),a}_containerClickHandler(e){const t=this,n=e.target.shadowRoot?e.composedPath()[0]:e.target,a=n.closest(".smart-toast-item-close-button"),i=(n.getRootNode().host||n).closest("smart-toast-item");n.closest('[data-dismiss="toast"]')&&(t.opened=!1,t._close(i)),a||i?(t.hasAttribute("smart-blazor")?t.$.fireEvent("itemClick",{instance:i.id||"",target:n.id||""}):t.$.fireEvent("itemClick",{instance:i,target:n}),a&&t._close(i)):t.modal&&t.closeAll()}_close(e){const t=this;function n(){clearTimeout(e._autoCloseTimeout),t.hasAttribute("smart-blazor")?t.$.fireEvent("close",{instance:e.id||""}):t.$.fireEvent("close",{instance:e}),e.parentNode&&e.parentNode.removeChild(e);const a=e._parent;a&&!a.children.length&&a.parentElement&&(t._removeContainerListeners(a),a.parentElement.removeChild(a))}if(t._instances.indexOf(e)>-1){const a=window.getComputedStyle(e,null).getPropertyValue("transition-duration");let i=a.indexOf("ms")>-1?parseInt(a):1e3*parseFloat(a);isNaN(i)&&(i=0),e.opened=!1,t._instances.splice(t._instances.indexOf(e),1),i?setTimeout(n,i):n()}}_handleContainers(){const e=this;let t;if(typeof e.appendTo=="string"?t=document.getElementById(e.appendTo):e.appendTo instanceof HTMLElement&&(t=e.appendTo),e._container=e._getToastContainer(t),t)return e._appendTo=t,void(e._container.parentElement||(e._addContainerListeners(e._container),e._appendTo.appendChild(e._container)));t||!e.$.toastContainerCustom||e.$.toastContainerCustom.children.length||(e._removeContainerListeners(e.$.toastContainerCustom),e.$.toastContainerCustom.parentElement&&e.$.toastContainerCustom.parentElement.removeChild(e.$.toastContainerCustom)),e._container.parentElement||(e._addContainerListeners(e._container),e.getShadowRootOrBody().appendChild(e._container))}_addContainerListeners(e){const t=this;if(!e)return;const n=t["$"+e.getAttribute("smart-id")];n&&(n.listen("click",t._containerClickHandler.bind(t)),n.listen("swipeleft",t._swipeHandler.bind(t)),n.listen("swiperight",t._swipeHandler.bind(t)),n.listen("swipetop",t._swipeHandler.bind(t)),n.listen("swipebottom",t._swipeHandler.bind(t)))}_removeContainerListeners(e){if(!e)return;const t=this["$"+e.getAttribute("smart-id")];t&&(t.unlisten("click"),t.unlisten("swipeleft"),t.unlisten("swiperight"),t.unlisten("swipetop"),t.unlisten("swipebottom"))}_getToastContainer(e){const t=this;let n;e?n="Custom":t.modal?n="Modal":(n=Smart.Utilities.Core.toCamelCase(t.position),n=n.charAt(0).toUpperCase()+n.slice(1));const a="toastContainer"+n;if(!t.$[a]){let i=document.createElement("div");i.setAttribute("smart-id",a),i.classList.add("smart-toast-container"),i.classList.add("smart-toast-container-"+Smart.Utilities.Core.toDash(n)),t.$["toastContainer"+n]=i,t["$toastContainer"+n]=Smart.Utilities.Extend(i)}return t.$[a]}_handleItemTemplate(e){const t=this;let n=t.itemTemplate;if("content"in document.createElement("template")){if(e||(e=t.value),!n)return e;if(n=document.getElementById(n),n!==null&&"content"in n)return n.innerHTML.replace(/{{\w+}}/g,e);t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"template"}))}else t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()}))}_swipeHandler(e){const t=this,n=e.originalEvent.target.closest("smart-toast-item");e.stopPropagation(),n&&(t.hasAttribute("smart-blazor")?t.$.fireEvent(e.type,{instance:n.id||""}):t.$.fireEvent(e.type,{instance:n}))}})},6693:()=>{Smart("smart-tooltip",class extends Smart.ContentElement{static get properties(){return{arrow:{value:!1,type:"boolean"},arrowDirection:{allowedValues:["bottom","top","left","right"],value:"bottom",type:"string"},align:{allowedValues:["left","center","right"],value:"center",type:"string"},delay:{value:0,type:"number"},messages:{extend:!0,value:{en:{invalidSelector:'{{elementType}}: "{{property}}" must be a String, an HTMLElement or null.',htmlTemplateNotSuported:"{{elementType}}: Browser doesn't support HTMLTemplate elements.",invalidTemplate:'{{elementType}}: "{{property}}" property accepts a string that must match the id of an HTMLTemplate element from the DOM.',invalidNode:'{{elementType}}: Invalid parameter "{{node}}" when calling {{method}}.'}},type:"object"},iframeRect:{value:null,type:"object?"},offset:{value:[],type:"array"},openMode:{allowedValues:["click","focus","hover","manual"],value:"hover",type:"string"},position:{allowedValues:["bottom","top","left","right","absolute","auto"],value:"top",type:"string"},selector:{value:null,type:"any?"},tooltipTemplate:{value:null,type:"any"},value:{value:"",type:"string",reflectToAttribute:!1},visible:{value:!1,type:"boolean"}}}static get styleUrls(){return["smart.tooltip.css"]}template(){return`<div id="container" role="presentation">
                    <div id="content" class="smart-tooltip-content" inner-h-t-m-l="[[innerHTML]]" role="presentation">
                        <content></content>
                    </div>
                </div>`}propertyChangedHandler(e,t,n){super.propertyChangedHandler(e,t,n);const a=this;let i;switch(e){case"align":a._applyPosition(n);break;case"openMode":a.close(),a._handleEventListeners(t),a._handleResize();break;case"selector":a._oldOwnerElement=a._ownerElement,a._handleSelector(n,t),a._handleEventListeners();break;case"tooltipTemplate":a._handleTemplate(t);break;case"value":a.tooltipTemplate?a._handleTemplate():a.$.content.innerHTML=a.value;break;case"visible":i=n?"open":"close",a.$.fireEvent(i,{owner:a._ownerElement},a.isInShadowDOM?{composed:!0,bubbles:!0,cancelable:!0}:void 0);break;case"position":return void a._applyPosition(t)}a._applyPosition()}ready(){super.ready()}render(){const e=this;super.render(),e.getAttribute("role")||e.setAttribute("role","tooltip"),e._isParentPositionStatic=window.getComputedStyle(e.parentElement||document.querySelector("body")).position==="static",e._handleSelector(e.selector),e.visible&&e._applyPosition(),e._handleEventListeners(),e._handleResize(),e.value=e.$.content.innerHTML=e.value?e.value:e.innerHTML,e._handleTemplate()}appendChild(e){const t=this;if(!t.isCompleted){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e?(t.$.content.appendChild(e),t._applyPosition()):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}close(){const e=this;if(e._isOpening&&clearTimeout(e._isOpening),!e.visible)return;const t=e.isInShadowDOM?{composed:!0,bubbles:!0,cancelable:!0}:void 0;e.$.fireEvent("closing",{owner:e._ownerElement},t).defaultPrevented||(e.$.fireEvent("close",{owner:e._ownerElement},t),e.visible=!1)}clear(){const e=this.$.content;if(e)for(;e.childNodes.length;)e.removeChild(e.firstChild)}insertBefore(e,t){const n=this;if(!n.isCompleted){const a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(n,a.concat(Array.prototype.slice.call(arguments)))}e&&t?(n.$.content.insertBefore(e,t),n._applyPosition()):n.error(n.localize("invalidNode",{elementType:n.nodeName.toLowerCase(),method:"insertBefore",node:"newNode/referenceNode"}))}open(){const e=this;e.disabled||e.readonly||e.visible||(clearTimeout(e._isOpening),e._isOpening=setTimeout(function(){const t=e.isInShadowDOM?{composed:!0,bubbles:!0,cancelable:!0}:void 0;if(e.$.fireEvent("opening",{owner:e._ownerElement},t).defaultPrevented)return void clearTimeout(e._isOpening);e._applyPosition(),e.$.fireEvent("open",{owner:e._ownerElement},t);const n=e.context;e.context=e,e.visible=!0,e.context=n},e.delay))}removeChild(e){const t=this;if(!t.isCompleted){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e?(t.$.content.removeChild(e),t._applyPosition()):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}reposition(){const e=this;e.isRendered&&e._applyPosition()}toggle(){const e=this;e.visible?e.close():e.open()}_getDomElementPosition(e){let t=[],n=e.parentElement;for(;n&&n.nodeName!=="BODY";)t.push(n),n=!this.enableShadowDOM||n.parentElement?n.parentElement:n.getRootNode().host;return t}_getElementAndOwnerRelation(e){const t=this._getDomElementPosition(e||this),n=t.length;let a=null;for(let i=0;i<n;i++)if(window.getComputedStyle(t[i]).getPropertyValue("position")!=="static"){a=t[i];break}return a}_applyPosition(e){const t=this;if(!t._ownerElement||!t.parentElement)return;t._isParentPositionStatic=window.getComputedStyle(t.parentElement).position==="static";const n=t._ownerElement.getBoundingClientRect(),a=t.parentElement?t.parentElement.getBoundingClientRect():{top:0,left:0};let i,r;t.parentElement&&t.parentElement.nodeName.toUpperCase()==="BODY"?(i=n.top+window.scrollY,r=n.left+window.scrollX):(i=n.top-a.top,r=n.left-a.left);const o=t.position,d=t.iframeRect;let f,p={top:n.top,left:n.left,right:n.right,width:n.width,height:n.height,nonStaticParent:t._getElementAndOwnerRelation()};switch(d&&(p.top+=d.top,p.left+=d.left,p.right+=d.right),o){case"auto":case"bottom":case"top":case"left":case"right":{t.style.left="";const w=t["_position"+o.charAt(0).toUpperCase()+o.slice(1)](r,i,p);i=w.top,r=w.left,f=w.translate;break}case"absolute":e?(t.style.top=t.style.left="",i=r=0):(i=parseFloat(t.style.top),r=parseFloat(t.style.left))}const v=t.getAttribute("arrow-direction");f?t.$.container.style.setProperty("--smart-tooltip-arrow-translate",f+"px"):t.$.container.style.removeProperty("--smart-tooltip-arrow-translate"),i===void 0||isNaN(i)||(i+=(o==="auto"&&v==="top"?-1:1)*parseInt(t.offset[1])||0,t.style.top=i+"px"),r===void 0||isNaN(r)||(r+=(o==="auto"&&v==="left"?-1:1)*parseInt(t.offset[0])||0,t.style.left=r+"px")}_positionAuto(e,t,n){const a=this;let i,r,o=a.parentElement;for(;o;){if(getComputedStyle(o).getPropertyValue("overflow")==="hidden"){i=o;break}o=o.parentElement}if(i)r=i.getBoundingClientRect();else{const k=document.scrollingElement;let B,H;document.scrollingElement?(B=k.offsetWidth,H=k.offsetHeight):(B=window.innerWidth,H=window.innerHeight),i=document.body,r={width:B,height:H,left:0,top:0,right:B,bottom:H}}const d=parseFloat(window.getComputedStyle(a).getPropertyValue("--smart-tooltip-arrow-width"))||0;let f=a._positionTop(e,t,n),p=n.nonStaticParent,v=a.offsetWidth/2-d,w=0,C=0,x=f.left,L=r.right-(x+C+a.offsetWidth),A=Math.min(0,L);if(x<=0&&L>0&&(x=Math.min(e,x+L)),A<=0&&(A=Math.sign(A)*(Math.abs(A)+r.right-(e+n.width))),p){const k=p.getBoundingClientRect();w=k.top,C=k.left}return f.top+w>=r.top?(x<=0&&(x=e),t=f.top,{left:e=Math.max(r.left-C,x+A),top:t,translate:Math.max(-v,Math.min(v,f.left-e))}):(f=a._positionBottom(e,t,n),f.top+a.offsetHeight+w<=r.bottom?(x=f.left,x<=0&&(x=e),t=f.top,{left:e=Math.max(r.left-C,x+A),top:t,translate:Math.max(-v,Math.min(v,f.left-e))}):(f=a._positionLeft(e,t,n),t=f.top,v=a.offsetHeight/2-d,t=Math.max(r.top-w,f.top+Math.min(0,r.bottom-(f.top+w+a.offsetHeight))),f.left+C>=r.left?e=f.left:(f=a._positionRight(e,t,n),e=f.left+a.offsetWidth+C<=r.right?f.left:r.right-a.offsetWidth),{left:e,top:t,translate:Math.max(-v,Math.min(v,f.top-t))}))}_getRelativeParentOffset(e){const t=this,n=t._ownerElement;let a=t._getElementAndOwnerRelation(n),i=0,r=0;if(!e)return{left:r,top:i};for(;e&&a&&e!==a;)i+=a.offsetTop,r+=a.offsetLeft,a=t._getElementAndOwnerRelation(a);return{left:r,top:i}}_positionTop(e,t,n){const a=this,i=a._getRelativeParentOffset(n.nonStaticParent);if(a.set("arrowDirection","bottom"),n.nonStaticParent===null)return t=n.top+window.scrollY-a.offsetHeight,{left:(e=a._getAlignmentOffset(n.left,a.offsetWidth,n.width)+window.scrollX)+i.left,top:t+i.top};if(a._isParentPositionStatic){if(t=a._ownerElement.offsetTop-a.offsetHeight,e=a._getAlignmentOffset(a._ownerElement.offsetLeft,a.offsetWidth,n.width),a._ownerElement instanceof SVGElement){const r=a._ownerElement.getBoundingClientRect(),o=a._ownerElement.parentNode.getBoundingClientRect();t=r.top-o.top-a.offsetHeight/2,e=a._getAlignmentOffset(r.left,a.offsetWidth,o.left)}return{left:e+i.left,top:t+i.top}}if(a._ownerElement instanceof SVGElement&&a._ownerElement.parentElement){const r=a._ownerElement.getBoundingClientRect(),o=a._ownerElement.parentNode.getBoundingClientRect();return t=r.top-o.top-a.offsetHeight,{left:(e=a._getAlignmentOffset(r.left-o.left,a.offsetWidth,r.width))+i.left,top:t+i.top}}return t-=a.offsetHeight,{left:(e=a._getAlignmentOffset(e,a.offsetWidth,n.width))+i.left,top:t+i.top}}_positionBottom(e,t,n){const a=this,i=a._getRelativeParentOffset(n.nonStaticParent);return a.set("arrowDirection","top"),n.nonStaticParent===null?(t=n.top+window.scrollY+n.height,{left:(e=a._getAlignmentOffset(n.left,a.offsetWidth,n.width)+window.scrollX)+i.left,top:t+i.top}):a._isParentPositionStatic?(t=a._ownerElement.offsetTop+n.height,{left:(e=a._getAlignmentOffset(a._ownerElement.offsetLeft,a.offsetWidth,n.width))+i.left,top:t+i.top}):(t+=n.height,{left:(e=a._getAlignmentOffset(e,a.offsetWidth,n.width))+i.left,top:t+i.top})}_getAlignmentOffset(e,t,n){switch(this.align){case"left":return e;case"right":return e-t+n;default:return e-t/2+n/2}}_positionLeft(e,t,n){const a=this,i=a._getRelativeParentOffset(n.nonStaticParent);return a.set("arrowDirection","right"),n.nonStaticParent===null?(t=n.top+window.scrollY+n.height/2-a.$.content.offsetHeight/2,{left:(e=n.left+window.scrollX-a.offsetWidth)+i.left,top:t+i.top}):a._isParentPositionStatic?(t=a._ownerElement.offsetTop+n.height/2-a.$.content.offsetHeight/2,{left:(e=a._ownerElement.offsetLeft-a.offsetWidth)+i.left,top:t+i.top}):(t=t+n.height/2-a.$.content.offsetHeight/2,{left:(e-=a.offsetWidth)+i.left,top:t+i.top})}_positionRight(e,t,n){const a=this,i=a._getRelativeParentOffset(n.nonStaticParent);return a.set("arrowDirection","left"),n.nonStaticParent===null?(t=n.top+window.scrollY+n.height/2-a.$.content.offsetHeight/2,{left:(e=n.left+window.scrollX+n.width)+i.left,top:t+i.top}):a._isParentPositionStatic?(t=a._ownerElement.offsetTop+n.height/2-a.$.content.offsetHeight/2,{left:(e=a._ownerElement.offsetLeft+n.width)+i.left,top:t+i.top}):(t=t+n.height/2-a.$.content.offsetHeight/2,{left:(e+=n.width)+i.left,top:t+i.top})}_eventsHandler(e){const t=this;t.disabled||t.readonly||(e.type!=="click"?e.type==="mouseenter"||e.type==="focus"?this.open():this.close():t.visible?this.close():this.open())}_handleEventListeners(e){const t=this;if(t._oldOwnerElement&&t.openMode!=="manual"){let n=t._oldOwnerElement.getAttribute("aria-describedby");n&&t.getAttribute("role")==="tooltip"&&(n===t.id?t._oldOwnerElement.removeAttribute("aria-describedby"):(n=n.replace(" "+t.id,""),n=n.replace(t.id+" ",""),t._oldOwnerElement.setAttribute("aria-describedby",n))),t._oldOwnerElement.$.unlisten("mouseenter.tooltip"),t._oldOwnerElement.$.unlisten("mouseleave.tooltip"),t._oldOwnerElement.$.unlisten("focus.tooltip"),t._oldOwnerElement.$.unlisten("blur.tooltip"),t._oldOwnerElement.$.unlisten("click.tooltip"),t._oldOwnerElement=null}if(t._ownerElement){if(e)switch(e){case"hover":t._ownerElement.$.unlisten("mouseenter.tooltip"),t._ownerElement.$.unlisten("mouseleave.tooltip");break;case"focus":t._ownerElement.$.unlisten("focus.tooltip"),t._ownerElement.$.unlisten("blur.tooltip");break;case"click":t._ownerElement.$.unlisten("click.tooltip")}if(t.openMode!=="manual")switch(t._ownerElement instanceof Smart.BaseElement||(t._ownerElement.$=Smart.Utilities.Extend(t._ownerElement)),t.openMode){case"hover":t._ownerElement.$.listen("mouseenter.tooltip",t._eventsHandler.bind(t)),t._ownerElement.$.listen("mouseleave.tooltip",t._eventsHandler.bind(t));break;case"focus":t._ownerElement.$.listen("focus.tooltip",t._eventsHandler.bind(t)),t._ownerElement.$.listen("blur.tooltip",t._eventsHandler.bind(t));break;case"click":t._ownerElement.$.listen("click.tooltip",t._eventsHandler.bind(t))}}}_handleResize(){const e=this;function t(){e._applyPosition()}e.openMode==="click"?window.addEventListener("resize",t):window.removeEventListener("resize",t)}_handleSelector(e,t){const n=this;if(t&&t.removeAttribute&&t.removeAttribute("aria-describedby"),typeof e=="string")n._ownerElement=e.length>0?document.getElementById(e):void 0;else if(e&&e.nodeType===Node.ELEMENT_NODE)n._ownerElement=e;else{if(e===null)return void(n._ownerElement=void 0);n.error(n.localize("invalidSelector",{elementType:n.nodeName.toLowerCase(),property:"selector"}))}if(!n._ownerElement||n.getAttribute("role")!=="tooltip"||!n.value)return;const a=n._ownerElement?n._ownerElement.getAttribute("aria-describedby"):null;a?a.indexOf(n.id)<0&&n._ownerElement.setAttribute("aria-describedby",a+" "+n.id):n._ownerElement.setAttribute("aria-describedby",n.id)}_handleTemplate(e){const t=this;let n=t.tooltipTemplate;if(e&&(t.$.content.innerHTML=t.value?t.value:""),n===null||!n)return;if(typeof t.tooltipTemplate=="function")return void t.tooltipTemplate(t.$.content,{value:t.value});if(!("content"in document.createElement("template")))return void t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()}));if(n=document.getElementById(n),n===null||!("content"in n))return void t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"template"}));const a=n.content,i=a.childNodes.length,r=/{{\w+}}/g;let o,d=[];for(let C=0;C<i;C++)for(o=r.exec(a.childNodes[C].innerHTML);o;)d.push({childNodeIndex:C,bindingString:o[0]}),o=r.exec(a.childNodes[C].innerHTML);const f=d.length;let p,v,w=document.importNode(n.content,!0);for(let C=0;C<f;C++){p=w.childNodes[d[C].childNodeIndex],v=d.length;for(let x=0;x<v;x++)p.innerHTML=p.innerHTML.replace(d[C].bindingString,t.value)}t.$.content.innerHTML="";for(let C=0;C<w.childNodes.length;C++)w.childNodes[C].outerHTML&&(t.$.content.innerHTML+=w.childNodes[C].outerHTML)}}),function(){const e=()=>{const t=document.querySelectorAll('[data-toggle="tooltip"');if(t.length>0)for(let n=0;n<t.length;n++){if(!t[n].hasAttribute("data-title"))continue;const a=document.createElement("smart-tooltip");a.selector=t[n],a.innerHTML=t[n].getAttribute("data-title"),document.body.appendChild(a),t[n].hasAttribute("data-placement")&&(a.position=t[n].getAttribute("data-placement"))}};document.readyState==="complete"?e():(window.removeEventListener("load",e),window.addEventListener("load",e))}()},8466:()=>{Smart("smart-window",class extends Smart.ContentElement{static get properties(){return{collapsed:{value:!1,type:"boolean"},closeOnMaskClick:{value:!1,type:"boolean"},disableEscape:{value:!1,type:"boolean"},disableFocus:{value:!1,type:"boolean"},disableSnap:{value:!1,type:"boolean"},footerPosition:{value:"bottom",allowedValues:["bottom","none"],type:"string"},footerTemplate:{value:null,type:"any"},headerButtons:{value:["close","maximize","minimize"],type:"array"},headerPosition:{value:"top",allowedValues:["top","bottom","left","right","none"],type:"string"},headerTemplate:{value:null,type:"any"},disableKeyboard:{value:!1,type:"boolean"},label:{value:"",type:"string"},liveResize:{value:!1,type:"boolean"},maximized:{value:!1,type:"boolean"},modal:{value:!1,type:"boolean"},minimized:{value:!1,type:"boolean"},opened:{value:!1,type:"boolean"},pinned:{value:!1,type:"boolean"},resizeIndicator:{value:!1,type:"boolean"},resizeMode:{allowedValues:["none","horizontal","vertical","both","top","bottom","left","right"],value:"none",type:"string"},windowParent:{value:null,type:"any"}}}static get listeners(){return{"document.dragstart":"_dragStartHandler","document.focusin":"_documentFocusInEventHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler","document.wheel":"_mouseWheelHandler","document.selectstart":"_documentSelectStartHandler",down:"_downHandler",focus:"_focusHandler",blur:"_focusHandler",move:"_moveHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler"}}get hasStyleObserver(){return!1}static get styleUrls(){return["smart.button.css","smart.window.css"]}template(){return`<div role="presentation">
                    <div class="smart-content-container" id="container">
                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">
                            <div id="header" class="smart-header" role="presentation">[[label]]</div>
                            <div id="buttonsContainer" class="smart-buttons-container" role="presentation">
                                <button id="pinButton" class="smart-button smart-element smart-pin-button" aria-label="Pin"></button>
                                <button id="collapseButton" class="smart-button smart-element smart-collapse-button" aria-label="Collapse"></button>
                                <button id="minimizeButton" class="smart-button smart-element smart-minimize-button"aria-label="Minimize"></button>
                                <button id="maximizeButton" class="smart-button smart-element smart-maximize-button" aria-label="Maximize"></button>
                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>
                            </div>
                        </div>
                        <div class="smart-content" inner-h-t-m-l="[[innerHTML]]"><content></content></div>
                        <div id="footer" class="smart-footer"></div>
                    </div>
                </div>`}propertyChangedHandler(e,t,n){const a=this;switch(e){case"collapsed":n?a.collapse(!0):a.expand(!0);break;case"disabled":case"unfocusable":a._setFocusable();break;case"headerTemplate":case"footerTemplate":a._applyLayoutTemplate(a.$[e.split(/[T]/)[0]],n);break;case"headerButtons":a._setHeaderButtons();break;case"headerPosition":{const i=a.minimized;a._preventEventFiring=!0,a.restore(),delete a._preventEventFiring,i&&a.minimize();break}case"label":a.$.header.innerHTML=a.label;break;case"maximized":n?a.maximize(!0):a.restore(e);break;case"modal":a._setModal(),a.setAttribute("aria-modal",n);break;case"minimized":n?a.minimize(!0):a.restore(e);break;case"opened":n?a.open(!0):a.close(!0);break;case"resizeMode":a.$.container.classList.remove("smart-window-resizing-bottom-right","smart-window-resizing-top-right","smart-window-resizing-top-left","smart-window-resizing-bottom-left","smart-window-resizing-top","smart-window-resizing-bottom","smart-window-resizing-left","smart-window-resizing-right");break;case"windowParent":a._setElementParent(n);break;default:super.propertyChangedHandler(e,t,n)}}ready(){super.ready(),this._windowParent={initialParent:this.parentElement}}render(){const e=this,t=e.animation;e.$.header.id||(e.$.header.id=e.id+"Header"),e.$.content.id||(e.$.content.id=e.id+"Content"),e.opened||(e.animation="none"),e._windowParent={initialParent:e.parentElement},e.$.addClass("smart-window"),e._createElement(),e._setElementParent(e.windowParent),e._setHeaderButtons(),e.headerTemplate&&e._applyLayoutTemplate(e.$.header,e.headerTemplate),e.footerTemplate&&e._applyLayoutTemplate(e.$.footer,e.footerTemplate),e.opened?e.open():e.close(),e.maximized&&e.maximize(!0),e.minimized&&e.minimize(!0),e.collapsed&&e.collapse(!0),e.pinned?e.pin():e.unpin(),e._setFocusable(),e.animation=t,e.setAttribute("aria-modal",e.modal),e.setAttribute("aria-labelledby",e.$.header.id),e._setupDismissTargets(),super.render()}refresh(){const e=this;e.headerTemplate&&e._applyLayoutTemplate(e.$.header,e.headerTemplate),e.footerTemplate&&e._applyLayoutTemplate(e.$.footer,e.footerTemplate),e.opened?e.open():e.close(),e.maximized&&e.maximize(!0),e.minimized&&e.minimize(!0),e.collapsed&&e.collapse(!0),e.pinned?e.pin():e.unpin()}static get requires(){return{"Smart.Button":"smart.button.js"}}_setFocusable(){const e=this;if(e.disabled||e.unfocusable)e.removeAttribute("tabindex");else{let t=e.tabIndex>0?e.tabIndex:0;e.setAttribute("tabindex",t)}}appendChild(e){const t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e?t.$.content.appendChild(e):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}updateLabel(e){this.label=e}updateContent(e){this.content=e}move(e,t){const n=this,a=i=>typeof i=="number"?i+"px":typeof i=="string"?i:void 0;e!==void 0&&(n.style.left=a(e)),t!==void 0&&(n.style.top=a(t))}collapse(e){const t=this;!e&&t.collapsed||(t.collapsed=!0,t.$.fireEvent("collapse"),t.headerPosition==="left"||t.headerPosition==="right"?t.style.width="":t.style.height="")}close(e){const t=this;if(e||!t.$.hasClass("smart-visibility-hidden")){if(t.isCompleted){if(t.$.fireEvent("closing").defaultPrevented)return;t.$.addClass("smart-visibility-hidden"),t.opened=!1,t.isRendered&&t.$.fireEvent("close")}else t.$.addClass("smart-visibility-hidden"),t.opened=!1;t._setModal(),t.removeAttribute("ontop")}}attached(){super.attached();const e=this;e.isRendered,e._windowParent.parent&&e._windowParent.parent!==e.getShadowRootOrBody()&&e._windowParent.parent.querySelectorAll("smart-window, smart-dialog-window, smart-progress-window, smart-wait-window, smart-alert-window, smart-prompt-window, smart-multiline-prompt-window")&&window.getComputedStyle(e._windowParent.parent).getPropertyValue("position")==="static"&&(e._windowParent.parent.style.position="relative"),e.opened&&e._modal&&e.parentElement.insertBefore(e._modal,e)}bringToFront(){const e=this;if(!e.parentElement)return;const t=e.parentElement.closest(".smart-window");if(t)return void t.bringToFront();const n=document.body.getElementsByClassName("smart-window");let a=[];for(let i=0;i<n.length;i++){const r=n[i];r.removeAttribute("ontop"),r.opened&&a.push(r)}a.length===1&&a[0]===e||e.setAttribute("ontop","")}clear(){const e=this;e.isCompleted&&e.nodeName==="Smart-WINDOW"&&(e.innerHTML=e.$.content.innerHTML="")}detached(){super.detached();const e=this;e._windowParent.parent&&!e._windowParent.parent.querySelectorAll("smart-window, smart-dialog-window, smart-progress-window, smart-wait-window, smart-alert-window, smart-prompt-window, smart-multiline-prompt-window")&&(e._windowParent.parent.style.position=""),e._modal&&e._modal.parentElement&&e._modal.parentElement.removeChild(e._modal),e._resizeDummy&&e._resizeDummy.parentElement&&e._handleWindowResizeDummy(),e._refreshMinimizedWindowsPosition()}expand(e){const t=this;(e||t.collapsed)&&(t.collapsed=!1,t.$.fireEvent("expand"),t.maximized?t.headerPosition==="left"||t.headerPosition==="right"?t.style.width=Math.max(t._windowParent.scrollElement.scrollWidth,t._windowParent.element.clientWidth)-t._windowParent.borderWidth+"px":t.style.height=Math.max(t._windowParent.scrollElement.scrollHeight,t._windowParent.element.clientHeight)-t._windowParent.borderWidth+"px":t.headerPosition==="left"||t.headerPosition==="right"?t.style.width=t.className.indexOf("smart-window-snapped-")<0&&t._dragDetails?t._dragDetails.width+"px":"":t.style.height=t.className.indexOf("smart-window-snapped-")<0&&t._dragDetails?t._dragDetails.height+"px":"")}maximize(e){const t=this;if(!e&&t.maximized)return;t.minimized&&t._restoreFromMinimization(e),t._setDragDetails("minimize"),t.resizeMode!=="none"&&t.$.container.classList.remove("smart-window-resizing-bottom-right","smart-window-resizing-top-right","smart-window-resizing-top-left","smart-window-resizing-bottom-left","smart-window-resizing-top","smart-window-resizing-bottom","smart-window-resizing-left","smart-window-resizing-right"),t._snapDummy&&t.$.hasClass("smart-window-snapped-"+t._snapDummy._position)&&t.classList.remove("smart-window-snapped-"+t._snapDummy._position),t.maximized=!0,t.$.fireEvent("maximize"),t.style.left=t.style.top=0,t.style.maxWidth=t.style.maxHeight="none";const n=t._windowParent.scrollElement.scrollHeight,a=t._windowParent.scrollElement.scrollWidth,i=t._windowParent.element.clientHeight,r=t._windowParent.element.clientWidth,o=Math.max(n,i),d=Math.max(a,r);t.headerPosition==="top"||t.headerPosition==="bottom"?(t.style.width=a>r?d-t._windowParent.borderWidth+"px":"100%",t.collapsed||(t.style.height=n>i?o-t._windowParent.borderWidth+"px":"100%")):(t.collapsed||(t.style.width=a>r?d-t._windowParent.borderWidth+"px":"100%"),t.style.height=n>i?o-t._windowParent.borderWidth+"px":"100%"),t.style.height!=="100%"&&t.addEventListener("transitionend",function f(){if(!t.maximized||!t.hasAnimation)return;const p=t._windowParent.scrollElement.scrollHeight,v=t._windowParent.element.clientHeight,w=Math.max(p,v);(t.headerPosition==="top"||t.headerPosition==="bottom")&&t.collapsed||(t.style.height=p>v?w-t._windowParent.borderWidth+"px":"100%"),t.removeEventListener("transitionend",f)})}minimize(e){const t=this;if(!e&&t.minimized)return;t.maximized&&(t._preventEventFiring=!0,t.restore(),delete t._preventEventFiring),t._setDragDetails(),t.minimized=!0,t.$.fireEvent("minimize"),t._snapDummy&&t.$.hasClass("smart-window-snapped-"+t._snapDummy._position)&&(t.$.removeClass("smart-window-snapped-"+t._snapDummy._position),t.style.right=t.style.top=t.style.left="");const n=t._getAllMinimizedWindows(t._windowParent.element);if(n.length>0){const a=n[n.length-1];t.style.left=(a.offsetLeft+a.offsetWidth+t._dragDetails.minWidth+10>t._windowParent.element.clientWidth?a.offsetLeft:a.offsetLeft+a.offsetWidth+5)+"px",t.style.top=a.offsetTop+"px"}else t.style.left="5px",t.style.top=t._windowParent.element.clientHeight+t._windowParent.scrollElement.scrollTop-t.$.headerSection.offsetHeight-5+"px";t.style.width="",t.style.height=t.$.headerSection.offsetHeight+"px"}_createElement(){this.setAttribute("role","dialog")}removeChild(e){const t=this;if(!t.isCompleted){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e?t.$.content.removeChild(e):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}restore(e){const t=this;if(e==="maximized"||t.maximized?(t.maximized=!1,t.style.width=t.style.height=t.style.top=t.style.left=""):(e==="minimized"||t.minimized)&&t._restoreFromMinimization(e),t._preventEventFiring||t.$.fireEvent("restore"),t.style.maxWidth=t.style.maxHeight="",t._dragDetails){if(t.style.left=Math.max(0,Math.min(t._dragDetails.windowX,t._windowParent.element.clientWidth-t._dragDetails.width))+"px",t.style.top=Math.max(0,Math.min(t._dragDetails.windowY,t._windowParent.scrollElement.scrollHeight-t._dragDetails.height))+"px",t.collapsed)return void(t.headerPosition==="top"||t.headerPosition==="bottom"?t.style.width=t._dragDetails.width+"px":t.style.height=t._dragDetails.height+"px");t._dragDetails.resized&&(t.style.width=t._dragDetails.width+"px",t.style.height=t._dragDetails.height+"px")}}toggle(){const e=this;e.opened?e.close():e.open()}openModal(){this.modal=!0,this.open()}open(e){const t=this;if(e||t.$.hasClass("smart-visibility-hidden")){if(t.isCompleted){if(t.$.fireEvent("opening").defaultPrevented)return;t.$.removeClass("smart-visibility-hidden"),t.opened=!0,t.$.fireEvent("open")}else t.$.removeClass("smart-visibility-hidden"),t.opened=!0;t.bringToFront(),t._setModal(),t._handleActiveState(),t.hasAnimation?t.addEventListener("transitionend",n):n()}function n(a){if(!t.hasAnimation||a&&a.target===t){if(t.removeEventListener("transitionend",n),t._onOpenCallback)return void t._onOpenCallback();if(t.disableFocus)return;t.focus()}}}_setupDismissTargets(){const e=this;if(e.querySelector('[data-dismiss="modal"]')){const t=e.querySelectorAll('[data-dismiss="modal"]'),n=()=>{e.close()};for(let a=0;a<t.length;a++)t[a].removeEventListener("click",n,null),t[a].addEventListener("click",n)}}pin(){this.pinned=!0}unpin(){this.pinned=!1}_applyLayoutTemplate(e,t){const n=this;if(!t)return e.innerHTML="",void(e===n.$.header&&n.label&&(e.innerHTML=n.label));if("content"in document.createElement("template")){if(t instanceof HTMLTemplateElement||(t=document.getElementById(t)),t&&!("content"in t))return e.innerHTML="",void e.appendChild(t);t!==null&&"content"in t?(e.innerHTML="",e.appendChild(document.importNode(t.content,!0))):n.error(n.localize("invalidTemplate",{elementType:n.nodeName.toLowerCase(),property:e===n.$.footer?"footerTemplate":"headerTemplate"}))}else n.error(n.localize("htmlTemplateNotSuported",{elementType:n.nodeName.toLowerCase()}))}_cancelDragging(e){const t=this;if(t._dragDetails&&t._dragDetails.started&&t._dragDetails.type==="drag"){if(!e){const n=t.getBoundingClientRect();e={pageX:n.left,pageY:n.top}}t.$.fireEvent("dragEnd",{left:e.pageX,top:e.pageY}),t.removeAttribute("dragged"),t._dragDetails.started=!1,delete t._mouseManipulation}}_documentFocusInEventHandler(e){const t=this;if(t._changingFocus){if(!t.contains(e.target)&&!t.contains(e.composedPath()[0])){if(t.disableFocus)return;t.focus()}delete t._changingFocus}}_downHandler(e){const t=this;let n=Smart.Utilities.Core.isMobile?document.elementFromPoint(e.pageX-window.pageXOffset,e.pageY-window.pageYOffset):e.originalEvent.target;if((t.shadowRoot||t.isInShadowDOM)&&(n=e.originalEvent.composedPath()[0]),e.stopPropagation(),t.disabled||!Smart.Utilities.Core.isMobile&&e.which!==1)return;if(t._tabsWindow&&(t._tabsWindow._isAutoHideWindowClicked=!0),t.hasAttribute("ontop")||t.bringToFront(),n.closest&&n.closest(".smart-buttons-container")===t.$.buttonsContainer){if(t._buttonPressed=n.closest(".smart-button"),t._buttonPressed)return}else if(n.getRootNode()&&n.getRootNode().host&&(t._buttonPressed=n.getRootNode().host,t._buttonPressed.closest(".smart-buttons-container")===t.$.buttonsContainer))return;t._isWindowContentClicked=n.closest(".smart-content");let a=t.closest("smart-docking-layout");if(t.isInShadowDOM&&!a){let i=t.getRootNode().host;for(;i&&(a=i.closest("smart-docking-layout"),!a)&&i.getRootNode();)i=i.getRootNode().host}if(!(t instanceof Smart.TabsWindow&&a&&a.disabled)){if(t._handleActiveState(),!(t instanceof Smart.TabsWindow&&a))return n.closest(".smart-header-section")===t.$.headerSection&&(t._dblClickDetails===void 0&&(t._dblClickDetails={clicks:0}),clearTimeout(t._dblClickDetails.timeOut),t._dblClickDetails.clicks++,t._dblClickDetails.timeOut=setTimeout(function(){t._dblClickDetails&&(t._dblClickDetails.clicks=0)},300),t._dblClickDetails.clicks===2)?(t._headerDblCickHandler(e),void(t._dblClickDetails.clicks=0)):void(t.maximized||(Smart.Utilities.Core.isMobile&&t._moveHandler(e),!t.pinned&&!t.minimized&&t.$.container.className.indexOf("smart-window-resizing")<0&&(n=n.closest(".smart-header-section"),n&&n===t.$.headerSection&&(t._mouseManipulation=!0,t._setDragDetails("drag",e))),t.resizeMode!=="none"&&t.$.container.className.indexOf("smart-window-resizing")>-1&&(t._mouseManipulation=!0,t._setDragDetails("resize",e))));t.$.hasClass("smart-docking-layout-auto-hide-window")&&(Smart.Utilities.Core.isMobile&&t._moveHandler(e),t.resizeMode!=="none"&&t.$.container.className.indexOf("smart-window-resizing")>-1&&(t._mouseManipulation=!0,t._setDragDetails("resize",e)))}}_documentMoveHandler(e){const t=this;!t._dragDetails||!t._dragDetails.started||t.minimized||!t._mouseManipulation||Math.abs(e.pageX-t._dragDetails.x)<=5&&Math.abs(e.pageY-t._dragDetails.y)<=5||(t.hasAttribute("dragged")||t.hasAttribute("resized")||t.$.fireEvent(t._dragDetails.type+"Start",{left:e.pageX,top:e.pageY,width:t.offsetWidth,height:t.offsetHeight}),e.stopPropagation(),t._dragDetails.type!=="drag"||t.pinned?(t._dragDetails.resized=!0,t._resize(t._dragDetails.side,e),t._dragDetails.x=Math.max(t._windowParent.offsetLeft+t._dragDetails.left,Math.min(t._windowParent.offsetLeft+t._dragDetails.left+(t._dragDetails.side.toLowerCase().indexOf("left")>-1?0:t._dragDetails.newWidth),e.pageX)),t._dragDetails.y=Math.max(t._windowParent.offsetTop+t._dragDetails.top,Math.min(t._windowParent.offsetTop+t._dragDetails.top+(t._dragDetails.side.toLowerCase().indexOf("top")>-1?0:t._dragDetails.newHeight),e.pageY))):(t.setAttribute("dragged",""),t._snapDummy&&t.$.hasClass("smart-window-snapped-"+t._snapDummy._position)&&(t.$.removeClass("smart-window-snapped-"+t._snapDummy._position),t.style.right=t.style.top=t.style.left="",t.collapsed||(t.style.height=t._dragDetails.height+"px",t.style.width=t._dragDetails.width+"px")),t._drag(e,"both"),t._dragDetails.x=Math.max(t._windowParent.offsetLeft+t._dragDetails.offsetX-t._windowParent.scrollElement.scrollLeft,Math.min(t._windowParent.offsetLeft+t._windowParent.element.offsetWidth-(t._windowParent.element.offsetWidth-t.offsetLeft)+t._dragDetails.offsetX,e.pageX)),t._dragDetails.y=Math.max(t._windowParent.offsetTop+t._dragDetails.offsetY-t._windowParent.scrollElement.scrollTop,Math.min(t._windowParent.offsetTop+t._windowParent.element.offsetHeight-(t._windowParent.element.offsetHeight-t.offsetTop)+t._dragDetails.offsetY,e.pageY)),e.pageX>=t._windowParent.offsetLeft+t._windowParent.scrollElement.scrollWidth-1?t._handleSnapping("right"):e.pageY<=t._windowParent.offsetTop?t._handleSnapping("top"):e.pageX<=t._windowParent.offsetLeft?t._handleSnapping("left"):t._handleSnapping()))}_documentUpHandler(e){const t=this,n=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(t.disabled)return t.removeAttribute("active"),delete t._buttonPressed,void delete t._isWindowContentClicked;if(t._dragDetails&&t._dragDetails.started&&(t.hasAttribute("resized")&&(t.$.fireEvent(t._dragDetails.type+"End",{left:e.pageX,top:e.pageY,width:t._dragDetails.newWidth,height:t._dragDetails.newHeight}),t.removeAttribute("resized"),t._handleWindowResizeDummy(),t.$.container.classList.remove("smart-window-resizing-bottom-right","smart-window-resizing-top-right","smart-window-resizing-top-left","smart-window-resizing-bottom-left","smart-window-resizing-top","smart-window-resizing-bottom","smart-window-resizing-left","smart-window-resizing-right")),setTimeout(function(){t.$.removeClass("no-transition")},20),t.hasAttribute("dragged")&&(t.$.fireEvent(t._dragDetails.type+"End",{left:e.pageX,top:e.pageY}),t.removeAttribute("dragged")),t._dragDetails.started=!1,delete t._mouseManipulation),t._snapDummy&&!t._snapDummy.classList.contains("smart-visibility-hidden")){switch(t._snapDummy._position){case"left":case"top":t.style.left=t.style.top="0",t.style.right="auto";break;case"right":t.style.left="auto",t.style.top=t.style.right="0"}t.style.width=t._snapDummy._position==="top"?"100%":"50%",t.style.height="100%",t.$.addClass("smart-window-snapped-"+t._snapDummy._position),t._handleSnapping()}t._modal&&n===t._modal&&!t._isWindowContentClicked&&(t.closeOnMaskClick?t.close():t.focus()),t._isWindowButton(n)&&t.focus(),delete t._isWindowContentClicked,delete t._buttonPressed;const a=t.shadowRoot&&t._windowParent.element&&t._windowParent.element.getRootNode()?t._windowParent.element.getRootNode().activeElement:document.activeElement;if(!t.hasAttribute("active")||a===t||!n.closest)return;let i=n.closest(".smart-window");for(;i&&i!==t;)i=i.parentElement,i&&(i=i.closest(".smart-window"));t.opened&&i!==t&&t.removeAttribute("active")}_documentSelectStartHandler(e){this._dragDetails&&this._dragDetails.started&&e.preventDefault()}_drag(e,t){const n=this;if(!e||n.pinned||n.maximized)return;let a,i;n._dragDetails&&n._dragDetails.started||n._setDragDetails("drag",e),n.$.addClass("no-transition"),typeof e=="object"?(a=e.pageX-n._dragDetails.x,i=e.pageY-n._dragDetails.y):a=i=e;const r=Math.max(n._windowParent.element.clientHeight,n._windowParent.scrollElement.scrollHeight),o=Math.max(n._windowParent.element.clientWidth,n._windowParent.scrollElement.scrollWidth);switch(t){case"horizontal":n._dragDetails.windowX=Math.max(0,Math.min(n._dragDetails.windowX+a,o-n.offsetWidth)),n.style.left=n._dragDetails.windowX+"px";break;case"vertical":n._dragDetails.windowY=Math.max(0,Math.min(n._dragDetails.windowY+i,r-n.offsetHeight)),n.style.top=n._dragDetails.windowY+"px";break;case"both":n._dragDetails.windowX=Math.max(0,Math.min(n._dragDetails.windowX+a,o-n.offsetWidth)),n._dragDetails.windowY=Math.max(0,Math.min(n._dragDetails.windowY+i,r-n.offsetHeight)),n.style.left=n._dragDetails.windowX+"px",n.style.top=n._dragDetails.windowY+"px"}n._dragDetails.top=n.offsetTop,n._dragDetails.left=n.offsetLeft}_dragStartHandler(e){this._dragDetails&&this._dragDetails.started&&e.preventDefault()}_focusHandler(e){const t=this;e.type==="focus"?(t.setAttribute("focus",""),t.bringToFront()):t._buttonPressed||(t.removeAttribute("focus"),t._dragDetails&&t._dragDetails.started&&t._handleWindowResizeDummy())}_getAllMinimizedWindows(e){const t=this;let n=[];e||(e=t._windowParent.element);const a=e.querySelectorAll("smart-window");for(let i=0;i<a.length;i++)a[i]!==t&&a[i].hasAttribute("minimized")&&n.push(a[i]);return n.sort(function(i,r){let o=i.getBoundingClientRect(),d=r.getBoundingClientRect();return o.right-d.right}),n}_handleSnapping(e){const t=this;e?t.disableSnap||t.collapsed||(t._snapDummy||(t._snapDummy=document.createElement("div"),t._snapDummy.addEventListener("transitionend",function(){t._snapDummy.classList.contains("smart-visibility-hidden")&&t._snapDummy.parentElement&&t._snapDummy.parentElement.removeChild(t._snapDummy)})),t._snapDummy.className="smart-window-snap-"+e+"-feedback",t._snapDummy._position=e,t._snapDummy.parentElement||t._windowParent.element.appendChild(t._snapDummy)):t._snapDummy&&t._snapDummy.parentElement&&t._snapDummy.classList.add("smart-visibility-hidden")}_headerDblCickHandler(e){const t=this,n=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;n!==t.$.headerSection&&n!==t.$.header||t.$.maximizeButton&&t.$.maximizeButton.offsetHeight===0||(t.maximized?t.restore():t.maximize())}_isWindowButton(e){const t=this;for(;e&&(e.closest&&e.closest(".smart-buttons-container"))!==t.$.buttonsContainer;)e=e.getRootNode().host;if(!e)return;const n=/smart-(\w+[-]*\w*)-button/gi;if((e=e.closest(".smart-button"))&&e===t._buttonPressed)switch(e){case t.$.closeButton:return t.close(),!0;case t.$.collapseButton:return t.collapsed?t.expand():t.collapse(),!0;case t.$.maximizeButton:return t.maximized?t.restore():t.maximize(),!0;case t.$.minimizeButton:return t.minimized?t.restore():t.minimize(),!0;case t.$.pinButton:return t.pinned?t.unpin():t.pin(),!0;default:return n.test(e.className)?(t.$.fireEvent(Smart.Utilities.Core.toCamelCase(e.className.match(n).toString().replace("smart-","").replace("-button","")),{button:e}),!0):void 0}}_keyDownHandler(e){const t=this;if(delete t._changingFocus,t.disabled||(t.hasAttribute("dragged")||t.hasAttribute("resized"))&&t._mouseManipulation)return;const n=e.key==="ArrowDown"||e.key==="ArrowRight"?10:-10,a=t.enableShadowDOM&&t._windowParent.element.getRootNode()?t._windowParent.element.getRootNode().activeElement:document.activeElement;if(!t.disableKeyboard)switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":{if(t.minimized||a!==t)return;let i=e.key.indexOf("Right")>-1||e.key.indexOf("Left")>-1;e.preventDefault();const r=(t.isInShadowDOM?t.getRootNode().host:t).closest("smart-docking-layout");if(!i&&e.altKey&&!(t instanceof Smart.TabsWindow&&r))return void(e.key==="ArrowUp"?t.maximize():t.restore());if(t.maximized)return;if(t.$.addClass("no-transition"),e.ctrlKey&&t.resizeMode!=="none"&&!t.collapsed)return i=["horizontal","vertical","both"].indexOf(t.resizeMode)===-1?t.resizeMode:i?"right":"bottom",t.hasAttribute("dragged")&&t._cancelDragging(e),t.hasAttribute("resized")||t.$.fireEvent("resizeStart",{position:{x:e.pageX,y:e.pageY}}),void t._resize(i,n);t.pinned||(t.hasAttribute("dragged")||(t.setAttribute("dragged",""),t.$.fireEvent("dragStart",{left:e.pageX,top:e.pageY})),t._drag(n,i?"horizontal":"vertical")),t.$.removeClass("no-transition");break}case"Escape":t.disableEscape||t.headerButtons.indexOf("close")>-1&&t.close();break;case"p":e.altKey&&t.headerButtons.indexOf("pin")>-1&&(t.pinned?t.unpin():t.pin());break;case"c":e.altKey&&t.headerButtons.indexOf("collapse")>-1&&(t.collapsed?t.expand():t.collapse());break;case"m":e.altKey&&t.headerButtons.indexOf("minimize")>-1&&(t.minimized?t.restore():t.minimize());break;case"Tab":t.opened&&t.modal&&(t._changingFocus=!0);break;case"Enter":case" ":{let i;if(t.shadowRoot||t.isInShadowDOM?(i=e.composedPath()[0],t._buttonPressed=i.getRootNode().host):(i=e.target.closest&&e.target.closest(".smart-button"),t._buttonPressed=i),!i)return;t._isWindowButton(i),delete t._buttonPressed;break}}}_keyUpHandler(e){const t=this;if(e.key&&!t.disableKeyboard){if(e.key==="Control"&&t._dragDetails&&t.hasAttribute("resized")&&!t._mouseManipulation){if(!t._dragDetails.started)return;t._dragDetails.type!=="drag"&&(t.removeAttribute("resized"),t.$.fireEvent("resizeEnd",{left:e.pageX,top:e.pageY,width:t._dragDetails.newWidth,height:t._dragDetails.newHeight}),t._handleWindowResizeDummy()),t._dragDetails.started=!1}e.key.indexOf("Arrow")>-1&&t.hasAttribute("dragged")&&!t._mouseManipulation&&t._cancelDragging(e)}}_mouseWheelHandler(e){const t=this;!t.disabled&&t._dragDetails&&t._dragDetails.started&&(e.deltaY<0&&t._windowParent.scrollElement.scrollTop+e.deltaY<=0?t.style.top=Math.max(0,t._dragDetails.windowY)+"px":e.deltaY>0&&(t._dragDetails.windowY+t.offsetHeight+e.deltaY>=t._windowParent.scrollElement.scrollHeight||t._windowParent.scrollElement.scrollTop+t._windowParent.element.clientHeight===t._windowParent.scrollElement.scrollHeight)||(t._dragDetails.type==="drag"?(t._dragDetails.windowY+=e.deltaY,t.style.top=t._dragDetails.windowY+"px"):(t._dragDetails.height+=e.deltaY,t.style.height=t._dragDetails.height+"px")))}_moveHandler(e){const t=this;if(!(t.disabled||t.collapsed||t.maximized||t.minimized||(Smart.Utilities.Core.isMobile&&navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)&&t.hasAttribute("dragged")&&e.originalEvent.preventDefault(),t._mouseManipulation||(t.$.container.className.indexOf("smart-window-resizing")>-1&&t.$.container.classList.remove("smart-window-resizing-bottom-right","smart-window-resizing-top-right","smart-window-resizing-top-left","smart-window-resizing-bottom-left","smart-window-resizing-top","smart-window-resizing-bottom","smart-window-resizing-left","smart-window-resizing-right"),t.resizeMode==="none")))){const n=t.getBoundingClientRect(),a=e.clientY<n.top+10,i=e.clientY>n.bottom-10,r=e.clientX>n.right-10,o=e.clientX<n.left+10;switch(t.resizeMode){case"none":break;case"both":if(t.resizeIndicator)return void(i&&r&&t.$.container.classList.add("smart-window-resizing-bottom-right"));if(o||r)return a?void t.$.container.classList.add("smart-window-resizing-top-"+(o?"left":"right")):i?void t.$.container.classList.add("smart-window-resizing-bottom-"+(o?"left":"right")):void t.$.container.classList.add("smart-window-resizing-"+(o?"left":"right"));if(a||i){if(r)return void t.$.container.classList.add("smart-window-resizing-"+(a?"top-right":"bottom-right"));if(o)return void t.$.container.classList.add("smart-window-resizing-"+(a?"top-left":"bottom-left"));t.$.container.classList.add("smart-window-resizing-"+(a?"top":"bottom"))}break;case"horizontal":if(t.resizeIndicator)return void(i&&r&&t.$.container.classList.add("smart-window-resizing-right"));if(o)return void t.$.container.classList.add("smart-window-resizing-left");r&&t.$.container.classList.add("smart-window-resizing-right");break;case"vertical":if(t.resizeIndicator)return void(i&&r&&t.$.container.classList.add("smart-window-resizing-bottom"));if(a)return void t.$.container.classList.add("smart-window-resizing-top");i&&t.$.container.classList.add("smart-window-resizing-bottom");break;case"top":if(a){if(t.resizeIndicator&&!o)return;t.$.container.classList.add("smart-window-resizing-top")}break;case"bottom":if(i){if(t.resizeIndicator&&!r)return;t.$.container.classList.add("smart-window-resizing-bottom")}break;case"left":if(o){if(t.resizeIndicator&&!a)return;t.$.container.classList.add("smart-window-resizing-left")}break;case"right":if(r){if(t.resizeIndicator&&!i)return;t.$.container.classList.add("smart-window-resizing-right")}}}}_handleActiveState(){const e=this,t=document.querySelectorAll(".smart-window");for(let n=0;n<t.length;n++)t[n].contains(e)||e.contains(t[n])||(t[n].removeAttribute("active"),t[n].removeAttribute("focus"));e.setAttribute("active","")}_handleWindowResizeDummy(){const e=this;if(e._resizeDummy||(e._resizeDummy=document.createElement("div"),e._resizeDummy.classList.add("smart-window-resize-feedback")),!e.hasAttribute("resized"))return e._resizeDummy&&e._resizeDummy.remove(),void(!e.liveResize&&e._dragDetails.type==="resize"&&e._dragDetails.started&&(e.style.top=e._dragDetails.top+"px",e.style.left=e._dragDetails.left+"px",e.style.width=e._dragDetails.newWidth+"px",e.style.height=e._dragDetails.newHeight+"px"));e._resizeDummy.parentElement||e._resizeDummy.getRootNode().host||(e._resizeDummy.style.width=e.offsetWidth+"px",e._resizeDummy.style.height=e.offsetHeight+"px",e._resizeDummy.style.top=e.offsetTop+"px",e._resizeDummy.style.left=e.offsetLeft+"px",e._windowParent.element.appendChild(e._resizeDummy))}_resize(e,t){const n=this;let a;if((!n._dragDetails||n._dragDetails&&n._dragDetails.type==="drag")&&n._setDragDetails("resize"),!n._dragDetails)return;n._dragDetails.started=!0,n.hasAttribute("resized")||(n.setAttribute("resized",""),n.hasAnimation&&n.$.addClass("no-transition")),n.liveResize||n._handleWindowResizeDummy();const i=n._snapDummy&&n.$.hasClass("smart-window-snapped-"+n._snapDummy._position)?"snapWindowWidth":"width";switch(e){case"left":a=typeof t=="object"?t.pageX-n._dragDetails.x:t,a=a>0?Math.min(a,n._dragDetails[i]-n._dragDetails.minWidth):-1*Math.min(n._dragDetails.maxWidth?n._dragDetails.maxWidth-n._dragDetails[i]:n._dragDetails.left,Math.abs(a)),n._dragDetails[i]=Math.min(n._dragDetails[i]+n._dragDetails.left-n._windowParent.scrollElement.scrollLeft,n._dragDetails[i]-a),n._dragDetails.windowX=Math.max(n._windowParent.scrollElement.scrollLeft,n._dragDetails.windowX+a),typeof t!="object"&&(n._dragDetails[i]=Math.max(n._dragDetails[i],n._dragDetails.minWidth)),n._dragDetails[i]>=n._dragDetails.minWidth&&(n._dragDetails.left=n._dragDetails.windowX,n._dragDetails.newWidth=n._dragDetails[i]);break;case"right":{const o=n._windowParent.element.clientWidth!==n._windowParent.element.offsetWidth?n._windowParent.borderWidth:0,d=n._snapDummy&&n.$.hasClass("smart-window-snapped-"+n._snapDummy._position)?"snapWindowWidth":"width";a=typeof t=="object"?t.pageX-n._dragDetails.x:t,a>0&&n._dragDetails.maxWidth&&(a=Math.min(n._dragDetails.maxWidth-n._dragDetails[d],a)),n._dragDetails[d]=Math.min(n._windowParent.element.clientWidth+n._windowParent.scrollElement.scrollLeft-n._dragDetails.left-o,Math.max(0,n._dragDetails[d]+a)),typeof t!="object"&&(n._dragDetails[d]=Math.max(n._dragDetails[d],n._dragDetails.minWidth)),n._dragDetails.left=n.offsetLeft,n._dragDetails.newWidth=Math.max(n._dragDetails.minWidth,n._dragDetails[d]);break}case"top":n._snapDummy&&n.$.hasClass("smart-window-snapped-"+n._snapDummy._position)&&(n._dragDetails.height=n._dragDetails.snapWindowHeight),a=typeof t=="object"?t.pageY-n._dragDetails.y:t,a=a>0?Math.min(a,n._dragDetails.height-n._dragDetails.minHeight):-1*Math.min(n._dragDetails.maxHeight?n._dragDetails.maxHeight-n._dragDetails.height:n._dragDetails.top,Math.abs(a)),n._dragDetails.snapWindowHeight=n._dragDetails.height=Math.min(n._dragDetails.height+n._dragDetails.top-n._windowParent.scrollElement.scrollTop,n._dragDetails.height-a),n._dragDetails.windowY=Math.max(n._windowParent.scrollElement.scrollTop,n._dragDetails.windowY+a),typeof t!="object"&&(n._dragDetails.snapWindowHeight=n._dragDetails.height=Math.max(n._dragDetails.height,n._dragDetails.minHeight)),n._dragDetails.height>=n._dragDetails.minHeight&&(n._dragDetails.top=n._dragDetails.windowY,n._dragDetails.newHeight=n._dragDetails.height),n._dragDetails.newWidth=Math.max(n._dragDetails[i],n._dragDetails.newWidth);break;case"bottom":n._snapDummy&&n.$.hasClass("smart-window-snapped-"+n._snapDummy._position)&&(n._dragDetails.height=n._dragDetails.snapWindowHeight),a=typeof t=="object"?t.pageY-n._dragDetails.y:t,a>0&&n._dragDetails.maxHeight&&(a=Math.min(n._dragDetails.maxHeight-n._dragDetails.height,a)),n._dragDetails.snapWindowHeight=n._dragDetails.height=Math.min(n._windowParent.element.clientHeight+n._windowParent.scrollElement.scrollTop-n._dragDetails.top-n._windowParent.borderWidth,Math.max(0,n._dragDetails.height+a)),typeof t!="object"&&(n._dragDetails.snapWindowHeight=n._dragDetails.height=Math.max(n._dragDetails.height,n._dragDetails.minHeight)),n._dragDetails.newHeight=Math.max(n._dragDetails.minHeight,n._dragDetails.height),n._dragDetails.newWidth=Math.max(n._dragDetails[i],n._dragDetails.newWidth);break;case"bottomLeftCorner":n._resize("bottom",t),n._resize("left",t);break;case"bottomRightCorner":n._resize("bottom",t),n._resize("right",t);break;case"topLeftCorner":n._resize("top",t),n._resize("left",t);break;case"topRightCorner":n._resize("top",t),n._resize("right",t)}const r=n.liveResize?n:n._resizeDummy;n._dragDetails.newHeight=Math.max(n._dragDetails.snapWindowHeight,n._dragDetails.newHeight),r.style.top=n._dragDetails.top+"px",r.style.left=n._dragDetails.left+"px",r.style.width=n._dragDetails.newWidth+"px",r.style.height=n._dragDetails.newHeight+"px"}_restoreFromMinimization(){const e=this;e.minimized=!1,e.style.width=e.style.height=e.style.top=e.style.left="",e._refreshMinimizedWindowsPosition()}_refreshMinimizedWindowsPosition(){const e=this,t=e._getAllMinimizedWindows();if(t.length===0)return;let n;t[0].style.left="5px";for(let a=1;a<t.length;a++)parseFloat(t[a-1].style.left)+t[a-1].offsetWidth+t[a].offsetWidth+10<e._windowParent.element.clientWidth?(t[a].style.left=parseFloat(t[a-1].style.left)+t[a-1].offsetWidth+5+"px",t[a].style.top=t[a-1].offsetTop+"px",n=t[a]):(t[a].style.left=parseFloat(n.style.left)+"px",t[a].style.top=n.offsetTop+"px")}_setHeaderButtons(){const e=this,t=e.headerButtons,n=e.$.buttonsContainer.children,a=function(i){const r=e.$.buttonsContainer.getElementsByClassName("smart-"+(i+"").split(/(?=[A-Z])/).join("-").toLowerCase()+"-button")[0];return r&&r.classList.remove("smart-hidden"),r};for(let i=0;i<n.length;i++)n[i].classList.add("smart-hidden");if(t.length>0)for(let i=0;i<t.length;i++){let r=a(t[i]);if(!r){const o=(t[i]+"").split(/(?=[A-Z])/);r=document.createElement("button"),r.setAttribute("aria-label",o.map(d=>d.slice(0,1).toUpperCase()+d.slice(1)).join(" ")),r.classList.add("smart-"+o.join("-").toLowerCase()+"-button","smart-button","smart-element")}e.$.buttonsContainer.insertBefore(r,e.$.buttonsContainer.firstElementChild)}}_setDragDetails(e,t){const n=this;if(n._dragDetails||(n._dragDetails={}),n._dragDetails.minWidth===void 0||n._dragDetails.minHeight===void 0||n._dragDetails.maxWidth===void 0||n._dragDetails.maxHeight===void 0){const i=getComputedStyle(n);n._dragDetails.minWidth=parseFloat(i.getPropertyValue("min-width"))||0,n._dragDetails.minHeight=parseFloat(i.getPropertyValue("min-height"))||0,n._dragDetails.maxWidth=parseFloat(i.getPropertyValue("max-width"))||0,n._dragDetails.maxHeight=parseFloat(i.getPropertyValue("max-height"))||0}n._dragDetails.windowX=n.offsetLeft,n._dragDetails.windowY=n.offsetTop;const a=n.getBoundingClientRect();if(n._snapDummy&&n.$.hasClass("smart-window-snapped-"+n._snapDummy._position))n.headerPosition==="right"&&n.collapsed&&(n._dragDetails.offsetX=a.left+n.offsetWidth-t.clientX);else{const i=n.parentElement===document.body?document.documentElement.getBoundingClientRect():n.parentElement?n.parentElement.getBoundingClientRect():document.documentElement.getBoundingClientRect(),r=window.scrollX||window.pageXOffset,o=window.scrollY||window.pageYOffset;n._windowParent.offsetLeft=i.left+r,n._windowParent.offsetTop=i.top+o,t&&typeof t=="object"&&(n._dragDetails.offsetX=t.clientX-a.left,n._dragDetails.offsetY=t.clientY-a.top),n.collapsed||(n.hasAnimation&&e==="minimize"?(n._dragDetails.width=n._dragDetails.width?n._dragDetails.width:n.offsetWidth,n._dragDetails.height=n._dragDetails.height?n._dragDetails.height:n.offsetHeight):(n._dragDetails.width=n.offsetWidth,n._dragDetails.height=n.offsetHeight),(n.style.width||n.style.height)&&(n._dragDetails.resized=!0))}if(e!=="minimize"&&e&&(n._dragDetails.type=e,n._dragDetails.started=!0,n._dragDetails.snapWindowWidth=n.offsetWidth,n._dragDetails.snapWindowHeight=n.offsetHeight,t&&typeof t=="object"?(n._dragDetails.x=t.pageX,n._dragDetails.y=t.pageY):(n._dragDetails.x=n.offsetLeft,n._dragDetails.y=n.offsetTop),e==="resize")){if(n.resizeMode==="none")return void delete n._dragDetails;n._dragDetails.top=n.offsetTop,n._dragDetails.left=n.offsetLeft,n._dragDetails.newWidth=n._dragDetails.width,n._dragDetails.newHeight=n._dragDetails.height,n.$container.hasClass("smart-window-resizing-right")?n._dragDetails.side="right":n.$container.hasClass("smart-window-resizing-left")?n._dragDetails.side="left":n.$container.hasClass("smart-window-resizing-top")?n._dragDetails.side="top":n.$container.hasClass("smart-window-resizing-bottom")?n._dragDetails.side="bottom":n.$container.hasClass("smart-window-resizing-top-left")?n._dragDetails.side="topLeftCorner":n.$container.hasClass("smart-window-resizing-bottom-left")?n._dragDetails.side="bottomLeftCorner":n.$container.hasClass("smart-window-resizing-top-right")?n._dragDetails.side="topRightCorner":n.$container.hasClass("smart-window-resizing-bottom-right")&&(n._dragDetails.side="bottomRightCorner")}}_setElementParent(e){const t=this;if(t._windowParent.element=void 0,t._windowParent.parent&&!t._windowParent.parent.querySelectorAll("smart-window, smart-dialog-window, smart-progress-window, smart-wait-window, smart-alert-window, smart-prompt-window, smart-multiline-prompt-window")&&(t._windowParent.parent.style.position=""),e instanceof HTMLElement)t._windowParent.element=e;else if(typeof e=="string")if(e==="body"){const n=t.getRootNode();t._windowParent.element=n&&n.host?t.getShadowRootOrBody():document.body}else t._windowParent.element=document.getElementById(e);if(t._windowParent.element||(t._windowParent.initialParent?t._windowParent.element=t._windowParent.initialParent.parentElement?t._windowParent.initialParent:t.getShadowRootOrBody():t._windowParent.element=t.getShadowRootOrBody()),t.parentElement!==t._windowParent.element&&t._windowParent.element.appendChild(t),t._windowParent.element===document.body)t._windowParent.element=document.documentElement,t._windowParent.scrollElement=document.scrollingElement,t._windowParent.parent=document.body,t._windowParent.borderWidth=0;else{if(t.parentElement instanceof Smart.Window&&!t.parentElement.isCompleted)return void t.parentElement.whenRendered(function(){t.parentElement.appendChild(t),t._setElementParent(t.windowParent)});if(t._windowParent.element instanceof Smart.Window&&(t._windowParent.element=t._windowParent.element.$.content),t.parentElement){const n=getComputedStyle(t.parentElement),a=n.getPropertyValue("position");t._windowParent.borderWidth=2*parseInt(n.getPropertyValue("border-width")||0),t._windowParent.parent=t.parentElement,t._windowParent.scrollElement=t._windowParent.element,a==="static"&&(t.parentElement.style.position="relative")}else t._windowParent.scrollElement=t._windowParent.element}t._setModal(),t.style.left&&t.offsetLeft>t._windowParent.scrollElement.scrollWidth&&(t.style.left=t._windowParent.scrollElement.scrollWidth-t.offsetWidth+"px"),t.style.top&&t.offsetTop>t._windowParent.scrollElement.scrollHeight&&(t.style.top=t._windowParent.scrollElement.scrollHeight-t.offsetHeight+"px")}_setModal(){const e=this;if(e._windowParent&&(delete e._changingFocus,e._windowParent.element))if(e.modal)if(e._modal||(e._modal=document.createElement("div"),e._modal.classList.add("smart-modal")),e._windowParent.parent!==document.body?e._modal.setAttribute("nested-modal",""):e._modal.removeAttribute("nested-modal"),e._modal._window=e,e.opened&&!e._modal.parentElement){const t=parseInt(getComputedStyle(e).getPropertyValue("z-index"));isNaN(t)||(e._modal.style.zIndex=t-1),e.parentElement.insertBefore(e._modal,e)}else e._modal.parentElement&&e._modal.parentElement.removeChild(e._modal);else e._modal&&e._modal.parentElement&&(e._modal.parentElement.removeChild(e._modal),delete e._modal)}}),Smart("smart-dialog-window",class extends Smart.Window{static get properties(){return{cancelLabel:{value:"Cancel",type:"string"},confirmLabel:{value:"Ok",type:"string"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},headerButtons:{value:["close"],type:"array"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0}}}static get listeners(){return{"footer.click":"_footerClickHandler"}}template(){return`<div role="presentation">
                    <div class="smart-content-container" id="container">
                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">
                            <div id="header" class="smart-header">[[label]]</div>
                            <div id="buttonsContainer" class="smart-buttons-container">
                                <button id="pinButton" class="smart-pin-button" aria-label="Pin"></button>
                                <button id="collapseButton" class="smart-button smart-element smart-collapse-button" aria-label="Collapse"></button>
                                <button id="minimizeButton" class="smart-button smart-element smart-minimize-button" aria-label="Minimize"></button>
                                <button id="maximizeButton" class="smart-button smart-element smart-maximize-button" aria-label="Maximize"></button>
                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>
                            </div>
                        </div>
                        <div class="smart-content">
                            <content></content>
                        </div>
                        <div id="footer" class="smart-footer">
                            <button id="confirmButton" class="smart-button smart-element smart-confirm-button">[[confirmLabel]]</button>
                            <button id="cancelButton" class="smart-button smart-element smart-cancel-button">[[cancelLabel]]</button>
                        </div>
                    </div>
                </div>`}_createElement(){const e=this;e.setAttribute("role","alertdialog"),e.setAttribute("aria-describedby",e.$.content.id)}_footerClickHandler(e){const t=this,n=e.target;n.closest(".smart-confirm-button")?t.$.fireEvent("confirm"):n.closest(".smart-cancel-button")&&t.$.fireEvent("cancel")}_keyDownHandler(e){const t=this;if(delete t._changingFocus,t.disabled||(t.hasAttribute("dragged")||t.hasAttribute("resized"))&&t._mouseManipulation||t.disableKeyboard)return;e.stopPropagation();const n=e.key==="ArrowDown"||e.key==="ArrowRight"?10:-10,a=t.enableShadowDOM&&t._windowParent.element.getRootNode()?t._windowParent.element.getRootNode().activeElement:document.activeElement;switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":{if(t.minimized||a!==t)return;const i=e.key.indexOf("Right")>-1||e.key.indexOf("Left")>-1;if(e.preventDefault(),!i&&e.altKey)return void(e.key==="ArrowUp"?t.maximize():t.restore());if(t.$.addClass("no-transition"),t.maximized)return;if(e.ctrlKey&&t.resizeMode!=="none")return t.hasAttribute("dragged")&&t._cancelDragging(e),t.hasAttribute("resized")||t.$.fireEvent("resizeStart",{position:{x:e.pageX,y:e.pageY}}),void t._resize(i?"right":"bottom",n);t.pinned||(t.hasAttribute("dragged")||(t.setAttribute("dragged",""),t.$.fireEvent("dragStart",{left:e.pageX,top:e.pageY})),t._drag(n,i?"horizontal":"vertical")),t.$.removeClass("no-transition");break}case"Escape":t.disableEscape||t.headerButtons.indexOf("close")>-1&&t.close();break;case"Tab":t.opened&&t.modal&&(t._changingFocus=!0);break;case"Enter":case" ":{let i;if(t.shadowRoot||t.isInShadowDOM?(i=e.composedPath()[0],t._buttonPressed=i.getRootNode().host):(i=e.target.closest&&e.target.closest(".smart-button"),t._buttonPressed=i),!i)return;t._isWindowButton(i),delete t._buttonPressed;break}}}}),Smart("smart-alert-window",class extends Smart.DialogWindow{static get properties(){return{headerButtons:{value:[],type:"array"}}}_createElement(){const e=this;e.setAttribute("role","alertdialog"),e.setAttribute("aria-describedby",e.$.content.id)}}),Smart("smart-prompt-window",class extends Smart.DialogWindow{static get properties(){return{autoComplete:{allowedValues:["none","manual","auto","inline"],type:"string",value:"manual"},confirmLabel:{value:"Ok",type:"string"},cancelLabel:{value:"Cancel",type:"string"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},displayMode:{value:"default",allowedValues:["default","escaped"],type:"string"},headerButtons:{value:["close"],type:"array"},form:{value:"",type:"string"},hint:{value:null,type:"any?"},maxLength:{value:null,type:"number?"},minLength:{value:2,type:"number"},messages:{extend:!0,value:{en:{missingReference:"{{elementType}}: Missing reference to {{files}}."}},type:"object"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},name:{value:"",type:"string"},placeholder:{value:"",type:"string"},promptLabel:{value:"",type:"string?"},required:{value:!1,type:"boolean"},requiredMessage:{value:"",type:"string"},selectAllOnFocus:{value:!1,type:"boolean"},value:{value:"",type:"string"}}}template(){return`<div role="presentation">
                    <div class="smart-content-container" id="container">
                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">
                            <div id="header" class="smart-header">[[label]]</div>
                            <div id="buttonsContainer" class="smart-buttons-container">
                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>
                            </div>
                        </div>
                        <div class="smart-content">
                            <content></content>
                            <smart-text-box id="textBox"
                                animation="[[animation]]"
                                auto-complete="[[autoComplete]]"
                                max-length="[[maxLength]]"
                                value="{{value}}"
                                form="[[form]]"
                                label="[[promptLabel]]"
                                hint="[[hint]]"
                                display-mode="[[displayMode]]"
                                max-length="[[maxLength]]"
                                placeholder="[[placeholder]]"
                                required="[[required]]"
                                required-message="[[requiredMessage]]"
                                select-all-on-focus="[[selectAllOnFocus]]"
                                theme="[[theme]]"
                                right-to-left="[[rightToLeft]]">
                            </smart-text-box>
                        </div>
                        <div id="footer" class="smart-footer">
                            <button id="confirmButton" class="smart-button smart-element smart-confirm-button flat">[[confirmLabel]]</button>
                            <button id="cancelButton" class="smart-button smart-element smart-cancel-button flat">[[cancelLabel]]</button>
                        </div>
                    </div>
                </div>`}static get listeners(){return{"footer.click":"_footerClickHandler"}}static get requires(){return{"Smart.TextBox":"smart.textbox.js"}}_footerClickHandler(e){const t=this,n=e.target;n.closest(".smart-confirm-button")?t.$.fireEvent("confirm",{value:t.$.textBox.value}):n.closest(".smart-cancel-button")&&t.$.fireEvent("cancel",{value:t.$.textBox.value})}_keyDownHandler(e){const t=this;function n(){t._dragDetails&&(t._dragDetails.started=!1),t.$.removeClass("no-transition")}if(delete t._changingFocus,t.disabled||t._dragDetails&&t._dragDetails.started||t.disableKeyboard)return;e.stopPropagation();const a=e.key==="ArrowDown"||e.key==="ArrowRight"?10:-10,i=t.enableShadowDOM&&t._windowParent.element.getRootNode()?t._windowParent.element.getRootNode().activeElement:document.activeElement;switch(t.$.removeClass("no-transition"),e.key){case"ArrowUp":case"ArrowDown":if(i!==t)return;if(e.preventDefault(),e.altKey)return e.key==="ArrowUp"?t.maximize():t.restore(),void n();if(t.$.addClass("no-transition"),e.ctrlKey)return t._resize("bottom",a),void n();t._drag(a,"vertical");break;case"ArrowLeft":case"ArrowRight":if(i!==t)return;if(e.preventDefault(),t.$.addClass("no-transition"),e.ctrlKey)return t._resize("right",a),void n();t._drag(a,"horizontal"),t.$.removeClass("no-transition");break;case"Escape":t.disableEscape||t.headerButtons.indexOf("close")>-1&&t.close();break;case"Tab":t.opened&&t.modal&&(t._changingFocus=!0);break;case"Enter":case" ":{let r;if(t.shadowRoot||t.isInShadowDOM?(r=e.composedPath()[0],t._buttonPressed=r.getRootNode().host):(r=e.target.closest&&e.target.closest(".smart-button"),t._buttonPressed=r),!r)return;t._isWindowButton(r),delete t._buttonPressed;break}}n()}}),Smart("smart-multiline-prompt-window",class extends Smart.PromptWindow{static get properties(){return{autoCapitalize:{value:"none",allowedValues:["none","words","characters"],type:"string"},autoExpand:{value:!1,type:"boolean"},headerButtons:{value:["close"],type:"array"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},selectionDirection:{value:"none",allowedValues:["forward","backward","none"],type:"string"},selectionEnd:{value:0,reflectToAttribute:!1,type:"number"},selectionStart:{value:0,reflectToAttribute:!1,type:"number"},spellCheck:{value:!1,type:"boolean"},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},wrap:{value:"soft",allowedValues:["hard","soft","off"],type:"string"}}}template(){return`<div role="presentation">
                    <div class="smart-content-container" id="container">
                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">
                            <div id="header" class="smart-header">[[label]]</div>
                            <div id="buttonsContainer" class="smart-buttons-container">
                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>
                            </div>
                        </div>
                        <div class="smart-content">
                            <content></content>
                           <smart-multiline-text-box id="textBox"
                                animation="[[animation]]"
                                horizontal-scroll-bar-visibility= "[[horizontalScrollBarVisibility]]"
                                vertical-scroll-bar-visibility= "[[verticalScrollBarVisibility]]"
                                auto-capitalize="[[autoCapitalize]]"
                                auto-expand = "[[autoExpand]]"
                                selection-direction= "[[selectionDirection]]"
                                selection-end= "[[selectionEnd]]"
                                selection-start="[[selectionStart]]"
                                spell-check= "[[spellCheck]]"
                                wrap="[[wrap]]"
                                max-length="[[maxLength]]"
                                value="{{value}}"
                                form="[[form]]"
                                label="[[promptLabel]]"
                                hint="[[hint]]"
                                display-mode="[[displayMode]]"
                                max-length="[[maxLength]]"
                                placeholder="[[placeholder]]"
                                required="[[required]]"
                                required-message="[[requiredMessage]]"
                                select-all-on-focus="[[selectAllOnFocus]]"
                                theme="[[theme]]"
                                right-to-left="[[rightToLeft]]">
                           </smart-multiline-text-box>
                        </div>
                        <div id="footer" class="smart-footer">
                            <button id="confirmButton" class="smart-button smart-element smart-confirm-button flat">[[confirmLabel]]</button>
                            <button id="cancelButton" class="smart-button smart-element smart-cancel-button flat">[[cancelLabel]]</button>
                        </div>
                    </div>
                </div>`}static get listeners(){return{"footer.click":"_footerClickHandler"}}static get requires(){return{"Smart.MultilineTextBox":"smart.multilinetextbox.js"}}_footerClickHandler(e){const t=this,n=e.target;n.closest(".smart-confirm-button")?t.$.fireEvent("confirm",{value:t.$.textBox.value}):n.closest(".smart-cancel-button")&&t.$.fireEvent("cancel",{value:t.$.textBox.value})}}),Smart("smart-progress-window",class extends Smart.Window{static get properties(){return{completeLabel:{value:"Continue",type:"string"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},headerButtons:{value:["close"],type:"array"},indeterminate:{value:!1,type:"boolean"},inverted:{value:!1,type:"boolean"},formatFunction:{value:null,type:"function"},max:{value:100,type:"number"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},min:{value:0,type:"number"},showProgressValue:{value:!1,type:"boolean"},value:{value:0,type:"number?"}}}template(){return`<div role="presentation">
                    <div class="smart-content-container" id="container">
                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">
                            <div id="header" class="smart-header">[[label]]</div>
                            <div id="buttonsContainer" class="smart-buttons-container">
                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>
                            </div>
                        </div>
                        <div class="smart-content" inner-h-t-m-l="[[innerHTML]]">
                            <content></content>
                        </div>
                        <div id="footer" class="smart-footer">
                            <smart-progress-bar id="progressBar"
                                animation="[[animation]]"
                                min="[[min]]"
                                max="[[max]]"
                                indeterminate="[[inditerminate]]"
                                inverted="[[inverted]]"
                                format-function="[[formatFunction]]"
                                show-progress-value="[[showProgressValue]]"
                                theme="[[theme]]"
                                right-to-left="[[rightToLeft]]"
                                value="{{value}}">
                            </smart-progress-bar>
                            <button id="completeButton" class="smart-button smart-element smart-complete-button smart-visibility-hidden">[[completeLabel]]</button>
                        </div>
                    </div>
                </div>`}static get requires(){return{"Smart.ProgressBar":"smart.progressbar.js"}}propertyChangedHandler(e,t,n){const a=this;switch(e){case"value":a._handleCompletion();break;default:super.propertyChangedHandler(e,t,n)}}_createElement(){this.setAttribute("role","dialog"),this._handleCompletion()}_handleCompletion(){const e=this;e.$.completeButton&&(e.value>=e.max?(e.$completeButton.removeClass("smart-visibility-hidden"),e.$progressBar.addClass("smart-visibility-hidden")):(e.$completeButton.addClass("smart-visibility-hidden"),e.$progressBar.removeClass("smart-visibility-hidden")))}_keyDownHandler(e){const t=this;function n(){t._dragDetails&&(t._dragDetails.started=!1),t.$.removeClass("no-transition")}if(delete t._changingFocus,t.disabled||t._dragDetails&&t._dragDetails.started||t.disableKeyboard)return;e.stopPropagation();const a=e.key==="ArrowDown"||e.key==="ArrowRight"?10:-10,i=t.enableShadowDOM&&t._windowParent.element.getRootNode()?t._windowParent.element.getRootNode().activeElement:document.activeElement;switch(t.$.removeClass("no-transition"),e.key){case"ArrowUp":case"ArrowDown":if(i!==t)return;if(e.preventDefault(),e.altKey)return e.key==="ArrowUp"?t.maximize():t.restore(),void n();if(t.$.addClass("no-transition"),e.ctrlKey)return t._resize("bottom",a),void n();t._drag(a,"vertical"),t.$.removeClass("no-transition");break;case"ArrowLeft":case"ArrowRight":if(i!==t)return;if(e.preventDefault(),t.$.addClass("no-transition"),e.ctrlKey)return t._resize("right",a),void n();t._drag(a,"horizontal"),t.$.removeClass("no-transition");break;case"Escape":t.disableEscape||t.headerButtons.indexOf("close")>-1&&t.close();break;case"Tab":t.opened&&t.modal&&(t._changingFocus=!0);break;case"Enter":case" ":{let r;if(t.shadowRoot||t.isInShadowDOM?(r=e.composedPath()[0],t._buttonPressed=r.getRootNode().host):(r=e.target.closest&&e.target.closest(".smart-button"),t._buttonPressed=r),!r)return;t._isWindowButton(r),delete t._buttonPressed;break}}n()}}),Smart("smart-tabs-window",class extends Smart.Window{static get properties(){return{disableSnap:{value:!0,readOnly:!0,type:"boolean"},dropPosition:{value:["all"],type:"array"},addNewTab:{value:!1,type:"boolean"},allowToggle:{value:!1,type:"boolean"},autoHide:{value:!1,type:"boolean"},autoHideWindow:{value:null,type:"any"},dataSource:{value:null,type:"array?",reflectToAttribute:!1},tabCloseButtonMode:{value:"default",allowedValues:["default","selected"],type:"string"},tabCloseButtons:{value:!1,type:"boolean"},draggable:{value:!0,type:"boolean",reflectToAttribute:!1},messages:{value:{en:{ambiguousIndexes:"smart-tabs: Initially set smart-tab-item indexes are ambiguous and are ignored in favour of the HTML structure.",detailsObjectRequired:'smart-tabs: The method "insert" requires a details Object to be passed as a second argument.',invalidIndex:'smart-tabs: "{{method}}" method accepts an index of type number.',referenceNodeNotChild:"smart-tabs: Passed {{argument}} is not part of this smart-tabs element.",tabItemRequired:'smart-tabs: The method "{{method}}" requires a "smart-tab-item" element to be passed as an argument.'}},type:"object",extend:!0},tabOverflow:{value:"auto",allowedValues:["auto","hidden","scroll"],type:"string"},tabReorder:{value:!1,type:"boolean"},tabResize:{value:!1,type:"boolean"},tabScrollButtonsPosition:{value:"both",allowedValues:["near","far","both"],type:"string"},selectedIndex:{value:null,type:"number?"},selectionMode:{value:"click",allowedValues:["click","dblclick","mouseenter","none"],type:"string"},collapsed:{value:!1,type:"boolean"},collapsible:{value:!1,type:"boolean"},locked:{value:!1,type:"boolean"},max:{value:"",type:"any"},min:{value:"",type:"any"},size:{value:"",type:"any"},tabLayout:{value:"scroll",allowedValues:["scroll","dropdown","wrap","shrink"],type:"string",defaultReflectToAttribute:!0},tabPosition:{value:"top",allowedValues:["top","bottom","left","right","hidden"],type:"string"},tabTextOrientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"},layout:{value:null,type:"any"}}}static get listeners(){return{"tabsElement.blur":"_tabsFocusHandler","tabsElement.change":"_tabsChangeHandler","tabsElement.focus":"_tabsFocusHandler","autoHideWindow.close":"_autoHideWindowCloseHandler","autoHideWindow.open":"_autoHideWindowOpenHandler"}}template(){return`<div role="presentation">
                    <div class="smart-content-container" id="container">
                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">
                            <div id="header" class="smart-header">[[label]]</div>
                            <div id="buttonsContainer" class="smart-buttons-container">
                                <button id="minimizeButton" class="smart-button smart-element smart-minimize-button" aria-label="Minimize"></button>
                                <button id="maximizeButton" class="smart-button smart-element smart-maximize-button" aria-label="Maximize"></button>
                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>
                            </div>
                        </div>
                        <div id="contentSection" class="smart-content">
                           <smart-tabs id="tabsElement"
                                animation="[[animation]]"
                                add-new-tab="[[addNewTab]]"
                                allow-toggle="[[allowToggle]]"
                                close-button-mode="[[tabCloseButtonMode]]"
                                close-buttons="[[tabCloseButtons]]"
                                disabled="[[disabled]]"
                                overflow="[[tabOverflow]]"
                                reorder="[[tabReorder]]"
                                resize="[[tabResize]]"
                                scroll-buttons-position="[[tabScrollButtonsPosition]]"
                                selected-index="{{selectedIndex}}"
                                selection-mode="[[selectionMode]]"
                                tab-layout="[[tabLayout]]"
                                tab-position="[[tabPosition]]"
                                tab-text-orientation="[[tabTextOrientation]]"
                                theme="[[theme]]"
                                right-to-left="[[rightToLeft]]">
                                <content></content>
                            </smart-tabs>
                        </div>
                        <div id="footer" class="smart-footer smart-hidden"></div>
                    </div>
                </div>`}static get requires(){return{"Smart.Tabs":"smart.tabs.js"}}appendChild(e){const t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e?(e instanceof Smart.TabItem||t.error(t.localize("tabItemRequired",{method:"removeChild"})),t.$.tabsElement.appendChild(e)):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}insert(e,t){this.$.tabsElement.insert(e,t);const n=this.$.tabsElement._tabs[e];n&&(n.draggable=t.draggable===void 0||t.draggable,n.floatable=t.floatable===void 0||t.floatable)}insertBefore(e,t){this.$.tabsElement.insertBefore(e,t)}removeAt(e){this.$.tabsElement.removeAt(e)}removeChild(e){const t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e?(e instanceof Smart.TabItem||t.error(t.localize("tabItemRequired",{method:"removeChild"})),(t.shadowRoot||t).contains(e)||t.error(t.localize("referenceNodeNotChild",{argument:"node"})),t.$.tabsElement.removeChild(e)):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}refreshTabHeader(){const e=this;e.$.tabsElement&&e.$.tabsElement.isCompleted&&e.$.tabsElement.refreshTabHeader()}refreshTabs(){const e=this;e.$.tabsElement&&e.$.tabsElement.isCompleted&&e.$.tabsElement._applyTabOverflow()}select(e){this.$.tabsElement.select(e)}update(e,t,n){this.$.tabsElement.update(e,t,n)}get items(){return this.isCompleted&&this.$.tabsElement?this.$.tabsElement._tabs:null}get itemLabels(){return this.$?this.$.tabsElement._tabLabelContainers:null}get siblings(){const e=this;let t=[];if(!e.isCompleted)return t;const n=e.closest("smart-splitter");if(!n||!n.closest("smart-docking-layout"))return t;const a=n._items;if(!a||!a.length)return t;for(let i=0;i<a.length;i++){const r=a[i];r!==e.closest("smart-splitter-item")&&r.querySelector("smart-tabs-window").closest("smart-splitter")===n&&t.push(r.querySelector("smart-tabs-window"))}return t}propertyChangedHandler(e,t,n){const a=this;switch(e!=="collapsed"&&super.propertyChangedHandler(e,t,n),e){case"theme":t!==""&&(a.$.closeButton.classList.remove(t),a.$.collapseButton.classList.remove(t),a.$.maximizeButton.classList.remove(t),a.$.pinButton.classList.remove(t)),a._applyTheme(n);break;case"autoHideWindow":a._handleAutoHideWindow();break;case"autoHide":n||(a.$.tabsElement.selectedIndex!==null&&(a.$.tabsElement._tabs[a.$.tabsElement.selectedIndex]._autoHideWindowSize=void 0),a._autoHideWindow&&a._autoHideWindow.close());break;case"dataSource":a.$.tabsElement.dataSource=n;break;case"layout":a._handleLayoutProperty();break;case"collapsible":case"collapsed":case"locked":case"max":case"min":case"size":{const i=a.getRootNode(),r=(i&&i.host?i.host:a).closest("smart-docking-layout"),o=a.closest("smart-splitter-item");if(!r)return void(e==="collapsed"&&super.propertyChangedHandler(e,t,n));o&&(o[e]=n);break}}}_applyTheme(e){if(e!==""){const t=this.$.buttonsContainer.children;for(let n=0;n<t.length;n++)t[n].classList.add(e)}}_autoHideWindowCloseHandler(){const e=this;e.allowToggle&&e.$.tabsElement.selectedIndex!==null&&e.$.tabsElement.select(e.$.tabsElement.selectedIndex),e._autoHideWindow&&e._moveContent(e._autoHideWindow.items[0],e._autoHideWindow._tab)}_autoHideWindowOpenHandler(){const e=this;e.$.tabsElement.selectedIndex&&e._handleAutoHide(e.$.tabsElement.selectedIndex)}_createElement(){const e=this;e.setAttribute("role","dialog"),e.$.tabsElement.$.tabHeaderControls&&!e.$.tabsElement.$.tabHeaderControls.innerHTML&&e.$.tabsElement.$tabHeaderControls.addClass("smart-hidden"),e.$.tabsElement.dataSource=e.dataSource,e._applyTheme(e.theme),e._handleAutoHideWindow(),e.autoHide&&e._handleAutoHide(e.$.tabsElement.selectedIndex),e.allowToggle||e.selectedIndex||e.$.tabsElement.selectedIndex===null||(e.selectedIndex=e.$.tabsElement.selectedIndex,e.$.tabsElement.setAttribute("selected-index",e.selectedIndex)),e._handleLayoutProperty();const t=(e.isInShadowDOM?e.getRootNode().host:e||e).closest("smart-docking-layout"),n=e.closest("smart-splitter-item");t&&n&&(n.collapsible=e.collapsible,n.collapsed=e.collapsed,n.min=e.min,n.max=e.max,n.size=e.size,n.locked=e.locked)}attached(){super.attached();const e=this;e.classList.add("smart-window"),e.shadowRoot&&e.$.root.classList.add("smart-window")}_handleLayoutProperty(){const e=this;let t=e.closest("smart-docking-layout");if(Smart.DockingLayout){if(!e.ownerLayout&&e.getRootNode()){let n=e.getRootNode().host;for(;n;){if(!n.closest)return;if(n.closest("smart-docking-layout")){t=n.closest("smart-docking-layout");break}n=n.getRootNode()?n.getRootNode().host:void 0}}t?e.layout=t:e.layout instanceof Smart.DockingLayout||typeof e.layout=="string"&&(e.layout=document.getElementById(e.layout))}}_headerDblCickHandler(e){const t=this,n=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;e.ctrlKey||n!==t.$.headerSection&&n!==t.$.header||t.$.maximizeButton&&t.$.maximizeButton.offsetHeight===0||(t.maximized?t.restore():t.maximize())}_documentUpHandler(e){const t=this;let n=e.originalEvent.target.closest?e.originalEvent.target.closest(".smart-window"):e.originalEvent.target,a=n===t||n===t._autoHideWindow||t._isAutoHideWindowClicked,i=t.closest("smart-docking-layout");(t.shadowRoot||t.isInShadowDOM)&&(n=e.originalEvent.composedPath()[0],a=n.getRootNode()===t.shadowRoot||n.closest(".smart-window")===t||n.closest(".smart-window")===t._autoHideWindow||t._isAutoHideWindowClicked),i=((t.isInShadowDOM?t.getRootNode().host:t)||t).closest("smart-docking-layout"),i&&i.disabled?delete t._isWindowContentClicked:(super._documentUpHandler(e),delete t._isAutoHideWindowClicked,t.autoHide&&t._autoHideWindow&&(a&&t._autoHideWindow.opened||(t.selectedIndex=null,t._autoHideWindow.parentElement&&t._autoHideWindow.parentElement.closest(".smart-window")===t&&t._autoHideWindow.close())))}_handleAutoHide(e){const t=this;if(!t.autoHide||e===null||(t._autoHideWindow||t._handleAutoHideWindow(!0),!t._autoHideWindow))return;t._autoHideWindow._tabsWindow&&t._autoHideWindow._tabsWindow!==t&&(t._autoHideWindow._tabsWindow.selectedIndex=null);const n=t.$.tabsElement._tabs[e];t._autoHideWindow._tab!==n&&t._moveContent(t._autoHideWindow.items[0],t._autoHideWindow._tab),t._autoHideWindow.label=n.label,t._autoHideWindow.draggable=n.draggable,t._autoHideWindow.floatable=n.floatable,t._autoHideWindow._tab=n,t._autoHideWindow.headerButtons=t.headerButtons,t._moveContent(t._autoHideWindow._tab,t._autoHideWindow.items[0]),t._autoHideWindow.bringToFront(),t._setAutoHideWindowSize(e),t._autoHideWindow.open(),t._autoHideWindow._tabsWindow=t,t._autoHideWindow.controlledBy&&t._autoHideWindow.controlledBy.removeAttribute("aria-controls"),t._autoHideWindow.controlledBy=t.$.tabsElement._tabLabelContainers[e],t._autoHideWindow.controlledBy.setAttribute("aria-controls",t._autoHideWindow.id)}_moveHandler(e){const t=this,n=t.closest("smart-docking-layout");n&&n.items.indexOf(t)>-1||(Smart.Utilities.Core.isMobile&&navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)&&t.layout instanceof Smart.DockingLayout&&t.layout.hasAttribute("dragged")&&e.originalEvent.preventDefault(),super._moveHandler(e))}_setAutoHideWindowSize(e){const t=this;if(!t._autoHideWindow)return;t._autoHideWindow.$.addClass("no-transition"),t._autoHideWindow.style.maxWidth=t._autoHideWindow.style.maxHeight="";const n=t.$.tabsElement._tabs[e],a=(t._autoHideWindow.isInShadowDOM?t._autoHideWindow.getRootNode().host:t._autoHideWindow).closest("smart-docking-layout")||t._autoHideWindow.parentElement;let i,r;if(n){if(t.tabPosition==="top"||t.tabPosition==="bottom"){t._autoHideWindow.resizeMode=t.tabPosition==="top"?"bottom":"top",t._autoHideWindow.style.width=t.$.tabsElement.offsetWidth+"px",i=a.getBoundingClientRect(),r=t.$.tabsElement.getBoundingClientRect();let o=n._autoHideWindowSize&&parseFloat(n._autoHideWindowSize)||"";Smart.DockingLayout&&a instanceof Smart.DockingLayout&&(o&&(o=Math.min(a.$.itemsContainer.offsetHeight,o)+"px"),t._autoHideWindow.style.maxHeight=a.$.itemsContainer.offsetHeight+"px"),t._autoHideWindow.style.height=o,t._autoHideWindow.style.left=r.left-i.left+"px",t._autoHideWindow&&(t.tabPosition==="top"?t._autoHideWindow.style.top=r.top+-i.top+r.height+"px":t._autoHideWindow.style.top=r.top-i.top-t._autoHideWindow.offsetHeight+"px")}else{t._autoHideWindow.resizeMode=t.tabPosition==="left"?"right":"left",t._autoHideWindow.style.height=t.$.tabsElement.offsetHeight+"px";let o=n._autoHideWindowSize&&parseFloat(n._autoHideWindowSize)||"";a instanceof Smart.DockingLayout&&(o&&(o=Math.min(a.$.itemsContainer.offsetWidth,o)+"px"),t._autoHideWindow.style.maxWidth=a.$.itemsContainer.offsetWidth+"px"),t._autoHideWindow.style.width=o,i=a.getBoundingClientRect(),r=t.$.tabsElement.getBoundingClientRect(),t._autoHideWindow.style.top=r.top-i.top+"px",t.tabPosition==="left"?t._autoHideWindow.style.left=r.left-i.left+t.$.tabsElement.offsetWidth+"px":t._autoHideWindow.style.left=r.left-i.left-t._autoHideWindow.offsetWidth+"px"}t._autoHideWindow._dragDetails&&(t._autoHideWindow._dragDetails.maxWidth=void 0),t._autoHideWindow._setDragDetails("resize"),t._autoHideWindow._dragDetails.started=!1,t._autoHideWindow.$.removeClass("no-transition")}}_handleAutoHideWindow(e){const t=this;if(t.autoHideWindow){if(t._autoHideWindow&&t._autoHideWindow.parentElement.removeChild(t._autoHideWindow),typeof t.autoHideWindow=="string")return void(t._autoHideWindow=document.getElementById(t.autoHideWindow));if(t.autoHideWindow instanceof Smart.Window)return void(t._autoHideWindow=t.autoHideWindow)}if(!e||t._autoHideWindow||t.$.contentSection.children.length===2&&t.$.contentSection.children[1]instanceof Smart.Window)return;const n=document.createElement("smart-window");n.$=Smart.Utilities.Extend(n),n.disableSnap=n.pinned=!0,n.headerButtons=["close"],t.$.contentSection.appendChild(n),t._autoHideWindow=n}_moveContent(e,t){if(!e||!t)return;const n=[].slice.call(e.$.content.childNodes);for(let a=0;a<n.length;a++)t.appendChild(n[a])}_tabsChangeHandler(e){const t=this;if(e.target===t.$.tabsElement&&t.autoHide){if(t._autoHideWindow||t._handleAutoHideWindow(!0),e.detail.oldIndex!==null&&t._autoHideWindow.opened&&(t.$.tabsElement._tabs[e.detail.oldIndex]._autoHideWindowSize=t._autoHideWindow.style[t.$.tabsElement.tabPosition==="right"||t.$.tabsElement.tabPosition==="left"?"width":"height"]),!t.autoHide||e.detail.index===null||e.detail.index===void 0)return t._autoHideWindow.setAttribute("active",""),void t._autoHideWindow.close();t._handleAutoHide(e.detail.index)}}_tabsFocusHandler(e){const t=this;e.type==="focus"?(t.bringToFront(),t.setAttribute("focus","")):t.removeAttribute("focus")}}),Smart("smart-wait-window",class extends Smart.ProgressWindow{static get properties(){return{headerButtons:{value:[],type:"array"},disableSnap:{value:!0,readOnly:!0,type:"boolean"},modal:{value:!0,readOnly:!0,type:"boolean",defaultReflectToAttribute:!0},pinned:{value:!0,type:"boolean",readOnly:!0}}}template(){return`<div role="presentation">
                    <div class="smart-content-container" id="container">
                        <div id="headerSection" class="smart-header-section" role="heading" aria-level="1">
                            <div id="header" class="smart-header">[[label]]</div>
                            <div id="buttonsContainer" class="smart-buttons-container">
                                <button id="closeButton" class="smart-button smart-element smart-close-button" aria-label="Close"></button>
                            </div>
                        </div>
                        <div class="smart-content">
                            <content></content>
                            <smart-progress-bar id="progressBar" animation="[[animation]]" indeterminate theme="[[theme]]" right-to-left="[[rightToLeft]]"></smart-progress-bar>
                        </div>
                        <div id="footer" class="smart-footer"></div>
                    </div>
                </div>`}_keyDownHandler(e){const t=this;function n(){t._dragDetails&&(t._dragDetails.started=!1),t.$.removeClass("no-transition")}if(delete t._changingFocus,t.disabled||t._dragDetails&&t._dragDetails.started)return;const a=t.shadowRoot||t._windowParent.element.getRootNode()?t._windowParent.element.getRootNode().activeElement:document.activeElement;e.stopPropagation();const i=e.key==="ArrowDown"||e.key==="ArrowRight"?10:-10;switch(t.$.removeClass("no-transition"),e.key){case"ArrowUp":case"ArrowDown":if(a!==t)return;if(e.preventDefault(),e.altKey)return e.key==="ArrowUp"?t.maximize():t.restore(),void n();if(t.$.addClass("no-transition"),e.ctrlKey)return t._resize("bottom",i),void n();t._drag(i,"vertical");break;case"ArrowLeft":case"ArrowRight":if(a!==t)return;if(e.preventDefault(),t.$.addClass("no-transition"),e.ctrlKey)return t._resize("right",i),void n();t._drag(i,"horizontal");break;case"Tab":t.opened&&t.modal&&(t._changingFocus=!0);break;case"Enter":case" ":{let r;if(t.shadowRoot||t.isInShadowDOM?(r=e.composedPath()[0],t._buttonPressed=r.getRootNode().host):(r=e.target.closest&&e.target.closest(".smart-button"),t._buttonPressed=r),!r)return;t._isWindowButton(r),delete t._buttonPressed;break}}n()}})}},u={};function g(e){var t=u[e];if(t!==void 0)return t.exports;var n=u[e]={exports:{}};return ne[e].call(n.exports,n,n.exports,g),n.exports}g.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return g.d(t,{a:t}),t},g.d=(e,t)=>{for(var n in t)g.o(t,n)&&!g.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},g.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{g(6321),g(6057),g(2612),g(6867),g(8649),g(9135),g(6693),g(8588),g(7341),g(9264),g(2864),g(2066),g(5435),g(4896),g(2052),g(5707),g(7650),g(5810),g(9613),g(2754),g(8687),g(1419),g(7054),g(6802),g(8466),g(2616),g(4595),g(9097),g(6670),g(5453);class e extends Smart.Component{get name(){return"smartScheduler"}}})()})(),function(ne,u){We.exports=u()}(typeof self<"u"?self:this,function(){return g={},ne.m=u=[function(e,t,n){n.d(t,"f",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"d",function(){return d}),n.d(t,"k",function(){return f}),n.d(t,"l",function(){return p}),n.d(t,"n",function(){return v}),n.d(t,"i",function(){return w}),n.d(t,"m",function(){return C}),n.d(t,"j",function(){return x}),n.d(t,"a",function(){return L}),n.d(t,"b",function(){return A}),n.d(t,"h",function(){return k}),n.d(t,"c",function(){return B});var a=n(2),i=function(H){return H!=null},r=function(H){return typeof H=="number"},o=function(H){return 0<=a.a.indexOf(H)},d=Array.isArray,f=function(H,V){V===void 0&&(V=H),arguments.length===1&&(V=H,H=0);for(var z=[],N=H;N<V;N++)z.push(N);return z},p=function(H,V){var z=0,N=[];if(d(H))for(;z<V;z++)N[z]=[].concat(H);else for(;z<V;z++)N[z]=H;return N},v=function(H){return d(H)?H:[H]};function w(H,V,z){z===void 0&&(z=" ");var N=String(H);return V>>=0,N.length>V?String(N):((V-=N.length)>z.length&&(z+=p(z,V/z.length)),z.slice(0,V)+String(N))}var C=function(H,V,z){var N=H.split(V);return z?N.slice(0,z).concat([N.slice(z).join(V)]):N},x=function(H,V){var z=H%V;return z*V<0?z+V:z},L=function(H,V){return{div:Math.floor(H/V),mod:x(H,V)}},A=function(H){return!i(H)||H.length===0},k=function(H){return!A(H)},B=function(H,V){return k(H)&&H.indexOf(V)!==-1}},function(e,t,n){n.r(t);var a,i,r=n(0);(i=a=a||{}).MONTH_DAYS=[31,28,31,30,31,30,31,31,30,31,30,31],i.ONE_DAY=864e5,i.MAXYEAR=9999,i.ORDINAL_BASE=new Date(Date.UTC(1970,0,1)),i.PY_WEEKDAYS=[6,0,1,2,3,4,5],i.getYearDay=function(U){var W=new Date(U.getUTCFullYear(),U.getUTCMonth(),U.getUTCDate());return Math.ceil((W.valueOf()-new Date(U.getUTCFullYear(),0,1).valueOf())/i.ONE_DAY)+1},i.isLeapYear=function(U){return U%4==0&&U%100!=0||U%400==0},i.isDate=function(U){return U instanceof Date},i.isValidDate=function(U){return i.isDate(U)&&!isNaN(U.getTime())},i.tzOffset=function(U){return 60*U.getTimezoneOffset()*1e3},i.daysBetween=function(U,W){var se=U.getTime()-i.tzOffset(U)-(W.getTime()-i.tzOffset(W));return Math.round(se/i.ONE_DAY)},i.toOrdinal=function(U){return i.daysBetween(U,i.ORDINAL_BASE)},i.fromOrdinal=function(U){return new Date(i.ORDINAL_BASE.getTime()+U*i.ONE_DAY)},i.getMonthDays=function(U){var W=U.getUTCMonth();return W===1&&i.isLeapYear(U.getUTCFullYear())?29:i.MONTH_DAYS[W]},i.getWeekday=function(U){return i.PY_WEEKDAYS[U.getUTCDay()]},i.monthRange=function(U,W){var se=new Date(Date.UTC(U,W,1));return[i.getWeekday(se),i.getMonthDays(se)]},i.combine=function(U,W){return W=W||U,new Date(Date.UTC(U.getUTCFullYear(),U.getUTCMonth(),U.getUTCDate(),W.getHours(),W.getMinutes(),W.getSeconds(),W.getMilliseconds()))},i.clone=function(U){return new Date(U.getTime())},i.cloneDates=function(U){for(var W=[],se=0;se<U.length;se++)W.push(i.clone(U[se]));return W},i.sort=function(U){U.sort(function(W,se){return W.getTime()-se.getTime()})},i.timeToUntilString=function(U,W){W===void 0&&(W=!0);var se=new Date(U);return[Object(r.i)(se.getUTCFullYear().toString(),4,"0"),Object(r.i)(se.getUTCMonth()+1,2,"0"),Object(r.i)(se.getUTCDate(),2,"0"),"T",Object(r.i)(se.getUTCHours(),2,"0"),Object(r.i)(se.getUTCMinutes(),2,"0"),Object(r.i)(se.getUTCSeconds(),2,"0"),W?"Z":""].join("")},i.untilStringToDate=function(U){var W=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/.exec(U);if(!W)throw new Error("Invalid UNTIL value: "+U);return new Date(Date.UTC(parseInt(W[1],10),parseInt(W[2],10)-1,parseInt(W[3],10),parseInt(W[5],10)||0,parseInt(W[6],10)||0,parseInt(W[7],10)||0))};var o=a;function d(U,W){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=U,this.args=W,U==="between"?(this.maxDate=W.inc?W.before:new Date(W.before.getTime()-1),this.minDate=W.inc?W.after:new Date(W.after.getTime()+1)):U==="before"?this.maxDate=W.inc?W.dt:new Date(W.dt.getTime()-1):U==="after"&&(this.minDate=W.inc?W.dt:new Date(W.dt.getTime()+1))}var f=(d.prototype.accept=function(U){++this.total;var W=this.minDate&&U<this.minDate,se=this.maxDate&&U>this.maxDate;if(this.method==="between"){if(W)return!0;if(se)return!1}else if(this.method==="before"){if(se)return!1}else if(this.method==="after")return!!W||(this.add(U),!1);return this.add(U)},d.prototype.add=function(U){return this._result.push(U),!0},d.prototype.getValue=function(){var U=this._result;switch(this.method){case"all":case"between":return U;case"before":case"after":default:return U.length?U[U.length-1]:null}},d.prototype.clone=function(){return new d(this.method,this.args)},d),p=function(U,W){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(se,ue){se.__proto__=ue}||function(se,ue){for(var R in ue)ue.hasOwnProperty(R)&&(se[R]=ue[R])})(U,W)};/*! *****************************************************************************
		Copyright (c) Microsoft Corporation. All rights reserved.
		Licensed under the Apache License, Version 2.0 (the "License"); you may not use
		this file except in compliance with the License. You may obtain a copy of the
		License at http://www.apache.org/licenses/LICENSE-2.0

		THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
		KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
		WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
		MERCHANTABLITY OR NON-INFRINGEMENT.

		See the Apache Version 2.0 License for specific language governing permissions
		and limitations under the License.
		***************************************************************************** */function v(U,W){function se(){this.constructor=U}p(U,W),U.prototype=W===null?Object.create(W):(se.prototype=W.prototype,new se)}var w,C=function(){return(C=Object.assign||function(U){for(var W,se=1,ue=arguments.length;se<ue;se++)for(var R in W=arguments[se])Object.prototype.hasOwnProperty.call(W,R)&&(U[R]=W[R]);return U}).apply(this,arguments)};function x(){for(var U=0,W=0,se=arguments.length;W<se;W++)U+=arguments[W].length;var ue=Array(U),R=0;for(W=0;W<se;W++)for(var K=arguments[W],oe=0,ce=K.length;oe<ce;oe++,R++)ue[R]=K[oe];return ue}function L(U,W,se){var ue=w.call(this,U,W)||this;return ue.iterator=se,ue}var A,k,B=(v(L,w=f),L.prototype.add=function(U){return!!this.iterator(U,this._result.length)&&(this._result.push(U),!0)},L);function H(U){return U<A.HOURLY}(k=A=A||{})[k.YEARLY=0]="YEARLY",k[k.MONTHLY=1]="MONTHLY",k[k.WEEKLY=2]="WEEKLY",k[k.DAILY=3]="DAILY",k[k.HOURLY=4]="HOURLY",k[k.MINUTELY=5]="MINUTELY",k[k.SECONDLY=6]="SECONDLY";var V=n(2),z=(N.prototype.getHours=function(){return this.hour},N.prototype.getMinutes=function(){return this.minute},N.prototype.getSeconds=function(){return this.second},N.prototype.getMilliseconds=function(){return this.millisecond},N.prototype.getTime=function(){return 1e3*(60*this.hour*60+60*this.minute+this.second)+this.millisecond},N);function N(U,W,se,ue){this.hour=U,this.minute=W,this.second=se,this.millisecond=ue||0}var F,q=(v(Y,F=z),Y.fromDate=function(U){return new this(U.getUTCFullYear(),U.getUTCMonth()+1,U.getUTCDate(),U.getUTCHours(),U.getUTCMinutes(),U.getUTCSeconds(),U.valueOf()%1e3)},Y.prototype.getWeekday=function(){return a.getWeekday(new Date(this.getTime()))},Y.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},Y.prototype.getDay=function(){return this.day},Y.prototype.getMonth=function(){return this.month},Y.prototype.getYear=function(){return this.year},Y.prototype.addYears=function(U){this.year+=U},Y.prototype.addMonths=function(U){if(this.month+=U,12<this.month){var W=Math.floor(this.month/12),se=Object(r.j)(this.month,12);this.month=se,this.year+=W,this.month===0&&(this.month=12,--this.year)}},Y.prototype.addWeekly=function(U,W){W>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-W))+7*U:this.day+=-(this.getWeekday()-W)+7*U,this.fixDay()},Y.prototype.addDaily=function(U){this.day+=U,this.fixDay()},Y.prototype.addHours=function(U,W,se){for(W&&(this.hour+=Math.floor((23-this.hour)/U)*U);;){this.hour+=U;var ue=Object(r.a)(this.hour,24),R=ue.div,K=ue.mod;if(R&&(this.hour=K,this.addDaily(R)),Object(r.b)(se)||Object(r.c)(se,this.hour))break}},Y.prototype.addMinutes=function(U,W,se,ue){for(W&&(this.minute+=Math.floor((1439-(60*this.hour+this.minute))/U)*U);;){this.minute+=U;var R=Object(r.a)(this.minute,60),K=R.div,oe=R.mod;if(K&&(this.minute=oe,this.addHours(K,!1,se)),(Object(r.b)(se)||Object(r.c)(se,this.hour))&&(Object(r.b)(ue)||Object(r.c)(ue,this.minute)))break}},Y.prototype.addSeconds=function(U,W,se,ue,R){for(W&&(this.second+=Math.floor((86399-(3600*this.hour+60*this.minute+this.second))/U)*U);;){this.second+=U;var K=Object(r.a)(this.second,60),oe=K.div,ce=K.mod;if(oe&&(this.second=ce,this.addMinutes(oe,!1,se,ue)),(Object(r.b)(se)||Object(r.c)(se,this.hour))&&(Object(r.b)(ue)||Object(r.c)(ue,this.minute))&&(Object(r.b)(R)||Object(r.c)(R,this.second)))break}},Y.prototype.fixDay=function(){if(!(this.day<=28)){var U=a.monthRange(this.year,this.month-1)[1];if(!(this.day<=U))for(;this.day>U;){if(this.day-=U,++this.month,this.month===13&&(this.month=1,++this.year,this.year>a.MAXYEAR))return;U=a.monthRange(this.year,this.month-1)[1]}}},Y.prototype.add=function(U,W){var se=U.freq,ue=U.interval,R=U.wkst,K=U.byhour,oe=U.byminute,ce=U.bysecond;switch(se){case A.YEARLY:return this.addYears(ue);case A.MONTHLY:return this.addMonths(ue);case A.WEEKLY:return this.addWeekly(ue,R);case A.DAILY:return this.addDaily(ue);case A.HOURLY:return this.addHours(ue,W,K);case A.MINUTELY:return this.addMinutes(ue,W,K,oe);case A.SECONDLY:return this.addSeconds(ue,W,K,oe,ce)}},Y);function Y(U,W,se,ue,R,K,oe){var ce=F.call(this,ue,R,K,oe)||this;return ce.year=U,ce.month=W,ce.day=se,ce}function X(U){for(var W=[],se=0,ue=Object.keys(U);se<ue.length;se++){var R=ue[se];Object(r.c)(ka,R)||W.push(R),o.isDate(U[R])&&!o.isValidDate(U[R])&&W.push(R)}if(W.length)throw new Error("Invalid options: "+W.join(", "));return C({},U)}function ae(U){var W=U.split(`
`).map(ie).filter(function(se){return se!==null});return C(C({},W[0]),W[1])}function Q(U){var W={},se=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(U);if(!se)return W;se[0];var ue=se[1],R=se[2];return ue&&(W.tzid=ue),W.dtstart=o.untilStringToDate(R),W}function ie(U){if(!(U=U.replace(/^\s+|\s+$/,"")).length)return null;var W=/^([A-Z]+?)[:;]/.exec(U.toUpperCase());if(!W)return te(U);W[0];var se=W[1];switch(se.toUpperCase()){case"RRULE":case"EXRULE":return te(U);case"DTSTART":return Q(U);default:throw new Error("Unsupported RFC prop "+se+" in "+U)}}function te(U){var W=Q(U.replace(/^RRULE:/i,""));return U.replace(/^(?:RRULE|EXRULE):/i,"").split(";").forEach(function(se){var ue,R=se.split("="),K=R[0],oe=R[1];switch(K.toUpperCase()){case"FREQ":W.freq=A[oe.toUpperCase()];break;case"WKST":W.wkst=St[oe.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var ce=(ue=oe).indexOf(",")===-1?E(ue):ue.split(",").map(E),re=K.toLowerCase();W[re]=ce;break;case"BYWEEKDAY":case"BYDAY":W.byweekday=oe.split(",").map(function(fe){if(fe.length===2)return St[fe];var Se=fe.match(/^([+-]?\d{1,2})([A-Z]{2})$/),ve=Number(Se[1]),be=Se[2],Ce=St[be].weekday;return new V.b(Ce,ve)});break;case"DTSTART":case"TZID":var pe=Q(U);W.tzid=pe.tzid,W.dtstart=pe.dtstart;break;case"UNTIL":W.until=o.untilStringToDate(oe);break;case"BYEASTER":W.byeaster=Number(oe);break;default:throw new Error("Unknown RRULE property '"+K+"'")}}),W}function E(U){return/^[+-]?\d+$/.test(U)?Number(U):U}var l=function(){throw new TypeError},m=(Object.defineProperty(c.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!0,configurable:!0}),c.prototype.toString=function(){var U=o.timeToUntilString(this.date.getTime(),this.isUTC);return this.isUTC?":"+U:";TZID="+this.tzid+":"+U},c.prototype.getTime=function(){return this.date.getTime()},c.prototype.rezonedDate=function(){if(this.isUTC)return this.date;try{return l(this.date).setZone(this.tzid,{keepLocalTime:!0}).toJSDate()}catch(U){return U instanceof TypeError&&console.error("Using TZID without Luxon available is unsupported. Returned times are in UTC, not the requested time zone"),this.date}},c);function c(U,W){this.date=U,this.tzid=W}function y(U){for(var W=[],se="",ue=Object.keys(U),R=Object.keys(Tt),K=0;K<ue.length;K++)if(ue[K]!=="tzid"&&Object(r.c)(R,ue[K])){var oe=ue[K].toUpperCase(),ce=U[ue[K]],re="";if(Object(r.f)(ce)&&(!Object(r.d)(ce)||ce.length)){switch(oe){case"FREQ":re=Ge.FREQUENCIES[U.freq];break;case"WKST":re=Object(r.e)(ce)?new V.b(ce).toString():ce.toString();break;case"BYWEEKDAY":oe="BYDAY",re=Object(r.n)(ce).map(function(be){return be instanceof V.b?be:Object(r.d)(be)?new V.b(be[0],be[1]):new V.b(be)}).toString();break;case"DTSTART":se=b(ce,U.tzid);break;case"UNTIL":re=o.timeToUntilString(ce,!U.tzid);break;default:if(Object(r.d)(ce)){for(var pe=[],fe=0;fe<ce.length;fe++)pe[fe]=String(ce[fe]);re=pe.toString()}else re=String(ce)}re&&W.push([oe,re])}}var Se=W.map(function(be){return be[0]+"="+be[1].toString()}).join(";"),ve="";return Se!==""&&(ve="RRULE:"+Se),[se,ve].filter(function(be){return!!be}).join(`
`)}function b(U,W){return U?"DTSTART"+new m(new Date(U),W).toString():""}var S=(D.prototype._cacheAdd=function(U,W,se){W=W&&(W instanceof Date?o.clone(W):o.cloneDates(W)),U==="all"?this.all=W:(se._value=W,this[U].push(se))},D.prototype._cacheGet=function(U,W){function se(pe){for(var fe=0;fe<R.length;fe++){var Se=R[fe];if(String(W[Se])!==String(pe[Se]))return!0}return!1}var ue=!1,R=W?Object.keys(W):[],K=this[U];if(U==="all")ue=this.all;else if(Object(r.d)(K))for(var oe=0;oe<K.length;oe++){var ce=K[oe];if(!R.length||!se(ce)){ue=ce._value;break}}if(!ue&&this.all){var re=new f(U,W);for(oe=0;oe<this.all.length&&re.accept(this.all[oe]);oe++);ue=re.getValue(),this._cacheAdd(U,ue,W)}return Object(r.d)(ue)?o.cloneDates(ue):ue instanceof Date?o.clone(ue):ue},D);function D(){this.all=!1,this.before=[],this.after=[],this.between=[]}var M=x(Object(r.l)(1,31),Object(r.l)(2,28),Object(r.l)(3,31),Object(r.l)(4,30),Object(r.l)(5,31),Object(r.l)(6,30),Object(r.l)(7,31),Object(r.l)(8,31),Object(r.l)(9,30),Object(r.l)(10,31),Object(r.l)(11,30),Object(r.l)(12,31),Object(r.l)(1,7)),$=x(Object(r.l)(1,31),Object(r.l)(2,29),Object(r.l)(3,31),Object(r.l)(4,30),Object(r.l)(5,31),Object(r.l)(6,30),Object(r.l)(7,31),Object(r.l)(8,31),Object(r.l)(9,30),Object(r.l)(10,31),Object(r.l)(11,30),Object(r.l)(12,31),Object(r.l)(1,7)),P=Object(r.k)(1,29),G=Object(r.k)(1,30),Z=Object(r.k)(1,31),ee=Object(r.k)(1,32),de=x(ee,G,ee,Z,ee,Z,ee,ee,Z,ee,Z,ee,ee.slice(0,7)),me=x(ee,P,ee,Z,ee,Z,ee,ee,Z,ee,Z,ee,ee.slice(0,7)),ge=Object(r.k)(-28,0),we=Object(r.k)(-29,0),Me=Object(r.k)(-30,0),ke=Object(r.k)(-31,0),xe=x(ke,we,ke,Me,ke,Me,ke,ke,Me,ke,Me,ke,ke.slice(0,7)),Ve=x(ke,ge,ke,Me,ke,Me,ke,ke,Me,ke,Me,ke,ke.slice(0,7)),ye=[0,31,60,91,121,152,182,213,244,274,305,335,366],je=[0,31,59,90,120,151,181,212,243,273,304,334,365],Le=function(){for(var U=[],W=0;W<55;W++)U=U.concat(Object(r.k)(7));return U}();function et(U,W){var se,ue,R,K,oe,ce,re=new Date(Date.UTC(U,0,1)),pe=o.isLeapYear(U)?366:365,fe=o.isLeapYear(U+1)?366:365,Se=o.toOrdinal(re),ve=o.getWeekday(re),be=C(C({yearlen:pe,nextyearlen:fe,yearordinal:Se,yearweekday:ve},(se=U,ue=o.isLeapYear(se)?366:365,R=new Date(Date.UTC(se,0,1)),K=o.getWeekday(R),ue!=365?{mmask:$,mdaymask:de,nmdaymask:xe,wdaymask:Le.slice(K),mrange:ye}:{mmask:M,mdaymask:me,nmdaymask:Ve,wdaymask:Le.slice(K),mrange:je})),{wnomask:null});if(Object(r.b)(W.byweekno))return be;be.wnomask=Object(r.l)(0,7+pe);var Ce=oe=Object(r.j)(7-ve+W.wkst,7);ce=4<=Ce?(Ce=0,be.yearlen+Object(r.j)(ve-W.wkst,7)):pe-Ce;for(var Fe=Math.floor(ce/7),Ie=Object(r.j)(ce,7),$e=Math.floor(Fe+Ie/4),Re=0;Re<W.byweekno.length;Re++){var Ze=W.byweekno[Re];if(Ze<0&&(Ze+=$e+1),0<Ze&&Ze<=$e){var Pe=void 0;1<Ze?(Pe=Ce+7*(Ze-1),Ce!==oe&&(Pe-=7-oe)):Pe=Ce;for(var Xe=0;Xe<7&&(be.wnomask[Pe]=1,Pe++,be.wdaymask[Pe]!==W.wkst);Xe++);}}if(Object(r.c)(W.byweekno,1)&&(Pe=Ce+7*$e,Ce!==oe&&(Pe-=7-oe),Pe<pe))for(Re=0;Re<7&&(Pe+=be.wnomask[Pe]=1,be.wdaymask[Pe]!==W.wkst);Re++);if(Ce){var nt=void 0;if(Object(r.c)(W.byweekno,-1))nt=-1;else{var rt=o.getWeekday(new Date(Date.UTC(U-1,0,1))),Je=Object(r.j)(7-rt.valueOf()+W.wkst,7),ht=o.isLeapYear(U-1)?366:365,lt=void 0;lt=4<=Je?(Je=0,ht+Object(r.j)(rt-W.wkst,7)):pe-Ce,nt=Math.floor(52+Object(r.j)(lt,7)/4)}if(Object(r.c)(W.byweekno,nt))for(Pe=0;Pe<Ce;Pe++)be.wnomask[Pe]=1}return be}function Ye(U){this.options=U}var ut=(Ye.prototype.rebuild=function(U,W){var se=this.options;if(U!==this.lastyear&&(this.yearinfo=et(U,se)),Object(r.h)(se.bynweekday)&&(W!==this.lastmonth||U!==this.lastyear)){var ue=this.yearinfo,R=ue.yearlen,K=ue.mrange,oe=ue.wdaymask;this.monthinfo=function(ce,re,pe,fe,Se,ve){var be={lastyear:ce,lastmonth:re,nwdaymask:[]},Ce=[];if(ve.freq===Ge.YEARLY)if(Object(r.b)(ve.bymonth))Ce=[[0,pe]];else for(var Fe=0;Fe<ve.bymonth.length;Fe++)re=ve.bymonth[Fe],Ce.push(fe.slice(re-1,re+1));else ve.freq===Ge.MONTHLY&&(Ce=[fe.slice(re-1,re+1)]);if(Object(r.b)(Ce))return be;for(be.nwdaymask=Object(r.l)(0,pe),Fe=0;Fe<Ce.length;Fe++)for(var Ie=Ce[Fe],$e=Ie[0],Re=Ie[1]-1,Ze=0;Ze<ve.bynweekday.length;Ze++){var Pe=void 0,Xe=ve.bynweekday[Ze],nt=Xe[0],rt=Xe[1];rt<0?(Pe=Re+7*(rt+1),Pe-=Object(r.j)(Se[Pe]-nt,7)):(Pe=$e+7*(rt-1),Pe+=Object(r.j)(7-Se[Pe]+nt,7)),$e<=Pe&&Pe<=Re&&(be.nwdaymask[Pe]=1)}return be}(U,W,R,K,oe,se)}Object(r.f)(se.byeaster)&&(this.eastermask=function(ce,re){re===void 0&&(re=0);var pe=ce%19,fe=Math.floor(ce/100),Se=ce%100,ve=Math.floor(fe/4),be=fe%4,Ce=Math.floor((fe+8)/25),Fe=Math.floor((fe-Ce+1)/3),Ie=Math.floor(19*pe+fe-ve-Fe+15)%30,$e=Math.floor(Se/4),Re=Se%4,Ze=Math.floor(32+2*be+2*$e-Ie-Re)%7,Pe=Math.floor((pe+11*Ie+22*Ze)/451),Xe=Math.floor((Ie+Ze-7*Pe+114)/31),nt=(Ie+Ze-7*Pe+114)%31+1,rt=Date.UTC(ce,Xe-1,nt+re),Je=Date.UTC(ce,0,1);return[Math.ceil((rt-Je)/864e5)]}(U,se.byeaster))},Object.defineProperty(Ye.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!0,configurable:!0}),Ye.prototype.ydayset=function(){return[Object(r.k)(this.yearlen),0,this.yearlen]},Ye.prototype.mdayset=function(U,W,se){for(var ue=this.mrange[W-1],R=this.mrange[W],K=Object(r.l)(null,this.yearlen),oe=ue;oe<R;oe++)K[oe]=oe;return[K,ue,R]},Ye.prototype.wdayset=function(U,W,se){for(var ue=Object(r.l)(null,this.yearlen+7),R=o.toOrdinal(new Date(Date.UTC(U,W-1,se)))-this.yearordinal,K=R,oe=0;oe<7&&(ue[R]=R,++R,this.wdaymask[R]!==this.options.wkst);oe++);return[ue,K,R]},Ye.prototype.ddayset=function(U,W,se){var ue=Object(r.l)(null,this.yearlen),R=o.toOrdinal(new Date(Date.UTC(U,W-1,se)))-this.yearordinal;return ue[R]=R,[ue,R,1+R]},Ye.prototype.htimeset=function(U,W,se,ue){var R=this,K=[];return this.options.byminute.forEach(function(oe){K=K.concat(R.mtimeset(U,oe,se,ue))}),o.sort(K),K},Ye.prototype.mtimeset=function(U,W,se,ue){var R=this.options.bysecond.map(function(K){return new z(U,W,K,ue)});return o.sort(R),R},Ye.prototype.stimeset=function(U,W,se,ue){return[new z(U,W,se,ue)]},Ye.prototype.getdayset=function(U){switch(U){case A.YEARLY:return this.ydayset.bind(this);case A.MONTHLY:return this.mdayset.bind(this);case A.WEEKLY:return this.wdayset.bind(this);case A.DAILY:default:return this.ddayset.bind(this)}},Ye.prototype.gettimeset=function(U){switch(U){case A.HOURLY:return this.htimeset.bind(this);case A.MINUTELY:return this.mtimeset.bind(this);case A.SECONDLY:return this.stimeset.bind(this)}},Ye);function Ne(U,W,se,ue,R,K){for(var oe=[],ce=0;ce<U.length;ce++){var re=void 0,pe=void 0,fe=U[ce];pe=fe<0?(re=Math.floor(fe/W.length),Object(r.j)(fe,W.length)):(re=Math.floor((fe-1)/W.length),Object(r.j)(fe-1,W.length));for(var Se=[],ve=se;ve<ue;ve++){var be=K[ve];Object(r.f)(be)&&Se.push(be)}var Ce=void 0;Ce=re<0?Se.slice(re)[0]:Se[re];var Fe=W[pe],Ie=o.fromOrdinal(R.yearordinal+Ce),$e=o.combine(Ie,Fe);Object(r.c)(oe,$e)||oe.push($e)}return o.sort(oe),oe}function mt(U,W){var se=W.dtstart,ue=W.freq,R=W.interval,K=W.until,oe=W.bysetpos,ce=W.count;if(ce===0||R===0)return Ke(U);var re=q.fromDate(se),pe=new ut(W);pe.rebuild(re.year,re.month);for(var fe=function(Je,ht,lt){var At=lt.freq,en=lt.byhour,qt=lt.byminute,on=lt.bysecond;return H(At)?function(Bt){var Bn=Bt.dtstart.getTime()%1e3;if(!H(Bt.freq))return[];var Gt=[];return Bt.byhour.forEach(function(jt){Bt.byminute.forEach(function(_n){Bt.bysecond.forEach(function($a){Gt.push(new z(jt,_n,$a,Bn))})})}),Gt}(lt):At>=Ge.HOURLY&&Object(r.h)(en)&&!Object(r.c)(en,ht.hour)||At>=Ge.MINUTELY&&Object(r.h)(qt)&&!Object(r.c)(qt,ht.minute)||At>=Ge.SECONDLY&&Object(r.h)(on)&&!Object(r.c)(on,ht.second)?[]:Je.gettimeset(At)(ht.hour,ht.minute,ht.second,ht.millisecond)}(pe,re,W);;){var Se=pe.getdayset(ue)(re.year,re.month,re.day),ve=Se[0],be=Se[1],Ce=Se[2],Fe=Ht(ve,be,Ce,pe,W);if(Object(r.h)(oe))for(var Ie=Ne(oe,fe,be,Ce,pe,ve),$e=0;$e<Ie.length;$e++){var Re=Ie[$e];if(K&&K<Re)return Ke(U);if(se<=Re){var Ze=Be(Re,W);if(!U.accept(Ze)||ce&&!--ce)return Ke(U)}}else for($e=be;$e<Ce;$e++){var Pe=ve[$e];if(Object(r.f)(Pe))for(var Xe=o.fromOrdinal(pe.yearordinal+Pe),nt=0;nt<fe.length;nt++){var rt=fe[nt];if(Re=o.combine(Xe,rt),K&&K<Re||se<=Re&&(Ze=Be(Re,W),!U.accept(Ze)||ce&&!--ce))return Ke(U)}}if(W.interval===0||(re.add(W,Fe),re.year>o.MAXYEAR))return Ke(U);H(ue)||(fe=pe.gettimeset(ue)(re.hour,re.minute,re.second,0)),pe.rebuild(re.year,re.month)}}function Be(U,W){return new m(U,W.tzid).rezonedDate()}function Ke(U){return U.getValue()}function Ht(U,W,se,ue,R){for(var K,oe,ce,re,pe,fe,Se,ve,be,Ce,Fe=!1,Ie=W;Ie<se;Ie++){var $e=U[Ie];K=ue,oe=$e,re=(ce=R).bymonth,pe=ce.byweekno,fe=ce.byweekday,Se=ce.byeaster,ve=ce.bymonthday,be=ce.bynmonthday,Ce=ce.byyearday,(Fe=Object(r.h)(re)&&!Object(r.c)(re,K.mmask[oe])||Object(r.h)(pe)&&!K.wnomask[oe]||Object(r.h)(fe)&&!Object(r.c)(fe,K.wdaymask[oe])||Object(r.h)(K.nwdaymask)&&!K.nwdaymask[oe]||Se!==null&&!Object(r.c)(K.eastermask,oe)||(Object(r.h)(ve)||Object(r.h)(be))&&!Object(r.c)(ve,K.mdaymask[oe])&&!Object(r.c)(be,K.nmdaymask[oe])||Object(r.h)(Ce)&&(oe<K.yearlen&&!Object(r.c)(Ce,oe+1)&&!Object(r.c)(Ce,-K.yearlen+oe)||oe>=K.yearlen&&!Object(r.c)(Ce,oe+1-K.yearlen)&&!Object(r.c)(Ce,-K.nextyearlen+oe-K.yearlen)))&&(U[$e]=null)}return Fe}var ft=function(){return ft._nlp||(ft._nlp=n(3)),ft._nlp},St={MO:new V.b(0),TU:new V.b(1),WE:new V.b(2),TH:new V.b(3),FR:new V.b(4),SA:new V.b(5),SU:new V.b(6)},Tt={freq:A.YEARLY,dtstart:null,interval:1,wkst:St.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},ka=Object.keys(Tt);function qe(U,W){U===void 0&&(U={}),W===void 0&&(W=!1),this._cache=W?null:new S,this.origOptions=X(U);var se=function(ue){var R=C(C({},Tt),X(ue));if(Object(r.f)(R.byeaster)&&(R.freq=Ge.YEARLY),!Object(r.f)(R.freq)||!Ge.FREQUENCIES[R.freq])throw new Error("Invalid frequency: "+R.freq+" "+ue.freq);if(R.dtstart||(R.dtstart=new Date(new Date().setMilliseconds(0))),Object(r.f)(R.wkst)?Object(r.e)(R.wkst)||(R.wkst=R.wkst.weekday):R.wkst=Ge.MO.weekday,Object(r.f)(R.bysetpos)){Object(r.e)(R.bysetpos)&&(R.bysetpos=[R.bysetpos]);for(var K=0;K<R.bysetpos.length;K++)if((re=R.bysetpos[K])===0||!(-366<=re&&re<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}if(!(R.byweekno||Object(r.h)(R.byweekno)||Object(r.h)(R.byyearday)||R.bymonthday||Object(r.h)(R.bymonthday)||Object(r.f)(R.byweekday)||Object(r.f)(R.byeaster)))switch(R.freq){case Ge.YEARLY:R.bymonth||(R.bymonth=R.dtstart.getUTCMonth()+1),R.bymonthday=R.dtstart.getUTCDate();break;case Ge.MONTHLY:R.bymonthday=R.dtstart.getUTCDate();break;case Ge.WEEKLY:R.byweekday=[o.getWeekday(R.dtstart)]}if(Object(r.f)(R.bymonth)&&!Object(r.d)(R.bymonth)&&(R.bymonth=[R.bymonth]),Object(r.f)(R.byyearday)&&!Object(r.d)(R.byyearday)&&Object(r.e)(R.byyearday)&&(R.byyearday=[R.byyearday]),Object(r.f)(R.bymonthday))if(Object(r.d)(R.bymonthday)){var oe=[],ce=[];for(K=0;K<R.bymonthday.length;K++){var re;0<(re=R.bymonthday[K])?oe.push(re):re<0&&ce.push(re)}R.bymonthday=oe,R.bynmonthday=ce}else R.bymonthday<0?(R.bynmonthday=[R.bymonthday],R.bymonthday=[]):(R.bynmonthday=[],R.bymonthday=[R.bymonthday]);else R.bymonthday=[],R.bynmonthday=[];if(Object(r.f)(R.byweekno)&&!Object(r.d)(R.byweekno)&&(R.byweekno=[R.byweekno]),Object(r.f)(R.byweekday))if(Object(r.e)(R.byweekday))R.byweekday=[R.byweekday],R.bynweekday=null;else if(Object(r.g)(R.byweekday))R.byweekday=[V.b.fromStr(R.byweekday).weekday],R.bynweekday=null;else if(R.byweekday instanceof V.b)!R.byweekday.n||R.freq>Ge.MONTHLY?(R.byweekday=[R.byweekday.weekday],R.bynweekday=null):(R.bynweekday=[[R.byweekday.weekday,R.byweekday.n]],R.byweekday=null);else{var pe=[],fe=[];for(K=0;K<R.byweekday.length;K++){var Se=R.byweekday[K];Object(r.e)(Se)?pe.push(Se):Object(r.g)(Se)?pe.push(V.b.fromStr(Se).weekday):!Se.n||R.freq>Ge.MONTHLY?pe.push(Se.weekday):fe.push([Se.weekday,Se.n])}R.byweekday=Object(r.h)(pe)?pe:null,R.bynweekday=Object(r.h)(fe)?fe:null}else R.bynweekday=null;return Object(r.f)(R.byhour)?Object(r.e)(R.byhour)&&(R.byhour=[R.byhour]):R.byhour=R.freq<Ge.HOURLY?[R.dtstart.getUTCHours()]:null,Object(r.f)(R.byminute)?Object(r.e)(R.byminute)&&(R.byminute=[R.byminute]):R.byminute=R.freq<Ge.MINUTELY?[R.dtstart.getUTCMinutes()]:null,Object(r.f)(R.bysecond)?Object(r.e)(R.bysecond)&&(R.bysecond=[R.bysecond]):R.bysecond=R.freq<Ge.SECONDLY?[R.dtstart.getUTCSeconds()]:null,{parsedOptions:R}}(U).parsedOptions;this.options=se}var Ge=(qe.parseText=function(U,W){return ft().parseText(U,W)},qe.fromText=function(U,W){return ft().fromText(U,W)},qe.fromString=function(U){return new qe(qe.parseString(U)||void 0)},qe.prototype._iter=function(U){return mt(U,this.options)},qe.prototype._cacheGet=function(U,W){return!!this._cache&&this._cache._cacheGet(U,W)},qe.prototype._cacheAdd=function(U,W,se){if(this._cache)return this._cache._cacheAdd(U,W,se)},qe.prototype.all=function(U){if(U)return this._iter(new B("all",{},U));var W=this._cacheGet("all");return W===!1&&(W=this._iter(new f("all",{})),this._cacheAdd("all",W)),W},qe.prototype.between=function(U,W,se,ue){if(se===void 0&&(se=!1),!o.isValidDate(U)||!o.isValidDate(W))throw new Error("Invalid date passed in to RRule.between");var R={before:W,after:U,inc:se};if(ue)return this._iter(new B("between",R,ue));var K=this._cacheGet("between",R);return K===!1&&(K=this._iter(new f("between",R)),this._cacheAdd("between",K,R)),K},qe.prototype.before=function(U,W){if(W===void 0&&(W=!1),!o.isValidDate(U))throw new Error("Invalid date passed in to RRule.before");var se={dt:U,inc:W},ue=this._cacheGet("before",se);return ue===!1&&(ue=this._iter(new f("before",se)),this._cacheAdd("before",ue,se)),ue},qe.prototype.after=function(U,W){if(W===void 0&&(W=!1),!o.isValidDate(U))throw new Error("Invalid date passed in to RRule.after");var se={dt:U,inc:W},ue=this._cacheGet("after",se);return ue===!1&&(ue=this._iter(new f("after",se)),this._cacheAdd("after",ue,se)),ue},qe.prototype.count=function(){return this.all().length},qe.prototype.toString=function(){return y(this.origOptions)},qe.prototype.toText=function(U,W,se){return ft().toText(this,U,W,se)},qe.prototype.isFullyConvertibleToText=function(){return ft().isFullyConvertible(this)},qe.prototype.clone=function(){return new qe(this.origOptions)},qe.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],qe.YEARLY=A.YEARLY,qe.MONTHLY=A.MONTHLY,qe.WEEKLY=A.WEEKLY,qe.DAILY=A.DAILY,qe.HOURLY=A.HOURLY,qe.MINUTELY=A.MINUTELY,qe.SECONDLY=A.SECONDLY,qe.MO=St.MO,qe.TU=St.TU,qe.WE=St.WE,qe.TH=St.TH,qe.FR=St.FR,qe.SA=St.SA,qe.SU=St.SU,qe.parseString=ae,qe.optionsToString=y,qe),Hn,Wn={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function st(U,W){var se=[],ue=[],R=[],K=[],oe=Q(U),ce=oe.dtstart,re=oe.tzid;return function(pe,fe){if(fe===void 0&&(fe=!1),!(pe=pe&&pe.trim()))throw new Error("Invalid empty string");if(!fe)return pe.split(/\s/);for(var Se=pe.split(`
`),ve=0;ve<Se.length;){var be=Se[ve]=Se[ve].replace(/\s+$/g,"");be?0<ve&&be[0]===" "?(Se[ve-1]+=be.slice(1),Se.splice(ve,1)):ve+=1:Se.splice(ve,1)}return Se}(U,W.unfold).forEach(function(pe){if(pe){var fe=function(Ie){var $e=function(Xe){if(Xe.indexOf(":")===-1)return{name:"RRULE",value:Xe};var nt=Object(r.m)(Xe,":",1),rt=nt[0],Je=nt[1];return{name:rt,value:Je}}(Ie),Re=$e.name,Ze=$e.value,Pe=Re.split(";");if(!Pe)throw new Error("empty property name");return{name:Pe[0].toUpperCase(),parms:Pe.slice(1),value:Ze}}(pe),Se=fe.name,ve=fe.parms,be=fe.value;switch(Se.toUpperCase()){case"RRULE":if(ve.length)throw new Error("unsupported RRULE parm: "+ve.join(","));se.push(ae(pe));break;case"RDATE":var Ce=/RDATE(?:;TZID=([^:=]+))?/i.exec(pe),Fe=(Ce[0],Ce[1]);Fe&&!re&&(re=Fe),ue=ue.concat(rn(be,ve));break;case"EXRULE":if(ve.length)throw new Error("unsupported EXRULE parm: "+ve.join(","));R.push(ae(be));break;case"EXDATE":K=K.concat(rn(be,ve));break;case"DTSTART":break;default:throw new Error("unsupported property: "+Se)}}}),{dtstart:ce,tzid:re,rrulevals:se,rdatevals:ue,exrulevals:R,exdatevals:K}}function yt(U,W){return W===void 0&&(W={}),function(se,ue){var R=st(se,ue),K=R.rrulevals,oe=R.rdatevals,ce=R.exrulevals,re=R.exdatevals,pe=R.dtstart,fe=R.tzid,Se=ue.cache===!1;if(ue.compatible&&(ue.forceset=!0,ue.unfold=!0),ue.forceset||1<K.length||oe.length||ce.length||re.length){var ve=new On(Se);return ve.dtstart(pe),ve.tzid(fe||void 0),K.forEach(function(Ce){ve.rrule(new Ge(dn(Ce,pe,fe),Se))}),oe.forEach(function(Ce){ve.rdate(Ce)}),ce.forEach(function(Ce){ve.exrule(new Ge(dn(Ce,pe,fe),Se))}),re.forEach(function(Ce){ve.exdate(Ce)}),ue.compatible&&ue.dtstart&&ve.rdate(pe),ve}var be=K[0]||{};return new Ge(dn(be,be.dtstart||ue.dtstart||pe,be.tzid||ue.tzid||fe),Se)}(U,function(se){var ue=[],R=Object.keys(se),K=Object.keys(Wn);if(R.forEach(function(oe){Object(r.c)(K,oe)||ue.push(oe)}),ue.length)throw new Error("Invalid options: "+ue.join(", "));return C(C({},Wn),se)}(W))}function dn(U,W,se){return C(C({},U),{dtstart:W,tzid:se})}function rn(U,W){return W.forEach(function(se){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(se))throw new Error("unsupported RDATE/EXDATE parm: "+se)}),U.split(",").map(function(se){return o.untilStringToDate(se)})}function bn(U){var W=this;return function(se){if(se!==void 0&&(W["_"+U]=se),W["_"+U]!==void 0)return W["_"+U];for(var ue=0;ue<W._rrule.length;ue++){var R=W._rrule[ue].origOptions[U];if(R)return R}}}function dt(U){U===void 0&&(U=!1);var W=Hn.call(this,{},U)||this;return W.dtstart=bn.apply(W,["dtstart"]),W.tzid=bn.apply(W,["tzid"]),W._rrule=[],W._rdate=[],W._exrule=[],W._exdate=[],W}var On=(v(dt,Hn=Ge),dt.prototype._iter=function(U){return function(W,se,ue,R,K,oe){var ce={},re=W.accept;function pe(be,Ce){ue.forEach(function(Fe){Fe.between(be,Ce,!0).forEach(function(Ie){ce[Number(Ie)]=!0})})}K.forEach(function(be){var Ce=new m(be,oe).rezonedDate();ce[Number(Ce)]=!0}),W.accept=function(be){var Ce=Number(be);return isNaN(Ce)?re.call(this,be):!(!ce[Ce]&&(pe(new Date(Ce-1),new Date(Ce+1)),!ce[Ce]))||(ce[Ce]=!0,re.call(this,be))},W.method==="between"&&(pe(W.args.after,W.args.before),W.accept=function(be){var Ce=Number(be);return!!ce[Ce]||(ce[Ce]=!0,re.call(this,be))});for(var fe=0;fe<R.length;fe++){var Se=new m(R[fe],oe).rezonedDate();if(!W.accept(new Date(Se.getTime())))break}se.forEach(function(be){mt(W,be.options)});var ve=W._result;switch(o.sort(ve),W.method){case"all":case"between":return ve;case"before":return ve.length&&ve[ve.length-1]||null;case"after":default:return ve.length&&ve[0]||null}}(U,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},dt.prototype.rrule=function(U){Ln(U,this._rrule)},dt.prototype.exrule=function(U){Ln(U,this._exrule)},dt.prototype.rdate=function(U){Nn(U,this._rdate)},dt.prototype.exdate=function(U){Nn(U,this._exdate)},dt.prototype.rrules=function(){return this._rrule.map(function(U){return yt(U.toString())})},dt.prototype.exrules=function(){return this._exrule.map(function(U){return yt(U.toString())})},dt.prototype.rdates=function(){return this._rdate.map(function(U){return new Date(U.getTime())})},dt.prototype.exdates=function(){return this._exdate.map(function(U){return new Date(U.getTime())})},dt.prototype.valueOf=function(){var U=[];return!this._rrule.length&&this._dtstart&&(U=U.concat(y({dtstart:this._dtstart}))),this._rrule.forEach(function(W){U=U.concat(W.toString().split(`
`))}),this._exrule.forEach(function(W){U=U.concat(W.toString().split(`
`).map(function(se){return se.replace(/^RRULE:/,"EXRULE:")}).filter(function(se){return!/^DTSTART/.test(se)}))}),this._rdate.length&&U.push(Ot("RDATE",this._rdate,this.tzid())),this._exdate.length&&U.push(Ot("EXDATE",this._exdate,this.tzid())),U},dt.prototype.toString=function(){return this.valueOf().join(`
`)},dt.prototype.clone=function(){var U=new dt(!!this._cache);return this._rrule.forEach(function(W){return U.rrule(W.clone())}),this._exrule.forEach(function(W){return U.exrule(W.clone())}),this._rdate.forEach(function(W){return U.rdate(new Date(W.getTime()))}),this._exdate.forEach(function(W){return U.exdate(new Date(W.getTime()))}),U},dt);function Ln(U,W){if(!(U instanceof Ge))throw new TypeError(String(U)+" is not RRule instance");Object(r.c)(W.map(String),String(U))||W.push(U)}function Nn(U,W){if(!(U instanceof Date))throw new TypeError(String(U)+" is not Date instance");Object(r.c)(W.map(Number),Number(U))||(W.push(U),o.sort(W))}function Ot(U,W,se){var ue=!se||se.toUpperCase()==="UTC";return(ue?U+":":U+";TZID="+se+":")+W.map(function(R){return o.timeToUntilString(R.valueOf(),ue)}).join(",")}n.d(t,"rrulestr",function(){return yt}),n.d(t,"Frequency",function(){return A}),n.d(t,"Weekday",function(){return V.b}),n.d(t,"RRule",function(){return Ge}),n.d(t,"RRuleSet",function(){return On});/*!
 * rrule.js - Library for working with recurrence rules for calendar dates.
 * https://github.com/jakubroztocil/rrule
 *
 * Copyright 2010, Jakub Roztocil and Lars Schoning
 * Licenced under the BSD licence.
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 * Based on:
 * python-dateutil - Extensions to the standard Python datetime module.
 * Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
 * Copyright (c) 2012 - Tomi Pieviläinen <tomi.pievilainen@iki.fi>
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 */t.default=Ge},function(e,t,n){n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var a=["MO","TU","WE","TH","FR","SA","SU"],i=(r.fromStr=function(o){return new r(a.indexOf(o))},r.prototype.nth=function(o){return this.n===o?this:new r(this.weekday,o)},r.prototype.equals=function(o){return this.weekday===o.weekday&&this.n===o.n},r.prototype.toString=function(){var o=a[this.weekday];return this.n&&(o=(0<this.n?"+":"")+String(this.n)+o),o},r.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},r);function r(o,d){if(d===0)throw new Error("Can't create weekday with n == 0");this.weekday=o,this.n=d}},function(e,t,n){n.r(t);function a(H,V){return H.indexOf(V)!==-1}function i(H){return H.toString()}function r(H,V,z){return V+" "+z+", "+H}var o={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},d=n(1),f=n(0);function p(H,V,z,N){if(V===void 0&&(V=i),z===void 0&&(z=o),N===void 0&&(N=r),this.text=[],this.language=z||o,this.gettext=V,this.dateFormatter=N,this.rrule=H,this.options=H.options,this.origOptions=H.origOptions,this.origOptions.bymonthday){var F=[].concat(this.options.bymonthday),q=[].concat(this.options.bynmonthday);F.sort(function(Q,ie){return Q-ie}),q.sort(function(Q,ie){return ie-Q}),this.bymonthday=F.concat(q),this.bymonthday.length||(this.bymonthday=null)}if(Object(f.f)(this.origOptions.byweekday)){var Y=Object(f.d)(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],X=String(Y);this.byweekday={allWeeks:Y.filter(function(Q){return!Q.n}),someWeeks:Y.filter(function(Q){return!!Q.n}),isWeekdays:X.indexOf("MO")!==-1&&X.indexOf("TU")!==-1&&X.indexOf("WE")!==-1&&X.indexOf("TH")!==-1&&X.indexOf("FR")!==-1&&X.indexOf("SA")===-1&&X.indexOf("SU")===-1,isEveryDay:X.indexOf("MO")!==-1&&X.indexOf("TU")!==-1&&X.indexOf("WE")!==-1&&X.indexOf("TH")!==-1&&X.indexOf("FR")!==-1&&X.indexOf("SA")!==-1&&X.indexOf("SU")!==-1};var ae=function(Q,ie){return Q.weekday-ie.weekday};this.byweekday.allWeeks.sort(ae),this.byweekday.someWeeks.sort(ae),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}var v=(p.isFullyConvertible=function(H){if(!(H.options.freq in p.IMPLEMENTED)||H.origOptions.until&&H.origOptions.count)return!1;for(var V in H.origOptions){if(a(["dtstart","wkst","freq"],V))return!0;if(!a(p.IMPLEMENTED[H.options.freq],V))return!1}return!0},p.prototype.isFullyConvertible=function(){return p.isFullyConvertible(this.rrule)},p.prototype.toString=function(){var H=this.gettext;if(!(this.options.freq in p.IMPLEMENTED))return H("RRule error: Unable to fully convert this rrule to text");if(this.text=[H("every")],this[d.default.FREQUENCIES[this.options.freq]](),this.options.until){this.add(H("until"));var V=this.options.until;this.add(this.dateFormatter(V.getUTCFullYear(),this.language.monthNames[V.getUTCMonth()],V.getUTCDate()))}else this.options.count&&this.add(H("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?H("times"):H("time"));return this.isFullyConvertible()||this.add(H("(~ approximate)")),this.text.join("")},p.prototype.HOURLY=function(){var H=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?H("hours"):H("hour"))},p.prototype.MINUTELY=function(){var H=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?H("minutes"):H("minute"))},p.prototype.DAILY=function(){var H=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?H("weekdays"):H("weekday")):this.add(this.plural(this.options.interval)?H("days"):H("day")),this.origOptions.bymonth&&(this.add(H("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},p.prototype.WEEKLY=function(){var H=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?H("weeks"):H("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?H("weekdays"):H("weekday")):this.add(H("on")).add(H("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?H("days"):H("day")):(this.options.interval===1&&this.add(H("week")),this.origOptions.bymonth&&(this.add(H("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},p.prototype.MONTHLY=function(){var H=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(H("months")),this.plural(this.options.interval)&&this.add(H("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?H("months"):H("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(H("on")).add(H("weekdays")):this.byweekday&&this._byweekday()},p.prototype.YEARLY=function(){var H=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(H("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?H("years"):H("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(H("on the")).add(this.list(this.options.byyearday,this.nth,H("and"))).add(H("day")),this.options.byweekno&&this.add(H("in")).add(this.plural(this.options.byweekno.length)?H("weeks"):H("week")).add(this.list(this.options.byweekno,void 0,H("and")))},p.prototype._bymonthday=function(){var H=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(H("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,H("or"))).add(H("the")).add(this.list(this.bymonthday,this.nth,H("or"))):this.add(H("on the")).add(this.list(this.bymonthday,this.nth,H("and")))},p.prototype._byweekday=function(){var H=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(H("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(H("and")),this.add(H("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,H("and"))))},p.prototype._byhour=function(){var H=this.gettext;this.add(H("at")).add(this.list(this.origOptions.byhour,void 0,H("and")))},p.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},p.prototype.nth=function(H){var V,z;H=parseInt(H.toString(),10);var N=this.gettext;if(H===-1)return N("last");switch(z=Math.abs(H)){case 1:case 21:case 31:V=z+N("st");break;case 2:case 22:V=z+N("nd");break;case 3:case 23:V=z+N("rd");break;default:V=z+N("th")}return H<0?V+" "+N("last"):V},p.prototype.monthtext=function(H){return this.language.monthNames[H-1]},p.prototype.weekdaytext=function(H){var V=Object(f.e)(H)?(H+1)%7:H.getJsWeekday();return(H.n?this.nth(H.n)+" ":"")+this.language.dayNames[V]},p.prototype.plural=function(H){return H%100!=1},p.prototype.add=function(H){return this.text.push(" "),this.text.push(H),this},p.prototype.list=function(H,V,z,N){function F(Y){return V&&V.call(q,Y)}N===void 0&&(N=","),Object(f.d)(H)||(H=[H]),V=V||function(Y){return Y.toString()};var q=this;return z?function(Y,X,ae){for(var Q="",ie=0;ie<Y.length;ie++)ie!==0&&(ie===Y.length-1?Q+=" "+ae+" ":Q+=X+" "),Q+=Y[ie];return Q}(H.map(F),N,z):H.map(F).join(N+" ")},p),w=(C.prototype.start=function(H){return this.text=H,this.done=!1,this.nextSymbol()},C.prototype.isDone=function(){return this.done&&this.symbol===null},C.prototype.nextSymbol=function(){var H,V;this.symbol=null,this.value=null;do{if(this.done)return!1;for(var z in H=null,this.rules){var N=this.rules[z].exec(this.text);N&&(H===null||N[0].length>H[0].length)&&(H=N,V=z)}if(H!=null&&(this.text=this.text.substr(H[0].length),this.text===""&&(this.done=!0)),H==null)return this.done=!0,this.symbol=null,void(this.value=null)}while(V==="SKIP");return this.symbol=V,this.value=H,!0},C.prototype.accept=function(H){if(this.symbol!==H)return!1;if(this.value){var V=this.value;return this.nextSymbol(),V}return this.nextSymbol(),!0},C.prototype.acceptNumber=function(){return this.accept("number")},C.prototype.expect=function(H){if(this.accept(H))return!0;throw new Error("expected "+H+" but found "+this.symbol)},C);function C(H){this.done=!0,this.rules=H}function x(H,V){V===void 0&&(V=o);var z={},N=new w(V.tokens);return N.start(H)?(function(){N.expect("every");var Q=N.acceptNumber();if(Q&&(z.interval=parseInt(Q[0],10)),N.isDone())throw new Error("Unexpected end");switch(N.symbol){case"day(s)":z.freq=d.default.DAILY,N.nextSymbol()&&(function(){if(N.accept("at"))do{var l=N.acceptNumber();if(!l)throw new Error("Unexpected symbol "+N.symbol+", expected hour");for(z.byhour=[parseInt(l[0],10)];N.accept("comma");){if(!(l=N.acceptNumber()))throw new Error("Unexpected symbol "+N.symbol+"; expected hour");z.byhour.push(parseInt(l[0],10))}}while(N.accept("comma")||N.accept("at"))}(),ae());break;case"weekday(s)":z.freq=d.default.WEEKLY,z.byweekday=[d.default.MO,d.default.TU,d.default.WE,d.default.TH,d.default.FR],N.nextSymbol(),ae();break;case"week(s)":z.freq=d.default.WEEKLY,N.nextSymbol()&&(F(),ae());break;case"hour(s)":z.freq=d.default.HOURLY,N.nextSymbol()&&(F(),ae());break;case"minute(s)":z.freq=d.default.MINUTELY,N.nextSymbol()&&(F(),ae());break;case"month(s)":z.freq=d.default.MONTHLY,N.nextSymbol()&&(F(),ae());break;case"year(s)":z.freq=d.default.YEARLY,N.nextSymbol()&&(F(),ae());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":z.freq=d.default.WEEKLY;var ie=N.symbol.substr(0,2).toUpperCase();if(z.byweekday=[d.default[ie]],!N.nextSymbol())return;for(;N.accept("comma");){if(N.isDone())throw new Error("Unexpected end");var te=Y();if(!te)throw new Error("Unexpected symbol "+N.symbol+", expected weekday");z.byweekday.push(d.default[te]),N.nextSymbol()}(function(){N.accept("on"),N.accept("the");var l=X();if(l)for(z.bymonthday=[l],N.nextSymbol();N.accept("comma");){if(!(l=X()))throw new Error("Unexpected symbol "+N.symbol+"; expected monthday");z.bymonthday.push(l),N.nextSymbol()}})(),ae();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(z.freq=d.default.YEARLY,z.bymonth=[q()],!N.nextSymbol())return;for(;N.accept("comma");){if(N.isDone())throw new Error("Unexpected end");var E=q();if(!E)throw new Error("Unexpected symbol "+N.symbol+", expected month");z.bymonth.push(E),N.nextSymbol()}F(),ae();break;default:throw new Error("Unknown symbol")}}(),z):null;function F(){var Q=N.accept("on"),ie=N.accept("the");if(Q||ie)do{var te=X(),E=Y(),l=q();if(te)E?(N.nextSymbol(),z.byweekday||(z.byweekday=[]),z.byweekday.push(d.default[E].nth(te))):(z.bymonthday||(z.bymonthday=[]),z.bymonthday.push(te),N.accept("day(s)"));else if(E)N.nextSymbol(),z.byweekday||(z.byweekday=[]),z.byweekday.push(d.default[E]);else if(N.symbol==="weekday(s)")N.nextSymbol(),z.byweekday||(z.byweekday=[d.default.MO,d.default.TU,d.default.WE,d.default.TH,d.default.FR]);else if(N.symbol==="week(s)"){N.nextSymbol();var m=N.acceptNumber();if(!m)throw new Error("Unexpected symbol "+N.symbol+", expected week number");for(z.byweekno=[parseInt(m[0],10)];N.accept("comma");){if(!(m=N.acceptNumber()))throw new Error("Unexpected symbol "+N.symbol+"; expected monthday");z.byweekno.push(parseInt(m[0],10))}}else{if(!l)return;N.nextSymbol(),z.bymonth||(z.bymonth=[]),z.bymonth.push(l)}}while(N.accept("comma")||N.accept("the")||N.accept("on"))}function q(){switch(N.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function Y(){switch(N.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return N.symbol.substr(0,2).toUpperCase();default:return!1}}function X(){switch(N.symbol){case"last":return N.nextSymbol(),-1;case"first":return N.nextSymbol(),1;case"second":return N.nextSymbol(),N.accept("last")?-2:2;case"third":return N.nextSymbol(),N.accept("last")?-3:3;case"nth":var Q=parseInt(N.value[1],10);if(Q<-366||366<Q)throw new Error("Nth out of range: "+Q);return N.nextSymbol(),N.accept("last")?-Q:Q;default:return!1}}function ae(){if(N.symbol==="until"){var Q=Date.parse(N.text);if(!Q)throw new Error("Cannot parse until date:"+N.text);z.until=new Date(Q)}else N.accept("for")&&(z.count=parseInt(N.value[0],10),N.expect("number"))}}n.d(t,"fromText",function(){return L}),n.d(t,"isFullyConvertible",function(){return B}),n.d(t,"toText",function(){return k}),n.d(t,"parseText",function(){return x});/*!
* rrule.js - Library for working with recurrence rules for calendar dates.
* https://github.com/jakubroztocil/rrule
*
* Copyright 2010, Jakub Roztocil and Lars Schoning
* Licenced under the BSD licence.
* https://github.com/jakubroztocil/rrule/blob/master/LICENCE
*
*/var L=function(H,V){return V===void 0&&(V=o),new d.default(x(H,V)||void 0)},A=["count","until","interval","byweekday","bymonthday","bymonth"];v.IMPLEMENTED=[],v.IMPLEMENTED[d.default.HOURLY]=A,v.IMPLEMENTED[d.default.MINUTELY]=A,v.IMPLEMENTED[d.default.DAILY]=["byhour"].concat(A),v.IMPLEMENTED[d.default.WEEKLY]=A,v.IMPLEMENTED[d.default.MONTHLY]=A,v.IMPLEMENTED[d.default.YEARLY]=["byweekno","byyearday"].concat(A);var k=function(H,V,z,N){return new v(H,V,z,N).toString()},B=v.isFullyConvertible}],ne.c=g,ne.d=function(e,t,n){ne.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},ne.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},ne.t=function(e,t){if(1&t&&(e=ne(e)),8&t||4&t&&typeof e=="object"&&e&&e.__esModule)return e;var n=Object.create(null);if(ne.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&typeof e!="string")for(var a in e)ne.d(n,a,(function(i){return e[i]}).bind(null,a));return n},ne.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return ne.d(t,"a",t),t},ne.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},ne.p="",ne(ne.s=1);function ne(e){if(g[e])return g[e].exports;var t=g[e]={i:e,l:!1,exports:{}};return u[e].call(t.exports,t,t.exports,ne),t.l=!0,t.exports}var u,g}))})()}(Vs)),Vs.exports}Gp();var Mo={exports:{}},Xp=Mo.exports,Sm;function Zp(){return Sm||(Sm=1,function(We,j){(function(ne,u){We.exports=u()})(typeof self<"u"?self:Xp,function(){return g={},ne.m=u=[function(e,t,n){n.d(t,"f",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"d",function(){return d}),n.d(t,"k",function(){return f}),n.d(t,"l",function(){return p}),n.d(t,"n",function(){return v}),n.d(t,"i",function(){return w}),n.d(t,"m",function(){return C}),n.d(t,"j",function(){return x}),n.d(t,"a",function(){return L}),n.d(t,"b",function(){return A}),n.d(t,"h",function(){return k}),n.d(t,"c",function(){return B});var a=n(2),i=function(H){return H!=null},r=function(H){return typeof H=="number"},o=function(H){return 0<=a.a.indexOf(H)},d=Array.isArray,f=function(H,V){V===void 0&&(V=H),arguments.length===1&&(V=H,H=0);for(var z=[],N=H;N<V;N++)z.push(N);return z},p=function(H,V){var z=0,N=[];if(d(H))for(;z<V;z++)N[z]=[].concat(H);else for(;z<V;z++)N[z]=H;return N},v=function(H){return d(H)?H:[H]};function w(H,V,z){z===void 0&&(z=" ");var N=String(H);return V>>=0,N.length>V?String(N):((V-=N.length)>z.length&&(z+=p(z,V/z.length)),z.slice(0,V)+String(N))}var C=function(H,V,z){var N=H.split(V);return z?N.slice(0,z).concat([N.slice(z).join(V)]):N},x=function(H,V){var z=H%V;return z*V<0?z+V:z},L=function(H,V){return{div:Math.floor(H/V),mod:x(H,V)}},A=function(H){return!i(H)||H.length===0},k=function(H){return!A(H)},B=function(H,V){return k(H)&&H.indexOf(V)!==-1}},function(e,t,n){n.r(t);var a,i,r=n(0);(i=a=a||{}).MONTH_DAYS=[31,28,31,30,31,30,31,31,30,31,30,31],i.ONE_DAY=864e5,i.MAXYEAR=9999,i.ORDINAL_BASE=new Date(Date.UTC(1970,0,1)),i.PY_WEEKDAYS=[6,0,1,2,3,4,5],i.getYearDay=function(U){var W=new Date(U.getUTCFullYear(),U.getUTCMonth(),U.getUTCDate());return Math.ceil((W.valueOf()-new Date(U.getUTCFullYear(),0,1).valueOf())/i.ONE_DAY)+1},i.isLeapYear=function(U){return U%4==0&&U%100!=0||U%400==0},i.isDate=function(U){return U instanceof Date},i.isValidDate=function(U){return i.isDate(U)&&!isNaN(U.getTime())},i.tzOffset=function(U){return 60*U.getTimezoneOffset()*1e3},i.daysBetween=function(U,W){var se=U.getTime()-i.tzOffset(U)-(W.getTime()-i.tzOffset(W));return Math.round(se/i.ONE_DAY)},i.toOrdinal=function(U){return i.daysBetween(U,i.ORDINAL_BASE)},i.fromOrdinal=function(U){return new Date(i.ORDINAL_BASE.getTime()+U*i.ONE_DAY)},i.getMonthDays=function(U){var W=U.getUTCMonth();return W===1&&i.isLeapYear(U.getUTCFullYear())?29:i.MONTH_DAYS[W]},i.getWeekday=function(U){return i.PY_WEEKDAYS[U.getUTCDay()]},i.monthRange=function(U,W){var se=new Date(Date.UTC(U,W,1));return[i.getWeekday(se),i.getMonthDays(se)]},i.combine=function(U,W){return W=W||U,new Date(Date.UTC(U.getUTCFullYear(),U.getUTCMonth(),U.getUTCDate(),W.getHours(),W.getMinutes(),W.getSeconds(),W.getMilliseconds()))},i.clone=function(U){return new Date(U.getTime())},i.cloneDates=function(U){for(var W=[],se=0;se<U.length;se++)W.push(i.clone(U[se]));return W},i.sort=function(U){U.sort(function(W,se){return W.getTime()-se.getTime()})},i.timeToUntilString=function(U,W){W===void 0&&(W=!0);var se=new Date(U);return[Object(r.i)(se.getUTCFullYear().toString(),4,"0"),Object(r.i)(se.getUTCMonth()+1,2,"0"),Object(r.i)(se.getUTCDate(),2,"0"),"T",Object(r.i)(se.getUTCHours(),2,"0"),Object(r.i)(se.getUTCMinutes(),2,"0"),Object(r.i)(se.getUTCSeconds(),2,"0"),W?"Z":""].join("")},i.untilStringToDate=function(U){var W=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/.exec(U);if(!W)throw new Error("Invalid UNTIL value: "+U);return new Date(Date.UTC(parseInt(W[1],10),parseInt(W[2],10)-1,parseInt(W[3],10),parseInt(W[5],10)||0,parseInt(W[6],10)||0,parseInt(W[7],10)||0))};var o=a;function d(U,W){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=U,this.args=W,U==="between"?(this.maxDate=W.inc?W.before:new Date(W.before.getTime()-1),this.minDate=W.inc?W.after:new Date(W.after.getTime()+1)):U==="before"?this.maxDate=W.inc?W.dt:new Date(W.dt.getTime()-1):U==="after"&&(this.minDate=W.inc?W.dt:new Date(W.dt.getTime()+1))}var f=(d.prototype.accept=function(U){++this.total;var W=this.minDate&&U<this.minDate,se=this.maxDate&&U>this.maxDate;if(this.method==="between"){if(W)return!0;if(se)return!1}else if(this.method==="before"){if(se)return!1}else if(this.method==="after")return!!W||(this.add(U),!1);return this.add(U)},d.prototype.add=function(U){return this._result.push(U),!0},d.prototype.getValue=function(){var U=this._result;switch(this.method){case"all":case"between":return U;case"before":case"after":default:return U.length?U[U.length-1]:null}},d.prototype.clone=function(){return new d(this.method,this.args)},d),p=function(U,W){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(se,ue){se.__proto__=ue}||function(se,ue){for(var R in ue)ue.hasOwnProperty(R)&&(se[R]=ue[R])})(U,W)};/*! *****************************************************************************
		Copyright (c) Microsoft Corporation. All rights reserved.
		Licensed under the Apache License, Version 2.0 (the "License"); you may not use
		this file except in compliance with the License. You may obtain a copy of the
		License at http://www.apache.org/licenses/LICENSE-2.0

		THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
		KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
		WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
		MERCHANTABLITY OR NON-INFRINGEMENT.

		See the Apache Version 2.0 License for specific language governing permissions
		and limitations under the License.
		***************************************************************************** */function v(U,W){function se(){this.constructor=U}p(U,W),U.prototype=W===null?Object.create(W):(se.prototype=W.prototype,new se)}var w,C=function(){return(C=Object.assign||function(U){for(var W,se=1,ue=arguments.length;se<ue;se++)for(var R in W=arguments[se])Object.prototype.hasOwnProperty.call(W,R)&&(U[R]=W[R]);return U}).apply(this,arguments)};function x(){for(var U=0,W=0,se=arguments.length;W<se;W++)U+=arguments[W].length;var ue=Array(U),R=0;for(W=0;W<se;W++)for(var K=arguments[W],oe=0,ce=K.length;oe<ce;oe++,R++)ue[R]=K[oe];return ue}function L(U,W,se){var ue=w.call(this,U,W)||this;return ue.iterator=se,ue}var A,k,B=(v(L,w=f),L.prototype.add=function(U){return!!this.iterator(U,this._result.length)&&(this._result.push(U),!0)},L);function H(U){return U<A.HOURLY}(k=A=A||{})[k.YEARLY=0]="YEARLY",k[k.MONTHLY=1]="MONTHLY",k[k.WEEKLY=2]="WEEKLY",k[k.DAILY=3]="DAILY",k[k.HOURLY=4]="HOURLY",k[k.MINUTELY=5]="MINUTELY",k[k.SECONDLY=6]="SECONDLY";var V=n(2),z=(N.prototype.getHours=function(){return this.hour},N.prototype.getMinutes=function(){return this.minute},N.prototype.getSeconds=function(){return this.second},N.prototype.getMilliseconds=function(){return this.millisecond},N.prototype.getTime=function(){return 1e3*(60*this.hour*60+60*this.minute+this.second)+this.millisecond},N);function N(U,W,se,ue){this.hour=U,this.minute=W,this.second=se,this.millisecond=ue||0}var F,q=(v(Y,F=z),Y.fromDate=function(U){return new this(U.getUTCFullYear(),U.getUTCMonth()+1,U.getUTCDate(),U.getUTCHours(),U.getUTCMinutes(),U.getUTCSeconds(),U.valueOf()%1e3)},Y.prototype.getWeekday=function(){return a.getWeekday(new Date(this.getTime()))},Y.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},Y.prototype.getDay=function(){return this.day},Y.prototype.getMonth=function(){return this.month},Y.prototype.getYear=function(){return this.year},Y.prototype.addYears=function(U){this.year+=U},Y.prototype.addMonths=function(U){if(this.month+=U,12<this.month){var W=Math.floor(this.month/12),se=Object(r.j)(this.month,12);this.month=se,this.year+=W,this.month===0&&(this.month=12,--this.year)}},Y.prototype.addWeekly=function(U,W){W>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-W))+7*U:this.day+=-(this.getWeekday()-W)+7*U,this.fixDay()},Y.prototype.addDaily=function(U){this.day+=U,this.fixDay()},Y.prototype.addHours=function(U,W,se){for(W&&(this.hour+=Math.floor((23-this.hour)/U)*U);;){this.hour+=U;var ue=Object(r.a)(this.hour,24),R=ue.div,K=ue.mod;if(R&&(this.hour=K,this.addDaily(R)),Object(r.b)(se)||Object(r.c)(se,this.hour))break}},Y.prototype.addMinutes=function(U,W,se,ue){for(W&&(this.minute+=Math.floor((1439-(60*this.hour+this.minute))/U)*U);;){this.minute+=U;var R=Object(r.a)(this.minute,60),K=R.div,oe=R.mod;if(K&&(this.minute=oe,this.addHours(K,!1,se)),(Object(r.b)(se)||Object(r.c)(se,this.hour))&&(Object(r.b)(ue)||Object(r.c)(ue,this.minute)))break}},Y.prototype.addSeconds=function(U,W,se,ue,R){for(W&&(this.second+=Math.floor((86399-(3600*this.hour+60*this.minute+this.second))/U)*U);;){this.second+=U;var K=Object(r.a)(this.second,60),oe=K.div,ce=K.mod;if(oe&&(this.second=ce,this.addMinutes(oe,!1,se,ue)),(Object(r.b)(se)||Object(r.c)(se,this.hour))&&(Object(r.b)(ue)||Object(r.c)(ue,this.minute))&&(Object(r.b)(R)||Object(r.c)(R,this.second)))break}},Y.prototype.fixDay=function(){if(!(this.day<=28)){var U=a.monthRange(this.year,this.month-1)[1];if(!(this.day<=U))for(;this.day>U;){if(this.day-=U,++this.month,this.month===13&&(this.month=1,++this.year,this.year>a.MAXYEAR))return;U=a.monthRange(this.year,this.month-1)[1]}}},Y.prototype.add=function(U,W){var se=U.freq,ue=U.interval,R=U.wkst,K=U.byhour,oe=U.byminute,ce=U.bysecond;switch(se){case A.YEARLY:return this.addYears(ue);case A.MONTHLY:return this.addMonths(ue);case A.WEEKLY:return this.addWeekly(ue,R);case A.DAILY:return this.addDaily(ue);case A.HOURLY:return this.addHours(ue,W,K);case A.MINUTELY:return this.addMinutes(ue,W,K,oe);case A.SECONDLY:return this.addSeconds(ue,W,K,oe,ce)}},Y);function Y(U,W,se,ue,R,K,oe){var ce=F.call(this,ue,R,K,oe)||this;return ce.year=U,ce.month=W,ce.day=se,ce}function X(U){for(var W=[],se=0,ue=Object.keys(U);se<ue.length;se++){var R=ue[se];Object(r.c)(ka,R)||W.push(R),o.isDate(U[R])&&!o.isValidDate(U[R])&&W.push(R)}if(W.length)throw new Error("Invalid options: "+W.join(", "));return C({},U)}function ae(U){var W=U.split(`
`).map(ie).filter(function(se){return se!==null});return C(C({},W[0]),W[1])}function Q(U){var W={},se=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(U);if(!se)return W;se[0];var ue=se[1],R=se[2];return ue&&(W.tzid=ue),W.dtstart=o.untilStringToDate(R),W}function ie(U){if(!(U=U.replace(/^\s+|\s+$/,"")).length)return null;var W=/^([A-Z]+?)[:;]/.exec(U.toUpperCase());if(!W)return te(U);W[0];var se=W[1];switch(se.toUpperCase()){case"RRULE":case"EXRULE":return te(U);case"DTSTART":return Q(U);default:throw new Error("Unsupported RFC prop "+se+" in "+U)}}function te(U){var W=Q(U.replace(/^RRULE:/i,""));return U.replace(/^(?:RRULE|EXRULE):/i,"").split(";").forEach(function(se){var ue,R=se.split("="),K=R[0],oe=R[1];switch(K.toUpperCase()){case"FREQ":W.freq=A[oe.toUpperCase()];break;case"WKST":W.wkst=St[oe.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var ce=(ue=oe).indexOf(",")===-1?E(ue):ue.split(",").map(E),re=K.toLowerCase();W[re]=ce;break;case"BYWEEKDAY":case"BYDAY":W.byweekday=oe.split(",").map(function(fe){if(fe.length===2)return St[fe];var Se=fe.match(/^([+-]?\d{1,2})([A-Z]{2})$/),ve=Number(Se[1]),be=Se[2],Ce=St[be].weekday;return new V.b(Ce,ve)});break;case"DTSTART":case"TZID":var pe=Q(U);W.tzid=pe.tzid,W.dtstart=pe.dtstart;break;case"UNTIL":W.until=o.untilStringToDate(oe);break;case"BYEASTER":W.byeaster=Number(oe);break;default:throw new Error("Unknown RRULE property '"+K+"'")}}),W}function E(U){return/^[+-]?\d+$/.test(U)?Number(U):U}var l=function(){throw new TypeError},m=(Object.defineProperty(c.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!0,configurable:!0}),c.prototype.toString=function(){var U=o.timeToUntilString(this.date.getTime(),this.isUTC);return this.isUTC?":"+U:";TZID="+this.tzid+":"+U},c.prototype.getTime=function(){return this.date.getTime()},c.prototype.rezonedDate=function(){if(this.isUTC)return this.date;try{return l(this.date).setZone(this.tzid,{keepLocalTime:!0}).toJSDate()}catch(U){return U instanceof TypeError&&console.error("Using TZID without Luxon available is unsupported. Returned times are in UTC, not the requested time zone"),this.date}},c);function c(U,W){this.date=U,this.tzid=W}function y(U){for(var W=[],se="",ue=Object.keys(U),R=Object.keys(Tt),K=0;K<ue.length;K++)if(ue[K]!=="tzid"&&Object(r.c)(R,ue[K])){var oe=ue[K].toUpperCase(),ce=U[ue[K]],re="";if(Object(r.f)(ce)&&(!Object(r.d)(ce)||ce.length)){switch(oe){case"FREQ":re=Ge.FREQUENCIES[U.freq];break;case"WKST":re=Object(r.e)(ce)?new V.b(ce).toString():ce.toString();break;case"BYWEEKDAY":oe="BYDAY",re=Object(r.n)(ce).map(function(be){return be instanceof V.b?be:Object(r.d)(be)?new V.b(be[0],be[1]):new V.b(be)}).toString();break;case"DTSTART":se=b(ce,U.tzid);break;case"UNTIL":re=o.timeToUntilString(ce,!U.tzid);break;default:if(Object(r.d)(ce)){for(var pe=[],fe=0;fe<ce.length;fe++)pe[fe]=String(ce[fe]);re=pe.toString()}else re=String(ce)}re&&W.push([oe,re])}}var Se=W.map(function(be){return be[0]+"="+be[1].toString()}).join(";"),ve="";return Se!==""&&(ve="RRULE:"+Se),[se,ve].filter(function(be){return!!be}).join(`
`)}function b(U,W){return U?"DTSTART"+new m(new Date(U),W).toString():""}var S=(D.prototype._cacheAdd=function(U,W,se){W=W&&(W instanceof Date?o.clone(W):o.cloneDates(W)),U==="all"?this.all=W:(se._value=W,this[U].push(se))},D.prototype._cacheGet=function(U,W){function se(pe){for(var fe=0;fe<R.length;fe++){var Se=R[fe];if(String(W[Se])!==String(pe[Se]))return!0}return!1}var ue=!1,R=W?Object.keys(W):[],K=this[U];if(U==="all")ue=this.all;else if(Object(r.d)(K))for(var oe=0;oe<K.length;oe++){var ce=K[oe];if(!R.length||!se(ce)){ue=ce._value;break}}if(!ue&&this.all){var re=new f(U,W);for(oe=0;oe<this.all.length&&re.accept(this.all[oe]);oe++);ue=re.getValue(),this._cacheAdd(U,ue,W)}return Object(r.d)(ue)?o.cloneDates(ue):ue instanceof Date?o.clone(ue):ue},D);function D(){this.all=!1,this.before=[],this.after=[],this.between=[]}var M=x(Object(r.l)(1,31),Object(r.l)(2,28),Object(r.l)(3,31),Object(r.l)(4,30),Object(r.l)(5,31),Object(r.l)(6,30),Object(r.l)(7,31),Object(r.l)(8,31),Object(r.l)(9,30),Object(r.l)(10,31),Object(r.l)(11,30),Object(r.l)(12,31),Object(r.l)(1,7)),$=x(Object(r.l)(1,31),Object(r.l)(2,29),Object(r.l)(3,31),Object(r.l)(4,30),Object(r.l)(5,31),Object(r.l)(6,30),Object(r.l)(7,31),Object(r.l)(8,31),Object(r.l)(9,30),Object(r.l)(10,31),Object(r.l)(11,30),Object(r.l)(12,31),Object(r.l)(1,7)),P=Object(r.k)(1,29),G=Object(r.k)(1,30),Z=Object(r.k)(1,31),ee=Object(r.k)(1,32),de=x(ee,G,ee,Z,ee,Z,ee,ee,Z,ee,Z,ee,ee.slice(0,7)),me=x(ee,P,ee,Z,ee,Z,ee,ee,Z,ee,Z,ee,ee.slice(0,7)),ge=Object(r.k)(-28,0),we=Object(r.k)(-29,0),Me=Object(r.k)(-30,0),ke=Object(r.k)(-31,0),xe=x(ke,we,ke,Me,ke,Me,ke,ke,Me,ke,Me,ke,ke.slice(0,7)),Ve=x(ke,ge,ke,Me,ke,Me,ke,ke,Me,ke,Me,ke,ke.slice(0,7)),ye=[0,31,60,91,121,152,182,213,244,274,305,335,366],je=[0,31,59,90,120,151,181,212,243,273,304,334,365],Le=function(){for(var U=[],W=0;W<55;W++)U=U.concat(Object(r.k)(7));return U}();function et(U,W){var se,ue,R,K,oe,ce,re=new Date(Date.UTC(U,0,1)),pe=o.isLeapYear(U)?366:365,fe=o.isLeapYear(U+1)?366:365,Se=o.toOrdinal(re),ve=o.getWeekday(re),be=C(C({yearlen:pe,nextyearlen:fe,yearordinal:Se,yearweekday:ve},(se=U,ue=o.isLeapYear(se)?366:365,R=new Date(Date.UTC(se,0,1)),K=o.getWeekday(R),ue!=365?{mmask:$,mdaymask:de,nmdaymask:xe,wdaymask:Le.slice(K),mrange:ye}:{mmask:M,mdaymask:me,nmdaymask:Ve,wdaymask:Le.slice(K),mrange:je})),{wnomask:null});if(Object(r.b)(W.byweekno))return be;be.wnomask=Object(r.l)(0,7+pe);var Ce=oe=Object(r.j)(7-ve+W.wkst,7);ce=4<=Ce?(Ce=0,be.yearlen+Object(r.j)(ve-W.wkst,7)):pe-Ce;for(var Fe=Math.floor(ce/7),Ie=Object(r.j)(ce,7),$e=Math.floor(Fe+Ie/4),Re=0;Re<W.byweekno.length;Re++){var Ze=W.byweekno[Re];if(Ze<0&&(Ze+=$e+1),0<Ze&&Ze<=$e){var Pe=void 0;1<Ze?(Pe=Ce+7*(Ze-1),Ce!==oe&&(Pe-=7-oe)):Pe=Ce;for(var Xe=0;Xe<7&&(be.wnomask[Pe]=1,Pe++,be.wdaymask[Pe]!==W.wkst);Xe++);}}if(Object(r.c)(W.byweekno,1)&&(Pe=Ce+7*$e,Ce!==oe&&(Pe-=7-oe),Pe<pe))for(Re=0;Re<7&&(Pe+=be.wnomask[Pe]=1,be.wdaymask[Pe]!==W.wkst);Re++);if(Ce){var nt=void 0;if(Object(r.c)(W.byweekno,-1))nt=-1;else{var rt=o.getWeekday(new Date(Date.UTC(U-1,0,1))),Je=Object(r.j)(7-rt.valueOf()+W.wkst,7),ht=o.isLeapYear(U-1)?366:365,lt=void 0;lt=4<=Je?(Je=0,ht+Object(r.j)(rt-W.wkst,7)):pe-Ce,nt=Math.floor(52+Object(r.j)(lt,7)/4)}if(Object(r.c)(W.byweekno,nt))for(Pe=0;Pe<Ce;Pe++)be.wnomask[Pe]=1}return be}function Ye(U){this.options=U}var ut=(Ye.prototype.rebuild=function(U,W){var se=this.options;if(U!==this.lastyear&&(this.yearinfo=et(U,se)),Object(r.h)(se.bynweekday)&&(W!==this.lastmonth||U!==this.lastyear)){var ue=this.yearinfo,R=ue.yearlen,K=ue.mrange,oe=ue.wdaymask;this.monthinfo=function(ce,re,pe,fe,Se,ve){var be={lastyear:ce,lastmonth:re,nwdaymask:[]},Ce=[];if(ve.freq===Ge.YEARLY)if(Object(r.b)(ve.bymonth))Ce=[[0,pe]];else for(var Fe=0;Fe<ve.bymonth.length;Fe++)re=ve.bymonth[Fe],Ce.push(fe.slice(re-1,re+1));else ve.freq===Ge.MONTHLY&&(Ce=[fe.slice(re-1,re+1)]);if(Object(r.b)(Ce))return be;for(be.nwdaymask=Object(r.l)(0,pe),Fe=0;Fe<Ce.length;Fe++)for(var Ie=Ce[Fe],$e=Ie[0],Re=Ie[1]-1,Ze=0;Ze<ve.bynweekday.length;Ze++){var Pe=void 0,Xe=ve.bynweekday[Ze],nt=Xe[0],rt=Xe[1];rt<0?(Pe=Re+7*(rt+1),Pe-=Object(r.j)(Se[Pe]-nt,7)):(Pe=$e+7*(rt-1),Pe+=Object(r.j)(7-Se[Pe]+nt,7)),$e<=Pe&&Pe<=Re&&(be.nwdaymask[Pe]=1)}return be}(U,W,R,K,oe,se)}Object(r.f)(se.byeaster)&&(this.eastermask=function(ce,re){re===void 0&&(re=0);var pe=ce%19,fe=Math.floor(ce/100),Se=ce%100,ve=Math.floor(fe/4),be=fe%4,Ce=Math.floor((fe+8)/25),Fe=Math.floor((fe-Ce+1)/3),Ie=Math.floor(19*pe+fe-ve-Fe+15)%30,$e=Math.floor(Se/4),Re=Se%4,Ze=Math.floor(32+2*be+2*$e-Ie-Re)%7,Pe=Math.floor((pe+11*Ie+22*Ze)/451),Xe=Math.floor((Ie+Ze-7*Pe+114)/31),nt=(Ie+Ze-7*Pe+114)%31+1,rt=Date.UTC(ce,Xe-1,nt+re),Je=Date.UTC(ce,0,1);return[Math.ceil((rt-Je)/864e5)]}(U,se.byeaster))},Object.defineProperty(Ye.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(Ye.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!0,configurable:!0}),Ye.prototype.ydayset=function(){return[Object(r.k)(this.yearlen),0,this.yearlen]},Ye.prototype.mdayset=function(U,W,se){for(var ue=this.mrange[W-1],R=this.mrange[W],K=Object(r.l)(null,this.yearlen),oe=ue;oe<R;oe++)K[oe]=oe;return[K,ue,R]},Ye.prototype.wdayset=function(U,W,se){for(var ue=Object(r.l)(null,this.yearlen+7),R=o.toOrdinal(new Date(Date.UTC(U,W-1,se)))-this.yearordinal,K=R,oe=0;oe<7&&(ue[R]=R,++R,this.wdaymask[R]!==this.options.wkst);oe++);return[ue,K,R]},Ye.prototype.ddayset=function(U,W,se){var ue=Object(r.l)(null,this.yearlen),R=o.toOrdinal(new Date(Date.UTC(U,W-1,se)))-this.yearordinal;return ue[R]=R,[ue,R,1+R]},Ye.prototype.htimeset=function(U,W,se,ue){var R=this,K=[];return this.options.byminute.forEach(function(oe){K=K.concat(R.mtimeset(U,oe,se,ue))}),o.sort(K),K},Ye.prototype.mtimeset=function(U,W,se,ue){var R=this.options.bysecond.map(function(K){return new z(U,W,K,ue)});return o.sort(R),R},Ye.prototype.stimeset=function(U,W,se,ue){return[new z(U,W,se,ue)]},Ye.prototype.getdayset=function(U){switch(U){case A.YEARLY:return this.ydayset.bind(this);case A.MONTHLY:return this.mdayset.bind(this);case A.WEEKLY:return this.wdayset.bind(this);case A.DAILY:default:return this.ddayset.bind(this)}},Ye.prototype.gettimeset=function(U){switch(U){case A.HOURLY:return this.htimeset.bind(this);case A.MINUTELY:return this.mtimeset.bind(this);case A.SECONDLY:return this.stimeset.bind(this)}},Ye);function Ne(U,W,se,ue,R,K){for(var oe=[],ce=0;ce<U.length;ce++){var re=void 0,pe=void 0,fe=U[ce];pe=fe<0?(re=Math.floor(fe/W.length),Object(r.j)(fe,W.length)):(re=Math.floor((fe-1)/W.length),Object(r.j)(fe-1,W.length));for(var Se=[],ve=se;ve<ue;ve++){var be=K[ve];Object(r.f)(be)&&Se.push(be)}var Ce=void 0;Ce=re<0?Se.slice(re)[0]:Se[re];var Fe=W[pe],Ie=o.fromOrdinal(R.yearordinal+Ce),$e=o.combine(Ie,Fe);Object(r.c)(oe,$e)||oe.push($e)}return o.sort(oe),oe}function mt(U,W){var se=W.dtstart,ue=W.freq,R=W.interval,K=W.until,oe=W.bysetpos,ce=W.count;if(ce===0||R===0)return Ke(U);var re=q.fromDate(se),pe=new ut(W);pe.rebuild(re.year,re.month);for(var fe=function(Je,ht,lt){var At=lt.freq,en=lt.byhour,qt=lt.byminute,on=lt.bysecond;return H(At)?function(Bt){var Bn=Bt.dtstart.getTime()%1e3;if(!H(Bt.freq))return[];var Gt=[];return Bt.byhour.forEach(function(jt){Bt.byminute.forEach(function(_n){Bt.bysecond.forEach(function($a){Gt.push(new z(jt,_n,$a,Bn))})})}),Gt}(lt):At>=Ge.HOURLY&&Object(r.h)(en)&&!Object(r.c)(en,ht.hour)||At>=Ge.MINUTELY&&Object(r.h)(qt)&&!Object(r.c)(qt,ht.minute)||At>=Ge.SECONDLY&&Object(r.h)(on)&&!Object(r.c)(on,ht.second)?[]:Je.gettimeset(At)(ht.hour,ht.minute,ht.second,ht.millisecond)}(pe,re,W);;){var Se=pe.getdayset(ue)(re.year,re.month,re.day),ve=Se[0],be=Se[1],Ce=Se[2],Fe=Ht(ve,be,Ce,pe,W);if(Object(r.h)(oe))for(var Ie=Ne(oe,fe,be,Ce,pe,ve),$e=0;$e<Ie.length;$e++){var Re=Ie[$e];if(K&&K<Re)return Ke(U);if(se<=Re){var Ze=Be(Re,W);if(!U.accept(Ze)||ce&&!--ce)return Ke(U)}}else for($e=be;$e<Ce;$e++){var Pe=ve[$e];if(Object(r.f)(Pe))for(var Xe=o.fromOrdinal(pe.yearordinal+Pe),nt=0;nt<fe.length;nt++){var rt=fe[nt];if(Re=o.combine(Xe,rt),K&&K<Re||se<=Re&&(Ze=Be(Re,W),!U.accept(Ze)||ce&&!--ce))return Ke(U)}}if(W.interval===0||(re.add(W,Fe),re.year>o.MAXYEAR))return Ke(U);H(ue)||(fe=pe.gettimeset(ue)(re.hour,re.minute,re.second,0)),pe.rebuild(re.year,re.month)}}function Be(U,W){return new m(U,W.tzid).rezonedDate()}function Ke(U){return U.getValue()}function Ht(U,W,se,ue,R){for(var K,oe,ce,re,pe,fe,Se,ve,be,Ce,Fe=!1,Ie=W;Ie<se;Ie++){var $e=U[Ie];K=ue,oe=$e,re=(ce=R).bymonth,pe=ce.byweekno,fe=ce.byweekday,Se=ce.byeaster,ve=ce.bymonthday,be=ce.bynmonthday,Ce=ce.byyearday,(Fe=Object(r.h)(re)&&!Object(r.c)(re,K.mmask[oe])||Object(r.h)(pe)&&!K.wnomask[oe]||Object(r.h)(fe)&&!Object(r.c)(fe,K.wdaymask[oe])||Object(r.h)(K.nwdaymask)&&!K.nwdaymask[oe]||Se!==null&&!Object(r.c)(K.eastermask,oe)||(Object(r.h)(ve)||Object(r.h)(be))&&!Object(r.c)(ve,K.mdaymask[oe])&&!Object(r.c)(be,K.nmdaymask[oe])||Object(r.h)(Ce)&&(oe<K.yearlen&&!Object(r.c)(Ce,oe+1)&&!Object(r.c)(Ce,-K.yearlen+oe)||oe>=K.yearlen&&!Object(r.c)(Ce,oe+1-K.yearlen)&&!Object(r.c)(Ce,-K.nextyearlen+oe-K.yearlen)))&&(U[$e]=null)}return Fe}var ft=function(){return ft._nlp||(ft._nlp=n(3)),ft._nlp},St={MO:new V.b(0),TU:new V.b(1),WE:new V.b(2),TH:new V.b(3),FR:new V.b(4),SA:new V.b(5),SU:new V.b(6)},Tt={freq:A.YEARLY,dtstart:null,interval:1,wkst:St.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},ka=Object.keys(Tt);function qe(U,W){U===void 0&&(U={}),W===void 0&&(W=!1),this._cache=W?null:new S,this.origOptions=X(U);var se=function(ue){var R=C(C({},Tt),X(ue));if(Object(r.f)(R.byeaster)&&(R.freq=Ge.YEARLY),!Object(r.f)(R.freq)||!Ge.FREQUENCIES[R.freq])throw new Error("Invalid frequency: "+R.freq+" "+ue.freq);if(R.dtstart||(R.dtstart=new Date(new Date().setMilliseconds(0))),Object(r.f)(R.wkst)?Object(r.e)(R.wkst)||(R.wkst=R.wkst.weekday):R.wkst=Ge.MO.weekday,Object(r.f)(R.bysetpos)){Object(r.e)(R.bysetpos)&&(R.bysetpos=[R.bysetpos]);for(var K=0;K<R.bysetpos.length;K++)if((re=R.bysetpos[K])===0||!(-366<=re&&re<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}if(!(R.byweekno||Object(r.h)(R.byweekno)||Object(r.h)(R.byyearday)||R.bymonthday||Object(r.h)(R.bymonthday)||Object(r.f)(R.byweekday)||Object(r.f)(R.byeaster)))switch(R.freq){case Ge.YEARLY:R.bymonth||(R.bymonth=R.dtstart.getUTCMonth()+1),R.bymonthday=R.dtstart.getUTCDate();break;case Ge.MONTHLY:R.bymonthday=R.dtstart.getUTCDate();break;case Ge.WEEKLY:R.byweekday=[o.getWeekday(R.dtstart)]}if(Object(r.f)(R.bymonth)&&!Object(r.d)(R.bymonth)&&(R.bymonth=[R.bymonth]),Object(r.f)(R.byyearday)&&!Object(r.d)(R.byyearday)&&Object(r.e)(R.byyearday)&&(R.byyearday=[R.byyearday]),Object(r.f)(R.bymonthday))if(Object(r.d)(R.bymonthday)){var oe=[],ce=[];for(K=0;K<R.bymonthday.length;K++){var re;0<(re=R.bymonthday[K])?oe.push(re):re<0&&ce.push(re)}R.bymonthday=oe,R.bynmonthday=ce}else R.bymonthday<0?(R.bynmonthday=[R.bymonthday],R.bymonthday=[]):(R.bynmonthday=[],R.bymonthday=[R.bymonthday]);else R.bymonthday=[],R.bynmonthday=[];if(Object(r.f)(R.byweekno)&&!Object(r.d)(R.byweekno)&&(R.byweekno=[R.byweekno]),Object(r.f)(R.byweekday))if(Object(r.e)(R.byweekday))R.byweekday=[R.byweekday],R.bynweekday=null;else if(Object(r.g)(R.byweekday))R.byweekday=[V.b.fromStr(R.byweekday).weekday],R.bynweekday=null;else if(R.byweekday instanceof V.b)!R.byweekday.n||R.freq>Ge.MONTHLY?(R.byweekday=[R.byweekday.weekday],R.bynweekday=null):(R.bynweekday=[[R.byweekday.weekday,R.byweekday.n]],R.byweekday=null);else{var pe=[],fe=[];for(K=0;K<R.byweekday.length;K++){var Se=R.byweekday[K];Object(r.e)(Se)?pe.push(Se):Object(r.g)(Se)?pe.push(V.b.fromStr(Se).weekday):!Se.n||R.freq>Ge.MONTHLY?pe.push(Se.weekday):fe.push([Se.weekday,Se.n])}R.byweekday=Object(r.h)(pe)?pe:null,R.bynweekday=Object(r.h)(fe)?fe:null}else R.bynweekday=null;return Object(r.f)(R.byhour)?Object(r.e)(R.byhour)&&(R.byhour=[R.byhour]):R.byhour=R.freq<Ge.HOURLY?[R.dtstart.getUTCHours()]:null,Object(r.f)(R.byminute)?Object(r.e)(R.byminute)&&(R.byminute=[R.byminute]):R.byminute=R.freq<Ge.MINUTELY?[R.dtstart.getUTCMinutes()]:null,Object(r.f)(R.bysecond)?Object(r.e)(R.bysecond)&&(R.bysecond=[R.bysecond]):R.bysecond=R.freq<Ge.SECONDLY?[R.dtstart.getUTCSeconds()]:null,{parsedOptions:R}}(U).parsedOptions;this.options=se}var Ge=(qe.parseText=function(U,W){return ft().parseText(U,W)},qe.fromText=function(U,W){return ft().fromText(U,W)},qe.fromString=function(U){return new qe(qe.parseString(U)||void 0)},qe.prototype._iter=function(U){return mt(U,this.options)},qe.prototype._cacheGet=function(U,W){return!!this._cache&&this._cache._cacheGet(U,W)},qe.prototype._cacheAdd=function(U,W,se){if(this._cache)return this._cache._cacheAdd(U,W,se)},qe.prototype.all=function(U){if(U)return this._iter(new B("all",{},U));var W=this._cacheGet("all");return W===!1&&(W=this._iter(new f("all",{})),this._cacheAdd("all",W)),W},qe.prototype.between=function(U,W,se,ue){if(se===void 0&&(se=!1),!o.isValidDate(U)||!o.isValidDate(W))throw new Error("Invalid date passed in to RRule.between");var R={before:W,after:U,inc:se};if(ue)return this._iter(new B("between",R,ue));var K=this._cacheGet("between",R);return K===!1&&(K=this._iter(new f("between",R)),this._cacheAdd("between",K,R)),K},qe.prototype.before=function(U,W){if(W===void 0&&(W=!1),!o.isValidDate(U))throw new Error("Invalid date passed in to RRule.before");var se={dt:U,inc:W},ue=this._cacheGet("before",se);return ue===!1&&(ue=this._iter(new f("before",se)),this._cacheAdd("before",ue,se)),ue},qe.prototype.after=function(U,W){if(W===void 0&&(W=!1),!o.isValidDate(U))throw new Error("Invalid date passed in to RRule.after");var se={dt:U,inc:W},ue=this._cacheGet("after",se);return ue===!1&&(ue=this._iter(new f("after",se)),this._cacheAdd("after",ue,se)),ue},qe.prototype.count=function(){return this.all().length},qe.prototype.toString=function(){return y(this.origOptions)},qe.prototype.toText=function(U,W,se){return ft().toText(this,U,W,se)},qe.prototype.isFullyConvertibleToText=function(){return ft().isFullyConvertible(this)},qe.prototype.clone=function(){return new qe(this.origOptions)},qe.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],qe.YEARLY=A.YEARLY,qe.MONTHLY=A.MONTHLY,qe.WEEKLY=A.WEEKLY,qe.DAILY=A.DAILY,qe.HOURLY=A.HOURLY,qe.MINUTELY=A.MINUTELY,qe.SECONDLY=A.SECONDLY,qe.MO=St.MO,qe.TU=St.TU,qe.WE=St.WE,qe.TH=St.TH,qe.FR=St.FR,qe.SA=St.SA,qe.SU=St.SU,qe.parseString=ae,qe.optionsToString=y,qe),Hn,Wn={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function st(U,W){var se=[],ue=[],R=[],K=[],oe=Q(U),ce=oe.dtstart,re=oe.tzid;return function(pe,fe){if(fe===void 0&&(fe=!1),!(pe=pe&&pe.trim()))throw new Error("Invalid empty string");if(!fe)return pe.split(/\s/);for(var Se=pe.split(`
`),ve=0;ve<Se.length;){var be=Se[ve]=Se[ve].replace(/\s+$/g,"");be?0<ve&&be[0]===" "?(Se[ve-1]+=be.slice(1),Se.splice(ve,1)):ve+=1:Se.splice(ve,1)}return Se}(U,W.unfold).forEach(function(pe){if(pe){var fe=function(Ie){var $e=function(Xe){if(Xe.indexOf(":")===-1)return{name:"RRULE",value:Xe};var nt=Object(r.m)(Xe,":",1),rt=nt[0],Je=nt[1];return{name:rt,value:Je}}(Ie),Re=$e.name,Ze=$e.value,Pe=Re.split(";");if(!Pe)throw new Error("empty property name");return{name:Pe[0].toUpperCase(),parms:Pe.slice(1),value:Ze}}(pe),Se=fe.name,ve=fe.parms,be=fe.value;switch(Se.toUpperCase()){case"RRULE":if(ve.length)throw new Error("unsupported RRULE parm: "+ve.join(","));se.push(ae(pe));break;case"RDATE":var Ce=/RDATE(?:;TZID=([^:=]+))?/i.exec(pe),Fe=(Ce[0],Ce[1]);Fe&&!re&&(re=Fe),ue=ue.concat(rn(be,ve));break;case"EXRULE":if(ve.length)throw new Error("unsupported EXRULE parm: "+ve.join(","));R.push(ae(be));break;case"EXDATE":K=K.concat(rn(be,ve));break;case"DTSTART":break;default:throw new Error("unsupported property: "+Se)}}}),{dtstart:ce,tzid:re,rrulevals:se,rdatevals:ue,exrulevals:R,exdatevals:K}}function yt(U,W){return W===void 0&&(W={}),function(se,ue){var R=st(se,ue),K=R.rrulevals,oe=R.rdatevals,ce=R.exrulevals,re=R.exdatevals,pe=R.dtstart,fe=R.tzid,Se=ue.cache===!1;if(ue.compatible&&(ue.forceset=!0,ue.unfold=!0),ue.forceset||1<K.length||oe.length||ce.length||re.length){var ve=new On(Se);return ve.dtstart(pe),ve.tzid(fe||void 0),K.forEach(function(Ce){ve.rrule(new Ge(dn(Ce,pe,fe),Se))}),oe.forEach(function(Ce){ve.rdate(Ce)}),ce.forEach(function(Ce){ve.exrule(new Ge(dn(Ce,pe,fe),Se))}),re.forEach(function(Ce){ve.exdate(Ce)}),ue.compatible&&ue.dtstart&&ve.rdate(pe),ve}var be=K[0]||{};return new Ge(dn(be,be.dtstart||ue.dtstart||pe,be.tzid||ue.tzid||fe),Se)}(U,function(se){var ue=[],R=Object.keys(se),K=Object.keys(Wn);if(R.forEach(function(oe){Object(r.c)(K,oe)||ue.push(oe)}),ue.length)throw new Error("Invalid options: "+ue.join(", "));return C(C({},Wn),se)}(W))}function dn(U,W,se){return C(C({},U),{dtstart:W,tzid:se})}function rn(U,W){return W.forEach(function(se){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(se))throw new Error("unsupported RDATE/EXDATE parm: "+se)}),U.split(",").map(function(se){return o.untilStringToDate(se)})}function bn(U){var W=this;return function(se){if(se!==void 0&&(W["_"+U]=se),W["_"+U]!==void 0)return W["_"+U];for(var ue=0;ue<W._rrule.length;ue++){var R=W._rrule[ue].origOptions[U];if(R)return R}}}function dt(U){U===void 0&&(U=!1);var W=Hn.call(this,{},U)||this;return W.dtstart=bn.apply(W,["dtstart"]),W.tzid=bn.apply(W,["tzid"]),W._rrule=[],W._rdate=[],W._exrule=[],W._exdate=[],W}var On=(v(dt,Hn=Ge),dt.prototype._iter=function(U){return function(W,se,ue,R,K,oe){var ce={},re=W.accept;function pe(be,Ce){ue.forEach(function(Fe){Fe.between(be,Ce,!0).forEach(function(Ie){ce[Number(Ie)]=!0})})}K.forEach(function(be){var Ce=new m(be,oe).rezonedDate();ce[Number(Ce)]=!0}),W.accept=function(be){var Ce=Number(be);return isNaN(Ce)?re.call(this,be):!(!ce[Ce]&&(pe(new Date(Ce-1),new Date(Ce+1)),!ce[Ce]))||(ce[Ce]=!0,re.call(this,be))},W.method==="between"&&(pe(W.args.after,W.args.before),W.accept=function(be){var Ce=Number(be);return!!ce[Ce]||(ce[Ce]=!0,re.call(this,be))});for(var fe=0;fe<R.length;fe++){var Se=new m(R[fe],oe).rezonedDate();if(!W.accept(new Date(Se.getTime())))break}se.forEach(function(be){mt(W,be.options)});var ve=W._result;switch(o.sort(ve),W.method){case"all":case"between":return ve;case"before":return ve.length&&ve[ve.length-1]||null;case"after":default:return ve.length&&ve[0]||null}}(U,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},dt.prototype.rrule=function(U){Ln(U,this._rrule)},dt.prototype.exrule=function(U){Ln(U,this._exrule)},dt.prototype.rdate=function(U){Nn(U,this._rdate)},dt.prototype.exdate=function(U){Nn(U,this._exdate)},dt.prototype.rrules=function(){return this._rrule.map(function(U){return yt(U.toString())})},dt.prototype.exrules=function(){return this._exrule.map(function(U){return yt(U.toString())})},dt.prototype.rdates=function(){return this._rdate.map(function(U){return new Date(U.getTime())})},dt.prototype.exdates=function(){return this._exdate.map(function(U){return new Date(U.getTime())})},dt.prototype.valueOf=function(){var U=[];return!this._rrule.length&&this._dtstart&&(U=U.concat(y({dtstart:this._dtstart}))),this._rrule.forEach(function(W){U=U.concat(W.toString().split(`
`))}),this._exrule.forEach(function(W){U=U.concat(W.toString().split(`
`).map(function(se){return se.replace(/^RRULE:/,"EXRULE:")}).filter(function(se){return!/^DTSTART/.test(se)}))}),this._rdate.length&&U.push(Ot("RDATE",this._rdate,this.tzid())),this._exdate.length&&U.push(Ot("EXDATE",this._exdate,this.tzid())),U},dt.prototype.toString=function(){return this.valueOf().join(`
`)},dt.prototype.clone=function(){var U=new dt(!!this._cache);return this._rrule.forEach(function(W){return U.rrule(W.clone())}),this._exrule.forEach(function(W){return U.exrule(W.clone())}),this._rdate.forEach(function(W){return U.rdate(new Date(W.getTime()))}),this._exdate.forEach(function(W){return U.exdate(new Date(W.getTime()))}),U},dt);function Ln(U,W){if(!(U instanceof Ge))throw new TypeError(String(U)+" is not RRule instance");Object(r.c)(W.map(String),String(U))||W.push(U)}function Nn(U,W){if(!(U instanceof Date))throw new TypeError(String(U)+" is not Date instance");Object(r.c)(W.map(Number),Number(U))||(W.push(U),o.sort(W))}function Ot(U,W,se){var ue=!se||se.toUpperCase()==="UTC";return(ue?U+":":U+";TZID="+se+":")+W.map(function(R){return o.timeToUntilString(R.valueOf(),ue)}).join(",")}n.d(t,"rrulestr",function(){return yt}),n.d(t,"Frequency",function(){return A}),n.d(t,"Weekday",function(){return V.b}),n.d(t,"RRule",function(){return Ge}),n.d(t,"RRuleSet",function(){return On});/*!
 * rrule.js - Library for working with recurrence rules for calendar dates.
 * https://github.com/jakubroztocil/rrule
 *
 * Copyright 2010, Jakub Roztocil and Lars Schoning
 * Licenced under the BSD licence.
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 * Based on:
 * python-dateutil - Extensions to the standard Python datetime module.
 * Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
 * Copyright (c) 2012 - Tomi Pieviläinen <tomi.pievilainen@iki.fi>
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 */t.default=Ge},function(e,t,n){n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var a=["MO","TU","WE","TH","FR","SA","SU"],i=(r.fromStr=function(o){return new r(a.indexOf(o))},r.prototype.nth=function(o){return this.n===o?this:new r(this.weekday,o)},r.prototype.equals=function(o){return this.weekday===o.weekday&&this.n===o.n},r.prototype.toString=function(){var o=a[this.weekday];return this.n&&(o=(0<this.n?"+":"")+String(this.n)+o),o},r.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},r);function r(o,d){if(d===0)throw new Error("Can't create weekday with n == 0");this.weekday=o,this.n=d}},function(e,t,n){n.r(t);function a(H,V){return H.indexOf(V)!==-1}function i(H){return H.toString()}function r(H,V,z){return V+" "+z+", "+H}var o={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},d=n(1),f=n(0);function p(H,V,z,N){if(V===void 0&&(V=i),z===void 0&&(z=o),N===void 0&&(N=r),this.text=[],this.language=z||o,this.gettext=V,this.dateFormatter=N,this.rrule=H,this.options=H.options,this.origOptions=H.origOptions,this.origOptions.bymonthday){var F=[].concat(this.options.bymonthday),q=[].concat(this.options.bynmonthday);F.sort(function(Q,ie){return Q-ie}),q.sort(function(Q,ie){return ie-Q}),this.bymonthday=F.concat(q),this.bymonthday.length||(this.bymonthday=null)}if(Object(f.f)(this.origOptions.byweekday)){var Y=Object(f.d)(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],X=String(Y);this.byweekday={allWeeks:Y.filter(function(Q){return!Q.n}),someWeeks:Y.filter(function(Q){return!!Q.n}),isWeekdays:X.indexOf("MO")!==-1&&X.indexOf("TU")!==-1&&X.indexOf("WE")!==-1&&X.indexOf("TH")!==-1&&X.indexOf("FR")!==-1&&X.indexOf("SA")===-1&&X.indexOf("SU")===-1,isEveryDay:X.indexOf("MO")!==-1&&X.indexOf("TU")!==-1&&X.indexOf("WE")!==-1&&X.indexOf("TH")!==-1&&X.indexOf("FR")!==-1&&X.indexOf("SA")!==-1&&X.indexOf("SU")!==-1};var ae=function(Q,ie){return Q.weekday-ie.weekday};this.byweekday.allWeeks.sort(ae),this.byweekday.someWeeks.sort(ae),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}var v=(p.isFullyConvertible=function(H){if(!(H.options.freq in p.IMPLEMENTED)||H.origOptions.until&&H.origOptions.count)return!1;for(var V in H.origOptions){if(a(["dtstart","wkst","freq"],V))return!0;if(!a(p.IMPLEMENTED[H.options.freq],V))return!1}return!0},p.prototype.isFullyConvertible=function(){return p.isFullyConvertible(this.rrule)},p.prototype.toString=function(){var H=this.gettext;if(!(this.options.freq in p.IMPLEMENTED))return H("RRule error: Unable to fully convert this rrule to text");if(this.text=[H("every")],this[d.default.FREQUENCIES[this.options.freq]](),this.options.until){this.add(H("until"));var V=this.options.until;this.add(this.dateFormatter(V.getUTCFullYear(),this.language.monthNames[V.getUTCMonth()],V.getUTCDate()))}else this.options.count&&this.add(H("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?H("times"):H("time"));return this.isFullyConvertible()||this.add(H("(~ approximate)")),this.text.join("")},p.prototype.HOURLY=function(){var H=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?H("hours"):H("hour"))},p.prototype.MINUTELY=function(){var H=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?H("minutes"):H("minute"))},p.prototype.DAILY=function(){var H=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?H("weekdays"):H("weekday")):this.add(this.plural(this.options.interval)?H("days"):H("day")),this.origOptions.bymonth&&(this.add(H("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},p.prototype.WEEKLY=function(){var H=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?H("weeks"):H("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?H("weekdays"):H("weekday")):this.add(H("on")).add(H("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?H("days"):H("day")):(this.options.interval===1&&this.add(H("week")),this.origOptions.bymonth&&(this.add(H("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},p.prototype.MONTHLY=function(){var H=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(H("months")),this.plural(this.options.interval)&&this.add(H("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?H("months"):H("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(H("on")).add(H("weekdays")):this.byweekday&&this._byweekday()},p.prototype.YEARLY=function(){var H=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(H("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?H("years"):H("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(H("on the")).add(this.list(this.options.byyearday,this.nth,H("and"))).add(H("day")),this.options.byweekno&&this.add(H("in")).add(this.plural(this.options.byweekno.length)?H("weeks"):H("week")).add(this.list(this.options.byweekno,void 0,H("and")))},p.prototype._bymonthday=function(){var H=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(H("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,H("or"))).add(H("the")).add(this.list(this.bymonthday,this.nth,H("or"))):this.add(H("on the")).add(this.list(this.bymonthday,this.nth,H("and")))},p.prototype._byweekday=function(){var H=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(H("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(H("and")),this.add(H("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,H("and"))))},p.prototype._byhour=function(){var H=this.gettext;this.add(H("at")).add(this.list(this.origOptions.byhour,void 0,H("and")))},p.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},p.prototype.nth=function(H){var V,z;H=parseInt(H.toString(),10);var N=this.gettext;if(H===-1)return N("last");switch(z=Math.abs(H)){case 1:case 21:case 31:V=z+N("st");break;case 2:case 22:V=z+N("nd");break;case 3:case 23:V=z+N("rd");break;default:V=z+N("th")}return H<0?V+" "+N("last"):V},p.prototype.monthtext=function(H){return this.language.monthNames[H-1]},p.prototype.weekdaytext=function(H){var V=Object(f.e)(H)?(H+1)%7:H.getJsWeekday();return(H.n?this.nth(H.n)+" ":"")+this.language.dayNames[V]},p.prototype.plural=function(H){return H%100!=1},p.prototype.add=function(H){return this.text.push(" "),this.text.push(H),this},p.prototype.list=function(H,V,z,N){function F(Y){return V&&V.call(q,Y)}N===void 0&&(N=","),Object(f.d)(H)||(H=[H]),V=V||function(Y){return Y.toString()};var q=this;return z?function(Y,X,ae){for(var Q="",ie=0;ie<Y.length;ie++)ie!==0&&(ie===Y.length-1?Q+=" "+ae+" ":Q+=X+" "),Q+=Y[ie];return Q}(H.map(F),N,z):H.map(F).join(N+" ")},p),w=(C.prototype.start=function(H){return this.text=H,this.done=!1,this.nextSymbol()},C.prototype.isDone=function(){return this.done&&this.symbol===null},C.prototype.nextSymbol=function(){var H,V;this.symbol=null,this.value=null;do{if(this.done)return!1;for(var z in H=null,this.rules){var N=this.rules[z].exec(this.text);N&&(H===null||N[0].length>H[0].length)&&(H=N,V=z)}if(H!=null&&(this.text=this.text.substr(H[0].length),this.text===""&&(this.done=!0)),H==null)return this.done=!0,this.symbol=null,void(this.value=null)}while(V==="SKIP");return this.symbol=V,this.value=H,!0},C.prototype.accept=function(H){if(this.symbol!==H)return!1;if(this.value){var V=this.value;return this.nextSymbol(),V}return this.nextSymbol(),!0},C.prototype.acceptNumber=function(){return this.accept("number")},C.prototype.expect=function(H){if(this.accept(H))return!0;throw new Error("expected "+H+" but found "+this.symbol)},C);function C(H){this.done=!0,this.rules=H}function x(H,V){V===void 0&&(V=o);var z={},N=new w(V.tokens);return N.start(H)?(function(){N.expect("every");var Q=N.acceptNumber();if(Q&&(z.interval=parseInt(Q[0],10)),N.isDone())throw new Error("Unexpected end");switch(N.symbol){case"day(s)":z.freq=d.default.DAILY,N.nextSymbol()&&(function(){if(N.accept("at"))do{var l=N.acceptNumber();if(!l)throw new Error("Unexpected symbol "+N.symbol+", expected hour");for(z.byhour=[parseInt(l[0],10)];N.accept("comma");){if(!(l=N.acceptNumber()))throw new Error("Unexpected symbol "+N.symbol+"; expected hour");z.byhour.push(parseInt(l[0],10))}}while(N.accept("comma")||N.accept("at"))}(),ae());break;case"weekday(s)":z.freq=d.default.WEEKLY,z.byweekday=[d.default.MO,d.default.TU,d.default.WE,d.default.TH,d.default.FR],N.nextSymbol(),ae();break;case"week(s)":z.freq=d.default.WEEKLY,N.nextSymbol()&&(F(),ae());break;case"hour(s)":z.freq=d.default.HOURLY,N.nextSymbol()&&(F(),ae());break;case"minute(s)":z.freq=d.default.MINUTELY,N.nextSymbol()&&(F(),ae());break;case"month(s)":z.freq=d.default.MONTHLY,N.nextSymbol()&&(F(),ae());break;case"year(s)":z.freq=d.default.YEARLY,N.nextSymbol()&&(F(),ae());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":z.freq=d.default.WEEKLY;var ie=N.symbol.substr(0,2).toUpperCase();if(z.byweekday=[d.default[ie]],!N.nextSymbol())return;for(;N.accept("comma");){if(N.isDone())throw new Error("Unexpected end");var te=Y();if(!te)throw new Error("Unexpected symbol "+N.symbol+", expected weekday");z.byweekday.push(d.default[te]),N.nextSymbol()}(function(){N.accept("on"),N.accept("the");var l=X();if(l)for(z.bymonthday=[l],N.nextSymbol();N.accept("comma");){if(!(l=X()))throw new Error("Unexpected symbol "+N.symbol+"; expected monthday");z.bymonthday.push(l),N.nextSymbol()}})(),ae();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(z.freq=d.default.YEARLY,z.bymonth=[q()],!N.nextSymbol())return;for(;N.accept("comma");){if(N.isDone())throw new Error("Unexpected end");var E=q();if(!E)throw new Error("Unexpected symbol "+N.symbol+", expected month");z.bymonth.push(E),N.nextSymbol()}F(),ae();break;default:throw new Error("Unknown symbol")}}(),z):null;function F(){var Q=N.accept("on"),ie=N.accept("the");if(Q||ie)do{var te=X(),E=Y(),l=q();if(te)E?(N.nextSymbol(),z.byweekday||(z.byweekday=[]),z.byweekday.push(d.default[E].nth(te))):(z.bymonthday||(z.bymonthday=[]),z.bymonthday.push(te),N.accept("day(s)"));else if(E)N.nextSymbol(),z.byweekday||(z.byweekday=[]),z.byweekday.push(d.default[E]);else if(N.symbol==="weekday(s)")N.nextSymbol(),z.byweekday||(z.byweekday=[d.default.MO,d.default.TU,d.default.WE,d.default.TH,d.default.FR]);else if(N.symbol==="week(s)"){N.nextSymbol();var m=N.acceptNumber();if(!m)throw new Error("Unexpected symbol "+N.symbol+", expected week number");for(z.byweekno=[parseInt(m[0],10)];N.accept("comma");){if(!(m=N.acceptNumber()))throw new Error("Unexpected symbol "+N.symbol+"; expected monthday");z.byweekno.push(parseInt(m[0],10))}}else{if(!l)return;N.nextSymbol(),z.bymonth||(z.bymonth=[]),z.bymonth.push(l)}}while(N.accept("comma")||N.accept("the")||N.accept("on"))}function q(){switch(N.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function Y(){switch(N.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return N.symbol.substr(0,2).toUpperCase();default:return!1}}function X(){switch(N.symbol){case"last":return N.nextSymbol(),-1;case"first":return N.nextSymbol(),1;case"second":return N.nextSymbol(),N.accept("last")?-2:2;case"third":return N.nextSymbol(),N.accept("last")?-3:3;case"nth":var Q=parseInt(N.value[1],10);if(Q<-366||366<Q)throw new Error("Nth out of range: "+Q);return N.nextSymbol(),N.accept("last")?-Q:Q;default:return!1}}function ae(){if(N.symbol==="until"){var Q=Date.parse(N.text);if(!Q)throw new Error("Cannot parse until date:"+N.text);z.until=new Date(Q)}else N.accept("for")&&(z.count=parseInt(N.value[0],10),N.expect("number"))}}n.d(t,"fromText",function(){return L}),n.d(t,"isFullyConvertible",function(){return B}),n.d(t,"toText",function(){return k}),n.d(t,"parseText",function(){return x});/*!
* rrule.js - Library for working with recurrence rules for calendar dates.
* https://github.com/jakubroztocil/rrule
*
* Copyright 2010, Jakub Roztocil and Lars Schoning
* Licenced under the BSD licence.
* https://github.com/jakubroztocil/rrule/blob/master/LICENCE
*
*/var L=function(H,V){return V===void 0&&(V=o),new d.default(x(H,V)||void 0)},A=["count","until","interval","byweekday","bymonthday","bymonth"];v.IMPLEMENTED=[],v.IMPLEMENTED[d.default.HOURLY]=A,v.IMPLEMENTED[d.default.MINUTELY]=A,v.IMPLEMENTED[d.default.DAILY]=["byhour"].concat(A),v.IMPLEMENTED[d.default.WEEKLY]=A,v.IMPLEMENTED[d.default.MONTHLY]=A,v.IMPLEMENTED[d.default.YEARLY]=["byweekno","byyearday"].concat(A);var k=function(H,V,z,N){return new v(H,V,z,N).toString()},B=v.isFullyConvertible}],ne.c=g,ne.d=function(e,t,n){ne.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},ne.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},ne.t=function(e,t){if(1&t&&(e=ne(e)),8&t||4&t&&typeof e=="object"&&e&&e.__esModule)return e;var n=Object.create(null);if(ne.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&typeof e!="string")for(var a in e)ne.d(n,a,(function(i){return e[i]}).bind(null,a));return n},ne.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return ne.d(t,"a",t),t},ne.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},ne.p="",ne(ne.s=1);function ne(e){if(g[e])return g[e].exports;var t=g[e]={i:e,l:!1,exports:{}};return u[e].call(t.exports,t,t.exports,ne),t.l=!0,t.exports}var u,g})}(Mo)),Mo.exports}var Kp=Zp();const Qp=Cm(Kp);typeof window<"u"&&(window.Smart?window.Smart.RenderMode="manual":window.Smart={RenderMode:"manual"});window.rrule={RRule:Qp};let km;typeof window<"u"&&(km=window.Smart);class Dm extends Jt.Component{constructor(j){super(j),this.componentRef=Jt.createRef()}get id(){return this._id||(this._id="Scheduler"+Math.floor((1+Math.random())*65536).toString(16).substring(1)),this._id}get autoScrollStep(){return this.nativeElement?this.nativeElement.autoScrollStep:void 0}set autoScrollStep(j){this.nativeElement&&(this.nativeElement.autoScrollStep=j)}get autoHeightAllDayCells(){return this.nativeElement?this.nativeElement.autoHeightAllDayCells:void 0}set autoHeightAllDayCells(j){this.nativeElement&&(this.nativeElement.autoHeightAllDayCells=j)}get available(){return this.nativeElement?this.nativeElement.available:void 0}set available(j){this.nativeElement&&(this.nativeElement.available=j)}get colorScheme(){return this.nativeElement?this.nativeElement.colorScheme:void 0}set colorScheme(j){this.nativeElement&&(this.nativeElement.colorScheme=j)}get currentTime(){return this.nativeElement?this.nativeElement.currentTime:void 0}set currentTime(j){this.nativeElement&&(this.nativeElement.currentTime=j)}get currentTimeIndicator(){return this.nativeElement?this.nativeElement.currentTimeIndicator:void 0}set currentTimeIndicator(j){this.nativeElement&&(this.nativeElement.currentTimeIndicator=j)}get currentTimeIndicatorInterval(){return this.nativeElement?this.nativeElement.currentTimeIndicatorInterval:void 0}set currentTimeIndicatorInterval(j){this.nativeElement&&(this.nativeElement.currentTimeIndicatorInterval=j)}get contextMenuDataSource(){return this.nativeElement?this.nativeElement.contextMenuDataSource:void 0}set contextMenuDataSource(j){this.nativeElement&&(this.nativeElement.contextMenuDataSource=j)}get contextMenuClipboardActions(){return this.nativeElement?this.nativeElement.contextMenuClipboardActions:void 0}set contextMenuClipboardActions(j){this.nativeElement&&(this.nativeElement.contextMenuClipboardActions=j)}get eventTemplate(){return this.nativeElement?this.nativeElement.eventTemplate:void 0}set eventTemplate(j){this.nativeElement&&(this.nativeElement.eventTemplate=j)}get eventCollectorTemplate(){return this.nativeElement?this.nativeElement.eventCollectorTemplate:void 0}set eventCollectorTemplate(j){this.nativeElement&&(this.nativeElement.eventCollectorTemplate=j)}get eventRenderMode(){return this.nativeElement?this.nativeElement.eventRenderMode:void 0}set eventRenderMode(j){this.nativeElement&&(this.nativeElement.eventRenderMode=j)}get eventTooltipTemplate(){return this.nativeElement?this.nativeElement.eventTooltipTemplate:void 0}set eventTooltipTemplate(j){this.nativeElement&&(this.nativeElement.eventTooltipTemplate=j)}get cellTemplate(){return this.nativeElement?this.nativeElement.cellTemplate:void 0}set cellTemplate(j){this.nativeElement&&(this.nativeElement.cellTemplate=j)}get dateCurrent(){return this.nativeElement?this.nativeElement.dateCurrent:void 0}set dateCurrent(j){this.nativeElement&&(this.nativeElement.dateCurrent=j)}get dataExport(){return this.nativeElement?this.nativeElement.dataExport:void 0}set dataExport(j){this.nativeElement&&(this.nativeElement.dataExport=j)}get dataSource(){return this.nativeElement?this.nativeElement.dataSource:void 0}set dataSource(j){this.nativeElement&&(this.nativeElement.dataSource=j)}get dateSelectorFormatFunction(){return this.nativeElement?this.nativeElement.dateSelectorFormatFunction:void 0}set dateSelectorFormatFunction(j){this.nativeElement&&(this.nativeElement.dateSelectorFormatFunction=j)}get dayFormat(){return this.nativeElement?this.nativeElement.dayFormat:void 0}set dayFormat(j){this.nativeElement&&(this.nativeElement.dayFormat=j)}get disabled(){return this.nativeElement?this.nativeElement.disabled:void 0}set disabled(j){this.nativeElement&&(this.nativeElement.disabled=j)}get disableAutoScroll(){return this.nativeElement?this.nativeElement.disableAutoScroll:void 0}set disableAutoScroll(j){this.nativeElement&&(this.nativeElement.disableAutoScroll=j)}get disableDrag(){return this.nativeElement?this.nativeElement.disableDrag:void 0}set disableDrag(j){this.nativeElement&&(this.nativeElement.disableDrag=j)}get disableDrop(){return this.nativeElement?this.nativeElement.disableDrop:void 0}set disableDrop(j){this.nativeElement&&(this.nativeElement.disableDrop=j)}get disableResize(){return this.nativeElement?this.nativeElement.disableResize:void 0}set disableResize(j){this.nativeElement&&(this.nativeElement.disableResize=j)}get disableSelection(){return this.nativeElement?this.nativeElement.disableSelection:void 0}set disableSelection(j){this.nativeElement&&(this.nativeElement.disableSelection=j)}get disableWindowEditor(){return this.nativeElement?this.nativeElement.disableWindowEditor:void 0}set disableWindowEditor(j){this.nativeElement&&(this.nativeElement.disableWindowEditor=j)}get disableContextMenu(){return this.nativeElement?this.nativeElement.disableContextMenu:void 0}set disableContextMenu(j){this.nativeElement&&(this.nativeElement.disableContextMenu=j)}get disableEventMenu(){return this.nativeElement?this.nativeElement.disableEventMenu:void 0}set disableEventMenu(j){this.nativeElement&&(this.nativeElement.disableEventMenu=j)}get disableViewMenu(){return this.nativeElement?this.nativeElement.disableViewMenu:void 0}set disableViewMenu(j){this.nativeElement&&(this.nativeElement.disableViewMenu=j)}get disableDateMenu(){return this.nativeElement?this.nativeElement.disableDateMenu:void 0}set disableDateMenu(j){this.nativeElement&&(this.nativeElement.disableDateMenu=j)}get dragFeedbackFormatFunction(){return this.nativeElement?this.nativeElement.dragFeedbackFormatFunction:void 0}set dragFeedbackFormatFunction(j){this.nativeElement&&(this.nativeElement.dragFeedbackFormatFunction=j)}get dragOffset(){return this.nativeElement?this.nativeElement.dragOffset:void 0}set dragOffset(j){this.nativeElement&&(this.nativeElement.dragOffset=j)}get filter(){return this.nativeElement?this.nativeElement.filter:void 0}set filter(j){this.nativeElement&&(this.nativeElement.filter=j)}get filterable(){return this.nativeElement?this.nativeElement.filterable:void 0}set filterable(j){this.nativeElement&&(this.nativeElement.filterable=j)}get filterMode(){return this.nativeElement?this.nativeElement.filterMode:void 0}set filterMode(j){this.nativeElement&&(this.nativeElement.filterMode=j)}get events(){return this.nativeElement?this.nativeElement.events:void 0}set events(j){this.nativeElement&&(this.nativeElement.events=j)}get firstDayOfWeek(){return this.nativeElement?this.nativeElement.firstDayOfWeek:void 0}set firstDayOfWeek(j){this.nativeElement&&(this.nativeElement.firstDayOfWeek=j)}get footerTemplate(){return this.nativeElement?this.nativeElement.footerTemplate:void 0}set footerTemplate(j){this.nativeElement&&(this.nativeElement.footerTemplate=j)}get groupByDate(){return this.nativeElement?this.nativeElement.groupByDate:void 0}set groupByDate(j){this.nativeElement&&(this.nativeElement.groupByDate=j)}get groupOrientation(){return this.nativeElement?this.nativeElement.groupOrientation:void 0}set groupOrientation(j){this.nativeElement&&(this.nativeElement.groupOrientation=j)}get groupTemplate(){return this.nativeElement?this.nativeElement.groupTemplate:void 0}set groupTemplate(j){this.nativeElement&&(this.nativeElement.groupTemplate=j)}get groups(){return this.nativeElement?this.nativeElement.groups:void 0}set groups(j){this.nativeElement&&(this.nativeElement.groups=j)}get hourEnd(){return this.nativeElement?this.nativeElement.hourEnd:void 0}set hourEnd(j){this.nativeElement&&(this.nativeElement.hourEnd=j)}get hourStart(){return this.nativeElement?this.nativeElement.hourStart:void 0}set hourStart(j){this.nativeElement&&(this.nativeElement.hourStart=j)}get hourFormat(){return this.nativeElement?this.nativeElement.hourFormat:void 0}set hourFormat(j){this.nativeElement&&(this.nativeElement.hourFormat=j)}get headerTemplate(){return this.nativeElement?this.nativeElement.headerTemplate:void 0}set headerTemplate(j){this.nativeElement&&(this.nativeElement.headerTemplate=j)}get headerDatePosition(){return this.nativeElement?this.nativeElement.headerDatePosition:void 0}set headerDatePosition(j){this.nativeElement&&(this.nativeElement.headerDatePosition=j)}get headerNavigationStyle(){return this.nativeElement?this.nativeElement.headerNavigationStyle:void 0}set headerNavigationStyle(j){this.nativeElement&&(this.nativeElement.headerNavigationStyle=j)}get headerViewPosition(){return this.nativeElement?this.nativeElement.headerViewPosition:void 0}set headerViewPosition(j){this.nativeElement&&(this.nativeElement.headerViewPosition=j)}get hideAllDay(){return this.nativeElement?this.nativeElement.hideAllDay:void 0}set hideAllDay(j){this.nativeElement&&(this.nativeElement.hideAllDay=j)}get hideNonworkingWeekdays(){return this.nativeElement?this.nativeElement.hideNonworkingWeekdays:void 0}set hideNonworkingWeekdays(j){this.nativeElement&&(this.nativeElement.hideNonworkingWeekdays=j)}get hideOtherMonthDays(){return this.nativeElement?this.nativeElement.hideOtherMonthDays:void 0}set hideOtherMonthDays(j){this.nativeElement&&(this.nativeElement.hideOtherMonthDays=j)}get hideTodayButton(){return this.nativeElement?this.nativeElement.hideTodayButton:void 0}set hideTodayButton(j){this.nativeElement&&(this.nativeElement.hideTodayButton=j)}get hideViewMenuCheckableItems(){return this.nativeElement?this.nativeElement.hideViewMenuCheckableItems:void 0}set hideViewMenuCheckableItems(j){this.nativeElement&&(this.nativeElement.hideViewMenuCheckableItems=j)}get hideWeekend(){return this.nativeElement?this.nativeElement.hideWeekend:void 0}set hideWeekend(j){this.nativeElement&&(this.nativeElement.hideWeekend=j)}get legendLocation(){return this.nativeElement?this.nativeElement.legendLocation:void 0}set legendLocation(j){this.nativeElement&&(this.nativeElement.legendLocation=j)}get legendPosition(){return this.nativeElement?this.nativeElement.legendPosition:void 0}set legendPosition(j){this.nativeElement&&(this.nativeElement.legendPosition=j)}get legendLayout(){return this.nativeElement?this.nativeElement.legendLayout:void 0}set legendLayout(j){this.nativeElement&&(this.nativeElement.legendLayout=j)}get legendLayoutMenuBreakpoint(){return this.nativeElement?this.nativeElement.legendLayoutMenuBreakpoint:void 0}set legendLayoutMenuBreakpoint(j){this.nativeElement&&(this.nativeElement.legendLayoutMenuBreakpoint=j)}get mouseWheelStep(){return this.nativeElement?this.nativeElement.mouseWheelStep:void 0}set mouseWheelStep(j){this.nativeElement&&(this.nativeElement.mouseWheelStep=j)}get horizontalScrollBarVisibility(){return this.nativeElement?this.nativeElement.horizontalScrollBarVisibility:void 0}set horizontalScrollBarVisibility(j){this.nativeElement&&(this.nativeElement.horizontalScrollBarVisibility=j)}get unlockKey(){return this.nativeElement?this.nativeElement.unlockKey:void 0}set unlockKey(j){this.nativeElement&&(this.nativeElement.unlockKey=j)}get locale(){return this.nativeElement?this.nativeElement.locale:void 0}set locale(j){this.nativeElement&&(this.nativeElement.locale=j)}get max(){return this.nativeElement?this.nativeElement.max:void 0}set max(j){this.nativeElement&&(this.nativeElement.max=j)}get maxEventsPerCell(){return this.nativeElement?this.nativeElement.maxEventsPerCell:void 0}set maxEventsPerCell(j){this.nativeElement&&(this.nativeElement.maxEventsPerCell=j)}get min(){return this.nativeElement?this.nativeElement.min:void 0}set min(j){this.nativeElement&&(this.nativeElement.min=j)}get messages(){return this.nativeElement?this.nativeElement.messages:void 0}set messages(j){this.nativeElement&&(this.nativeElement.messages=j)}get minuteFormat(){return this.nativeElement?this.nativeElement.minuteFormat:void 0}set minuteFormat(j){this.nativeElement&&(this.nativeElement.minuteFormat=j)}get monthFormat(){return this.nativeElement?this.nativeElement.monthFormat:void 0}set monthFormat(j){this.nativeElement&&(this.nativeElement.monthFormat=j)}get nonworkingDays(){return this.nativeElement?this.nativeElement.nonworkingDays:void 0}set nonworkingDays(j){this.nativeElement&&(this.nativeElement.nonworkingDays=j)}get nonworkingHours(){return this.nativeElement?this.nativeElement.nonworkingHours:void 0}set nonworkingHours(j){this.nativeElement&&(this.nativeElement.nonworkingHours=j)}get notificationInterval(){return this.nativeElement?this.nativeElement.notificationInterval:void 0}set notificationInterval(j){this.nativeElement&&(this.nativeElement.notificationInterval=j)}get resizeHandlesVisibility(){return this.nativeElement?this.nativeElement.resizeHandlesVisibility:void 0}set resizeHandlesVisibility(j){this.nativeElement&&(this.nativeElement.resizeHandlesVisibility=j)}get resizeInterval(){return this.nativeElement?this.nativeElement.resizeInterval:void 0}set resizeInterval(j){this.nativeElement&&(this.nativeElement.resizeInterval=j)}get resources(){return this.nativeElement?this.nativeElement.resources:void 0}set resources(j){this.nativeElement&&(this.nativeElement.resources=j)}get restrictedDates(){return this.nativeElement?this.nativeElement.restrictedDates:void 0}set restrictedDates(j){this.nativeElement&&(this.nativeElement.restrictedDates=j)}get restrictedHours(){return this.nativeElement?this.nativeElement.restrictedHours:void 0}set restrictedHours(j){this.nativeElement&&(this.nativeElement.restrictedHours=j)}get restricted(){return this.nativeElement?this.nativeElement.restricted:void 0}set restricted(j){this.nativeElement&&(this.nativeElement.restricted=j)}get rightToLeft(){return this.nativeElement?this.nativeElement.rightToLeft:void 0}set rightToLeft(j){this.nativeElement&&(this.nativeElement.rightToLeft=j)}get scrollButtonsPosition(){return this.nativeElement?this.nativeElement.scrollButtonsPosition:void 0}set scrollButtonsPosition(j){this.nativeElement&&(this.nativeElement.scrollButtonsPosition=j)}get shadeUntilCurrentTime(){return this.nativeElement?this.nativeElement.shadeUntilCurrentTime:void 0}set shadeUntilCurrentTime(j){this.nativeElement&&(this.nativeElement.shadeUntilCurrentTime=j)}get showLegend(){return this.nativeElement?this.nativeElement.showLegend:void 0}set showLegend(j){this.nativeElement&&(this.nativeElement.showLegend=j)}get sortBy(){return this.nativeElement?this.nativeElement.sortBy:void 0}set sortBy(j){this.nativeElement&&(this.nativeElement.sortBy=j)}get sortFunction(){return this.nativeElement?this.nativeElement.sortFunction:void 0}set sortFunction(j){this.nativeElement&&(this.nativeElement.sortFunction=j)}get sortOrder(){return this.nativeElement?this.nativeElement.sortOrder:void 0}set sortOrder(j){this.nativeElement&&(this.nativeElement.sortOrder=j)}get spinButtonsDelay(){return this.nativeElement?this.nativeElement.spinButtonsDelay:void 0}set spinButtonsDelay(j){this.nativeElement&&(this.nativeElement.spinButtonsDelay=j)}get spinButtonsInitialDelay(){return this.nativeElement?this.nativeElement.spinButtonsInitialDelay:void 0}set spinButtonsInitialDelay(j){this.nativeElement&&(this.nativeElement.spinButtonsInitialDelay=j)}get statuses(){return this.nativeElement?this.nativeElement.statuses:void 0}set statuses(j){this.nativeElement&&(this.nativeElement.statuses=j)}get theme(){return this.nativeElement?this.nativeElement.theme:void 0}set theme(j){this.nativeElement&&(this.nativeElement.theme=j)}get timelineHeaderFormatFunction(){return this.nativeElement?this.nativeElement.timelineHeaderFormatFunction:void 0}set timelineHeaderFormatFunction(j){this.nativeElement&&(this.nativeElement.timelineHeaderFormatFunction=j)}get timelineDayScale(){return this.nativeElement?this.nativeElement.timelineDayScale:void 0}set timelineDayScale(j){this.nativeElement&&(this.nativeElement.timelineDayScale=j)}get timeRulerTicks(){return this.nativeElement?this.nativeElement.timeRulerTicks:void 0}set timeRulerTicks(j){this.nativeElement&&(this.nativeElement.timeRulerTicks=j)}get timeZone(){return this.nativeElement?this.nativeElement.timeZone:void 0}set timeZone(j){this.nativeElement&&(this.nativeElement.timeZone=j)}get timeZones(){return this.nativeElement?this.nativeElement.timeZones:void 0}set timeZones(j){this.nativeElement&&(this.nativeElement.timeZones=j)}get tooltipDelay(){return this.nativeElement?this.nativeElement.tooltipDelay:void 0}set tooltipDelay(j){this.nativeElement&&(this.nativeElement.tooltipDelay=j)}get tooltipOffset(){return this.nativeElement?this.nativeElement.tooltipOffset:void 0}set tooltipOffset(j){this.nativeElement&&(this.nativeElement.tooltipOffset=j)}get verticalScrollBarVisibility(){return this.nativeElement?this.nativeElement.verticalScrollBarVisibility:void 0}set verticalScrollBarVisibility(j){this.nativeElement&&(this.nativeElement.verticalScrollBarVisibility=j)}get view(){return this.nativeElement?this.nativeElement.view:void 0}set view(j){this.nativeElement&&(this.nativeElement.view=j)}get viewType(){return this.nativeElement?this.nativeElement.viewType:void 0}set viewType(j){this.nativeElement&&(this.nativeElement.viewType=j)}get views(){return this.nativeElement?this.nativeElement.views:void 0}set views(j){this.nativeElement&&(this.nativeElement.views=j)}get viewSelectorType(){return this.nativeElement?this.nativeElement.viewSelectorType:void 0}set viewSelectorType(j){this.nativeElement&&(this.nativeElement.viewSelectorType=j)}get viewStartDay(){return this.nativeElement?this.nativeElement.viewStartDay:void 0}set viewStartDay(j){this.nativeElement&&(this.nativeElement.viewStartDay=j)}get weekdayFormat(){return this.nativeElement?this.nativeElement.weekdayFormat:void 0}set weekdayFormat(j){this.nativeElement&&(this.nativeElement.weekdayFormat=j)}get yearFormat(){return this.nativeElement?this.nativeElement.yearFormat:void 0}set yearFormat(j){this.nativeElement&&(this.nativeElement.yearFormat=j)}get unfocusable(){return this.nativeElement?this.nativeElement.unfocusable:void 0}set unfocusable(j){this.nativeElement&&(this.nativeElement.unfocusable=j)}get undoRedoSteps(){return this.nativeElement?this.nativeElement.undoRedoSteps:void 0}set undoRedoSteps(j){this.nativeElement&&(this.nativeElement.undoRedoSteps=j)}get windowCustomizationFunction(){return this.nativeElement?this.nativeElement.windowCustomizationFunction:void 0}set windowCustomizationFunction(j){this.nativeElement&&(this.nativeElement.windowCustomizationFunction=j)}get properties(){return["autoScrollStep","autoHeightAllDayCells","available","colorScheme","currentTime","currentTimeIndicator","currentTimeIndicatorInterval","contextMenuDataSource","contextMenuClipboardActions","eventTemplate","eventCollectorTemplate","eventRenderMode","eventTooltipTemplate","cellTemplate","dateCurrent","dataExport","dataSource","dateSelectorFormatFunction","dayFormat","disabled","disableAutoScroll","disableDrag","disableDrop","disableResize","disableSelection","disableWindowEditor","disableContextMenu","disableEventMenu","disableViewMenu","disableDateMenu","dragFeedbackFormatFunction","dragOffset","filter","filterable","filterMode","events","firstDayOfWeek","footerTemplate","groupByDate","groupOrientation","groupTemplate","groups","hourEnd","hourStart","hourFormat","headerTemplate","headerDatePosition","headerNavigationStyle","headerViewPosition","hideAllDay","hideNonworkingWeekdays","hideOtherMonthDays","hideTodayButton","hideViewMenuCheckableItems","hideWeekend","legendLocation","legendPosition","legendLayout","legendLayoutMenuBreakpoint","mouseWheelStep","horizontalScrollBarVisibility","unlockKey","locale","max","maxEventsPerCell","min","messages","minuteFormat","monthFormat","nonworkingDays","nonworkingHours","notificationInterval","resizeHandlesVisibility","resizeInterval","resources","restrictedDates","restrictedHours","restricted","rightToLeft","scrollButtonsPosition","shadeUntilCurrentTime","showLegend","sortBy","sortFunction","sortOrder","spinButtonsDelay","spinButtonsInitialDelay","statuses","theme","timelineHeaderFormatFunction","timelineDayScale","timeRulerTicks","timeZone","timeZones","tooltipDelay","tooltipOffset","verticalScrollBarVisibility","view","viewType","views","viewSelectorType","viewStartDay","weekdayFormat","yearFormat","unfocusable","undoRedoSteps","windowCustomizationFunction"]}get eventListeners(){return["onBeginUpdate","onEndUpdate","onChange","onItemChange","onItemChanging","onItemClick","onItemInsert","onItemRemove","onItemUpdate","onViewChange","onViewChanging","onEventShortcutKey","onDateChange","onDragStart","onDragEnd","onDropoverCell","onResizeStart","onResizeEnd","onEditDialogOpening","onEditDialogOpen","onEditDialogClose","onEditDialogClosing","onContextMenuOpening","onContextMenuOpen","onContextMenuClose","onContextMenuClosing","onEventMenuOpening","onEventMenuOpen","onEventMenuClose","onEventMenuClosing","onDateMenuOpen","onDateMenuClose","onViewMenuOpen","onViewMenuClose","onNotificationOpen","onNotificationClose","onCreate","onReady"]}addEvent(j){this.nativeElement.isRendered?this.nativeElement.addEvent(j):this.nativeElement.whenRendered(()=>{this.nativeElement.addEvent(j)})}addView(j,ne,u,g,e,t){this.nativeElement.isRendered?this.nativeElement.addView(j,ne,u,g,e,t):this.nativeElement.whenRendered(()=>{this.nativeElement.addView(j,ne,u,g,e,t)})}beginUpdate(){this.nativeElement.isRendered?this.nativeElement.beginUpdate():this.nativeElement.whenRendered(()=>{this.nativeElement.beginUpdate()})}createEvent(j,ne,u,g,e){this.nativeElement.isRendered?this.nativeElement.createEvent(j,ne,u,g,e):this.nativeElement.whenRendered(()=>{this.nativeElement.createEvent(j,ne,u,g,e)})}endUpdate(){this.nativeElement.isRendered?this.nativeElement.endUpdate():this.nativeElement.whenRendered(()=>{this.nativeElement.endUpdate()})}getViewDates(){return this.nativeElement.getViewDates()}refresh(j){this.nativeElement.isRendered?this.nativeElement.refresh(j):this.nativeElement.whenRendered(()=>{this.nativeElement.refresh(j)})}exportData(j,ne,u){this.nativeElement.isRendered?this.nativeElement.exportData(j,ne,u):this.nativeElement.whenRendered(()=>{this.nativeElement.exportData(j,ne,u)})}getDataSource(){return this.nativeElement.getDataSource()}getResources(){return this.nativeElement.getResources()}getDateFromCoordinates(j,ne){return this.nativeElement.getDateFromCoordinates(j,ne)}getIsAllDayCellFromCoordinates(j,ne){return this.nativeElement.getIsAllDayCellFromCoordinates(j,ne)}getState(){return this.nativeElement.getState()}clearState(){this.nativeElement.isRendered?this.nativeElement.clearState():this.nativeElement.whenRendered(()=>{this.nativeElement.clearState()})}loadState(j){this.nativeElement.isRendered?this.nativeElement.loadState(j):this.nativeElement.whenRendered(()=>{this.nativeElement.loadState(j)})}saveState(j){this.nativeElement.isRendered?this.nativeElement.saveState(j):this.nativeElement.whenRendered(()=>{this.nativeElement.saveState(j)})}setView(j){this.nativeElement.isRendered?this.nativeElement.setView(j):this.nativeElement.whenRendered(()=>{this.nativeElement.setView(j)})}containsEvent(j){return this.nativeElement.containsEvent(j)}insertEvent(j,ne){this.nativeElement.isRendered?this.nativeElement.insertEvent(j,ne):this.nativeElement.whenRendered(()=>{this.nativeElement.insertEvent(j,ne)})}updateEvent(j,ne){this.nativeElement.isRendered?this.nativeElement.updateEvent(j,ne):this.nativeElement.whenRendered(()=>{this.nativeElement.updateEvent(j,ne)})}removeEvent(j){this.nativeElement.isRendered?this.nativeElement.removeEvent(j):this.nativeElement.whenRendered(()=>{this.nativeElement.removeEvent(j)})}getEventExceptions(j){return this.nativeElement.getEventExceptions(j)}addEventException(j,ne){this.nativeElement.isRendered?this.nativeElement.addEventException(j,ne):this.nativeElement.whenRendered(()=>{this.nativeElement.addEventException(j,ne)})}updateEventException(j,ne,u){this.nativeElement.isRendered?this.nativeElement.updateEventException(j,ne,u):this.nativeElement.whenRendered(()=>{this.nativeElement.updateEventException(j,ne,u)})}removeEventException(j,ne){this.nativeElement.isRendered?this.nativeElement.removeEventException(j,ne):this.nativeElement.whenRendered(()=>{this.nativeElement.removeEventException(j,ne)})}openWindow(j){this.nativeElement.isRendered?this.nativeElement.openWindow(j):this.nativeElement.whenRendered(()=>{this.nativeElement.openWindow(j)})}closeWindow(){this.nativeElement.isRendered?this.nativeElement.closeWindow():this.nativeElement.whenRendered(()=>{this.nativeElement.closeWindow()})}print(){this.nativeElement.isRendered?this.nativeElement.print():this.nativeElement.whenRendered(()=>{this.nativeElement.print()})}scrollToDate(j,ne,u){this.nativeElement.isRendered?this.nativeElement.scrollToDate(j,ne,u):this.nativeElement.whenRendered(()=>{this.nativeElement.scrollToDate(j,ne,u)})}navigateToDate(j){this.nativeElement.isRendered?this.nativeElement.navigateToDate(j):this.nativeElement.whenRendered(()=>{this.nativeElement.navigateToDate(j)})}scrollToEvent(j){this.nativeElement.isRendered?this.nativeElement.scrollToEvent(j):this.nativeElement.whenRendered(()=>{this.nativeElement.scrollToEvent(j)})}openNotification(j,ne){this.nativeElement.isRendered?this.nativeElement.openNotification(j,ne):this.nativeElement.whenRendered(()=>{this.nativeElement.openNotification(j,ne)})}closeNotifications(){this.nativeElement.isRendered?this.nativeElement.closeNotifications():this.nativeElement.whenRendered(()=>{this.nativeElement.closeNotifications()})}occurrences(j,ne){this.nativeElement.isRendered?this.nativeElement.occurrences(j,ne):this.nativeElement.whenRendered(()=>{this.nativeElement.occurrences(j,ne)})}occurrencesBetween(j,ne,u){this.nativeElement.isRendered?this.nativeElement.occurrencesBetween(j,ne,u):this.nativeElement.whenRendered(()=>{this.nativeElement.occurrencesBetween(j,ne,u)})}occurrenceAfter(j,ne){this.nativeElement.isRendered?this.nativeElement.occurrenceAfter(j,ne):this.nativeElement.whenRendered(()=>{this.nativeElement.occurrenceAfter(j,ne)})}occurrenceBefore(j,ne){this.nativeElement.isRendered?this.nativeElement.occurrenceBefore(j,ne):this.nativeElement.whenRendered(()=>{this.nativeElement.occurrenceBefore(j,ne)})}getCellDateRange(j){return this.nativeElement.getCellDateRange(j)}openEventTooltip(j){this.nativeElement.isRendered?this.nativeElement.openEventTooltip(j):this.nativeElement.whenRendered(()=>{this.nativeElement.openEventTooltip(j)})}closeEventTooltip(){this.nativeElement.isRendered?this.nativeElement.closeEventTooltip():this.nativeElement.whenRendered(()=>{this.nativeElement.closeEventTooltip()})}isDateRestricted(j){return this.nativeElement.isDateRestricted(j)}isHourRestricted(j){return this.nativeElement.isHourRestricted(j)}isEventRestricted(j){return this.nativeElement.isEventRestricted(j)}deleteUndoRedoHistory(){return this.nativeElement.deleteUndoRedoHistory()}canRedo(){return this.nativeElement.canRedo()}canUndo(){return this.nativeElement.canUndo()}redo(j){return this.nativeElement.redo(j)}undo(j){return this.nativeElement.undo(j)}componentDidRender(j){const ne=this,u={},g={};let e=null;const t=n=>{const a=new WeakSet;return JSON.stringify(n,(i,r)=>{if(r!==null&&typeof r=="object"){if(a.has(r))return;a.add(r)}return r})};for(let n in ne.props)if(n!=="children"){if(n==="style"){e=ne.props[n];continue}if(n.startsWith("on")&&ne.properties.indexOf(n)===-1){g[n]=ne.props[n];continue}u[n]=ne.props[n]}j&&(ne.nativeElement=this.componentRef.current,ne.nativeElement&&!ne.nativeElement.isCompleted&&(ne.nativeElement.reactStateProps=JSON.parse(t(u)))),j&&ne.nativeElement&&ne.nativeElement.isCompleted;for(let n in u){if(n==="class"||n==="className"){const a=u[n].trim().split(" ");if(ne.nativeElement._classNames){const i=ne.nativeElement._classNames;for(let r in i)ne.nativeElement.classList.contains(i[r])&&i[r]!==""&&ne.nativeElement.classList.remove(i[r])}ne.nativeElement._classNames=a;for(let i in a)!ne.nativeElement.classList.contains(a[i])&&a[i]!==""&&ne.nativeElement.classList.add(a[i]);continue}if(u[n]!==ne.nativeElement[n]){const a=r=>r.replace(/-([a-z])/g,function(o){return o[1].toUpperCase()});(n==="hover"||n==="active"||n==="focus"||n==="selected")&&ne.nativeElement.setAttribute(n,"");const i=a(n);if(ne.nativeElement[i]===void 0&&ne.nativeElement.setAttribute(n,u[n]),u[n]!==void 0){if(typeof u[n]=="object"&&ne.nativeElement.reactStateProps&&!j&&t(u[n])===t(ne.nativeElement.reactStateProps[i]))continue;ne.nativeElement[i]=u[n]}}}for(let n in g)ne[n]=g[n],ne.nativeElement[n.toLowerCase()]=g[n];if(j&&(km.Render(),ne.onCreate&&ne.onCreate(),ne.nativeElement.whenRendered(()=>{ne.onReady&&ne.onReady()})),e)for(let n in e)ne.nativeElement.style[n]=e[n]}componentDidMount(){this.componentDidRender(!0)}componentDidUpdate(){this.componentDidRender(!1)}componentWillUnmount(){const j=this;if(j.nativeElement){j.nativeElement.whenRenderedCallbacks=[];for(let ne=0;ne<j.eventListeners.length;ne++){const u=j.eventListeners[ne];j.nativeElement.removeEventListener(u.substring(2).toLowerCase(),j[u])}}}render(){return Jt.createElement("smart-scheduler",{ref:this.componentRef,suppressHydrationWarning:!0},this.props.children)}}const Aa=[{id:1,label:"Alice",name:"Alice",color:"#026573"},{id:2,label:"Bob",name:"Bob",color:"#612655"},{id:3,label:"Charlie",name:"Charlie",color:"#442A54"},{id:4,label:"David",name:"David",color:"#C31736"},{id:5,label:"Eve",name:"Eve",color:"#659962"}],Rs=We=>{const j=[],ne=new Date(2025,2,1),u=new Date(2025,7,28);for(let g=0;g<We;g++){const e=g%Aa.length,t=Aa[e],n=new Date(ne.getTime()+Math.random()*(u.getTime()-ne.getTime())),a=Math.floor(Math.random()*10)+8,i=Math.floor(Math.random()*2)+1,r=new Date(n);r.setHours(a,0,0);const o=new Date(r);o.setHours(r.getHours()+i);const d=Math.random()>.5?"service":"non-service";j.push({id:g+1,dateStart:r,dateEnd:o,label:`Event ${g+1}`,backgroundColor:t.color,resourceId:t.id,type:d,customAttr:"New Attr"})}return j},Jp=({visiblePeople:We,togglePersonVisibility:j})=>bt.jsxs("div",{className:"legend",children:[bt.jsx("h4",{children:"Legend"}),Aa.map(ne=>bt.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[bt.jsx("input",{type:"checkbox",checked:We.includes(ne.id),onChange:()=>j(ne.id)}),bt.jsx("span",{style:{width:"15px",height:"15px",backgroundColor:ne.color,display:"inline-block"}}),ne.name]},ne.name))]}),ef=({eventCount:We,handleEventCountChange:j})=>bt.jsxs("div",{className:"event-count",children:[bt.jsx("h4",{children:"Event Count"}),bt.jsxs("select",{id:"event-count",value:We,onChange:j,children:[bt.jsx("option",{value:100,children:"100"}),bt.jsx("option",{value:500,children:"500"}),bt.jsx("option",{value:1e3,children:"1000"})]})]}),tf=()=>{const[We,j]=Qt.useState(Aa.map(m=>m.id)),[ne,u]=Qt.useState(!1),[g,e]=Qt.useState(null),t=(m,c)=>{const y=performance.now();m(),requestAnimationFrame(()=>{setTimeout(()=>{const b=performance.now();console.log(`Updated ${c} in: ${b-y} ms`)},0)})},[n,a]=Qt.useState(100),i=Qt.useRef(null),r=Qt.useRef(null),o=Qt.useRef(null),d=Qt.useRef(null),[f,p]=Qt.useState("month"),[v,w]=Qt.useState("month"),C=new Date,[x,L]=Qt.useState(Y(C.getDay())),[A,k]=Qt.useState(Rs(n)),B=function(m,c){const y=this;let b=m.querySelector(".event-content-wrapper");b||(b=document.createElement("div"),b.classList.add("event-content-wrapper"));let S=m.querySelector("label"),D=m.querySelector(".time"),M=m.querySelector(".custom-attr");return S||(S=document.createElement("label"),S.classList.add("event-label"),b.appendChild(S)),D||(D=document.createElement("span"),D.classList.add("time"),b.appendChild(D)),M||(M=document.createElement("span"),M.classList.add("custom-attr"),b.appendChild(M)),S.textContent=c.label,D.textContent=`${new Intl.DateTimeFormat(y.locale,{hour:y.hourFormat,minute:y.minuteFormat}).format(c.dateStart)} to ${new Intl.DateTimeFormat(y.locale,{hour:y.hourFormat,minute:y.minuteFormat}).format(c.dateEnd)}`,M.textContent=c.customAttr?`| ${c.customAttr}`:"",b.innerHTML=`${S.textContent} | ${D.textContent} ${M.textContent}`,b.parentElement||m.appendChild(b),m};Qt.useEffect(()=>{const m=setInterval(()=>{const c=new Date,y=new Date(c.getTime()+60*60*1e3),b={id:String(new Date().getTime()),dateStart:c,dateEnd:y,label:"New Event",resourceId:Aa[0].id,backgroundColor:Aa[0].color};k(S=>[...S,b])},1e4);return()=>clearInterval(m)},[]);const H=[{type:"day"},{type:"week"},{type:"month"},{type:"agenda"},{type:"timelineDay"}],V=1,z=!0,N=!0,F="far",q={display:v==="gantt"?"none":"block",height:"600px"};function Y(m){let c=[];for(let y=0;y<3;y++)c.push((m-y+7)%7);return c}const X=m=>{const c=m.detail.item,y=[...A];for(let b=0;b<y.length;b++){const S=y[b];if(S.label===c.label&&S.class===c.class){m.type==="itemRemove"?y.splice(b,1):y.splice(b,1,c),k(y);return}}},ae=()=>{i.current.openWindow({class:"event"})},Q=m=>{i.current.dateCurrent=m.detail.value},ie=m=>{o.current.selectedDates=[m.detail.value]};Qt.useEffect(()=>{var m;if((m=i.current.props)!=null&&m.dataSource){const y=Rs(n).filter(b=>We.includes(b.resourceId));t(()=>k(y),"On filtering")}},[We]),Qt.useEffect(()=>{v==="gantt"&&r.current&&r.current.updateLayout&&r.current.updateLayout()},[v]),Qt.useEffect(()=>{const m=Rs(n);t(()=>k(m),"On Event Count Update")},[n]);const te=m=>{j(c=>c.includes(m)?c.filter(y=>y!==m):[...c,m])},E=m=>{const c=parseInt(m.target.value,10);a(c)},l=m=>{var c,y;p((c=m==null?void 0:m.detail)==null?void 0:c.value),w((y=m==null?void 0:m.detail)==null?void 0:y.value)};return bt.jsxs("div",{children:[bt.jsxs("div",{id:"scheduler-container",ref:d,children:[bt.jsxs("div",{id:"header",children:[bt.jsx("div",{id:"title",children:"Scheduler"}),bt.jsx(Yp,{id:"addNew",onClick:ae,children:bt.jsx("span",{children:"Create"})})]}),bt.jsxs("div",{className:"content",children:[bt.jsx("section",{id:"sideA",children:bt.jsxs("div",{className:"controls-container",children:[bt.jsx(qp,{ref:o,id:"calendar",scrollButtonsPosition:F,onChange:Q}),bt.jsx(Jp,{visiblePeople:We,togglePersonVisibility:te}),bt.jsx(ef,{eventCount:n,handleEventCountChange:E})]})}),bt.jsxs("section",{id:"sideB",children:[bt.jsx(Dm,{ref:i,id:"scheduler",dataSource:A,view:f,views:H,onViewChange:l,nonworkingDays:x,firstDayOfWeek:V,disableDateMenu:z,currentTimeIndicator:N,scrollButtonsPosition:F,onDragEnd:X,onResizeEnd:X,onItemUpdate:X,onItemRemove:X,onDateChange:ie,maxEventsPerCell:2,eventTemplate:B,style:q,resources:[{label:"Resources",value:"resourceId",dataSource:Aa}]}),bt.jsx("h4",{children:"Scheduler Timeline View"}),bt.jsx(Dm,{ref:i,id:"scheduler",dataSource:A,view:f,views:["timelineDay"],onViewChange:l,nonworkingDays:x,firstDayOfWeek:V,disableDateMenu:z,currentTimeIndicator:N,scrollButtonsPosition:F,onDragEnd:X,onResizeEnd:X,onItemUpdate:X,onItemRemove:X,onDateChange:ie,maxEventsPerCell:2,eventTemplate:B,style:q,resources:[{label:"Resources",value:"resourceId",dataSource:Aa}],groupOrientation:"vertical",groups:["resourceId"]})]})]})]}),ne&&bt.jsxs("div",{className:"custom-modal",children:[bt.jsx("h3",{children:"Edit Appointment"}),bt.jsx("input",{type:"text",defaultValue:g==null?void 0:g.label}),bt.jsx("input",{type:"text",placeholder:"Custom Location"}),bt.jsx("button",{onClick:()=>u(!1),children:"Cancel"})]})]})};function nf(){return bt.jsx(bt.Fragment,{children:bt.jsx(tf,{})})}Up.createRoot(document.getElementById("root")).render(bt.jsx(Qt.StrictMode,{children:bt.jsx(nf,{})}));
